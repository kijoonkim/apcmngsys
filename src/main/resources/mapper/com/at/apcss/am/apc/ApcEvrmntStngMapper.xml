<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- ==========================================================================	-->
<!-- NAME : ApcEvrmntStngMapper.xml                                   			-->
<!-- DESC : APC 환경설정 mapper                                             	-->
<!-- ==========================================================================	-->
<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
<!-- ===========  	============  	===========================================	-->
<!-- 2023.07.07  	jcshin        	Initial Creation                            -->
<!-- ==========================================================================	-->

<mapper namespace="com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper">


	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcLink		-->
	<!-- DESC : APC 연계 정보 조회.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <select id="selectApcLink" parameterType="com.at.apcss.am.apc.vo.ApcLinkVO" resultType="com.at.apcss.am.apc.vo.ApcLinkVO">
    	<![CDATA[
			SELECT /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcLink */
    			  pt0.*
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.WGH_STTS_CD) FROM DUAL) AS WGH_STTS_NM
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.WRHS_STTS_CD) FROM DUAL) AS WRHS_STTS_NM
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.SORT_STTS_CD) FROM DUAL) AS SORT_STTS_NM
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.PCKG_STTS_CD) FROM DUAL) AS PCKG_STTS_NM
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.SPMT_STTS_CD) FROM DUAL) AS SPMT_STTS_NM
    			, (SELECT FN_GET_COM_CD_VL_NM('TRSM_MAT_STTS_CD', pt0.TRSM_MAT_STTS_CD) FROM DUAL) AS TRSM_MAT_STTS_NM
    			
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.WGH_STTS_CD) FROM DUAL) AS WGH_STTS_COLOR
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.WRHS_STTS_CD) FROM DUAL) AS WRHS_STTS_COLOR
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.SORT_STTS_CD) FROM DUAL) AS SORT_STTS_COLOR
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.PCKG_STTS_CD) FROM DUAL) AS PCKG_STTS_COLOR
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.SPMT_STTS_CD) FROM DUAL) AS SPMT_STTS_COLOR
    			, (SELECT FN_GET_COM_CD_CHR_VL('TRSM_MAT_STTS_CD', pt0.TRSM_MAT_STTS_CD) FROM DUAL) AS TRSM_MAT_STTS_COLOR
    			
    			, CASE
	    			WHEN pt0.WGH_STTS_CD = 'R1' THEN pt0.WGH_REQ_DT
	    			ELSE pt0.WGH_PRCS_DT
    			  END	AS WGH_DSP_DT    			
    			, CASE
    				WHEN pt0.WRHS_STTS_CD = 'R1' THEN pt0.WRHS_REQ_DT
    				ELSE pt0.WRHS_PRCS_DT
    			  END	AS WRHS_DSP_DT    			
    			, CASE
    				WHEN pt0.SORT_STTS_CD = 'R1' THEN pt0.SORT_REQ_DT
    				ELSE pt0.SORT_PRCS_DT
    			  END	AS SORT_DSP_DT    			
    			, CASE
    				WHEN pt0.PCKG_STTS_CD = 'R1' THEN pt0.PCKG_REQ_DT
    				ELSE pt0.PCKG_PRCS_DT
    			  END	AS PCKG_DSP_DT    			
    			, CASE
    				WHEN pt0.SPMT_STTS_CD = 'R1' THEN pt0.SPMT_REQ_DT
    				ELSE pt0.SPMT_PRCS_DT
    			  END	AS SPMT_DSP_DT
				
    		  FROM (
		    	SELECT 
		    		  AL.APC_CD        		AS APC_CD
					, AL.APC_KEY			AS APC_KEY
					
					, AL.WGH_REQ_YN   		AS WGH_REQ_YN
					, TO_CHAR(AL.WGH_REQ_DT, 'YYYYMMDDHH24MISS')	AS WGH_REQ_DT
					, TO_CHAR(AL.WGH_PRCS_DT, 'YYYYMMDDHH24MISS')   AS WGH_PRCS_DT
					, CASE
						WHEN AL.WGH_REQ_YN = 'Y' THEN
							CASE
								WHEN AL.WGH_PRCS_DT > AL.WGH_REQ_DT THEN 'P0'
								ELSE 'R1'
							END
						ELSE 'R0'
					  END			AS WGH_STTS_CD
					
					, AL.WRHS_REQ_YN    AS WRHS_REQ_YN
					, TO_CHAR(AL.WRHS_REQ_DT, 'YYYYMMDDHH24MISS')   AS WRHS_REQ_DT
					, TO_CHAR(AL.WRHS_PRCS_DT, 'YYYYMMDDHH24MISS')  AS WRHS_PRCS_DT
					
					, CASE
						WHEN AL.WRHS_REQ_YN = 'Y' THEN
							CASE
								WHEN AL.WRHS_PRCS_DT > AL.WRHS_REQ_DT THEN 'P0'
								ELSE 'R1'
							END
						ELSE 'R0'
					  END			AS WRHS_STTS_CD
					
					, AL.SORT_REQ_YN    AS SORT_REQ_YN
					, TO_CHAR(AL.SORT_REQ_DT, 'YYYYMMDDHH24MISS')   AS SORT_REQ_DT
					, TO_CHAR(AL.SORT_PRCS_DT, 'YYYYMMDDHH24MISS')  AS SORT_PRCS_DT
					, CASE
						WHEN AL.SORT_REQ_YN = 'Y' THEN
							CASE
								WHEN AL.SORT_PRCS_DT > AL.SORT_REQ_DT THEN 'P0'
								ELSE 'R1'
							END
						ELSE 'R0'
					  END			AS SORT_STTS_CD
					
					, AL.PCKG_REQ_YN    AS PCKG_REQ_YN
					, TO_CHAR(AL.PCKG_REQ_DT, 'YYYYMMDDHH24MISS')   AS PCKG_REQ_DT
					, TO_CHAR(AL.PCKG_PRCS_DT, 'YYYYMMDDHH24MISS')  AS PCKG_PRCS_DT
					, CASE
						WHEN AL.PCKG_REQ_YN = 'Y' THEN
							CASE
								WHEN AL.PCKG_PRCS_DT > AL.PCKG_REQ_DT THEN 'P0'
								ELSE 'R1'
							END
						ELSE 'R0'
					  END			AS PCKG_STTS_CD
					
					, AL.SPMT_REQ_YN    AS SPMT_REQ_YN
					, TO_CHAR(AL.SPMT_REQ_DT, 'YYYYMMDDHH24MISS')   AS SPMT_REQ_DT
					, TO_CHAR(AL.SPMT_PRCS_DT, 'YYYYMMDDHH24MISS')  AS SPMT_PRCS_DT
					, CASE
						WHEN AL.SPMT_REQ_YN = 'Y' THEN
							CASE
								WHEN AL.SPMT_PRCS_DT > AL.SPMT_REQ_DT THEN 'P0'
								ELSE 'R1'
							END
						ELSE 'R0'
					  END			AS SPMT_STTS_CD
					
					, AL.TRSM_MAT_STTS_CD   AS TRSM_MAT_STTS_CD
					, AL.STTS_IDNTY_DT		AS STTS_IDNTY_DT
					
					, AL.DEL_YN     AS DEL_YN
					
				  FROM TB_APC_LINK AL
				 WHERE AL.APC_CD = #{apcCd}
    		  ) pt0
		]]>
    </select>

    <!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcLinkIdnty	-->
	<!-- DESC : APC 연계 정보 수정 (확인)	                                             	-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2024.02.19  	박 승 진        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <update id="updateApcLinkIdnty" parameterType="com.at.apcss.am.apc.vo.ApcLinkVO" >
    	<![CDATA[
		    UPDATE /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcLinkIdnty */
				TB_APC_LINK SET
	    		  SYS_LAST_CHG_DT 			= SYSDATE
    	     	, SYS_LAST_CHG_USER_ID 		= #{sysLastChgUserId}
    	     	, SYS_LAST_CHG_PRGRM_ID 	= #{sysLastChgPrgrmId}
    	     	
		    	, TRSM_MAT_STTS_CD	= #{trsmMatSttsCd}
		    	, STTS_IDNTY_DT     = SYSDATE
			 WHERE APC_CD = #{apcCd}
		]]>
    </update>
    <!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcWrhsLink		-->
	<!-- DESC : APC 연계 정보 수정.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2024.02.19  	박 승 진        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <update id="updateApcWrhsLink" parameterType="com.at.apcss.am.apc.vo.ApcLinkVO" >
    	<![CDATA[
	    UPDATE /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcLink */
	    	  TB_APC_LINK SET

	    	 WRHS_REQ_YN 		= #{wrhsReqYn}
	    	 , WRHS_REQ_DT      = SYSDATE

			 WHERE APC_CD = #{apcCd}
		]]>
    </update>

        <!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcSortLink		-->
	<!-- DESC : APC 연계 정보 수정.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2024.02.19  	박 승 진        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <update id="updateApcSortLink" parameterType="com.at.apcss.am.apc.vo.ApcLinkVO" >
    	<![CDATA[
	    UPDATE /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcLink */
	    	  TB_APC_LINK SET
	    	  SORT_REQ_YN 		= #{sortReqYn}
			, SORT_REQ_DT      = SYSDATE
			 WHERE APC_CD = #{apcCd}
		]]>
    </update>



	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcInfo		-->
	<!-- DESC : APC 정보 조회.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <select id="selectApcInfo" parameterType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO" resultType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO">
    	<![CDATA[
	    	SELECT /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcInfo */
	    		   AI.APC_CD            AS APC_CD
			     , AI.REG_APC_NM        AS REG_APC_NM
			     , AI.CTPV_NM           AS CTPV_NM
			     , AI.SIGUN_NM          AS SIGUN_NM
			     , AI.MB_CD             AS MB_CD
			     , AI.REG_ADDR        	AS REG_ADDR
			     , AI.REG_TELNO       	AS REG_TELNO
			     , AI.APC_NM            AS APC_NM
			     , AI.BRNO          	AS BRNO
			     , AI.BANK_CD           AS BANK_CD
			     , AI.DPSTR_NM          AS DPSTR_NM
			     , (SELECT FN_UTL_DECRYPT_ARIA(AI.ACTNO) FROM DUAL)	AS ACTNO
			     , AI.ADDR              AS ADDR
			     , AI.TELNO            	AS TELNO
			     , AI.FXNO             	AS FXNO
			  FROM TB_APC_INFO AI
			 WHERE APC_CD = #{apcCd}
		]]>
    </select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc..mapper.ApcEvrmntStngMapper.selectApcUserList	-->
	<!-- DESC : APC 사용자 목록 조회.                                          		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <select id="selectApcUserList" parameterType="com.at.apcss.co.user.vo.ComUserVO" resultType="com.at.apcss.co.user.vo.ComUserVO">
    	<![CDATA[
	    	SELECT ROWNUM               AS ROW_SEQ
			     , CU.USER_ID           AS USER_ID
			     , CU.USER_NM           AS USER_NM
			     , CU.USER_TYPE         AS USER_TYPE
			     , CU.USER_STTS         AS USER_STTS
			     , CU.EML               AS EML
			     , CU.TELNO             AS TELNO
			     , CU.APC_CD            AS APC_CD
			     , CU.OGDP_NM           AS OGDP_NM
			     , CU.JBTTL_NM          AS JBTTL_NM
			     , CU.TKCG_TASK_NM      AS TKCG_TASK_NM
			     , CU.CHRGD_CERT_YN     AS CHRGD_CERT_YN
			     , CU.CHRGD_CERT_TYPE   AS CHRGD_CERT_TYPE
			     , CU.LCK_YN            AS LCK_YN
			     , CU.LGN_FAIL_NMTM     AS LGN_FAIL_NMTM
			     , CU.RMRK     			AS RMRK
			     , CU.DEL_YN    		AS DEL_YN
			  FROM TB_COM_USER CU
			 WHERE USER_TYPE IN ('10', '11')
			   AND USER_STTS IN ('01', '00')
			   AND CU.APC_CD = #{apcCd}
			   AND CU.USER_ID != #{sysUserId}
		]]>
		<if test='userNm != null and userNm != ""'>
		   AND CU.USER_NM LIKE '%' ||  #{userNm} || '%'
		</if>
    </select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc..mapper.ApcEvrmntStngMapper.selectRsrcList		-->
	<!-- DESC : APC 설비,장비 목록 조회.                                          	-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.10  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <select id="selectRsrcList" parameterType="com.at.apcss.co.cd.vo.ComCdVO" resultType="com.at.apcss.co.cd.vo.ComCdVO">
    	<![CDATA[
	    	SELECT ROWNUM               AS ROW_SEQ
			     , CD.CD_ID             AS CD_ID
			     , CD.CD_VL             AS CD_VL
			     , CD.CD_VL_NM			AS CD_VL_NM
			     , CD.APC_CD            AS APC_CD
			     , CD.CD_VL_EXPLN       AS CD_VL_EXPLN
			     , CD.DEL_YN            AS DEL_YN
			  FROM TB_COM_CD_DTL CD
			 WHERE CD.CD_ID 	= #{cdId}
			   AND CD.APC_CD 	= #{apcCd}
		]]>
    </select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.insertApcEvrmntStngInit		-->
	<!-- DESC : APC 정보 조회.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <insert id="insertApcEvrmntStngInit" parameterType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO">
    	<![CDATA[
	    	INSERT /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.insertApcEvrmntStngInit */
	    	  INTO TB_APC_EVRMNT_STNG (

				  APC_CD
				, APC_NM
				, ADDR
				, TELNO
				, FXNO
				, BRNO
				, BANK_CD
				, ACTNO
				, DPSTR_NM
				, APC_SE_CD
				, CLCLN_CRTR_CD
				, APC_RPRSV_NM
				, CLS
				, BZSTAT
				, WGH_MNG_YN
				, WGH_MBL_USE_YN
				, WGH_IDNTY_DOC_PBLCN_YN
				, RAW_MTR_WRHS_MNG_YN
				, RAW_MTR_WRHS_MBL_USE_YN
				, RAW_MTR_IDENT_TAG_PBLCN_YN
				, PLT_BX_MNG_YN
				, RAW_MTR_WRHS_PLAN_MNG_YN
				, GDS_WRHS_MNG_YN
				, RAW_MTR_WRHS_PRCS_MNG_YN
				, SORT_CMND_MNG_YN
				, SORT_CMND_DOC_PBLCN_YN
				, PCKG_CMND_MNG_YN
				, PCKG_CMND_DOC_PBLCN_YN
				, SORT_MNG_YN
				, SORT_MBL_USE_YN
				, SORT_LBL_PBLCN_YN
				, SORT_IDNTY_DOC_PBLCN_YN
				, PCKG_MNG_YN
				, PCKG_MBL_USE_YN
				, GDS_LBL_PBLCN_YN
				, SPMT_CMND_MNG_YN
				, SPMT_CMND_DOC_PBLCN_YN
				, SPMT_MNG_YN
				, SPMT_MBL_USE_YN
				, SPMT_DOC_PBLCN_YN
				, CLCLN_MNG_YN
				, OUTORDR_MNG_YN
				, OUTORDR_ATMTC_RCPTN_YN
				, OUTORDR_PCKG_CMND_LNKG_YN
				, TRSM_MNG_YN
				, SORT_DATA_TRSM_YN
				, CLCLN_DATA_TRSM_YN
				, OPRTR_USE_YN
				, OPRTR_SORT_PRFMNC_TRSM_YN
				, OPRTR_PCKG_PRFMNC_TRSM_YN
				, INVNTR_MNG_YN
				, SLS_MNG_YN
				, RAW_MTR_IDENT_TAG_WGHT_YN
				, OTPT_APC_NM
	    		, SYS_FRST_INPT_DT
	    		, SYS_FRST_INPT_USER_ID
	    		, SYS_FRST_INPT_PRGRM_ID
	    		, SYS_LAST_CHG_DT
	    		, SYS_LAST_CHG_USER_ID
	    		, SYS_LAST_CHG_PRGRM_ID

	    	  ) VALUES (

				  #{apcCd}
				, #{apcNm}
				, #{addr}
				, #{telno}
				, #{fxno}
				, #{brno}
				, #{bankCd}
				, FN_UTL_ENCRYPT_ARIA(#{actno})
				, #{dpstrNm}
				, #{apcSeCd}
				, #{clclnCrtrCd}
				, #{apcRprsvNm}
				, #{cls}
				, #{bzstat}
				, #{wghMngYn}
				, #{wghMblUseYn}
				, #{wghIdntyDocPblcnYn}
				, #{rawMtrWrhsMngYn}
				, #{rawMtrWrhsMblUseYn}
				, #{rawMtrIdentTagPblcnYn}
				, #{pltBxMngYn}
				, #{rawMtrWrhsPlanMngYn}
				, #{gdsWrhsMngYn}
				, #{rawMtrWrhsPrcsMngYn}
				, #{sortCmndMngYn}
				, #{sortCmndDocPblcnYn}
				, #{pckgCmndMngYn}
				, #{pckgCmndDocPblcnYn}
				, #{sortMngYn}
				, #{sortMblUseYn}
				, #{sortLblPblcnYn}
				, #{sortIdntyDocPblcnYn}
				, #{pckgMngYn}
				, #{pckgMblUseYn}
				, #{gdsLblPblcnYn}
				, #{spmtCmndMngYn}
				, #{spmtCmndDocPblcnYn}
				, #{spmtMngYn}
				, #{spmtMblUseYn}
				, #{spmtDocPblcnYn}
				, #{clclnMngYn}
				, #{outordrMngYn}
				, #{outordrAtmtcRcptnYn}
				, #{outordrPckgCmndLnkgYn}
				, #{trsmMngYn}
				, #{sortDataTrsmYn}
				, #{clclnDataTrsmYn}
				, #{oprtrUseYn}
				, #{oprtrSortPrfmncTrsmYn}
				, #{oprtrPckgPrfmncTrsmYn}
				, #{invntrMngYn}
				, #{slsMngYn}
				, #{rawMtrIdentTagWghtYn}
				, #{otptApcNm}
	    		, SYSDATE
	    		, #{sysFrstInptUserId}
	    		, #{sysFrstInptPrgrmId}
	    		, SYSDATE
	    		, #{sysLastChgUserId}
	    		, #{sysLastChgPrgrmId}

	    	  )
		]]>
    </insert>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcEvrmntStng	-->
	<!-- DESC : APC 환경설정 정보 조회.	                                             	-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            	-->
	<!-- ==========================================================================	-->
    <select id="selectApcEvrmntStng" parameterType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO" resultType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO">
    	<![CDATA[
	    	SELECT /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.selectApcEvrmntStng */
				  APC.APC_CD					AS APC_CD
				, APC.APC_NM					AS APC_NM
				, APC.ADDR						AS ADDR
				, APC.TELNO						AS TELNO
				, APC.FXNO						AS FXNO
				, APC.BRNO						AS BRNO
				, APC.BANK_CD					AS BANK_CD
				, (SELECT FN_UTL_DECRYPT_ARIA(APC.ACTNO) FROM DUAL)	AS ACTNO
				, APC.DPSTR_NM					AS DPSTR_NM
				, APC.APC_SE_CD					AS APC_SE_CD
				, APC.CLCLN_CRTR_CD				AS CLCLN_CRTR_CD
				, APC.BZSTAT					AS BZSTAT
				, APC.CLS 						AS CLS
				, APC.APC_RPRSV_NM 				AS APC_RPRSV_NM
				, APC.WGH_MNG_YN				AS WGH_MNG_YN
				, APC.WGH_MBL_USE_YN			AS WGH_MBL_USE_YN
				, APC.WGH_IDNTY_DOC_PBLCN_YN	AS WGH_IDNTY_DOC_PBLCN_YN
				, APC.RAW_MTR_WRHS_MNG_YN		AS RAW_MTR_WRHS_MNG_YN
				, APC.RAW_MTR_WRHS_MBL_USE_YN	AS RAW_MTR_WRHS_MBL_USE_YN
				, APC.RAW_MTR_IDENT_TAG_PBLCN_YN	AS RAW_MTR_IDENT_TAG_PBLCN_YN
				, APC.PLT_BX_MNG_YN				AS PLT_BX_MNG_YN
				, APC.RAW_MTR_WRHS_PLAN_MNG_YN	AS RAW_MTR_WRHS_PLAN_MNG_YN
				, APC.GDS_WRHS_MNG_YN			AS GDS_WRHS_MNG_YN
				, APC.RAW_MTR_WRHS_PRCS_MNG_YN	AS RAW_MTR_WRHS_PRCS_MNG_YN
				, APC.SORT_CMND_MNG_YN			AS SORT_CMND_MNG_YN
				, APC.SORT_CMND_DOC_PBLCN_YN	AS SORT_CMND_DOC_PBLCN_YN
				, APC.PCKG_CMND_MNG_YN			AS PCKG_CMND_MNG_YN
				, APC.PCKG_CMND_DOC_PBLCN_YN	AS PCKG_CMND_DOC_PBLCN_YN
				, APC.SORT_MNG_YN				AS SORT_MNG_YN
				, APC.SORT_MBL_USE_YN			AS SORT_MBL_USE_YN
				, APC.SORT_LBL_PBLCN_YN			AS SORT_LBL_PBLCN_YN
				, APC.SORT_IDNTY_DOC_PBLCN_YN	AS SORT_IDNTY_DOC_PBLCN_YN
				, APC.PCKG_MNG_YN				AS PCKG_MNG_YN
				, APC.PCKG_MBL_USE_YN			AS PCKG_MBL_USE_YN
				, APC.GDS_LBL_PBLCN_YN			AS GDS_LBL_PBLCN_YN
				, APC.SPMT_CMND_MNG_YN			AS SPMT_CMND_MNG_YN
				, APC.SPMT_CMND_DOC_PBLCN_YN	AS SPMT_CMND_DOC_PBLCN_YN
				, APC.SPMT_MNG_YN				AS SPMT_MNG_YN
				, APC.SPMT_MBL_USE_YN			AS SPMT_MBL_USE_YN
				, APC.SPMT_DOC_PBLCN_YN			AS SPMT_DOC_PBLCN_YN
				, APC.CLCLN_MNG_YN				AS CLCLN_MNG_YN
				, APC.OUTORDR_MNG_YN			AS OUTORDR_MNG_YN
				, APC.OUTORDR_ATMTC_RCPTN_YN 	AS OUTORDR_ATMTC_RCPTN_YN
				, APC.OUTORDR_PCKG_CMND_LNKG_YN	AS OUTORDR_PCKG_CMND_LNKG_YN
				, APC.TRSM_MNG_YN				AS TRSM_MNG_YN
				, APC.SORT_DATA_TRSM_YN			AS SORT_DATA_TRSM_YN
				, APC.CLCLN_DATA_TRSM_YN		AS CLCLN_DATA_TRSM_YN
				, APC.OPRTR_USE_YN				AS OPRTR_USE_YN
				, APC.OPRTR_SORT_PRFMNC_TRSM_YN	AS OPRTR_SORT_PRFMNC_TRSM_YN
				, APC.OPRTR_PCKG_PRFMNC_TRSM_YN	AS OPRTR_PCKG_PRFMNC_TRSM_YN
				, APC.INVNTR_TRNSF_MNG_YN		AS INVNTR_TRNSF_MNG_YN
				, APC.INVNTR_MNG_YN				AS INVNTR_MNG_YN
				, APC.SLS_MNG_YN 				AS SLS_MNG_YN
				, APC.RAW_MTR_IDENT_TAG_WGHT_YN AS RAW_MTR_IDENT_TAG_WGHT_YN
				, APC.OTPT_APC_NM 			    AS OTPT_APC_NM
				, APC.RAW_MTR_VL_TYPE			AS RAW_MTR_VL_TYPE
				, APC.DEL_YN					AS DEL_YN
			  FROM TB_APC_EVRMNT_STNG APC
			 WHERE APC.APC_CD = #{apcCd}
		]]>
    </select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcEvrmntStngAuthrt		-->
	<!-- DESC : APC 메뉴사용여부 변경.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.07.07  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <update id="updateApcEvrmntStngAuthrt" parameterType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO">
    	<![CDATA[
	    	UPDATE /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcEvrmntStngAuthrt */
	    	  TB_APC_EVRMNT_STNG SET
	    		  SYS_LAST_CHG_DT 			= SYSDATE
    	     	, SYS_LAST_CHG_USER_ID 		= #{sysLastChgUserId}
    	     	, SYS_LAST_CHG_PRGRM_ID 	= #{sysLastChgPrgrmId}

				, WGH_MNG_YN 				= #{wghMngYn}
				, WGH_MBL_USE_YN 			= #{wghMblUseYn}
				, WGH_IDNTY_DOC_PBLCN_YN 	= #{wghIdntyDocPblcnYn}
				, RAW_MTR_WRHS_MNG_YN 		= #{rawMtrWrhsMngYn}
				, RAW_MTR_WRHS_MBL_USE_YN 	= #{rawMtrWrhsMblUseYn}
				, RAW_MTR_IDENT_TAG_PBLCN_YN = #{rawMtrIdentTagPblcnYn}
				, PLT_BX_MNG_YN 			= #{pltBxMngYn}
				, RAW_MTR_WRHS_PLAN_MNG_YN 	= #{rawMtrWrhsPlanMngYn}
				, GDS_WRHS_MNG_YN 			= #{gdsWrhsMngYn}
				, RAW_MTR_WRHS_PRCS_MNG_YN 	= #{rawMtrWrhsPrcsMngYn}
				, SORT_CMND_MNG_YN 			= #{sortCmndMngYn}
				, SORT_CMND_DOC_PBLCN_YN 	= #{sortCmndDocPblcnYn}
				, PCKG_CMND_MNG_YN 			= #{pckgCmndMngYn}
				, PCKG_CMND_DOC_PBLCN_YN 	= #{pckgCmndDocPblcnYn}
				, SORT_MNG_YN 				= #{sortMngYn}
				, SORT_MBL_USE_YN 			= #{sortMblUseYn}
				, SORT_LBL_PBLCN_YN 		= #{sortLblPblcnYn}
				, SORT_IDNTY_DOC_PBLCN_YN 	= #{sortIdntyDocPblcnYn}
				, PCKG_MNG_YN 				= #{pckgMngYn}
				, PCKG_MBL_USE_YN 			= #{pckgMblUseYn}
				, GDS_LBL_PBLCN_YN 			= #{gdsLblPblcnYn}
				, SPMT_CMND_MNG_YN 			= #{spmtCmndMngYn}
				, SPMT_CMND_DOC_PBLCN_YN 	= #{spmtCmndDocPblcnYn}
				, SPMT_MNG_YN 				= #{spmtMngYn}
				, SPMT_MBL_USE_YN 			= #{spmtMblUseYn}
				, SPMT_DOC_PBLCN_YN 		= #{spmtDocPblcnYn}
				, CLCLN_MNG_YN 				= #{clclnMngYn}
				, OUTORDR_MNG_YN 			= #{outordrMngYn}
				, OUTORDR_ATMTC_RCPTN_YN 	= #{outordrAtmtcRcptnYn}
				, OUTORDR_PCKG_CMND_LNKG_YN = #{outordrPckgCmndLnkgYn}
				, TRSM_MNG_YN 				= #{trsmMngYn}
				, SORT_DATA_TRSM_YN 		= #{sortDataTrsmYn}
				, CLCLN_DATA_TRSM_YN 		= #{clclnDataTrsmYn}
				, OPRTR_USE_YN 				= #{oprtrUseYn}
				, OPRTR_SORT_PRFMNC_TRSM_YN = #{oprtrSortPrfmncTrsmYn}
				, OPRTR_PCKG_PRFMNC_TRSM_YN = #{oprtrPckgPrfmncTrsmYn}
				, INVNTR_TRNSF_MNG_YN		= #{invntrTrnsfMngYn}
				, INVNTR_MNG_YN				= #{invntrMngYn}
				, SLS_MNG_YN 				= #{slsMngYn}
				, RAW_MTR_IDENT_TAG_WGHT_YN = #{rawMtrIdentTagWghtYn}

			 WHERE APC_CD = #{apcCd}
		]]>
    </update>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcEvrmntStng		-->
	<!-- DESC : APC 메뉴사용여부 변경.	                                             		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.09.05  	김 호        	Initial Creation                            -->
	<!-- ==========================================================================	-->
    <update id="updateApcEvrmntStng" parameterType="com.at.apcss.am.apc.vo.ApcEvrmntStngVO">
    	<![CDATA[
	    	UPDATE /* com.at.apcss.am.apc.mapper.ApcEvrmntStngMapper.updateApcEvrmntStng */
	    	  TB_APC_EVRMNT_STNG SET
	    		  SYS_LAST_CHG_DT 			= SYSDATE
    	     	, SYS_LAST_CHG_USER_ID 		= #{sysLastChgUserId}
    	     	, SYS_LAST_CHG_PRGRM_ID 	= #{sysLastChgPrgrmId}
				, APC_NM					= #{apcNm}
				, ADDR						= #{addr}
				, TELNO						= #{telno}
				, FXNO						= #{fxno}
				, BRNO						= #{brno}
				, BANK_CD					= #{bankCd}
				, ACTNO						= FN_UTL_ENCRYPT_ARIA(#{actno})
				, DPSTR_NM					= #{dpstrNm}
				, APC_SE_CD					= #{apcSeCd}
				, CLCLN_CRTR_CD 			= #{clclnCrtrCd}
				, APC_RPRSV_NM				= #{apcRprsvNm}
				, CLS						= #{cls}
				, BZSTAT					= #{bzstat}
				, OTPT_APC_NM				= #{otptApcNm}
			 WHERE APC_CD = #{apcCd}
		]]>
    </update>

</mapper>
