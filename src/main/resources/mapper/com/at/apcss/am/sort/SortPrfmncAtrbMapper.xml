<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- ==========================================================================	-->
<!-- NAME : SortPrfmncAtrbMapper.xml                                   			-->
<!-- DESC : 선별실적 mapper                                            			-->
<!-- ==========================================================================	-->
<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
<!-- ===========  	============  	===========================================	-->
<!-- 2025.09.18  	김호        		Initial Creation                        -->
<!-- ==========================================================================	-->

<mapper namespace="com.at.apcss.am.sort.mapper.SortPrfmncAtrbMapper">

	<!-- =============================================================================	-->
	<!-- NAME : com.at.apcss.am.sort.mapper.SortPrfmncMapper.selectSortAtrbPrfmncList	-->
	<!-- DESC : 선별실적속성 목록 조회.	                                       				-->
	<!-- =============================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      				-->
	<!-- ===========  	============  	==============================================	-->
	<!-- 2025.09.18  	김호        		Initial Creation                        		-->
	<!-- =============================================================================	-->
    <select id="selectSortAtrbPrfmncList" parameterType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO" resultType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO">
    	<![CDATA[
	    	SELECT /* com.at.apcss.am.sort.mapper.SortPrfmncMapper.selectSortAtrbPrfmncList */
				  WC.APC_CD		AS APC_CD
				, WC.WGHNO		AS WGHNO
				, WC.WGH_YMD	AS WGH_YMD
				, WC.VHCLNO		AS VHCLNO
				, WC.WHOL_WGHT	AS WHOL_WGHT
				, WC.EMPT_VHCL_WGHT	AS EMPT_VHCL_WGHT
				, WC.RDCD_RT	AS RDCD_RT
				, WC.RDCD_WGHT	AS RDCD_WGHT
				, WC.WRHS_WGHT	AS WRHS_WGHT
				, WC.RMRK		AS RMRK
				, WC.DEL_YN		AS DEL_YN
			  FROM TB_WGH_PRFMNC_COM WC
			 WHERE WC.APC_CD = #{apcCd}
			   AND WC.WGHNO = #{wghno}
		]]>
    </select>

	<!-- =============================================================================	-->
	<!-- NAME : com.at.apcss.am.sort.mapper.SortPrfmncAtrbMapper.insertSortPrfmncAtrb	-->
	<!-- DESC : 선별실적속성 등록.	                                       					-->
	<!-- =============================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      				-->
	<!-- ===========  	============  	==============================================	-->
	<!-- 2025.09.18  	김호        		Initial Creation                        		-->
	<!-- =============================================================================	-->
	<insert	id="insertSortPrfmncAtrb" parameterType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO">
		<![CDATA[
			INSERT	/* com.at.apcss.am.sort.mapper.SortPrfmncAtrbMapper.insertSortPrfmncAtrb */
			  INTO TB_SORT_PRFMNC_ATRB
			 	  (
				   APC_CD
				 , SORTNO
				 , SORT_ATRB_CD
				 , QNTT
				 , WGHT
				 , UNTPRC
				 , AMT
				 , SYS_FRST_INPT_DT
			     , SYS_FRST_INPT_USER_ID
			     , SYS_FRST_INPT_PRGRM_ID
			     , SYS_LAST_CHG_DT
				 , SYS_LAST_CHG_USER_ID
				 , SYS_LAST_CHG_PRGRM_ID
				  )
		    VALUES
		         (
				   #{apcCd}
				 , #{sortno}
				 , #{sortAtrbCd}
				 , #{qntt}
				 , #{wght}
				 , #{untprc}
				 , #{amt}
				 , SYSDATE
				 , #{sysFrstInptUserId}
				 , #{sysFrstInptPrgrmId}
				 , SYSDATE
				 , #{sysLastChgUserId}
				 , #{sysLastChgPrgrmId}
				 )
		]]>
	</insert>
	<!-- =============================================================================	-->
	<!-- NAME : com.at.apcss.am.sort.mapper.SortPrfmncMapper.updateSortPrfmncAtrb		-->
	<!-- DESC : 선별실적속성 변경.	                                       					-->
	<!-- =============================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      				-->
	<!-- ===========  	============  	==============================================	-->
	<!-- 2025.09.18  	김호        		Initial Creation                        		-->
	<!-- =============================================================================	-->
	<update id="updateSortPrfmncAtrb" parameterType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO">
		<![CDATA[
			UPDATE /* com.at.apcss.am.sort.mapper.SortPrfmncMapper.updateSortPrfmncAtrb */
				   TB_SORT_PRFMNC_ATRB
			   SET QNTT						= #{qntt}
			     , WGHT						= #{wght}
			     , UNTPRC					= #{untprc}
				 , AMT						= #{amt}
				 , SYS_LAST_CHG_DT			= SYSDATE
				 , SYS_LAST_CHG_USER_ID		= #{sysLastChgUserId}
				 , SYS_LAST_CHG_PRGRM_ID	= #{sysLastChgPrgrmId}
			 WHERE APC_CD 					= #{apcCd}
			   AND SORTNO					= #{sortno}
			   AND SORT_ATRB_CD				= #{sortAtrbCd}
		]]>
	</update>

	<!-- =============================================================================	-->
	<!-- NAME : com.at.apcss.am.sort.mapper.SortPrfmncMapper.deleteSortPrfmncAtrb		-->
	<!-- DESC : 선별실적속성 삭제.	                                       					-->
	<!-- =============================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      				-->
	<!-- ===========  	============  	==============================================	-->
	<!-- 2025.09.18  	김호        		Initial Creation                        		-->
	<!-- =============================================================================	-->
	<update id="deleteSortPrfmncAtrb" parameterType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO">
		<![CDATA[
		UPDATE /* com.at.apcss.am.sort.mapper.SortPrfmncMapper.updateSortPrfmncAtrb */
			   TB_SORT_PRFMNC_ATRB
		   SET DEL_YN					= 'Y'
		     , SYS_LAST_CHG_DT			= SYSDATE
		     , SYS_LAST_CHG_USER_ID		= #{sysLastChgUserId}
		     , SYS_LAST_CHG_PRGRM_ID	= #{sysLastChgPrgrmId}
		 WHERE APC_CD 					= #{apcCd}
		   AND SORTNO					= #{sortno}
		   AND SORT_ATRB_CD				= #{sortAtrbCd}
		]]>
	</update>

	<!-- =============================================================================	-->
	<!-- NAME : com.at.apcss.am.sort.mapper.SortPrfmncMapper.deleteSortPrfmncAtrbAll	-->
	<!-- DESC : 선별실적속성 전체 삭제.	                                       				-->
	<!-- =============================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      				-->
	<!-- ===========  	============  	==============================================	-->
	<!-- 2025.09.18  	김호        		Initial Creation                        		-->
	<!-- =============================================================================	-->
	<update id="deleteSortPrfmncAtrbAll" parameterType="com.at.apcss.am.sort.vo.SortPrfmncAtrbVO">
		<![CDATA[
		UPDATE /* com.at.apcss.am.sort.mapper.SortPrfmncMapper.deleteSortPrfmncAtrbAll */
			   TB_SORT_PRFMNC_ATRB
		   SET DEL_YN					= 'Y'
		     , SYS_LAST_CHG_DT			= SYSDATE
		     , SYS_LAST_CHG_USER_ID		= #{sysLastChgUserId}
		     , SYS_LAST_CHG_PRGRM_ID	= #{sysLastChgPrgrmId}
		 WHERE APC_CD 					= #{apcCd}
		   AND SORTNO					= #{sortno}
		]]>
	</update>






</mapper>