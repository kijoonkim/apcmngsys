<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- ==========================================================================	-->
<!-- NAME : PckgCmndMapper.xml                                   				-->
<!-- DESC : 포장지시 mapper                                            				-->
<!-- ==========================================================================	-->
<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
<!-- ===========  	============  	===========================================	-->
<!-- 2023.08.21  	정희운			Initial Creation                            -->
<!-- ==========================================================================	-->

<mapper namespace="com.at.apcss.am.pckg.mapper.PckgCmndMapper">
	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.pckg.mapper.PckgCmndMapper.selectPckgCmndList		-->
	<!-- DESC : 포장지시 목록 조회.	                                       				-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.08.21  	정희운			Initial Creation                            -->
	<!-- ==========================================================================	-->
    <select id="selectPckgCmndList" parameterType="com.at.apcss.am.pckg.vo.PckgCmndVO" resultType="com.at.apcss.am.pckg.vo.PckgCmndVO">
    	<![CDATA[
	    	SELECT /* com.at.apcss.am.pckg.mapper.PckgCmndMapper.selectPckgCmndList */
				PC.APC_CD    		AS APC_CD
				,PC.PCKG_CMNDNO   	AS PCKG_CMNDNO
				,PC.PCKG_CMND_SN    AS PCKG_CMND_SN
				,PC.PCKG_CMND_YMD   AS PCKG_CMND_YMD
				,PC.FCLT_CD    		AS FCLT_CD
				,(SELECT FN_GET_COM_CD_VL_NM('FCLT_CD', PC.FCLT_CD, PC.APC_CD) FROM DUAL) AS FCLT_NM
				,PC.CNPT_CD  		AS CNPT_CD
				,PC.DUDT_YMD  		AS DUDT_YMD
				,PC.ITEM_CD   		AS ITEM_CD
				,PC.VRTY_CD   		AS VRTY_CD
				,(SELECT FN_GET_VRTY_NM(PC.ITEM_CD, PC.VRTY_CD, PC.APC_CD) FROM DUAL)   		AS VRTY_NM
				,PC.SPCFCT_CD    	AS SPCFCT_CD
				,(SELECT FN_GET_SPCFCT_NM(PC.ITEM_CD, PC.SPCFCT_CD, PC.APC_CD) FROM DUAL)    	AS SPCFCT_NM
				,PC.ORDR_QNTT  		AS ORDR_QNTT
				,PC.ORDR_WGHT    	AS ORDR_WGHT
				,PC.BX_GDS_QNTT    	AS BX_GDS_QNTT
				,PC.CMND_QNTT   	AS CMND_QNTT
				,PC.CMND_WGHT    	AS CMND_WGHT
				,PC.ORDR_NO    		AS ORDR_NO
				,PC.GDS_CD   		AS GDS_CD
				,(SELECT FN_GET_GDS_NM(PC.GDS_CD, PC.APC_CD) FROM DUAL)	AS GDS_NM
				,PC.RMRK    		AS RMRK
				,PC.DEL_YN    		AS DEL_YN
			  FROM TB_PCKG_CMND PC
			 WHERE PC.APC_CD = #{apcCd}
			 AND PC.PCKG_CMND_YMD = #{pckgCmndYmd}
			 ORDER BY PC.PCKG_CMNDNO DESC
		]]>
    </select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.pckg.mapper.PckgCmndMapper.insertPckgInpt			-->
	<!-- DESC : 포장투입실적 등록.		                                       				-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.08.21  	정희운			Initial Creation                            -->
	<!-- ==========================================================================	-->
    <insert id="insertPckgCmnd" parameterType="com.at.apcss.am.pckg.vo.PckgCmndVO">
    	<![CDATA[
	   			INSERT  /* com.at.apcss.am.pckg.mapper.PckgCmndMapper.insertPckgInpt */
	   			INTO TB_PCKG_CMND
	   			(
	   				APC_CD
					, PCKG_CMNDNO
					, PCKG_CMND_SN
					, PCKG_CMND_YMD
					, FCLT_CD
					, CNPT_CD
					, DUDT_YMD
					, ITEM_CD
					, VRTY_CD
					, SPCFCT_CD
					, ORDR_QNTT
					, ORDR_WGHT
					, BX_GDS_QNTT
					, CMND_QNTT
					, CMND_WGHT
					, ORDR_NO
					, GDS_CD
					, RMRK
					, DEL_YN
					, SYS_FRST_INPT_DT
					, SYS_FRST_INPT_USER_ID
					, SYS_FRST_INPT_PRGRM_ID
					, SYS_LAST_CHG_DT
					, SYS_LAST_CHG_USER_ID
					, SYS_LAST_CHG_PRGRM_ID
				)
				VALUES
				(
					#{apcCd}
					, #{pckgCmndno}
					, #{pckgCmndSn}
					, #{pckgCmndYmd}
					, #{fcltCd}
					, #{cnptCd}
					, #{dudtYmd}
					, #{itemCd}
					, #{vrtyCd}
					, #{spcfctCd}
					, #{ordrQntt}
					, #{ordrWght}
					, #{bxGdsQntt}
					, #{cmndQntt}
					, #{cmndWght}
					, #{ordrNo}
					, #{gdsCd}
					, #{rmrk}
					, #{delYn}
					, SYSDATE
					, #{sysFrstInptUserId}
					, #{sysFrstInptPrgrmId}
					, SYSDATE
					, #{sysLastChgUserId}
					, #{sysLastChgPrgrmId}
				)
    	]]>
    </insert>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.am.pckg.mapper.PckgCmndMapper.deletePckgInpt			-->
	<!-- DESC : 포장투입실적 삭제.		                                       				-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR        	DESCRIPTION                      			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.08.21  	정희운			Initial Creation                            -->
	<!-- ==========================================================================	-->
    <delete id="deletePckgCmnd" parameterType="com.at.apcss.am.pckg.vo.PckgCmndVO">
    	<![CDATA[
	    	DELETE /* com.at.apcss.am.pckg.mapper.PckgCmndMapper.deletePckgInpt */
			  FROM TB_PCKG_CMND
			 WHERE APC_CD = #{apcCd}
			   AND PCKG_CMNDNO = #{pckgCmndno}
			   AND PCKG_CMND_SN = #{pckgCmndSn}
		]]>
	</delete>


</mapper>