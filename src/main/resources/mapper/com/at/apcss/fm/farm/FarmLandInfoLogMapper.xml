<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- ==========================================================================	-->
<!-- NAME : Bfarmapper.xml													-->
<!-- DESC : 게시판 정보 mapper											 			-->
<!-- ==========================================================================	-->
<!-- DATE   		AUTHOR			DESCRIPTION					  			-->
<!-- ===========  	============  	===========================================	-->
<!-- 2023.06.29  	jcshin			Initial Creation							-->
<!-- ==========================================================================	-->

<mapper namespace="com.at.apcss.fm.farm.mapper.FarmLandInfoLogMapper">

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.fm.bbs.mapper.BfarmngMapper.selectBbs				-->
	<!-- DESC : 게시판 테이블 단건조회.											 		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR			DESCRIPTION					  			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.06.29  	jcshin			Initial Creation							-->
	<!-- ==========================================================================	-->
	<select id="selectFarmLandInfoLog" parameterType="com.at.apcss.fm.farm.vo.FarmLandInfoLogVO" resultType="com.at.apcss.fm.farm.vo.FarmLandInfoLogVO">
		<![CDATA[
			SELECT /* com.at.apcss.fm.farm.mapper.FarmLandInfoLogMapper.selectFarmLandInfoLog */
				MNGMST_REGNO
				, FRLN_TYPE
				, CPRTN_FRLN_YN
				, FRLN_AREA
				, BRGRND_FCLT_SE_CD
				, FCLT_KND
				, FCLT_SN
				, FCLT_SHAP
				, FCLT_AREA
				, FRLN_ADDR
				, FRLN_MNO
				, FRLN_OWNR_NM
				, FRLN_SNO
				, FRLN_SN
				, FRMERNO
				, FCLT_INSTL_YR
				, LDGR_SE_CD
				, STDG_CD
				, FLW_AREA
				, ABL_FRLN_AREA
				, POE_FRLN_AREA
				, POE_LDCG
				, ITEM_CD
				, ITEM_NM
				, ACTL_FRLN_AREA
				, ACTL_LDCG

				, SN
				, DEL_YN
				, SYS_FRST_INPT_DT
				, SYS_FRST_INPT_PRGRM_ID
				, SYS_FRST_INPT_USER_ID
				, SYS_LAST_CHG_DT
				, SYS_LAST_CHG_PRGRM_ID
				, SYS_LAST_CHG_USER_ID
			FROM USRAM.TB_AX_FARM_LAND_INFO_LOG
			WHERE 1=1

		]]>
			<if test='frmerno != null and frmerno != ""'>
				AND FRMERNO = #{frmerno}
			</if>
			<if test='mngmstRegno != null and mngmstRegno != ""'>
				AND MNGMST_REGNO = #{mngmstRegno}
			</if>
		ORDER BY SYS_LAST_CHG_DT DESC
	</select>

	<!-- ==========================================================================	-->
	<!-- NAME : com.at.apcss.fm.bbs.mapper.BfarmngMapper.selectBbsList			-->
	<!-- DESC : 게시판 테이블 목록 조회.											 		-->
	<!-- ==========================================================================	-->
	<!-- DATE   		AUTHOR			DESCRIPTION					  			-->
	<!-- ===========  	============  	===========================================	-->
	<!-- 2023.06.29  	jcshin			Initial Creation							-->
	<!-- ==========================================================================	-->
	<select id="selectFarmLandInfoLogList" parameterType="com.at.apcss.fm.farm.vo.FarmLandInfoLogVO" resultType="com.at.apcss.fm.farm.vo.FarmLandInfoLogVO">
				<!-- Start 페이징 -->
		<if test='pagingYn != null and pagingYn.equals("Y")'>
			SELECT
				  ROWNUM AS ROW_SEQ
				, COUNT(*) OVER() AS TOTAL_RECORD_COUNT
				, pt0.*
			  FROM (
		</if>

		<![CDATA[
			SELECT  /* com.at.apcss.fm.farm.mapper.FarmLandInfoLogMapper.selectFarmLandInfoLogList */
				MNGMST_REGNO
				, FRLN_TYPE
				, CPRTN_FRLN_YN
				, FRLN_AREA
				, BRGRND_FCLT_SE_CD
				, FCLT_KND
				, FCLT_SN
				, FCLT_SHAP
				, FCLT_AREA
				, FRLN_ADDR
				, FRLN_MNO
				, FRLN_OWNR_NM
				, FRLN_SNO
				, FRLN_SN
				, FRMERNO
				, FCLT_INSTL_YR
				, LDGR_SE_CD
				, STDG_CD
				, FLW_AREA
				, ABL_FRLN_AREA
				, POE_FRLN_AREA
				, POE_LDCG
				, ITEM_CD
				, ITEM_NM
				, ACTL_FRLN_AREA
				, ACTL_LDCG

				, SN
				, DEL_YN
				, SYS_FRST_INPT_DT
				, SYS_FRST_INPT_PRGRM_ID
				, SYS_FRST_INPT_USER_ID
				, SYS_LAST_CHG_DT
				, SYS_LAST_CHG_PRGRM_ID
				, SYS_LAST_CHG_USER_ID
			FROM USRAM.TB_AX_FARM_LAND_INFO_LOG
			WHERE 1=1
		]]>
			<if test='frmerno != null and frmerno != ""'>
				AND FRMERNO = #{frmerno}
			</if>
			<if test='mngmstRegno != null and mngmstRegno != ""'>
				AND MNGMST_REGNO = #{mngmstRegno}
			</if>
			ORDER BY SYS_LAST_CHG_DT DESC

		<!-- 페이징 -->
		<if test='pagingYn != null and pagingYn.equals("Y")'>
			  ) pt0
			OFFSET (#{currentPageNo} - 1) * #{recordCountPerPage} ROWS
			FETCH FIRST #{recordCountPerPage} ROWS ONLY
		</if>
	</select>

</mapper>