/*! @Release Version : SBGrid3.25.02.18.0 Copyright© by 2023 Softbowl. Co. Ltd. , All Rights Reserved. */
!function webpackUniversalModuleDefinition(C,I){if("object"==typeof exports&&"object"==typeof module)module.exports=I();else if("function"==typeof define&&define.amd)define([],I);else{var B=I();for(var z in B)("object"==typeof exports?exports:C)[z]=B[z]}}(this,(()=>(()=>{var C={273:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.Observer=void 0;const q=B(4407),Q=B(913),ee=B(1163);I.Observer=class Observer{constructor(C,I){this._publisher=null,this._name=null!=I?I:ee.Utils.ensureName(this.constructor.name),this.publisher=C}disconnect(){this.publisher=void 0}get publisher(){return this._publisher}set publisher(C){var I,B;this._publisher!==C&&(null===(I=this._publisher)||void 0===I||I.remove(this),this._publisher=C,null===(B=this._publisher)||void 0===B||B.add(this))}get root(){let C=this.publisher;for(ee.Convert.isNull(C)&&(C=this instanceof q.Publisher?this:void 0);ee.Convert.isValue(C)&&ee.Convert.isValue(null==C?void 0:C.publisher);)C=C.publisher;return C}get name(){return this._name}doCommand(C,I){return!0}canCommand(C,I){return!0}fireCommand(C,I){const B=this.root;return(Q.Command.skipCheck(I)||B.canCommand(C,I))&&B.doCommand(C,I)}fireCommandAsync(C,I){return z(this,void 0,void 0,(function*(){const B=this.root;return(Q.Command.skipCheck(I)||B.canCommand(C,I))&&B.doCommand(C,I)}))}}},4407:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Publisher=void 0;const z=B(913),q=B(1163),Q=B(273);class Publisher extends Q.Observer{get observers(){var C;return null!==(C=this._observers)&&void 0!==C?C:this._observers=[]}add(C){return C instanceof Q.Observer&&0==this.observers.some((I=>I===C))&&(this.observers.push(C),C.publisher!=this&&(C.publisher=this)),this}remove(C){if(C instanceof Q.Observer){let I=this.observers.findIndex((I=>I===C));I>=0&&(this.observers.splice(I,1),C.publisher==this&&(C.publisher=void 0))}return this}disconnect(){super.disconnect(),this.observers.forEach((C=>C.disconnect())),this.observers.splice(0)}canCommand(C,I){if(1==z.Command.skipCheck(I))return!0;let B;for(let z of this.observers)if(B=z.canCommand(C,I),!q.Convert.isNull(B)&&!B)return B;return null==B||B}doCommand(C,I){for(let B of this.observers)if(0==B.doCommand(C,I))return!1;return!0}}I.Publisher=Publisher},7359:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ResourceManager=I.DefaultResource=void 0;const z=B(1163);class DefaultResource{constructor(){this.emptyMessage="조회조건에 해당하는 데이터가 없습니다.",this.menu_column="컬럼",this.menu_fiexCol="고정(열)",this.menu_header="좌측",this.menu_body="중앙",this.menu_columnSticky="스티키",this.menu_tail="우측",this.menu_asc="오름차순",this.menu_desc="내림차순",this.menu_reset="정렬 취소",this.menu_copy="복사",this.menu_cut="자르기",this.menu_paste="붙여넣기",this.menu_undo="되돌리기",this.menu_redo="재실행",this.menu_addRow="행 추가(맨 아래)",this.menu_addTop="행 추가(맨 위)",this.menu_insertRow="행 추가(위)",this.menu_appendRow="행 추가(아래)",this.menu_deleteRow="행 삭제",this.menu_sticky="행 고정",this.menu_sticky_cancel="행 고정(취소)",this.menu_edit="편집",this.menu_cancel="취소",this.menu_excel="엑셀",this.menu_submit_button="확인",this.menu_cancel_button="취소",this.tool_copy="복사",this.tool_edit="편집",this.tool_update="수정",this.tool_cancel="취소",this.tool_save="저장",this.tool_refresh="새로고침",this.tool_reload="다시로드",this.tool_undo="되돌리기",this.tool_redo="재실행",this.tool_add="행 추가(자식)",this.tool_addRow="행 추가(맨 아래)",this.tool_addTop="행 추가(맨 위)",this.tool_insertRow="행 추가(위)",this.tool_appendRow="행 추가(아래)",this.tool_deleteRow="행 삭제",this.tool_undeleteRow="삭제 취소",this.tool_excel="엑셀 다운로드",this.tool_csv="csv 다운로드",this.tool_search="찾기",this.tool_pagerCombo_delimiter="/",this.tool_pagerSizes="",this.tool_pagerCombo_alert="페이지 범위를 벗어났습니다.",this.filter_isLessThan="다음 보다 작음",this.filter_isLessThanOrEqualTo="다음 보다 작거나 같음",this.filter_isEqualTo="다음과 같음",this.filter_isNotEqualTo="다음과 같지 않음",this.filter_isGreaterThan="다음 보다 큼",this.filter_isGreaterThanOrEqualTo="다음 보다 크거나 같음",this.filter_in="다음을 포함",this.filter_notIn="다음을 포함하지 않음",this.filter_fromTo="다음 범위에 포함",this.filter_notFromTo="다음 범위에 포함되지 않음",this.filter_startsWith="다음으로 시작",this.filter_notStartsWith="다음으로 시작되지 않음",this.filter_endsWith="다음으로 끝남",this.filter_notEndsWith="다음으로 끝나지 않음",this.filter_contains="문자열에 다음을 포함",this.filter_notContains="문자열에 다음을 포함하지 않음",this.filter_isNull="Null과 같음",this.filter_isNotNull="Null이 아님",this.filter_isEmpty="비었음",this.filter_isNotEmpty="비어있지 않음",this.filter_isNullOrEmpty="Null이거나 비었음",this.filter_isNotNullOrEmpty="Null이 아니거나 비어있지 않음",this.filter_and="and",this.filter_or="or",this.filter_none="none",this.filter_submit="적용",this.filter_clear="해제",this.filter_placeholder="enter시 필터링이 반영됩니다.",this.group_groupZone="이곳으로 컬럼의 헤더를 드롭하여 그룹핑 하세요",this.select_all="전체 선택",this.search_title="Search",this.serach_caseSensitive="대소문자 구분",this.search_wholeWord="전체 일치",this.search_backward="이전 검색",this.search_find="검색",this.search_cancel="닫기"}}I.DefaultResource=DefaultResource;class ResourceManager{constructor(){this.language=ResourceManager.defaultLanguage,this.resources={}}static get default(){return this.getDefault(ResourceManager.defaultLanguage)}static set default(C){this.setDefault(C,ResourceManager.defaultLanguage)}get resource(){return this.getResource(this.language)}set resource(C){this.setResource(this.language,C)}getResource(C){var I;return null!==(I=this.resources[C])&&void 0!==I?I:this.resources[C]=z.Convert.cloneData(ResourceManager.getDefault(C))}setResource(C,I){var B;return this.language=C,z.Convert.isValue(I)&&(this.resources[C]=z.Convert.mergeData(I,null!==(B=this.resources[C])&&void 0!==B?B:ResourceManager.getDefault(C))),this.resources[C]}static setDefault(C,I=""){var B;this.multiResources[I]=z.Convert.mergeData(C,null!==(B=this.multiResources[I])&&void 0!==B?B:this.defaultResource)}static getDefault(C=""){var I;return null!==(I=this.multiResources[C])&&void 0!==I?I:this.defaultResource}static setResourceMulti(C){for(const I in C){const B=C[I];this.setDefault(B,I)}}}I.ResourceManager=ResourceManager,ResourceManager.defaultLanguage="",ResourceManager.defaultResource=new DefaultResource,ResourceManager.multiResources={}},913:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.LazyRenderCommand=I.ScrollBarCommand=I.ScrollCommand=I.ChangeCommand=I.Command=void 0;const z=B(2663),q=B(1163),Q=B(413);class Command{constructor(C){this.command=C}static canCheck(C){const I="object"==typeof C?C.command:C;return z.canCheckCommand.has(I)}static skipCheck(C){return!this.canCheck(C)}}I.Command=Command;class ChangeCommand extends Command{constructor(){super(z.Commands.Change)}static create(...C){return Q.Validator.validateArg(C,0),new ChangeCommand}}I.ChangeCommand=ChangeCommand;class ScrollCommand extends Command{constructor(C,I){super(z.Commands.Scroll),this.scrollX=C,this.scrollY=I}static create(...C){Q.Validator.validateArg(C,2);let I=q.Convert.asInt(C[0]),B=q.Convert.asInt(C[1]);return new ScrollCommand(I,B)}}I.ScrollCommand=ScrollCommand;class ScrollBarCommand extends Command{constructor(C,I=void 0){switch(C){case z.Commands.ScrollDown:case z.Commands.ScrollLeft:case z.Commands.ScrollRight:case z.Commands.ScrollUp:case z.Commands.PageDown:case z.Commands.PageLeft:case z.Commands.PageRight:case z.Commands.PageUp:super(C),this.scroll=I;break;default:throw`[${C}] is unknown scroll-bar command`}}static create(C,...I){const B=I.length>0?q.Convert.asInt(I[0]):void 0;return new ScrollBarCommand(C,B)}}I.ScrollBarCommand=ScrollBarCommand;class LazyRenderCommand extends Command{constructor(){super(z.Commands.LazyRender)}static create(C,...I){return Q.Validator.validateArg(I,0),new LazyRenderCommand}}I.LazyRenderCommand=LazyRenderCommand},2663:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CommandFactory=I.canCheckCommand=I.Commands=void 0;const z=B(1163),q=B(913),Q=B(5369),ee=B(5165);var te;!function(C){C.Scroll="scroll",C.ScrollUp="scrollUp",C.ScrollDown="scrollDown",C.ScrollLeft="scrollLeft",C.ScrollRight="scrollRight",C.PageUp="pageUp",C.PageDown="pageDown",C.PageLeft="pageLeft",C.PageRight="pageRight",C.Change="change",C.Update="update",C.LazyRender="lazyRender",C.Undelete="undelete",C.Delete="delete",C.Insert="insert",C.Import="import",C.Loaded="loaded",C.Refresh="refresh",C.Rebuild="rebuild",C.Reload="reload",C.Loading="loading",C.Save="save",C.AddRow="addRow",C.AddRows="addRows",C.AddTop="addTop",C.InsertRow="insertRow",C.AppendRow="appendRow",C.DeleteRow="deleteRow",C.DeleteRows="deleteRows",C.UndeleteRow="undeleteRow",C.ToogleRow="toggleRow",C.OpenRow="openRow",C.CloseRow="closeRow",C.ToogleCheck="toggleCheck",C.Open="open",C.Close="close",C.Pager="pager",C.Cancel="cancel",C.Undo="undo",C.Redo="redo",C.Selected="selected",C.Edit="edit",C.Focused="focused",C.Copy="copy",C.Cut="cut",C.Paste="paste",C.Escape="escape",C.Select="select",C.EditFilter="editFilter",C.TabNextFocusFilter="tabNextFocusFilter",C.MoveFocus="moveFocus",C.RowChange="rowChange",C.SortAsc="asc",C.SortDesc="desc",C.SortReset="reset",C.Sticky="sticky",C.NonePart="none",C.MoveToPart="moveToPart",C.ColumnVisible="columnVisible",C.OperatorChanged="operatorChanged",C.Filter="filter",C.UpdateCellData="updateCellData",C.PopupPosChange="popupPositionChanged",C.FilterCellData="filterCellData",C.ClosePopup="closePopup",C.FocusPopupItem="focusPopupItem",C.Updated="updated",C.Search="search",C.Excel="excel"}(te||(I.Commands=te={})),I.canCheckCommand=new Set([te.Focused]);const ie=new Map([[te.Scroll,q.ScrollCommand.create],[te.Change,q.ChangeCommand.create],[te.Update,Q.UpdateCommand.create],[te.Insert,Q.InsertCommand.create],[te.Delete,Q.DeleteCommand.create],[te.Loaded,Q.LoadedCommand.create],[te.Refresh,ee.RefreshCommand.create],[te.Rebuild,ee.RebuildCommand.create],[te.Open,ee.OpenCommand.create],[te.Close,ee.CloseCommand.create],[te.Pager,ee.PagerCommand.create],[te.Cancel,Q.CancelCommand.create],[te.AddRow,ee.AddRowCommand.create],[te.AddRows,ee.AddRowsCommand.create],[te.AddTop,ee.AddTopCommand.create],[te.DeleteRow,ee.DeleteRowCommand.create],[te.Undo,Q.UndoCommand.create],[te.Redo,Q.RedoCommand.create],[te.Copy,Q.CopyCommand.create],[te.Cut,Q.CutCommand.create],[te.Paste,Q.PasteCommand.create],[te.Select,Q.PasteCommand.create],[te.Edit,ee.EditCommand.create],[te.LazyRender,q.LazyRenderCommand.create]]);I.CommandFactory=class CommandFactory{static create(C,...I){if(C=z.Convert.parseEnum(te,C),ie.has(C))return ie.get(C)(I);throw`'${C}' is unknown command.`}}},5369:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.UpdatedCommand=I.LoadingCommand=I.FilterCellDataCommand=I.UpdateCellDataCommand=I.CutCommand=I.PasteCommand=I.CopyCommand=I.RedoCommand=I.UndoCommand=I.CancelCommand=I.SaveCommand=I.LoadedCommand=I.UndeleteCommand=I.DeleteCommand=I.ImportCommand=I.InsertCommand=I.UpdateCommand=I.ReloadCommand=void 0;const z=B(413),q=B(2663),Q=B(913);class ReloadCommand extends Q.Command{constructor(C){super(q.Commands.Reload),this.reset=C}static create(...C){return z.Validator.validateArg(C,1),new ReloadCommand(C[0])}}I.ReloadCommand=ReloadCommand;class UpdateCommand extends Q.Command{constructor(C,I,B=!1,z=!1){super(q.Commands.Update),this.data=C,this.column=I,this.ignoreUndo=B,this.ignoreUpdatedCommand=z}static create(...C){return z.Validator.validateArg(C,2),new UpdateCommand(C[1])}}I.UpdateCommand=UpdateCommand;class InsertCommand extends Q.Command{constructor(C){super(q.Commands.Insert),this.data=C}static create(...C){return z.Validator.validateArg(C,1),new InsertCommand(C[0])}}I.InsertCommand=InsertCommand;class ImportCommand extends Q.Command{constructor(C){super(q.Commands.Import),this.data=C}static create(...C){return z.Validator.validateArg(C,1),new ImportCommand(C[0])}}I.ImportCommand=ImportCommand;class DeleteCommand extends Q.Command{constructor(C){super(q.Commands.Delete),this.data=C}static create(...C){return z.Validator.validateArg(C,1),new DeleteCommand(C[0])}}I.DeleteCommand=DeleteCommand;class UndeleteCommand extends Q.Command{constructor(C){super(q.Commands.Undelete),this.data=C}static create(...C){return z.Validator.validateArg(C,1),new UndeleteCommand(C[0])}}I.UndeleteCommand=UndeleteCommand;class LoadedCommand extends Q.Command{constructor(C,I,B){super(q.Commands.Loaded),this.request=C,this.pageNo=I,this.data=B}static create(...C){return z.Validator.validateArg(C,3),new LoadedCommand(C[0],C[1],C[2])}}I.LoadedCommand=LoadedCommand;class SaveCommand extends Q.Command{constructor(){super(q.Commands.Save)}static create(...C){return z.Validator.validateArg(C,0),new SaveCommand}}I.SaveCommand=SaveCommand;class CancelCommand extends Q.Command{constructor(){super(q.Commands.Cancel)}static create(...C){return z.Validator.validateArg(C,0),new CancelCommand}}I.CancelCommand=CancelCommand;class UndoCommand extends Q.Command{constructor(){super(q.Commands.Undo)}static create(...C){return z.Validator.validateArg(C,0),new UndoCommand}}I.UndoCommand=UndoCommand;class RedoCommand extends Q.Command{constructor(){super(q.Commands.Redo)}static create(...C){return z.Validator.validateArg(C,0),new RedoCommand}}I.RedoCommand=RedoCommand;class CopyCommand extends Q.Command{constructor(){super(q.Commands.Copy)}static create(...C){return z.Validator.validateArg(C,0),new CopyCommand}}I.CopyCommand=CopyCommand;class PasteCommand extends Q.Command{constructor(){super(q.Commands.Paste)}static create(...C){return z.Validator.validateArg(C,0),new PasteCommand}}I.PasteCommand=PasteCommand;class CutCommand extends Q.Command{constructor(){super(q.Commands.Cut)}static create(...C){return z.Validator.validateArg(C,0),new CutCommand}}I.CutCommand=CutCommand;class UpdateCellDataCommand extends Q.Command{constructor(C,I,B){super(q.Commands.UpdateCellData),this.column=C,this.rowItem=I,this.value=B}}I.UpdateCellDataCommand=UpdateCellDataCommand;class FilterCellDataCommand extends Q.Command{constructor(C,I,B,z){super(q.Commands.FilterCellData),this.column=C,this.rowItem=I,this.items=B,this.cell=z}}I.FilterCellDataCommand=FilterCellDataCommand;class LoadingCommand extends Q.Command{constructor(C){super(q.Commands.Loading),this.loading=C}}I.LoadingCommand=LoadingCommand;class UpdatedCommand extends Q.Command{constructor(C){super(q.Commands.Updated),this.data=C}}I.UpdatedCommand=UpdatedCommand},373:(C,I)=>{"use strict";var B;Object.defineProperty(I,"__esModule",{value:!0}),I.GridPagerClickCommand=I.GridLoadedCommand=I.GridUpdatedCommand=I.GridValueCommand=I.GridRemoveCommand=I.GridAddCommand=I.GridCaptionCheckCommand=I.GridEventCommand=I.GridMenuCommand=I.GridFocusCommand=I.GridSelectCommand=I.GridEditCommand=I.GridCommand=I.GridCommands=void 0,function(C){C.Value="value",C.Data="data",C.Updated="updated",C.Edit="edit",C.Select="select",C.Focus="focus",C.Menu="menu",C.Event="event",C.Add="add",C.Remove="remove",C.CaptionCheck="captionCheck",C.Loaded="loaded",C.PagerClick="pagerClick"}(B||(I.GridCommands=B={}));class GridCommand{constructor(C){this.command=C}}I.GridCommand=GridCommand;I.GridEditCommand=class GridEditCommand extends GridCommand{constructor(C,I,z=!0){super(B.Edit),this.key=C,this.column=I,this.enter=z,this.field=null==I?void 0:I.field,this.leave=!z}};I.GridSelectCommand=class GridSelectCommand extends GridCommand{constructor(C,I){super(B.Select),this.key=C,this.column=I}};I.GridFocusCommand=class GridFocusCommand extends GridCommand{constructor(C,I,z,q){super(B.Focus),this.key=C,this.column=I,this.previousKey=z,this.previousColumn=q}};I.GridMenuCommand=class GridMenuCommand extends GridCommand{constructor(C,I,z){super(B.Menu),this.menu=C,this.key=I,this.column=z}};I.GridEventCommand=class GridEventCommand extends GridCommand{constructor(C,I,z){super(B.Event),this.event=C,this.key=I,this.column=z}};I.GridCaptionCheckCommand=class GridCaptionCheckCommand extends GridCommand{constructor(C,I){super(B.CaptionCheck),this.column=C,this.checked=I}};I.GridAddCommand=class GridAddCommand extends GridCommand{constructor(C,I){super(B.Add),this.key=C,this.data=I}};I.GridRemoveCommand=class GridRemoveCommand extends GridCommand{constructor(C,I){super(B.Remove),this.key=C,this.data=I}};I.GridValueCommand=class GridValueCommand extends GridCommand{constructor(C,I){super(B.Value),this.info=C,this.column=I}};I.GridUpdatedCommand=class GridUpdatedCommand extends GridCommand{constructor(C,I){super(B.Updated),this.info=C,this.values=I}};I.GridLoadedCommand=class GridLoadedCommand extends GridCommand{constructor(C,I,z){super(B.Loaded),this.request=C,this.pageNo=I,this.values=z}};I.GridPagerClickCommand=class GridPagerClickCommand extends GridCommand{constructor(C,I){super(B.PagerClick),this.clickedPage=C,this.pageNo=I}}},5165:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ExcelCommand=I.SearchCommand=I.ToggleCheckCommand=I.CloseRowCommand=I.OpenRowCommand=I.ToggleRowCommand=I.ColumnVisibleCommand=I.MoveToPartCommand=I.FocusPopupItemCommand=I.ClosePopupCommand=I.PopupPosChangeCommand=I.ColumnCheckCommand=I.StickyCommand=I.FilterCommand=I.OperatorChangedCommand=I.ResetCommand=I.DescCommand=I.AscCommand=I.ColumnCommand=I.MoveFocusCommand=I.EditFilterCommand=I.SelectCommand=I.EscapeCommand=I.FocusedCommand=I.EditCommand=I.SelectedCommand=I.UndeleteRowCommand=I.DeleteRowsCommand=I.DeleteRowCommand=I.AppendRowCommand=I.InsertRowCommand=I.AddTopCommand=I.AddRowsCommand=I.AddRowCommand=I.PagerCommand=I.CloseCommand=I.OpenCommand=I.RebuildCommand=I.RowChangeCommand=I.RefreshCommand=void 0;const z=B(413),q=B(913),Q=B(2663);class RefreshCommand extends q.Command{constructor(C){var I;super(Q.Commands.Refresh),this.rowStart=null==C?void 0:C.rowStart,this.rowEnd=null==C?void 0:C.rowEnd,this.colStart=null==C?void 0:C.colStart,this.colEnd=null==C?void 0:C.colEnd,this.cols=null==C?void 0:C.cols,this.key=RefreshCommand.no++,this.onlyLayout=null!==(I=null==C?void 0:C.onlyLayout)&&void 0!==I&&I}static create(...C){return z.Validator.validateArg(C,0),new RefreshCommand}}I.RefreshCommand=RefreshCommand,RefreshCommand.no=0;class RowChangeCommand extends q.Command{constructor(C=!1){super(Q.Commands.RowChange),this.onlyCalc=C}static create(...C){return z.Validator.validateArg(C,1),new RowChangeCommand(C[0])}}I.RowChangeCommand=RowChangeCommand;class RebuildCommand extends q.Command{constructor(){super(Q.Commands.Rebuild)}static create(...C){return z.Validator.validateArg(C,0),new RebuildCommand}}I.RebuildCommand=RebuildCommand;class OpenCommand extends q.Command{constructor(C){super(Q.Commands.Open),this.rowIndex=C}static create(...C){return z.Validator.validateArg(C,1),new OpenCommand(C[0])}}I.OpenCommand=OpenCommand;class CloseCommand extends q.Command{constructor(C){super(Q.Commands.Close),this.rowIndex=C}static create(...C){return z.Validator.validateArg(C,1),new CloseCommand(C[0])}}I.CloseCommand=CloseCommand;class PagerCommand extends q.Command{constructor(C){super(Q.Commands.Pager),this.pageNo=C}static create(...C){return z.Validator.validateArg(C,1),new PagerCommand(C[0])}}I.PagerCommand=PagerCommand;class AddRowCommand extends q.Command{constructor(C,I){super(Q.Commands.AddRow),this.key=C,this.rowData=I}static create(...C){return z.Validator.validateArg(C,2),new AddRowCommand(C[0],C[1])}}I.AddRowCommand=AddRowCommand;class AddRowsCommand extends q.Command{constructor(C,I){super(Q.Commands.AddRows),this.key=C,this.list=I}static create(...C){return z.Validator.validateArg(C,2),new AddRowsCommand(C[0],C[1])}}I.AddRowsCommand=AddRowsCommand;class AddTopCommand extends q.Command{constructor(C,I){super(Q.Commands.AddTop),this.key=C,this.rowData=I}static create(...C){return z.Validator.validateArg(C,2),new AddTopCommand(C[0],C[1])}}I.AddTopCommand=AddTopCommand;class InsertRowCommand extends q.Command{constructor(C,I){super(Q.Commands.InsertRow),this.key=C,this.rowData=I}static create(...C){return z.Validator.validateArg(C,2),new InsertRowCommand(C[0],C[1])}}I.InsertRowCommand=InsertRowCommand;class AppendRowCommand extends q.Command{constructor(C,I){super(Q.Commands.AppendRow),this.key=C,this.rowData=I}static create(...C){return z.Validator.validateArg(C,2),new AppendRowCommand(C[0],C[1])}}I.AppendRowCommand=AppendRowCommand;class DeleteRowCommand extends q.Command{constructor(C){super(Q.Commands.DeleteRow),this.key=C}static create(...C){return z.Validator.validateArg(C,1),new DeleteRowCommand(C[0])}}I.DeleteRowCommand=DeleteRowCommand;class DeleteRowsCommand extends q.Command{constructor(C){super(Q.Commands.DeleteRows),this.keys=C}static create(...C){return z.Validator.validateArg(C,1),new DeleteRowsCommand(C[0])}}I.DeleteRowsCommand=DeleteRowsCommand;class UndeleteRowCommand extends q.Command{constructor(C){super(Q.Commands.DeleteRow),this.key=C}static create(...C){return z.Validator.validateArg(C,1),new UndeleteRowCommand(C[0])}}I.UndeleteRowCommand=UndeleteRowCommand;class SelectedCommand extends q.Command{constructor(){super(Q.Commands.Selected)}}I.SelectedCommand=SelectedCommand;class EditCommand extends q.Command{constructor(C,I,B){super(Q.Commands.Edit),this.type=C,this.rowItem=I,this.column=B}static create(C){return z.Validator.validateArg(C,3),new EditCommand(C[0],C[1],C[2])}}I.EditCommand=EditCommand;class FocusedCommand extends q.Command{constructor(C,I,B){super(Q.Commands.Focused),this.current=C,this.last=I,this.eventType=B}}I.FocusedCommand=FocusedCommand;class EscapeCommand extends q.Command{constructor(){super(Q.Commands.Escape)}}I.EscapeCommand=EscapeCommand;class SelectCommand extends q.Command{constructor(C,I,B){super(Q.Commands.Select),this.start=C,this.end=I,this.arrow=B}}I.SelectCommand=SelectCommand;class EditFilterCommand extends q.Command{constructor(C,I){super(Q.Commands.EditFilter),this.event=C,this.focus=I}static create(C){return z.Validator.validateArg(C,2),new EditFilterCommand(C[0],C[1])}}I.EditFilterCommand=EditFilterCommand;class MoveFocusCommand extends q.Command{constructor(C){super(Q.Commands.MoveFocus),this.focus=C}}I.MoveFocusCommand=MoveFocusCommand;class ColumnCommand extends q.Command{constructor(C,I){super(C),this.column=I}}I.ColumnCommand=ColumnCommand;I.AscCommand=class AscCommand extends ColumnCommand{constructor(C){super(Q.Commands.SortAsc,C)}};I.DescCommand=class DescCommand extends ColumnCommand{constructor(C){super(Q.Commands.SortDesc,C)}};I.ResetCommand=class ResetCommand extends ColumnCommand{constructor(C){super(Q.Commands.SortReset,C)}};class OperatorChangedCommand extends q.Command{constructor(C,I,B){super(Q.Commands.OperatorChanged),this.conditionName=I,this.operator=C,this.prevOperator=B}}I.OperatorChangedCommand=OperatorChangedCommand;class FilterCommand extends q.Command{constructor(C,I,B){super(Q.Commands.Filter),this.isFilter=C,this.isClear=I,this.isCancel=B}}I.FilterCommand=FilterCommand;I.StickyCommand=class StickyCommand extends ColumnCommand{constructor(C,I){super(Q.Commands.Sticky,C),this.rowItem=I,this.column=C}};I.ColumnCheckCommand=class ColumnCheckCommand extends ColumnCommand{constructor(C){super(Q.Commands.ColumnVisible,C),this.column=C}};I.PopupPosChangeCommand=class PopupPosChangeCommand extends ColumnCommand{constructor(C,I){super(Q.Commands.PopupPosChange,C),this.column=C,this.jqCell=I}};I.ClosePopupCommand=class ClosePopupCommand extends ColumnCommand{constructor(C,I){super(Q.Commands.ClosePopup,C),this.column=C,this.rowItem=I}};I.FocusPopupItemCommand=class FocusPopupItemCommand extends ColumnCommand{constructor(C,I){super(Q.Commands.FocusPopupItem,C),this.column=C,this.rowItem=I}};class MoveToPartCommand extends q.Command{constructor(C,I,B=void 0,z=void 0){super(Q.Commands.MoveToPart),this.column=C,this.part=I,this.parentColumn=B,this.columnIndex=z}}I.MoveToPartCommand=MoveToPartCommand;class ColumnVisibleCommand extends q.Command{constructor(C){super(Q.Commands.ColumnVisible),this.visible=C}}I.ColumnVisibleCommand=ColumnVisibleCommand;class ToggleRowCommand extends q.Command{constructor(C){super(Q.Commands.ToogleRow),this.key=C}}I.ToggleRowCommand=ToggleRowCommand;class OpenRowCommand extends q.Command{constructor(C){super(Q.Commands.OpenRow),this.key=C}}I.OpenRowCommand=OpenRowCommand;class CloseRowCommand extends q.Command{constructor(C){super(Q.Commands.CloseRow),this.key=C}}I.CloseRowCommand=CloseRowCommand;class ToggleCheckCommand extends q.Command{constructor(C){super(Q.Commands.ToogleCheck),this.key=C}}I.ToggleCheckCommand=ToggleCheckCommand;class SearchCommand extends q.Command{constructor(){super(Q.Commands.Search)}}I.SearchCommand=SearchCommand;class ExcelCommand extends q.Command{constructor(){super(Q.Commands.Excel)}}I.ExcelCommand=ExcelCommand},6105:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.Aggregate=I.Sorting=I.Filtering=I.BaseLoader=void 0;const q=B(1163),Q=B(194),ee=B(2288),te=B(7392),ie=B(3354),re=B(9299),ne=B(3354),se=B(5260);class BaseLoader{constructor(C){this._dataSource=C,this._onMakeRequest=C.onPrepareRequest}get dataSource(){return this._dataSource}get nodes(){var C;return null!==(C=this._nodes)&&void 0!==C?C:this._nodes=[]}set nodes(C){this._nodes=C}get keyMap(){var C;return null!==(C=this._keyMap)&&void 0!==C?C:this._keyMap=new Map}get nodeMap(){var C;return null!==(C=this._nodeMap)&&void 0!==C?C:this._nodeMap=new Map}hasKey(C){return this.nodeMap.has(C)}get nodeCount(){return this._nodeCount}set nodeCount(C){this._nodeCount=C}get config(){var C;return null===(C=this._dataSource)||void 0===C?void 0:C.config}get request(){return this.dataSource.request}get onPrepareRequest(){return this._onMakeRequest}set onPrepareRequest(C){this._onMakeRequest=C}search(){return z(this,void 0,void 0,(function*(){se.Log.debug((()=>["BaseLoader.search"])),se.Log.debug((()=>["BaseLoader.search","end"]))}))}clearRows(){this.nodes=[],this.nodeCount=void 0}get filter(){const C=this.dataSource.deleteMap;return I=>0==C.has(I.key)}hasRows(C,I){var B,z;let q=this.prepareRequest(C,I,ee.ViewMode.Flow,te.ScrollRange.Whole);return{pageNo:q.pageNo,hasPage:null!==(z=null===(B=this.dataSource.getPageMap(q))||void 0===B?void 0:B.hasPage(q.pageNo))&&void 0!==z&&z}}getRows(C,I,B,Q,te){return z(this,void 0,void 0,(function*(){try{let z,ie=C instanceof ne.ParentNode,re=ie?C:void 0;q.Convert.isNull(this.nodeCount)&&q.Convert.isNull(C)&&(yield this.loadFromDataSource(Q,te));let se=q.Convert.isNull(C)||!ie?this.nodes[I]:ie?this.getItem(re,I):void 0;if(q.Convert.isNull(se)){let Q=q.Convert.isNull(C)||!ie?this.nodeCount:ie?re.nodeCount:0;if(Q<=I)return[];if(B)z=[];else if(q.Convert.isNull(Q)||I<Q){let B=this.prepareRequest(C,I,ee.ViewMode.Flow,te);this.doMakeRequest(B);let q=yield this.load(B,C);z=this.loaded(q,B,C),z=z.splice(I-B.nodeIndex)}else z=[]}else z=q.Convert.isNull(C)||!ie?this.getRootItems(I):ie?this.getNodeItems(re,I):[se];return 0==this.dataSource.fieldsRebuilded&&q.Convert.isValue(z)&&this.dataSource.rebuildFields(z.map((C=>C.box.originData))),z}catch(C){}}))}loadFromDataSource(C,I){return z(this,void 0,void 0,(function*(){let B,z,Q=this.prepareRequest(void 0,0,C,I);const ee=this.dataSource.getRequestKey(Q);if(0!=this.dataSource.boxMap.get(ee).hasPage(Q.pageNo)){if(this.dataSource.pageOnly){const C=this.dataSource.getBoxes();Q.pageNo=this.dataSource.pageNo,this.doMakeRequest(Q),this.dataSource.saveRequest(Q),z=yield this.clientLoad(Q,C),B=this.loaded(z,Q,void 0)}else{this.dataSource.saveRequest(Q),this.doMakeRequest(Q);const C=this.dataSource.getRequestKey(Q),I=this.dataSource.boxMap.get(C);let ee=[];q.Convert.isValue(I)&&(ee=ee.concat(I.boxes)),z=yield this.clientLoad(Q,ee),B=this.loaded(z,Q,void 0)}return B}}))}getItem(C,I){return C.nodeCount>I?C.nodes[I]:I>0&&C.hasFooter&&C.nodeCount==I?C.footer:void 0}getNodeItems(C,I){const B=[];for(let z=I,q=C.nodes.length;z<q;z++)B.push(C.nodes[z]);return C.hasFooter&&(B[C.nodeCount]=C.footer),B}get isPaging(){return this.dataSource.isPaging}getRootItems(C){const I=[],B=this.isPaging?C+Math.min(this.nodeCount-C,this.config.pageSize):this.nodeCount;for(let z=C;z<B;z++){const C=this.nodes[z];if(q.Convert.isNull(C))break;I.push(C)}return I}prepareRequest(C,I,B,z){var ie,re,ne,se,oe,ae,le;let ue={};q.Convert.isValue(this.onPrepareRequest)&&this.onPrepareRequest(this.config,ue);const de="function"==typeof(null===(ie=this.config.ajax)||void 0===ie?void 0:ie.select)||null===(ne=null===(re=this.config.ajax)||void 0===re?void 0:re.select)||void 0===ne?void 0:ne.url;ue.url=null!=de?de:null===(se=this.config.ajax)||void 0===se?void 0:se.baseUrl,ue.rowData=null==C?void 0:C.data,q.Convert.isValue(this.config.filters)&&(ue.filters=te.DataSourceParser.parseFilters(this.config.filters)),q.Convert.isValue(this.config.orders)&&(ue.orders=te.DataSourceParser.parseOrders(this.config.orders)),q.Convert.isValue(this.config.groups)&&(ue.groups=te.DataSourceParser.parseGroups(this.config.groups)),q.Convert.isNull(C)&&q.Convert.isValue(this.config.aggregates)&&(ue.aggregates=te.DataSourceParser.parseAggregates(this.config.aggregates));const ce=this.config.pageSize,he=this.dataSource.getPageMap(ue),fe=null!==(oe=null==he?void 0:he.indexToPage(I))&&void 0!==oe?oe:Q.DataSource.indexToPage(I,ce);return this.isPaging&&(ue.pageSize=ce,ue.pageNo=fe,ue.startRow=fe*ce),q.Convert.isValue(null==he?void 0:he.total)&&(ue.aggregates=void 0),ue.viewMode=B,ue.scrollRange=z,ue.nodeIndex=null!==(le=null===(ae=this.dataSource.getPageMap(ue).pageToFromTo(ue.pageNo,ee.ViewMode.Page,z))||void 0===ae?void 0:ae.from)&&void 0!==le?le:I,ue}doMakeRequest(C){var I,B,z,Q,ee,ie;let ne=null!==(Q="function"==typeof(null===(I=this.config.ajax)||void 0===I?void 0:I.select)||null===(z=null===(B=this.config.ajax)||void 0===B?void 0:B.select)||void 0===z?void 0:z.request)&&void 0!==Q?Q:null===(ee=this.config.ajax)||void 0===ee?void 0:ee.request;if(q.Convert.isValue(ne)){const I=null!==(ie=ne(C,te.AjaxOperation.Select))&&void 0!==ie?ie:C;q.Convert.isValue(I)&&C!==I&&re.RequestBuilder.apply(I,C)}se.Log.debug((()=>["call-makeRequest",C]))}load(C,I){return z(this,void 0,void 0,(function*(){try{let I=yield this.serverLoad(C);return this.dataSource.saveRequest(C),I}finally{}}))}adjustServerResponse(C,I){return 0==this.config.serverFiltering&&q.Convert.isValue(null==C?void 0:C.filters)&&(I=Filtering.filterList(I,C.filters)),0==this.config.serverSorting&&q.Convert.isValue(null==C?void 0:C.orders)&&(I=Sorting.sortList(I,C.groups,C.orders)),I}clientLoad(C,I){return z(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}serverLoad(C){return z(this,void 0,void 0,(function*(){throw new Error("serverLoad method not implemented.")}))}loaded(C,I,B){throw new Error("loaded method not implemented.")}get keyMaker(){return this.dataSource.keyMaker}serverPaging(C,I,B){var z,Q,te,ie,re,ne;if(0==this.isPaging)return C.selected;if(0==this.config.serverGrouping&&q.Convert.isValue(this.config.groups)){this.nodes=[];for(const I of C.selected)this.nodes.push(I);return this.nodeCount=this.nodes.length,this.nodes}let se=C.selected,oe=[],ae=(z=I.pageNo,Q=I.pageSize,null!==(te=null==se?void 0:se.length)&&void 0!==te?te:0);const le=this.dataSource.getPageMap(I).pageToFromTo(I.pageNo,ee.ViewMode.Page,I.scrollRange),ue=le.from,de=le.to,ce=q.Convert.isValue(B)?B.level+1:0,he=0==q.Convert.isNull(B);for(let C=0;C<ae;C++){let I=se[C];I.index=ue+C,I.level=ce,he?B.addNode(I,ue+C):this.nodes[ue+C]=I}for(let C=null!==(ie=I.nodeIndex)&&void 0!==ie?ie:ue;C<de;C++){const I=he?B.nodes[C]:this.nodes[C];if(q.Convert.isNull(I))break;oe.push(I)}if(this.config.pageSize>ae?q.Convert.isNull(B)?null!==(re=this.nodeCount)&&void 0!==re||(this.nodeCount=this.nodes.length):B.nodeCount=B.nodes.length:q.Convert.isNull(B)?null!==(ne=this.nodeCount)&&void 0!==ne||(this.nodeCount=C.total):B.nodeCount=C.total,q.Convert.isValue(C.aggregated)&&C.aggregated.some((C=>q.Convert.isValue(C.value))))for(const I of C.aggregated)if(q.Convert.isValue(I.value)){const C=this.config.aggregates.find((C=>q.Arrays.arrayEquals(C.require,I.field)&&C.func==I.func&&C.payload==I.payload));if(q.Convert.isNull(C))continue;C.value=I.value}return oe}stopLoader(){var C,I,B,z,q,Q,ee,te,ie,re,ne,se;return 0==BaseLoader.compareGroups(null!==(I=null===(C=this.request)||void 0===C?void 0:C.groups)&&void 0!==I?I:[],null!==(z=null===(B=this.config)||void 0===B?void 0:B.groups)&&void 0!==z?z:[])||0==BaseLoader.compareFilters(null!==(Q=null===(q=this.request)||void 0===q?void 0:q.filters)&&void 0!==Q?Q:[],null!==(te=null===(ee=this.config)||void 0===ee?void 0:ee.filters)&&void 0!==te?te:[])||0==BaseLoader.compareOrders(null!==(re=null===(ie=this.request)||void 0===ie?void 0:ie.orders)&&void 0!==re?re:[],null!==(se=null===(ne=this.config)||void 0===ne?void 0:ne.orders)&&void 0!==se?se:[])}static compareFilters(C,I){return!(!q.Convert.isNull(C)||!q.Convert.isNull(I))||q.Convert.arrayEqual(C instanceof Array?C:[C],I instanceof Array?I:[I],((C,I)=>{var B,z;let Q=q.Arrays.arrayEquals(null==C?void 0:C.field,null==I?void 0:I.field)&&(null==C?void 0:C.operator)==(null==I?void 0:I.operator)&&q.Arrays.arrayEquals(null==C?void 0:C.values,null==I?void 0:I.values);return Q&&(Q=(null===(B=null==C?void 0:C.filters)||void 0===B?void 0:B.length)==(null===(z=null==I?void 0:I.filters)||void 0===z?void 0:z.length)&&(Q=this.compareFilters(null==C?void 0:C.filters,null==I?void 0:I.filters))),Q}))}static compareOrders(C,I){return q.Convert.arrayEqual(C,I,((C,I)=>C.field==I.field&&C.dir==I.dir))}static compareGroups(C,I){return q.Convert.arrayEqual(C,I,((C,I)=>C.field==I.field&&C.dir==I.dir))}insertNode(C,I,B,z,q=!1){throw new Error("Method [addNode] not implemented.")}removeNode(C,I,B,z,q=!1){throw new Error("Method [removeNode] not implemented.")}save(C){return z(this,void 0,void 0,(function*(){throw new Error("Method [save] not implemented.")}))}calcAggregates(){}static calculateRows(C,I){if("function"==typeof C.rows)return C.rows(I);I=[...I];const getValue=I=>I[C.require[0]];switch(C.rows.func){case te.RankFunctions.Rank:{let B,z;Sorting.sort(I,C.rows.dir,getValue);for(let q=0,Q=I.length;q<Q;q++){const Q=getValue(I[q]);B===Q||(z=q+1),I[q][C.field]=z,B=Q}break}}}static moveToList(C,I,B,z,Q){var ee,te;null!=Q||(Q=[]);const ie=I.index<B.index?-1:1,re=I.index,ne=B.index+(ie>0?0:-1)+(z?0:1);if(re==ne)return;const oe=Math.min(re,ne),ae=Math.max(re,ne),le=[];for(let B=oe;B<=ae;B++){const z=C[B];q.Convert.isNull(z)||z===I||le.push(z)}for(const I of le){const B=I.box,z=B.originIndex;I.index+=ie;const q=null===(ee=C[I.index])||void 0===ee?void 0:ee.box.originIndex;Q.push({key:B.key,oldIndex:z,newIndex:q}),C[I.index]=I}return Q.push({key:I.key,oldIndex:I.box.originIndex,newIndex:null===(te=C[ne])||void 0===te?void 0:te.box.originIndex}),I.index=ne,C[ne]=I,se.Log.debug((()=>["BaseLoader.moveToList",Q])),Q}}I.BaseLoader=BaseLoader,BaseLoader.symbolKeyMaker=()=>{var C;return q.Convert.isNull(null===(C=window.crypto)||void 0===C?void 0:C.randomUUID)?Symbol():crypto.randomUUID()};class Filtering{static filterList(C,I,B=te.FilterOperators.And){var z;if(0==(null!==(z=null==I?void 0:I.length)&&void 0!==z?z:0))return C;let Q=[];for(let z of C){if(q.Convert.isNull(z))continue;0!=this.filterItem(z,I,B)&&Q.push(z)}return Q}static filterItem(C,I,B){let z;z=B==te.FilterOperators.And;const Q=C instanceof ie.Box?C.data:C;for(let ee of I){if(ee.operator==te.FilterOperators.And||ee.operator==te.FilterOperators.Or)q.Convert.isValue(ee.filters)&&(z=this.filterItem(C,ee.filters,ee.operator));else if("function"==typeof ee.operator)z=ee.operator(Q);else{const C=ee.field instanceof Array?ee.field:"*"==ee.field?Object.keys(Q):[ee.field];for(const I of C){let C="function"==typeof ee.getValue?ee.getValue(Q,I):Q[I];if(z=Filtering.checkFilter(C,ee),z)break}}if(B==te.FilterOperators.And){if(0==z)break}else if(1==z)break}return z}static checkFilter(C,I){switch(q.Convert.isValue(I.dataType)&&(C=q.Convert.convertType(C,I.dataType)),"string"==typeof C&&I.ignoreCase&&(C=C.toUpperCase()),I.operator){case te.FilterOperators.IsEmpty:return q.Convert.isEmpty(C);case te.FilterOperators.IsNotEmpty:return 0==q.Convert.isEmpty(C);case te.FilterOperators.IsNull:return q.Convert.isNull(C);case te.FilterOperators.IsNotNull:return 0==q.Convert.isNull(C);case te.FilterOperators.IsNullOrEmpty:return q.Convert.isEmpty(C);case te.FilterOperators.IsNotNullOrEmpty:return 0==q.Convert.isEmpty(C)}const B=q.Convert.isValue(I.getFilterValue)?I.getFilterValue(I.values):I.values;let z=this.getValue(B,0);switch(q.Convert.isValue(I.dataType)&&(z=q.Convert.convertType(z,I.dataType)),"string"==typeof z&&I.ignoreCase&&(z=z.toUpperCase()),I.operator){case te.FilterOperators.Contains:return Filtering.stringFunc(C,z,((C,I)=>C.includes(I)));case te.FilterOperators.NotContains:return!Filtering.stringFunc(C,z,((C,I)=>C.includes(I)));case te.FilterOperators.StartsWith:return Filtering.stringFunc(C,z,((C,I)=>C.startsWith(I)));case te.FilterOperators.NotStartsWith:return!Filtering.stringFunc(C,z,((C,I)=>C.startsWith(I)));case te.FilterOperators.EndsWith:return Filtering.stringFunc(C,z,((C,I)=>C.endsWith(I)));case te.FilterOperators.NotEndsWith:return!Filtering.stringFunc(C,z,((C,I)=>C.endsWith(I)));case te.FilterOperators.IsEqualTo:case te.FilterOperators.EqualTo:return"object"==typeof C?Filtering.stringFunc(C,z,((C,I)=>C==I)):C==z;case te.FilterOperators.NotEqualTo:case te.FilterOperators.IsNotEqualTo:return"object"==typeof C?!Filtering.stringFunc(C,z,((C,I)=>C==I)):C!=z;case te.FilterOperators.GreaterThan:case te.FilterOperators.IsGreaterThan:return C>z;case te.FilterOperators.GreaterThanOrEqualTo:case te.FilterOperators.IsGreaterThanOrEqualTo:return C>=z;case te.FilterOperators.LessThan:case te.FilterOperators.IsLessThan:return C<z;case te.FilterOperators.LessThanOrEqualTo:case te.FilterOperators.IsLessThanOrEqualTo:return C<=z}let Q=this.getValue(B,1);switch(q.Convert.isValue(I.dataType)&&(Q=q.Convert.convertType(Q,I.dataType)),"string"==typeof Q&&I.ignoreCase&&(Q=Q.toUpperCase()),I.operator){case te.FilterOperators.FromTo:return(!!q.Convert.isEmpty(z)||z<=C)&&(!!q.Convert.isEmpty(Q)||C<=Q);case te.FilterOperators.NotFromTo:return!((q.Convert.isEmpty(z)||z<=C)&&(q.Convert.isEmpty(Q)||C<=Q))}let ee=B instanceof Array?B:[z];switch(q.Convert.isValue(I.dataType)&&(ee=ee.map((C=>(q.Convert.convertType(C,I.dataType),"string"==typeof C&&I.ignoreCase&&(C=C.toUpperCase()),C)))),I.operator){case te.FilterOperators.In:{const isInValues=C=>ee.some((I=>q.Convert.asText(I)===q.Convert.asText(C)));return Array.isArray(C)?C.some(isInValues):isInValues(C)}case te.FilterOperators.NotIn:{const isNotInValues=C=>ee.every((I=>q.Convert.asText(I)!==q.Convert.asText(C)));return Array.isArray(C)?C.every(isNotInValues):isNotInValues(C)}default:throw new Error(`[${I.operator}] is unknown operator!`)}return!1}static getValue(C,I){return"string"==typeof C?C:C instanceof Array&&C.length>I?C[I]:""}static stringFunc(C,I,B){return C="string"==typeof C?C:null==C?void 0:C.toString(),I="string"==typeof I?I:null==I?void 0:I.toString(),!!q.Convert.isNull(I)||!q.Convert.isNull(C)&&B(C,I)}}I.Filtering=Filtering;class Sorting{static getValue(C,I){if(C=C instanceof ie.Box?C.data:C,"function"==typeof I.getValue)return I.getValue(C,I.field);if(q.Convert.isNull(C))return;const B=C[I.field];if(typeof B==I.dataType)return B;switch(I.dataType){case q.DataType.Boolean:return q.Convert.asBool(B);case q.DataType.Number:return q.Convert.asNumber(B);case q.DataType.BigInt:return q.Convert.asBigInt(B);case q.DataType.String:return q.Convert.asText(B);case q.DataType.Date:return q.Convert.asDate(B)}return B}static sortList(C,I,B,z){var Q,ee;let ie=[],re=[];if((null!==(Q=null==I?void 0:I.length)&&void 0!==Q?Q:0)>0&&(re=re.concat(I)),(null!==(ee=null==B?void 0:B.length)&&void 0!==ee?ee:0)>0)for(const C of B)re.some((I=>I.field==C.field))||re.push(C);return q.Convert.isNull(z)&&(z=this.getValue),0==re.length?C:(ie=C.sort(((C,I)=>{for(let B of re){if(B.dir==te.SortDir.None)continue;if(q.Convert.isValue(B.sort)){const z=B.sort(C,I,B.dir);if(0===z)continue;return z}let Q=z(C,B),ee=z(I,B);if(q.Convert.isNull(Q)&&(Q=""),q.Convert.isNull(ee)&&(ee=""),Q!==ee)return Q<ee?B.dir==te.SortDir.Asc?-1:1:B.dir==te.SortDir.Asc?1:-1}return 0})),ie)}static calcOrder(C,I,B,z,q){let Q=[].concat(C);return Q.indexOf(I)<0&&Q.push(I),this.sortList(C,B,z,q),Q.indexOf(I)}static sort(C,I,B){C.sort(((C,z)=>{let Q=B(C),ee=B(z);return q.Convert.isNull(Q)&&(Q=""),q.Convert.isNull(ee)&&(ee=""),Q==ee?0:Q<ee?I==te.SortDir.Asc?-1:1:I==te.SortDir.Asc?1:-1}))}}I.Sorting=Sorting;class Aggregate{static aggregates(C,I,B){let z=[];if(B)for(const C of null!=I?I:[]){const I={require:C.require,func:C.func,nullAs:C.nullAs,payload:C.payload,field:Aggregate.getResultName(C),dataType:C.dataType,payloadType:C.payloadType,eval:C.eval};z.push(I)}else z=I;C=null!=C?C:[];let Q=[];for(const I of null!=z?z:[])q.Convert.isValue(I.func)&&(I.value=this.aggregate(C,I)),q.Convert.isValue(I.eval)&&Q.push(I);if(q.Convert.isValue(Q))for(const C of Q)C.value=this.aggregateEval(C,z);return z}static aggregate(C,I){var B;if(0==(null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0))return;let z=0;return"function"==typeof I.func?(z=I.func(C),z):Aggregate.calcRows(I,C)}static calcFields(C,I){const B=C.eval;if("function"==typeof B)return B(I);const z={require:C.require,func:B,nullAs:C.nullAs,dataType:C.dataType,params:C.params};return Aggregate.calcRows(z,[I])}static aggregateEval(C,I){const B=C.eval,z={};for(const C of I)z[C.field]=C.value;if("function"==typeof B)return B(z);const q={require:C.require,func:B,nullAs:C.nullAs,dataType:C.dataType};return Aggregate.calcRows(q,[z])}static calcRows(C,I){let B=0;const z=C.payload;switch(C.func){case te.AggregateFunctions.Sum:B=Aggregate.makeItems(I,C,(C=>C.reduce(((C,I)=>C+I),0)));break;case te.AggregateFunctions.Average:case te.AggregateFunctions.Avg:B=Aggregate.makeItems(I,C,(C=>C.reduce(((C,I)=>q.Convert.asFloat(C)+q.Convert.asFloat(I)))/C.length));break;case te.AggregateFunctions.Total:B=I.length;break;case te.AggregateFunctions.Count:B=q.Convert.isValue(C.params)?Aggregate.makeItems(I,C,(I=>I.filter((I=>C.params.some((C=>I==C)))).length)):Aggregate.makeItems(I,C,(C=>C.length));break;case te.AggregateFunctions.Min:B=Aggregate.makeItems(I,C,(I=>q.Convert.isEmpty(z)?I.reduce(((C,I)=>C<I?C:I),I[0]):q.Convert.convertType(I.reduce(((C,I)=>C[this._field]<I[this._field]?C:I),I[0])[z],C.payloadType)));break;case te.AggregateFunctions.Max:B=Aggregate.makeItems(I,C,(I=>q.Convert.isEmpty(z)?I.reduce(((C,I)=>C>I?C:I),I[0]):q.Convert.convertType(I.reduce(((C,I)=>C[this._field]<I[this._field]?I:C),I[0])[z],C.payloadType)));break;case te.AggregateFunctions.First:B=Aggregate.makeItems(I,C,(I=>{var B;return q.Convert.isEmpty(z)?I[0]:q.Convert.convertType(null===(B=I[0])||void 0===B?void 0:B[z],C.payloadType)}));break;case te.AggregateFunctions.Last:B=Aggregate.makeItems(I,C,(I=>{var B;return q.Convert.isEmpty(z)?I[I.length-1]:q.Convert.convertType(null===(B=I[I.length-1])||void 0===B?void 0:B[z],C.payloadType)}));break;case te.AggregateFunctions.Range:B=Aggregate.makeItems(I,C,(I=>this.calcRange(C,I[0])));break;case te.AggregateFunctions.Switch:B=Aggregate.makeItems(I,C,(I=>this.calcSwitch(C,I[0])))}return B}static calcSwitch(C,I){return C.params instanceof Map&&C.params.get(I),I}static calcRange(C,I){var B;if(C.params instanceof Map==0)return I;const z=C.params,Q=Aggregate.ensureRange(z);for(const C of Q.range)if(C<=I)return null!==(B=z.get(C))&&void 0!==B?B:z.get(q.Convert.asText(C));return Q.default}static ensureRange(C){var I,B;if(this.rangeMap.has(C))return this.rangeMap.get(C);const z=null!==(B=null!==(I=C.get("default"))&&void 0!==I?I:C.get(""))&&void 0!==B?B:C.get(void 0),Q=C.keys(),ee=[];for(const C of Q){const I=q.Convert.asNumber(C);ee.indexOf(I)>=0||ee.push(I)}ee.sort(((C,I)=>I-C));const te={range:ee,default:z};return this.rangeMap.set(C,te),te}static makeItems(C,I,B){let z=[];const Q=q.Convert.asStringArray(I.require,[]);if(q.Convert.isEmpty(Q))return z;I.nullAs;const ee=I.payload,te=q.Convert.isEmpty(ee)?(C,I)=>z.push(C):(C,I)=>{const B={};B[this._field]=C,B[ee]=I[ee],z.push(B)};for(let B of C)if(!q.Convert.isNull(B))for(const C of Q)this.pushItemFieldValue(I,B,C,te);return q.Convert.isEmpty(z)?void 0:B(z)}static pushItemFieldValue(C,I,B,z){if(q.Convert.isNull(z))return;const Q=C.nullAs,ee=C.dataType,ie="*"==B?Object.keys(I):[B];for(let C of ie){let B=q.Convert.convertType(I[C],ee);if(q.Convert.isEmpty(B)){if(Q===te.NullAs.Ignore)continue;B=Q}z(B,I)}return!0}static fieldsJoin(C,I){return q.Convert.asStringArray(C,void 0).join(null!=I?I:"_")}static getResultName(C,I,B){var z;return q.Convert.isEmpty(C.require)&&q.Convert.isEmpty(I)&&q.Convert.isEmpty(C.field)?"":q.Convert.isEmpty(C.field)||B?this.fieldsJoin(null!==(z=C.require)&&void 0!==z?z:I,"_")+("string"==typeof C.func?"_"+C.func:"")+(q.Convert.isValue(C.field)?"_"+C.field:"")+(q.Convert.isValue(C.payload)?"_"+C.payload:""):C.field}static aggregateEquals(C,I){return(C.require==I.require||q.Arrays.arrayEquals(C.require,I.require))&&C.field==I.field&&C.func==I.func&&C.payload==I.payload}}I.Aggregate=Aggregate,Aggregate._field="_field",Aggregate.rangeMap=new Map},194:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.InsertTo=I.DataStatus=I.DataSource=void 0;const q=B(1163),Q=B(4407),ee=B(7392),te=B(6105),ie=B(512),re=B(5260),ne=B(2351),se=B(3354),oe=B(9299),ae=B(7359),le=B(2288);class DataSource extends Q.Publisher{constructor(C){super(),this._originIndex=0,this._fieldsRebuilded=!1,this.keyMaker=C=>{var I,B,z,Q,ee;const ie=null===(I=this.config.schema)||void 0===I?void 0:I.id;let re;switch(typeof ie){case"function":re=ie(C);break;case"string":re=null!==(B=null==C?void 0:C.hasOwnProperty(ie))&&void 0!==B&&B&&null!==(z=C[ie])&&void 0!==z?z:"";break;default:if(ie instanceof Array){const I=[];for(const B of ie)null!==(Q=null==C?void 0:C.hasOwnProperty(B))&&void 0!==Q&&Q&&I.push(null!==(ee=C[B])&&void 0!==ee?ee:"");re=1==I.length?I[0]:I.join(DataSource.keySeperator);break}}return q.Convert.isEmpty(re)&&(re=te.BaseLoader.symbolKeyMaker()),re},this._updateIndex=0,this.setConfig(C),this._updateIndex=0}setConfig(C){this._config=ee.DataSourceParser.parseConfig(C)}get resourceManager(){var C;return null!==(C=this._resourceManager)&&void 0!==C?C:this._resourceManager=new ae.ResourceManager}get resource(){return this.resourceManager.resource}get config(){return this._config}static get defaultConfig(){var C;return null!==(C=DataSource._defaultConfig)&&void 0!==C?C:{}}static set defaultConfig(C){DataSource._defaultConfig=ee.DataSourceParser.parseConfig(C)}get stateless(){var C;return null!==(C=this.config.stateless)&&void 0!==C&&C}get filters(){return this.config.filters instanceof Array?this.config.filters:[this.config.filters]}get fieldSet(){var C;return null!==(C=this._fieldSet)&&void 0!==C?C:this._fieldSet=this.ensureFieldSet()}get pageNo(){var C,I;return null!==(I=null===(C=this.request)||void 0===C?void 0:C.pageNo)&&void 0!==I?I:0}get requestKey(){var C;return null!==(C=this._requestKey)&&void 0!==C?C:this._requestKey=this.getRequestKey()}get boxMap(){var C;return null!==(C=this._boxMap)&&void 0!==C?C:this._boxMap=new Map}get loadedTotal(){var C,I;const B=this.getRequestKey(),z=this.boxMap.get(B);if(q.Convert.isNull(z))return 0;let Q=0;for(const B of z.keys())Q+=null!==(I=null===(C=z.getPage(B))||void 0===C?void 0:C.length)&&void 0!==I?I:0;return Q}get removeDeleted(){var C,I;return null!==(I=null!==(C=this.config.removeDeleted)&&void 0!==C?C:DataSource.defaultConfig.removeDeleted)&&void 0!==I&&I}set removeDeleted(C){this.config.removeDeleted!==C&&(this.config.removeDeleted=C,this.clearRows())}setBoxes(C,I,B){var z,Q;const ee=this.getRequestKey(C),te=null!==(z=this.boxMap.get(ee))&&void 0!==z?z:new le.PageMap(this);let ie=[];0==q.Convert.isNull(I)&&(ie=I.map(((C,I)=>se.DataBox.create(C,this.keyMaker,I,this)))),te.setPage(null!==(Q=null==C?void 0:C.pageNo)&&void 0!==Q?Q:0,ie),q.Convert.isValue(B)&&(te.total=B),this.boxMap.set(ee,te),this.calcFields(ie)}getPageMap(C){var I;null!=C||(C=this.request);const B=this.getRequestKey(C);null!==(I=null==C?void 0:C.pageSize)&&void 0!==I||this.pageSize;if(0==this.boxMap.size){const C=this.ensurePageMap();return this.boxMap.set(B,C),C}return 0==this.boxMap.has(B)&&this.boxMap.set(B,new le.PageMap(this)),this.boxMap.get(B)}getPageNo(C){const I=this.getPageMap(this.request);return null==I?void 0:I.getPageNo(C)}getPageBoxes(C,I){null!=C||(C=this._request);const B=this.getPageMap(C);return null==B?void 0:B.view(C,le.ViewMode.Page,I)}getBoxes(C,I){var B;const z=this.getPageMap(C);return q.Convert.isEmpty(I)||0==this.isPaging?null==z?void 0:z.allBoxes():null==z?void 0:z.view(C,null!==(B=null==C?void 0:C.viewMode)&&void 0!==B?B:le.ViewMode.Page,I)}getPageSize(C,I){var B;const z=this.getPageMap(C);return null!==(B=null==z?void 0:z.pageSizes[null!=I?I:0])&&void 0!==B?B:null==z?void 0:z.pageSize}hasPage(C){var I;C=this.adjustPageNo(C);const B=this.getPageMap();return null!==(I=null==B?void 0:B.hasPage(C))&&void 0!==I&&I}sortOriginIndex(){var C;const I=this.boxMap.get(this.requestKey);for(const B of null!==(C=null==I?void 0:I.keys())&&void 0!==C?C:[]){const C=I.getPage(B);null==C||C.sort(((C,I)=>(null==C?void 0:C.originIndex)-(null==I?void 0:I.originIndex)))}}get keyMap(){var C;return null!==(C=this._keyMap)&&void 0!==C?C:this._keyMap=new Map}get insertMap(){var C;return null!==(C=this._insertMap)&&void 0!==C?C:this._insertMap=new Map}get deleteMap(){var C;return null!==(C=this._deleteMap)&&void 0!==C?C:this._deleteMap=new Map}get updateMap(){var C;return null!==(C=this._updateMap)&&void 0!==C?C:this._updateMap=new Map}get inserted(){return this.getSaveData(!0,!1,!1).inserted}get deleted(){return this.getSaveData(!1,!1,!0).deleted}get updated(){return this.getSaveData(!1,!0,!1).updated}isUpdated(C){return this.updateMap.has(C)}isDeleted(C){return this.deleteMap.has(C)}isInserted(C){return this.insertMap.has(C)}get changed(){return this.updateMap.size>0||this.insertMap.size>0||this.deleteMap.size>0}get request(){var C;return null!==(C=this._request)&&void 0!==C?C:{}}map(C,I){if(q.Convert.isNull(I))return this.keyMap.get(C);this.keyMap.set(C,I)}hasKey(C){return this.keyMap.has(C)}getStatus(C){const I=C.key;return this.insertMap.has(I)?this.deleteMap.has(I)?ue.None:ue.Insert:this.deleteMap.has(I)?ue.Delete:this.updateMap.has(I)?ue.Update:ue.Normal}setStatus(C,I){switch(I){case ue.Normal:this.updateBox(C,!0);break;case ue.Delete:this.deleteBox(C,!1);break;case ue.Insert:this.insertBox(C,!1);break;case ue.Update:this.updateBox(C,!1)}}get pageSize(){var C;return null!==(C=this.config.pageSize)&&void 0!==C?C:DataSource.defaultConfig.pageSize}set pageSize(C){this.pageSize!=C&&(this.config.pageSize=C,this.clearRows())}get isPaging(){return this.config.serverPaging||this.config.clientPaging}get cachePaging(){var C;return null===(C=this.config.cachePaging)||void 0===C||C}get pageOnly(){var C;return null!==(C=this._pageOnly)&&void 0!==C?C:this._pageOnly=this.isPaging}set pageOnly(C){this._pageOnly=C}get total(){var C;return null===(C=this.pageMap)||void 0===C?void 0:C.total}set total(C){q.Convert.isValue(this.pageMap)&&(this.pageMap.total=C)}get adjustedTotal(){var C;return null===(C=this.pageMap)||void 0===C?void 0:C.adjustedTotal}get pageMap(){return this.boxMap.get(this.requestKey)}get loader(){var C;return null!==(C=this._loader)&&void 0!==C?C:this._loader=this.ensureLoader()}set loader(C){this._loader=C}get rows(){return this.loader.nodes}get hasCalcRows(){var C;return null!==(C=this._hasCalcRows)&&void 0!==C?C:this._hasCalcRows=this.config.calculations.some((C=>q.Convert.isValue(C.rows)))}get hasCalcFields(){var C;return null!==(C=this._hasCalcFields)&&void 0!==C?C:this._hasCalcFields=this.config.calculations.some((C=>q.Convert.isValue(C.eval)))}get onPrepareRequest(){return this._onPrepareRequest}set onPrepareRequest(C){this._onPrepareRequest=C}get originIndex(){var C;return null!==(C=this._originIndex)&&void 0!==C?C:this._originIndex=0}addOriginIndex(){return this._originIndex++,this._originIndex}adjustOriginIndex(C){return this._originIndex=Math.max(this._originIndex,C)}removeOriginIndex(C){return this._originIndex==C&&this._originIndex--,this._originIndex}adjustFieldSet(C){var I;return z(this,void 0,void 0,(function*(){if(q.Convert.isEmpty(C))return;if(q.Convert.isValue(null===(I=this.config.schema)||void 0===I?void 0:I.fields))return;C instanceof se.Box&&(C=C.data);const B=this.fieldSet;for(const I of Object.keys(C))I==DataSource._keyName||B.has(I)||B.add(I)}))}convertData(C){var I,B,z,Q,ee,te,ie,re,ne;return(!0===(null===(B=null===(I=this.config)||void 0===I?void 0:I.schema)||void 0===B?void 0:B.convertFields)||q.Convert.isNull(null===(Q=null===(z=this.config)||void 0===z?void 0:z.schema)||void 0===Q?void 0:Q.convert))&&(C=this.convertFields(C)),C=null!==(ne=q.Convert.isValue(null===(te=null===(ee=this.config)||void 0===ee?void 0:ee.schema)||void 0===te?void 0:te.convert)&&null!==(re=null===(ie=this.config)||void 0===ie?void 0:ie.schema.convert(C))&&void 0!==re?re:C)&&void 0!==ne?ne:{}}convertFields(C){var I,B,z,Q;q.Convert.isNull(C)&&(C={});const ee=null===(I=this.config.schema)||void 0===I?void 0:I.fields;if(q.Convert.isEmpty(ee))return C;const te=null!==(Q=null===(z=null===(B=this.config)||void 0===B?void 0:B.schema)||void 0===z?void 0:z.convertFields)&&void 0!==Q&&Q;for(const I of Object.keys(ee)){const B=ee[I];let z=C[I];z=this.convertField(z,B,te),C[I]=z}return null!=C?C:{}}convertField(C,I,B=void 0){var z,Q,ee,te,ie,re;if(null!=B||(B=null!==(ee=null===(Q=null===(z=this.config)||void 0===z?void 0:z.schema)||void 0===Q?void 0:Q.convertFields)&&void 0!==ee&&ee),"string"==typeof I&&(I=null===(re=null===(ie=null===(te=this.config)||void 0===te?void 0:te.schema)||void 0===ie?void 0:ie.fields)||void 0===re?void 0:re[I]),q.Convert.isNull(I))return C;if((!0===B||q.Convert.isNull(I.convert))&&(null!=C||(C=I.default),q.Convert.isValue(I.dataType))){const B="default"==I.failAs?I.default:"origin"==I.failAs?C:I.failAs;C=q.Convert.convertType(C,I.dataType,B)}return q.Convert.isValue(I.convert)&&(C=I.convert(C)),C}changeBox(C,I,B=!1){!0!==this.config.stateless&&(B?C.delete(I.key):C.set(I.key,I))}insertBox(C,I=!1){const B=C instanceof se.Box?C:C.box;this.changeBox(this.insertMap,B,I),I&&(this.keyMap.has(B.key)&&this.keyMap.delete(B.key),this.updateMap.delete(B.key)),B.setStatus(se.Status.Insert),I?this.updateMap.has(C.key)?B.setStatus(se.Status.Update):B.setStatus(se.Status.None):B.setStatus(se.Status.Insert)}deleteBox(C,I=!1){const B=C instanceof se.Box?C:C.box;if(I&&this.insertMap.has(B.key))return this.insertMap.delete(B.key),this.updateMap.delete(B.key),void this.keyMap.delete(B.key);this.changeBox(this.deleteMap,B,I),I?this.updateMap.has(C.key)?B.setStatus(se.Status.Update):B.setStatus(se.Status.None):B.setStatus(se.Status.Delete)}updateBox(C,I=!1){const B=C instanceof se.Box?C:C.box;this.changeBox(this.updateMap,B,I);const z=B.getStatus();z!=se.Status.Delete&&z!=se.Status.Insert&&(I?B.setStatus(se.Status.None):B.setStatus(se.Status.Update))}getEmptyData(){var C;const I={};if(q.Convert.isEmpty(null===(C=this.config.schema)||void 0===C?void 0:C.fields))return I;const B=this.config.schema.fields;for(const C in B){const z=B[C];I[C]=z.default}return I}newBox(C){var I,B,Q,ee;return z(this,void 0,void 0,(function*(){if(C instanceof se.DataBox)return null!==(I=C.originIndex)&&void 0!==I||(C.originIndex=this.addOriginIndex()),this.hasKey(C.key)||this.map(C.key,C),C;let z=this.keyMaker;C=q.Convert.mergeData(C,this.getEmptyData()),q.Convert.isValue(null===(B=this.config.schema)||void 0===B?void 0:B.add)&&(C=this.config.schema.add(C))instanceof Promise&&(C=yield C);const ie=z(C);if(this.keyMap.has(ie)&&q.Convert.isValue(null===(Q=this.config.schema)||void 0===Q?void 0:Q.id)){z=te.BaseLoader.symbolKeyMaker;const I=null===(ee=this.config.schema)||void 0===ee?void 0:ee.id;if("function"==typeof I);else if(I instanceof Array)for(const B of I)C[B]=void 0}return se.DataBox.create(C,z,this.addOriginIndex(),this)}))}createBox(C,I){var B;const z=C instanceof se.DataBox?C:se.DataBox.create(C,this.keyMaker,I,this);return I<this.config.fieldsSamples&&1==(null===(B=this.config.schema)||void 0===B?void 0:B.autoFields)&&this.adjustFieldSet(C),z}get fieldsRebuilded(){return this._fieldsRebuilded}rebuildFields(C){var I,B,z,Q,ee,te,ie,re,ne,se,oe;if(!q.Convert.isValue(null===(I=this.config.schema)||void 0===I?void 0:I.fields)||0!=(null===(B=this.config.schema)||void 0===B?void 0:B.autoFields)&&!this.fieldsRebuilded){if(null!==(z=(oe=this.config).schema)&&void 0!==z||(oe.schema={fields:{}}),q.Convert.isValue(C)){const I=null!==(Q=this.config.schema.fields)&&void 0!==Q?Q:this.config.schema.fields={},B=this.config.schema.failAs,z={},oe=[],ae=this.config.fieldsSamples;let le=0;for(const B in C){if(le>=ae)break;const Q=C[B];if(!q.Convert.isNull(Q)&&"object"==typeof Q){for(const C of Object.keys(Q)){if(C==DataSource._keyName)continue;const B=Q[C],ne=null!==(ee=z[C])&&void 0!==ee?ee:{},se=null!==(te=I[C])&&void 0!==te?te:{};ne.dataType=null!==(ie=null==se?void 0:se.dataType)&&void 0!==ie?ie:q.Convert.isValue(B)?typeof B:"any",ne.nullable=null!==(re=null==se?void 0:se.nullable)&&void 0!==re?re:q.Convert.isNull(B),z[C]=ne}oe.push(Q),++le}}for(const C in z)for(const I in oe){const B=oe[I];q.Convert.isNull(B[C])&&(z[C].nullable=!0)}for(const C in z){const Q=I[C];if(q.Convert.isNull(Q))I[C]=z[C];else{const I=z[C];null!==(ne=Q.dataType)&&void 0!==ne||(Q.dataType=I.dataType),null!==(se=Q.nullable)&&void 0!==se||(Q.nullable=I.nullable),0==Q.hasOwnProperty("failAs")&&(Q.failAs=B)}}const ue=this.fieldSet;for(const C of Object.keys(I))ue.add(C)}this._fieldsRebuilded=!0}}moveToList(C,I,B,z,Q=void 0){var ee,te;if(null!=Q||(Q=[]),q.Convert.isNull(B))return Q.push({key:I.key,oldIndex:I.originIndex,newIndex:I.originIndex}),C.push(I),Q;const ie=I.originIndex<(null!==(ee=null==B?void 0:B.originIndex)&&void 0!==ee?ee:0)?-1:1,ne=C.findIndex((C=>C==I)),se=C.findIndex((C=>C==B))+(ie>0?0:-1)+(z?0:1);if(ne==se)return;const oe=Math.min(ne,se),ae=Math.max(ne,se),le=[];for(let B=oe;B<=ae;B++){const z=C[B];q.Convert.isNull(z)||z===I||le.push({index:B,box:z})}let ue;for(const I of le){const B=I.box.originIndex;ue=null!=ue?ue:B,I.index+=ie;const z=null===(te=C[I.index])||void 0===te?void 0:te.originIndex;I.box.originIndex=z,Q.push({key:I.box.key,oldIndex:B,newIndex:z}),C[I.index]=I.box}return Q.push({key:I.key,oldIndex:I.originIndex,newIndex:ue}),I.originIndex=ue,C[se]=I,C.sort(((C,I)=>C.originIndex-I.originIndex)),re.Log.debug((()=>["DataSource.moveToList",Q.length])),Q}moveToList_old(C,I,B,z,Q=void 0){var ee;null!=Q||(Q=[]);const te=I.originIndex<B.originIndex?-1:1,ie=C.findIndex((C=>C==I)),ne=C.findIndex((C=>C==B))+(te>0?0:-1)+(z?0:1);if(ie==ne)return;const se=Math.min(ie,ne),oe=Math.max(ie,ne),ae=[];for(let B=se;B<=oe;B++){const z=C[B];q.Convert.isNull(z)||z===I||ae.push({index:B,box:z})}let le;for(const I of ae){const B=I.box.originIndex;le=null!=le?le:B,I.index+=te;const z=null===(ee=C[I.index])||void 0===ee?void 0:ee.originIndex;I.box.originIndex=z,Q.push({key:I.box.key,oldIndex:B,newIndex:z}),C[I.index]=I.box}return Q.push({key:I.key,oldIndex:I.originIndex,newIndex:le}),I.originIndex=le,C[ne]=I,C.sort(((C,I)=>C.originIndex-I.originIndex)),re.Log.debug((()=>["DataSource.moveToList",Q.length])),Q}addBox(C,I,B,z){var Q,ee,te,ie,re,ne,se,oe,ae;const le=this.deleteMap.has(I.key);le?this.deleteBox(I,!0):this.insertBox(I),C=[...null!=C?C:[]];let ue=0;if(le){if(0==this.config.removeDeleted)return!1;ue=I.originIndex,I.originIndex=(null!==(ee=null===(Q=C[C.length-1])||void 0===Q?void 0:Q.originIndex)&&void 0!==ee?ee:0)+1,C.push(I);const B=C.findIndex((C=>C.originIndex==ue));this.moveToList(C,I,C[B],!0)}if(q.Convert.isNull(B))switch(z){case de.Before:z=de.First;break;case de.After:z=de.Last}const ce=this.getPageMap(this.request),he=q.Convert.isNull(B)?z==de.First?0:ce.lastPageNo:ce.getPageNo(B),fe=null!==(te=ce.getPage(he))&&void 0!==te?te:[];let pe=!0;switch(z){case de.Before:ue=B.originIndex;break;case de.After:ue=B.originIndex,pe=!1;break;case de.First:ue=null!==(re=null===(ie=fe[0])||void 0===ie?void 0:ie.originIndex)&&void 0!==re?re:0;break;case de.Last:ue=null!==(se=null===(ne=fe[fe.length-1])||void 0===ne?void 0:ne.originIndex)&&void 0!==se?se:0,pe=!1}if(I.originIndex=(null!==(ae=null===(oe=fe[fe.length-1])||void 0===oe?void 0:oe.originIndex)&&void 0!==ae?ae:0)+1,fe.push(I),fe.length>1){const C=fe.findIndex((C=>C.originIndex==ue));this.moveToList(fe,I,fe[C],pe)}return ce.setPage(he,fe),!0}removeBox(C,I,B){const z=I.key,q=this.insertMap.has(I.key);if(q?this.insertBox(I,!0):this.deleteBox(I),q||this.removeDeleted){null!=C||(C=[]),(C=[...C]).sort(((C,I)=>C.originIndex-I.originIndex));let B=C.findIndex((C=>C.key==z));B>=0&&(B+1==C.length?C.length=B:C.splice(B,1),this.adjustBoxIndex(C,B,I.originIndex)),this.removeOriginIndex(I.originIndex);const q=this.getPageMap(this.request),Q=q.getPageNo(I),ee=q.getPage(Q);B=ee.findIndex((C=>C.key==z)),B>=0&&(ee.splice(B,1),q.setPage(Q,ee))}return q||this.removeDeleted}adjustBoxIndex(C,I,B){for(let z=C.length;I<z;I++){const z=C[I];q.Convert.isNull(z)||([z.originIndex,B]=[B,z.originIndex])}}insertNode(C,I,B,Q,te,ie=!1){return z(this,void 0,void 0,(function*(){if(ie)return this.removeNode(C,I,B,Q,te);if(null!=C||(C=null==I?void 0:I.parent),q.Convert.isEmpty(I))switch(te){case de.Before:te=de.First;break;case de.After:te=de.Last}C instanceof se.ParentNode&&0==C.isLeaf&&1==this.config.lazyLoading&&q.Convert.isEmpty(C.nodeCount)&&(yield this.loader.getRows(C,0,!1,le.ViewMode.Flow,ee.ScrollRange.Whole)),C instanceof se.TreeNode&&(C.isLeaf=!1),q.Convert.isNull(Q)&&(Q=te==de.Last?-1:this.pageNo);const z=yield this.newBox(B),re=C instanceof se.ParentNode?C.nodes.map((C=>C.box)):this.getPageBoxes(this.request,Q);q.Convert.isNull(re)&&(yield this.load(Q,le.ViewMode.Page,ee.ScrollRange.Page));return this.addBox(re,z,null==I?void 0:I.box,te)&&this.loader.insertNode(C,I,z,te)}))}removeNode(C,I,B,q,Q,ee=!1){return z(this,void 0,void 0,(function*(){if(ee)return this.insertNode(C,I,B,q,Q);const z=C instanceof se.ParentNode?C.nodes.map((C=>C.box)):this.getBoxes(this.request);return this.removeBox(z,I.box,Q)?this.loader.removeNode(C,I,B,Q):I}))}moveToNode(C,I,B){const z=this.loader.moveToNode(C,I,B);if(q.Convert.isEmpty(z))return;for(const C of z){if(0==this.keyMap.has(C.key))continue;this.keyMap.get(C.key).originIndex=C.newIndex}const Q=this.getPageMap(this.request),ee=Q.getPageNo(C.box),te=Q.getPageNo(I.box);if(!(ee<0||te<0))if(ee==te){const C=Q.getPage(ee);C.sort(((C,I)=>C.originIndex-I.originIndex)),Q.setPage(ee,C)}else{const C=Math.min(ee,te),I=Math.max(ee,te),B=[];for(let z=C;z<=I;z++){if(0==Q.hasPage(z))continue;const C=Q.getPage(z);B.push(...C)}B.sort(((C,I)=>C.originIndex-I.originIndex));let z=0;for(let ee=C;ee<=I;ee++){if(0==Q.hasPage(ee))continue;const C=Q.pageSizes[ee];q.Convert.isEmpty(ee)||(Q.setPage(ee,B.slice(z,z+C)),z+=C)}}}getSaveData(C=!0,I=!0,B=!0){const z=[],q=[],Q=[];if(C)for(const C of this.insertMap.keys())this.deleteMap.has(C)||z.push(this.insertMap.get(C).data);if(B)for(const C of this.deleteMap.keys())this.insertMap.has(C)||q.push(this.deleteMap.get(C).data);if(I)for(const C of this.updateMap.keys())this.insertMap.has(C)||this.deleteMap.has(C)||Q.push(this.updateMap.get(C).data);return{inserted:z,deleted:q,updated:Q}}getModifiedKeys(C=!0,I=!0,B=!0){const z=new Set;if(C)for(const C of this.insertMap.keys())this.deleteMap.has(C)||z.add(C);if(B)for(const C of this.deleteMap.keys())this.insertMap.has(C)||z.add(C);if(I)for(const C of this.updateMap.keys())this.insertMap.has(C)||this.deleteMap.has(C)||z.add(C);return z}clearSaveData(C=void 0){this.insertMap.clear(),this.deleteMap.clear(),this.updateMap.clear()}ensureFieldSet(){var C;const I=new Set;if(q.Convert.isEmpty(null===(C=this.config.schema)||void 0===C?void 0:C.fields))return I;for(const C of Object.keys(this.config.schema.fields))C!=DataSource._keyName&&I.add(C);return I}ensurePageMap(C=void 0){const I=new le.PageMap(this);return I.setList(C),I}importData(C){this.clearRows();const I=this.ensurePageMap(C);this.total=C.length,this.boxMap.set("",I)}appendData(C){const I=this.getBoxes();this.clearRows(),C=I.concat(C);const B=this.ensurePageMap(C);this.boxMap.set("",B),this.total=B.boxes.length}loadView(C=0,I,B){var q;return z(this,void 0,void 0,(function*(){if(C=this.adjustPageNo(C),I==le.ViewMode.Page)return yield this.load(C,I,B);const z=this.getPageMap(),Q=null!==(q=null==z?void 0:z.flowToPage(C))&&void 0!==q?q:[0];for(const C of Q)yield this.load(C,I,B);const ee=[],te=z.pageToFromTo(C,le.ViewMode.Page,B);if(te.to=Math.min(te.to,this.loader.nodeCount),te.from<this.loader.nodeCount)for(let C=te.from;C<te.to;C++)ee.push(this.loader.nodes[C]);return ee}))}adjustPageNo(C){if(0==this.isPaging)return 0;if(C<0){const I=this.total;if(q.Convert.isEmpty(I)||0==I)return 0;C=this.getPageMap().lastPageNo}return C}load(C=0,I,B){var q,Q,ee;return z(this,void 0,void 0,(function*(){C=this.adjustPageNo(C);const z=this.getPageMap(void 0),te=null!==(Q=null===(q=null==z?void 0:z.pageToFromTo(C,I,B))||void 0===q?void 0:q.from)&&void 0!==Q?Q:this.config.pageSize*C;let ie=this.loader.prepareRequest(void 0,te,I,B);null!==(ee=ie.pageNo)&&void 0!==ee||(ie.pageNo=C),this.loader.doMakeRequest(ie);let re=yield this.loader.load(ie,void 0);this.pageOnly&&this.loader.clearRows();return this.loader.loaded(re,ie,void 0)}))}search(){return z(this,void 0,void 0,(function*(){re.Log.debug((()=>[this.name+".search"])),this.changeLoader()&&(re.Log.debug((()=>[this.name+".search","changeLoader"])),this.ensureLoader()),0==this.config.serverFiltering&&q.Convert.isValue(this.config.filters),0==this.config.serverSorting&&q.Convert.isValue(this.config.orders),this.changeLoader()&&(this.loader.nodeCount=void 0),yield this.loader.search(),re.Log.debug((()=>[this.name+".search","end"]))}))}clearRows(){re.Log.debug((()=>this.name+".clearRows")),this.loader.clearRows(),this.keyMap.clear(),this.boxMap.clear(),this.clearSaveData(),this._originIndex=0,this._request=void 0,this._requestKey=void 0,this.total=void 0,q.Convert.isValue(this.config.aggregates)&&this.config.aggregates.forEach((C=>C.value=void 0))}reload(){return z(this,void 0,void 0,(function*(){yield this.save(),this._loader=ie.LoaderFactory.ensureLoader(this,this.config)}))}get updateIndex(){return this._updateIndex}beginUpdate(){this._updateIndex++}endUpdate(){this._updateIndex--,this._updateIndex<0&&(this._updateIndex=0),this.loader.calcAggregates()}adjustServerRequest(C){return{aggregates:this.config.serverAggregates?q.Convert.default(C.aggregates,void 0,ee.DataSourceParser.parseAggregates):void 0,filters:this.config.serverFiltering?q.Convert.default(C.filters,void 0,(C=>ee.DataSourceParser.parseFilters(C))):void 0,groups:this.config.serverGrouping?q.Convert.default(C.groups,void 0,ee.DataSourceParser.parseGroups):void 0,orders:this.config.serverSorting?q.Convert.default(C.orders,void 0,ee.DataSourceParser.parseOrders):void 0,parentKey:C.parentKey,parentField:C.parentField,pageNo:C.pageNo,pageSize:C.pageSize,startRow:C.startRow,nodeIndex:C.nodeIndex,rowData:C.rowData}}loadFunc(C,I){var B,Q;return z(this,void 0,void 0,(function*(){if("function"==typeof I){let z=I(C);if(void 0===z)return{};if(z instanceof Promise&&(z=yield z),q.Convert.isNull(z))return{};const ee=z instanceof Array?{selected:z,total:z.length}:this.parseResponse(z);return null!==(B=ee.total)&&void 0!==B||(ee.total=null===(Q=ee.selected)||void 0===Q?void 0:Q.length),ee}return{selected:[].concat(this.config.data)}}))}parseResponse(C){var I,B,z;const q=C;return q.selected=C[this.config.ajax.selected],null!==(I=q.total)&&void 0!==I||(q.total=null!==(z=null===(B=q.selected)||void 0===B?void 0:B.length)&&void 0!==z?z:0),q}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new q.Lock}selectRequest(C,I=void 0){var B;return z(this,void 0,void 0,(function*(){try{yield this.lock.acquire();let z={};if(q.Convert.isNull(I)&&(I=null===(B=this.config.ajax)||void 0===B?void 0:B.select),this.saveRequest(C),this.hasPage(C.pageNo)){const I=this.getBoxes(C,C.pageNo);if(0==q.Convert.isNull(I))return z.selected=I,z.total=this.total,z}return"function"==typeof I?yield this.selectFromFunction(C,I,z):this.config.data instanceof Array?this.selectFromList(this.config.data,C):q.Convert.isValue(C.url)?yield this.selectFromUrl(C,I,z):(z.selected=[],z.total=0,z)}finally{yield this.lock.release()}}))}selectFromList(C,I){var B;let z={};const Q=this.ensurePageMap(C);return this.boxMap.set(this.getRequestKey(I),Q),(0==this.isPaging||q.Convert.isValue(I.groups))&&(Q.total=null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0),C=Q.boxes,z.selected=q.Convert.isValue(I.groups)?C:this.getBoxes(I,I.pageNo),z.total=C.length,z}selectFromFunction(C,I,B){var q,Q,ee;return z(this,void 0,void 0,(function*(){if(0==this.hasPage(C.pageNo)||0==this.compareRequest(C)){let z=yield this.loadFunc(this.adjustServerRequest(C),I);if(B=this.doResponse(z),0==this.isPaging||B.selected.length==B.total)return this.selectFromList(B.selected,C);this.setBoxes(C,B.selected,B.total),B.selected=this.getBoxes(C,C.pageNo)}else B.selected=[];return null!==(q=B.total)&&void 0!==q||(B.total=null!==(ee=null===(Q=B.selected)||void 0===Q?void 0:Q.length)&&void 0!==ee?ee:0),B}))}selectFromUrl(C,I,B){var Q,te,ie,re,ne,se,oe;return z(this,void 0,void 0,(function*(){let z;switch(null!==(Q=null==I?void 0:I.loadType)&&void 0!==Q?Q:ee.MethodType.Post){case ee.MethodType.Get:z=yield q.Utils.getData(C.url);break;case ee.MethodType.Post:z=yield q.Utils.postData(C.url,this.adjustServerRequest(C))}if(z=this.doResponse(z),q.Convert.isNull(z))return B;const ae=null===(te=this.config.ajax)||void 0===te?void 0:te.selected,le=null===(ie=this.config.ajax)||void 0===ie?void 0:ie.total,ue=null===(re=this.config.ajax)||void 0===re?void 0:re.aggregated;return B.selected=z instanceof Array?z:null!==(ne=z.selected)&&void 0!==ne?ne:z[ae],B.total=z instanceof Array?z.length:null!==(se=z.total)&&void 0!==se?se:z[le],B.aggregated=null!==(oe=z.aggregated)&&void 0!==oe?oe:z[ue],B.selected.length==B.total?this.selectFromList(B.selected,C):(this.setBoxes(C,B.selected,B.total),B.selected=this.getBoxes(void 0,C.pageNo),B)}))}applyAggregated(C){if(q.Convert.isEmpty(this.config.aggregates))return;const I=new Map;for(var B of(C.forEach((C=>I.set(C.field,C))),this.config.aggregates))I.has(B.field)&&(B.value=I.get(B.field).value)}doResponse(C){var I,B,z,Q,te,ie,ne,se;let ae=null!==(Q="function"==typeof(null===(I=this.config.ajax)||void 0===I?void 0:I.select)||null===(z=null===(B=this.config.ajax)||void 0===B?void 0:B.select)||void 0===z?void 0:z.response)&&void 0!==Q?Q:null===(te=this.config.ajax)||void 0===te?void 0:te.response;if(q.Convert.isValue(ae)){const I=null!==(ie=ae(C,ee.AjaxOperation.Select))&&void 0!==ie?ie:C;re.Log.debug((()=>({f:"load.response",response:C,responseResult:I}))),q.Convert.isValue(I)&&C!==I&&(oe.RequestBuilder.apply(I,C),C=I)}else{const I=C;C={selected:null!==(ne=I[this.config.ajax.selected])&&void 0!==ne?ne:I.selected,total:null!==(se=I[this.config.ajax.total])&&void 0!==se?se:I.total},q.Convert.isValue(I[this.config.ajax.aggregated])&&(C.aggregated=I[this.config.ajax.aggregated])}return C}updateRequest(C,I=void 0){var B;return z(this,void 0,void 0,(function*(){return q.Convert.isNull(I)&&(I=null===(B=this.config.ajax)||void 0===B?void 0:B.update),"function"==typeof I?yield I(C):re.Log.warn("변경된 데이터가 있으나 저장용 함수(dataConfig.ajax.update)가 지정되지 않았습니다. 변경된 데이터 정보는 삭제됩니다."),{}}))}saveRequest(C){this._request={url:C.url,aggregates:q.Convert.default(C.aggregates,void 0,ee.DataSourceParser.parseAggregates),filters:q.Convert.default(C.filters,void 0,(C=>ee.DataSourceParser.parseFilters(C))),groups:q.Convert.default(C.groups,void 0,ee.DataSourceParser.parseGroups),orders:q.Convert.default(C.orders,void 0,ee.DataSourceParser.parseOrders),parentKey:C.parentKey,parentField:C.parentField,pageNo:C.pageNo,pageSize:C.pageSize,startRow:C.startRow,nodeIndex:C.nodeIndex,rowData:C.rowData,viewMode:C.viewMode,scrollRange:C.scrollRange},this._requestKey=this.getRequestKey(this._request)}getFilterString(C){var I;const B=[];null===(I=C.filters)||void 0===I||I.forEach((C=>B.push(this.getFilterString(C))));return`{filter: ${C.operator} [${q.Convert.asStringArray(C.field).join(",")}] [${q.Convert.asStringArray(C.values).join(",")}] filters: [${B}]}`}getRequestKey(C=void 0,I=!1){var B,z;if(q.Convert.isNull(C)&&(C=this._request),this.config.lazyLoading&&q.Convert.isValue(null==C?void 0:C.parentKey))return`parent=${null!==(B=C.parentKey)&&void 0!==B?B:""}`;const Q=[];return I&&Q.push(`{range: ${null!==(z=C.scrollRange)&&void 0!==z?z:""}}`),(I||this.config.serverFiltering)&&q.Convert.isValue(null==C?void 0:C.filters)&&C.filters.forEach((C=>Q.push(this.getFilterString(C)))),(I||this.config.serverGrouping)&&q.Convert.isValue(null==C?void 0:C.groups)&&Q.push(...C.groups.map((C=>{var I;return`{group: ${C.field}=${null!==(I=C.value)&&void 0!==I?I:""}}`}))),(I||this.config.serverSorting)&&q.Convert.isValue(null==C?void 0:C.orders)&&Q.push(...C.orders.map((C=>`{order: ${C.field}=${C.dir}}`))),Q.join(",")}compareRequest(C){var I,B,z,Q,ee,te,ie,re,ne;let se=!0;return se&&(se=(null===(I=this.request)||void 0===I?void 0:I.pageNo)==C.pageNo),se&&(se=(null===(B=this.request)||void 0===B?void 0:B.pageSize)==C.pageSize),se&&(se=(null===(z=this.request)||void 0===z?void 0:z.parentField)==C.parentField),se&&(se=(null===(Q=this.request)||void 0===Q?void 0:Q.parentKey)==C.parentKey),se&&(se=(null===(ee=this.request)||void 0===ee?void 0:ee.parentField)==C.parentField),se&&(se=0==this.config.serverFiltering||q.Convert.arrayEqual(null===(te=this.request)||void 0===te?void 0:te.filters,C.filters,((C,I)=>C.operator==I.operator&&compareFields(C.field,I.field)))),se&&(se=0==this.config.serverGrouping||q.Convert.arrayEqual(null===(ie=this.request)||void 0===ie?void 0:ie.groups,C.groups,((C,I)=>C.dir==I.dir&&compareFields(C.field,I.field)))),se&&(se=0==this.config.serverAggregates||q.Convert.arrayEqual(null===(re=this.request)||void 0===re?void 0:re.aggregates,C.aggregates,((C,I)=>C.func==I.func&&compareFields(C.require,I.require)))),se&&(se=0==this.config.serverSorting||q.Convert.arrayEqual(null===(ne=this.request)||void 0===ne?void 0:ne.orders,C.orders,((C,I)=>C.dir==I.dir&&compareFields(C.field,I.field)))),se;function compareFields(C,I){return q.Convert.asStringArray(C)==q.Convert.asStringArray(I)}}save(C=void 0){var I;return z(this,void 0,void 0,(function*(){const B={inserted:(C=null!=C?C:this.getSaveData()).inserted,updated:C.updated,deleted:C.deleted};re.Log.info((()=>["dataSource.save",B])),(q.Convert.isValue(B.inserted)||q.Convert.isValue(B.deleted)||q.Convert.isValue(B.updated))&&(yield this.updateRequest(B,null===(I=this.config.ajax)||void 0===I?void 0:I.update)),yield this.clearRows()}))}doCommand(C,I){return!!super.doCommand(C,I)&&(I.command,!0)}doPreapareRequest(C,I){q.Convert.isValue(this._onPrepareRequest)&&this._onPrepareRequest(C,I)}ensureLoader(){const C=ie.LoaderFactory.ensureLoader(this,this.config);return C.onPrepareRequest=(C,I)=>this.doPreapareRequest(C,I),re.Log.debug((()=>["ensureLoader",C.onPrepareRequest])),this.loader=C,C}changeLoader(){return ie.LoaderFactory.changeLoader(this.loader,this.config)}getGroupByField(C,I=!0){var B,Q,ie;return z(this,void 0,void 0,(function*(){const z=[{field:C,dir:ee.SortDir.Asc}],re=this.config.filters.filter((B=>1==B.fixed||I&&q.Convert.isValue(B.field)&&B.field!=C)),se={filters:re},oe=this.getBoxes(se);if(q.Convert.isNull(oe)){if(this.config.serverGrouping){const I={url:null!==(Q="function"==typeof(null===(B=this.config.ajax)||void 0===B?void 0:B.select)?void 0:this.config.ajax.select.url)&&void 0!==Q?Q:null===(ie=this.config.ajax)||void 0===ie?void 0:ie.baseUrl,groups:z,filters:re};return(yield this.selectRequest(I)).selected.map((I=>I[C]))}{const I=te.Filtering.filterList(this.loader.getAllItems(),re);return ne.GroupLoader.clientMakeGroup(I,this.loader.keyMaker,z,[],[],this).selected.map((I=>I[C]))}}{const I=te.Filtering.filterList(oe,re);return ne.GroupLoader.clientMakeGroup(I,this.loader.keyMaker,z,[],[],this).selected.map((I=>I.data[C]))}}))}calcFields(C){if(this.hasCalcFields)for(const I of C)for(const C of this.config.calculations){if(q.Convert.isNull(C.eval))continue;const B=te.Aggregate.calcFields(C,I.data);I.data[C.field]!=B&&I.setValue(B,C.field)}const I=this.hasCalcRows?C.map((C=>C.cloneData())):q.Convert.isValue(this.config.aggregates)?C.map((C=>C.data)):[];if(this.hasCalcRows)for(const C of this.config.calculations)q.Convert.isNull(C.rows)||te.BaseLoader.calculateRows(C,I)}static indexToPage(C,I){return 0==C?0:Math.ceil((C+1)/I)-1}hasFiltersOrOrders(){var C,I;return q.Convert.isValue(null===(C=this.config)||void 0===C?void 0:C.filters)||q.Convert.isValue(null===(I=this.config)||void 0===I?void 0:I.orders)}}var ue,de;I.DataSource=DataSource,DataSource._keyName="_key_",DataSource._defaultConfig={pageSize:20,batch:!1},DataSource.keySeperator="[!_!]",function(C){C.None="none",C.Normal="",C.Update="update",C.Insert="insert",C.Delete="delete"}(ue||(I.DataStatus=ue={})),function(C){C[C.Before=0]="Before",C[C.After=1]="After",C[C.First=2]="First",C[C.Last=3]="Last",C[C.Child=4]="Child"}(de||(I.InsertTo=de={}))},7392:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.NullAs=I.ScrollRange=I.FilterOperators=I.AggregateFunctions=I.RankFunctions=I.CalculationRange=I.SortDir=I.AjaxOperation=I.LoadDataType=I.MethodType=I.DataSourceParser=void 0;const z=B(5260),q=B(1163),Q=B(194),ee=B(3354);class DataSourceParser{static parseConfig(C){var I,B,z,ee,te,ie,re,ne,se,oe;const ae=null!==(B=null!==(I=DataSourceParser.combineBool(C.serverPaging,C.clientPaging))&&void 0!==I?I:this.combineBool(Q.DataSource.defaultConfig.serverPaging,Q.DataSource.defaultConfig.clientPaging))&&void 0!==B&&B,le=q.Convert.default(C.ajax,{},DataSourceParser.parseAjax),ue=DataSourceParser.adjustData(C.data,le);q.Convert.isValue(ue);let de={batch:q.Convert.default(C.batch,null===(z=Q.DataSource.defaultConfig.batch)||void 0===z||z),pageSize:q.Convert.default(C.pageSize,Q.DataSource.defaultConfig.pageSize),schema:DataSourceParser.parseSchema(C.schema),clientPaging:ae,serverPaging:ae,serverSorting:q.Convert.default(C.serverSorting,null!==(ee=Q.DataSource.defaultConfig.serverSorting)&&void 0!==ee&&ee),serverFiltering:q.Convert.default(C.serverFiltering,null!==(te=Q.DataSource.defaultConfig.serverFiltering)&&void 0!==te&&te),serverGrouping:q.Convert.default(C.serverGrouping,null!==(ie=Q.DataSource.defaultConfig.serverGrouping)&&void 0!==ie&&ie),serverAggregates:q.Convert.default(C.serverAggregates,null!==(re=Q.DataSource.defaultConfig.serverAggregates)&&void 0!==re&&re),calculations:q.Convert.default(C.calculations,[],DataSourceParser.parseCalculations),filters:q.Convert.default(C.filters,[],(C=>DataSourceParser.parseRootFilters(C))),orders:q.Convert.default(C.orders,[],DataSourceParser.parseOrders),aggregates:q.Convert.default(C.aggregates,[],DataSourceParser.parseAggregates),groups:q.Convert.default(C.groups,[],DataSourceParser.parseGroups),tree:q.Convert.default(C.tree,void 0,DataSourceParser.parseTree),lazyLoading:q.Convert.default(C.lazyLoading,!1),cachePaging:q.Convert.default(C.cachePaging,null===(ne=Q.DataSource.defaultConfig.cachePaging)||void 0===ne||ne),ajax:le,fieldsSamples:q.Convert.default(C.fieldsSamples,null!==(se=Q.DataSource.defaultConfig.fieldsSamples)&&void 0!==se?se:10),stateless:q.Convert.default(C.stateless,!1),removeDeleted:q.Convert.default(C.removeDeleted,null!==(oe=Q.DataSource.defaultConfig.removeDeleted)&&void 0!==oe&&oe),data:ue};return q.Convert.isValue(de.tree)&&DataSourceParser.adjustListMap(de.tree,de.ajax),de}static combineBool(...C){return!!C.some((C=>!0===C))||!C.some((C=>!1===C))&&void 0}static adjustListMap(C,I){q.Convert.isNull(C.order)&&(C.order=null==I?void 0:I.order)}static parseAjax(C){return{baseUrl:C.baseUrl,request:C.request,response:C.response,total:q.Convert.default(C.total,ee.AjaxProperty.totalName),selected:q.Convert.default(C.selected,ee.AjaxProperty.selectedName),inserted:q.Convert.default(C.inserted,ee.AjaxProperty.insertedName),updated:q.Convert.default(C.updated,ee.AjaxProperty.updatedName),deleted:q.Convert.default(C.deleted,ee.AjaxProperty.deletedName),aggregated:q.Convert.default(C.aggregated,ee.AjaxProperty.aggregateName),select:DataSourceParser.parseAjaxOption(C.select),update:DataSourceParser.parseAjaxOption(C.update)}}static parseCalculations(C,I){const B=[];for(const z of C)B.push(DataSourceParser.parseCalculation(z,I));return DataSourceParser.sortCalcReference(B)}static parseCalculation(C,I){var B,z;return{field:null!==(B=C.field)&&void 0!==B?B:I,require:"string"==typeof C.require?[C.require]:null!==(z=C.require)&&void 0!==z?z:[],eval:DataSourceParser.parseCalculationFunc(C.eval),rows:DataSourceParser.parseRows(C.rows),nullAs:C.nullAs,dataType:DataSourceParser.parseDataType(C.dataType),range:q.Convert.default(C.range,se.TopLevel,(()=>q.Convert.parseEnum(se,C.range))),params:this.parseParams(C.params)}}static parseRows(C){var I;if(q.Convert.isNull(C))return;if("function"==typeof C)return C;return{func:null!==(I=C.func)&&void 0!==I?I:oe.Rank,dir:q.Convert.isEmpty(C.dir)?ne.Asc:q.Convert.parseEnum(ne,C.dir)}}static sortCalcReference(C){const I=new Map,B=new Map,Q=[];for(const z in C){const ee=C[z];q.Convert.isValue(null==ee?void 0:ee.field)?(B.set(ee.field,ee),I.set(ee.field,0)):Q.push(ee)}for(const I in C){findReference(C[I])}function findReference(C){var Q;if(!q.Convert.isEmpty(null==C?void 0:C.eval))try{const z=C.require;if(q.Convert.isValue(z))for(const C of z){if(q.Convert.isWhite(C))continue;const z=(null!==(Q=I.get(C))&&void 0!==Q?Q:0)+1;if(z>50)throw`The calculation field(${C}) is being referenced too much. A circular reference is expected.`;I.set(C,z);const ee=B.get(C);q.Convert.isEmpty(ee)||findReference(ee)}}catch(C){throw z.Log.error((()=>({error:C,map:I}))),C}}const ee=[];for(const C of I.keys()){const z=B.get(C);q.Convert.isNull(z)||ee.push({calc:z,order:I.get(C)})}return[].concat(Q).concat(ee.sort(((C,I)=>I.order-C.order)).map((C=>C.calc)))}static parseCalculationFunc(C){return"function"==typeof C?C:q.Convert.parseEnum(ae,C)}static parseTree(C){return{master:C.master,parent:C.parent,level:C.level,order:C.order,leaf:C.leaf,open:C.open,checkParent:q.Convert.default(C.checkParent,!1),checkChild:q.Convert.default(C.checkChild,!1),aggregates:DataSourceParser.parseAggregates(null==C?void 0:C.aggregates),aggregateFull:q.Convert.default(C.aggregateFull,!1)}}static parseOrders(C){const I=[];for(const B of null!=C?C:[])I.push(DataSourceParser.parseOrder(B));return I}static parseOrder(C){return{field:C.field,dir:q.Convert.default(C.dir,ne.Asc,(()=>q.Convert.parseEnum(ne,C.dir))),sort:C.sort,getValue:C.getValue}}static parseGroups(C){const I=[];for(const B of null!=C?C:[])I.push(DataSourceParser.parseGroup(B));return I}static parseGroup(C){var I,B,z;return{field:C.field,dir:q.Convert.default(C.dir,ne.Asc,(()=>q.Convert.parseEnum(ne,C.dir))),groupCount:null!==(I=C.groupCount)&&void 0!==I?I:"___groupCount___",groupField:C.groupField,showFooter:C.showFooter,itemCount:null!==(B=C.itemCount)&&void 0!==B?B:"___itemCount___",aggregated:null!==(z=C.aggregated)&&void 0!==z?z:"__aggregated__",aggregates:DataSourceParser.parseAggregates(C.aggregates),isOpen:q.Convert.default(C.isOpen,!1),value:C.value}}static parseRootFilters(C){const I=DataSourceParser.parseFilters(C),B=[],z=new Map;I.forEach((C=>{const I=q.Convert.asStringArray(C.field).join("_");z.has(I)?z.get(I).push(C):z.set(I,[C])}));for(const C of z.keys()){const I=z.get(C);if(1==I.length)B.push(I[0]);else{const q={operator:le.And,field:I[0].field,filters:z.get(C)};B.push(q)}}return B}static parseFilters(C,I,B){const z=[];for(const q of C instanceof Array?C:[C])z.push(DataSourceParser.parseFilter(q,I,B));return z}static parseFilter(C,I,B){var z;const Q=q.Convert.asStringArray(C.field,I);q.Convert.isValue(C.values)&&(C.values=[].concat(C.values));const ee={field:Q,dataType:C.dataType,fixed:q.Convert.default(C.fixed,!1),operator:q.Convert.default(C.operator,void 0,(C=>"function"==typeof C?C:q.Convert.parseEnum(le,C))),values:q.Convert.default(C.values,void 0,(C=>DataSourceParser.parseFilterValues(C))),filters:q.Convert.default(C.filters,void 0,(C=>DataSourceParser.parseFilters(C,Q))),ignoreCase:null!==(z=C.ignoreCase)&&void 0!==z&&z,getValue:q.Convert.default(C.getValue,void 0),getFilterValue:q.Convert.default(C.getFilterValue,void 0)};return q.Convert.isValue(B)?B(ee):ee}static parseFilterValues(C){return"string"==typeof C?[C]:[].concat(C)}static parseAggregates(C){const I=[];for(const B of null!=C?C:[])I.push(DataSourceParser.parseAggregate(B));return DataSourceParser.sortCalcReference(I)}static parseAggregate(C){return{func:DataSourceParser.parseAggregateFunc(C.func),require:q.Convert.asStringArray(C.require),nullAs:C.nullAs,payload:C.payload,field:C.field,dataType:DataSourceParser.parseDataType(C.dataType),payloadType:DataSourceParser.parseDataType(C.payloadType),eval:DataSourceParser.parseCalculationFunc(C.eval),params:this.parseParams(C.params),value:C.value}}static parseParams(C){if(q.Convert.isNull(C))return;if("string"==typeof C)return[C];if(C instanceof Array)return C;if(C instanceof Map)return C;const I=new Map;for(const B in C)I.set(B,C[B]);return I}static parseDataType(C){if(!q.Convert.isNull(C))return"function"==typeof C?C:q.Convert.parseEnum(q.DataType,C)}static parseAggregateFunc(C){return"function"==typeof C?C:q.Convert.parseEnum(ae,C)}static adjustData(C,I){if(!q.Convert.isNull(C)){if(C instanceof Array)return[].concat(C);if(q.Convert.isEmpty(I.selected))throw"invalid data (schema.list is empty)";if(0==C.hasOwnProperty(I.selected))throw`invalid data (data has no property schema.list: [${I.selected}])`;return[].concat(C[I.selected])}}static parseAjaxOption(C){if("function"==typeof C)return C;return{url:null==C?void 0:C.url,dataType:q.Convert.default(null==C?void 0:C.dataType,ie.Json,(C=>q.Convert.parseEnum(ie,C))),loadType:q.Convert.default(null==C?void 0:C.loadType,te.Post,(C=>q.Convert.parseEnum(te,C))),request:null==C?void 0:C.request,response:null==C?void 0:C.response}}static parseSchema(C){var I,B,z,ee,te;null!=C||(C={});let ie={id:q.Convert.default(C.id,void 0,DataSourceParser.parseModelId),order:q.Convert.default(C.order,void 0),add:q.Convert.default(C.add,void 0),convert:q.Convert.default(C.convert,void 0),total:q.Convert.default(C.total,void 0),autoFields:q.Convert.default(C.autoFields,null===(B=null===(I=Q.DataSource.defaultConfig.schema)||void 0===I?void 0:I.autoFields)||void 0===B||B),convertFields:q.Convert.default(C.convertFields,null===(ee=null===(z=Q.DataSource.defaultConfig.schema)||void 0===z?void 0:z.convertFields)||void 0===ee||ee),failAs:q.Convert.default(C.failAs,C.hasOwnProperty("failAs")?C.failAs:null===(te=Q.DataSource.defaultConfig.schema)||void 0===te?void 0:te.failAs),fields:{}};if((null==C?void 0:C.fields)instanceof Object)for(let I in C.fields){if(q.Convert.isEmpty(I))continue;let B=C.fields[I],z={dataType:q.Convert.default(B.dataType,void 0,(C=>q.Convert.parseEnum(q.DataType,C))),failAs:q.Convert.default(B.failAs,B.hasOwnProperty("failAs")?B.failAs:ie.failAs),convert:q.Convert.default(B.convert,void 0),default:q.Convert.default(B.default,void 0),nullable:q.Convert.default(B.nullable,!0)};ie.fields[I]=z}return ie}static parseData(C,I,B){throw new Error("Method not implemented.")}static parseModelId(C){return"string"==typeof C?[C]:C}static parseValidation(C){return C}}var te,ie,re,ne,se,oe,ae,le,ue,de;I.DataSourceParser=DataSourceParser,function(C){C.Post="post",C.Get="get"}(te||(I.MethodType=te={})),function(C){C.Json="json"}(ie||(I.LoadDataType=ie={})),function(C){C.Select="select",C.Update="update"}(re||(I.AjaxOperation=re={})),function(C){C.Asc="asc",C.Desc="desc",C.None="none"}(ne||(I.SortDir=ne={})),function(C){C.LastLevel="last",C.TopLevel="top",C.BottomUp="step"}(se||(I.CalculationRange=se={})),function(C){C.Rank="rank"}(oe||(I.RankFunctions=oe={})),function(C){C.Sum="sum",C.Average="average",C.Avg="avg",C.Total="total",C.Count="count",C.Min="min",C.Max="max",C.First="first",C.Last="last",C.Range="range",C.Switch="switch"}(ae||(I.AggregateFunctions=ae={})),function(C){C.IsLessThan="IsLessThan",C.LessThan="<",C.IsLessThanOrEqualTo="IsLessThanOrEqualTo",C.LessThanOrEqualTo="<=",C.IsEqualTo="IsEqualTo",C.EqualTo="==",C.IsNotEqualTo="IsNotEqualTo",C.NotEqualTo="!=",C.IsGreaterThanOrEqualTo="IsGreaterThanOrEqualTo",C.GreaterThanOrEqualTo=">=",C.IsGreaterThan="IsGreaterThan",C.GreaterThan=">",C.StartsWith="StartsWith",C.NotStartsWith="NotStartsWith",C.EndsWith="EndsWith",C.NotEndsWith="NotEndsWith",C.Contains="Contains",C.NotContains="NotContains",C.In="In",C.NotIn="NotIn",C.IsNull="IsNull",C.IsNotNull="IsNotNull",C.IsEmpty="IsEmpty",C.IsNotEmpty="IsNotEmpty",C.IsNullOrEmpty="IsNullOrEmpty",C.IsNotNullOrEmpty="IsNotNullOrEmpty",C.FromTo="FromTo",C.NotFromTo="NotFromTo",C.And="And",C.Or="Or"}(le||(I.FilterOperators=le={})),function(C){C.Auto="auto",C.Page="page",C.Whole="whole"}(ue||(I.ScrollRange=ue={})),function(C){C.Ignore="ignore"}(de||(I.NullAs=de={}))},2351:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GroupLoader=void 0;const q=B(1163),Q=B(7392),ee=B(3354),te=B(5260),ie=B(6105),re=B(6105),ne=B(194);class GroupLoader extends re.BaseLoader{get clientMap(){return this._clientMap}prepareRequest(C,I,B,z){let Q=super.prepareRequest(C,I,B,z);if(q.Convert.isNull(C));else for(;0==q.Convert.isNull(C);){for(let I of Q.groups)if(I.field==C.igroup.field){I.value=C.groupKey;break}C=C.parent}return Q}clientLoad(C,I){var B,Q,ee,ne,se;return z(this,void 0,void 0,(function*(){te.Log.time("clientLoad"),null!=I||(I=(yield this.dataSource.selectRequest(C)).selected),(0==re.BaseLoader.compareFilters(null===(B=this.request)||void 0===B?void 0:B.filters,C.filters)||0==re.BaseLoader.compareOrders(null===(Q=this.request)||void 0===Q?void 0:Q.orders,C.orders)||0==re.BaseLoader.compareGroups(null===(ee=this.request)||void 0===ee?void 0:ee.groups,C.groups)||q.Convert.isNull(this._clientMap))&&(te.Log.debug((()=>"make map")),I=[].concat(I),I=ie.Filtering.filterList(I,C.filters),I=ie.Sorting.sortList(I,C.groups,C.orders),this.config.lazyLoading&&this.ensureMap(I),te.Log.debug((()=>"make map end")));let z={};return(null!==(se=null===(ne=C.groups)||void 0===ne?void 0:ne.length)&&void 0!==se?se:0)>0&&(z=this.config.lazyLoading?GroupLoader.clientFindData(this.clientMap,this.keyMaker,C,this.config.serverPaging,this.dataSource):GroupLoader.clientMakeGroup(I,this.keyMaker,C.groups,this.config.aggregates,this.config.calculations,this.dataSource)),te.Log.timeLog("clientLoad",I.length),te.Log.timeEnd("clientLoad"),te.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,length:z.selected.length}))),z}))}serverLoad(C){var I,B;return z(this,void 0,void 0,(function*(){if((null!==(B=null===(I=this.clientMap)||void 0===I?void 0:I.size)&&void 0!==B?B:0)>0)if(this.config.serverGrouping)this.config.lazyLoading,this.config.serverPaging;else{if(this.config.lazyLoading)return yield this.clientLoad(C);this.config.serverPaging}return yield this._serverLoad(C)}))}_serverLoad(C){return z(this,void 0,void 0,(function*(){const I=C.groups;0==this.config.serverGrouping&&(C.groups=void 0,q.Convert.isNull(C.orders)?C.orders=[].concat(I):C.orders=[].concat(I).concat(C.orders));const B=yield this.dataSource.selectRequest(C),z=B.selected,ie=B.total;let re={};if(this.config.serverPaging&&(re.total=ie),q.Convert.isValue(C.aggregates)&&this.config.serverAggregates&&(re.aggregated=B.aggregated),1==this.config.serverGrouping){C.groups.some((C=>q.Convert.isEmpty(C.value)))?(re.selected=GroupLoader.serverMakeGroup(z,this.keyMaker,this.config.calculations,C.groups,this.dataSource),re.total=ie):re.selected=z.map(((C,I)=>new ee.ListNode(this.dataSource.createBox(C,I),this.keyMaker,I)))}else 1==this.config.serverPaging?(this._clientMap=void 0,C.groups=I,re=C.scrollRange==Q.ScrollRange.Whole?yield this.clientLoad(C,this.dataSource.getBoxes()):yield this.clientLoad(C)):(this.dataSource.setBoxes(C,z),C.groups=I,re=yield this.clientLoad(C));return q.Convert.isValue(ie)&&(this.dataSource.total=ie),te.Log.debug((()=>["_serverLoad",C,re])),re}))}loaded(C,I,B){let z=[];if(this.config.serverPaging)z=this.serverPaging(C,I,B);else if(z=C.selected,q.Convert.isNull(B)?this.nodeCount=C.selected.length:B.nodeCount=C.selected.length,q.Convert.isValue(B))for(let C of z)B.addNode(C);else for(let C of z)C.index=this.nodes.length,this.nodes.push(C);return z}static clientFindData(C,I,B,z,ie){const re=[];let ne;const se=B.groups;te.Log.debug((()=>["clientFindData",B]));for(const C of se){if(ne=C,q.Convert.isNull(C.value))break;re.push(C.value)}let oe={selected:[]};const ae=re.join(GroupLoader.seperator);let le=C.get(ae);const ue=(""==ae?0:re.length)!=se.length;if(q.Convert.isValue(le)){let C=0;oe.total=le.length,z&&q.Convert.isValue(B.pageSize)&&(C=B.pageNo*B.pageSize,le=[].concat(le).splice(C,B.pageSize));for(const B in le){const z=le[B],te=z instanceof ee.Box?z.data:z;if(ue){let B=Q.DataSourceParser.parseGroup(ne);const z=te[B.field],re=te[B.itemCount],se=te[this.aggregatesField];let ae={};for(let C in te)ae[C]=te[C];delete ae[B.itemCount],delete ae[GroupLoader.aggregatesField];const le=new ee.GroupNode(void 0,z,ae,I,B,ie);le.itemCount=re,le.index=C++,le.igroup.aggregates=se,le.footer=q.Convert.isValue(se)?new ee.FooterNode(le,I,se):void 0,oe.selected.push(le)}else{const Q=new ee.ListNode(z,I,q.Convert.asNumber(B));Q.index=C++,oe.selected.push(Q)}}}return oe}static clientMakeGroup(C,I,B,z,Q,ie){let re=new Map;te.Log.time("clientMakeGroup");const ne=C.keys();for(const z of ne){let Q=C[z];if(q.Convert.isEmpty(Q))continue;let te,ne=re;const se={};for(let C of B){let B=Q.data[C.field];if(se[C.field]=B,q.Convert.isValue(C.value)&&B!=C.value){te=void 0;break}if(0==ne.has(B)){let z={};for(let C in se)z[C]=se[C];let Q=new ee.GroupNode(te,B,z,I,C,ie);q.Convert.isNull(te)?ne.set(B,Q):te.addNode(Q),te=Q,ne=Q.map}else te=ne.get(B),ne=te.map}null==te||te.addNode(new ee.GroupItem(Q,I,z))}let se=[],oe=0;for(let C of re.values())C.index=oe++,se.push(C);te.Log.timeLog("clientMakeGroup");const ae=GroupLoader.makeGroupTotal(se,void 0,Q,I);return this.makeTotal(ae,z,C),te.Log.timeEnd("clientMakeGroup"),{selected:se,total:se.length,aggregated:z}}calcAggregates(){if(this.dataSource.updateIndex>0)return;let C=GroupLoader.makeGroupTotal(this.nodes,this.filter,this.config.calculations,this.keyMaker);q.Convert.isValue(C)&&GroupLoader.makeTotal(C,this.config.aggregates,this.dataSource.getBoxes().map((C=>C.data)))}static makeTotal(C,I,B){if(q.Convert.isValue(I)){const B=C.map((C=>C.data));q.Convert.isValue(I)&&ie.Aggregate.aggregates(B,I,!1)}}static groupKeyMaker(C,I,B){const z=[];for(const q of C)if(z.push(`${q.field}_${B}`),q.field==I)break;return"_group_"+z.join("/")}static serverMakeGroup(C,I,B,z,te){let ie=new Map;for(let B of C){let C,re=ie;const ne={},se=B instanceof ee.DataBox?B.data:B;for(let B of z){B=Q.DataSourceParser.parseGroup(B);let z=se[B.field];if(q.Convert.isNull(z))break;if(ne[B.field]=z,q.Convert.isValue(B.value)){if(z!=B.value)break}else if(0==re.has(z)){let Q={};for(let C in ne)Q[C]=ne[C];let ie=new ee.GroupNode(C,z,Q,I,B,te);const oe=se[B.aggregated],ae=se[B.itemCount],le=se[B.groupCount];if(q.Convert.isValue(oe)&&oe instanceof Array){const C=oe;for(const I of ie.igroup.aggregates){const B=C.find((C=>C.field==I.field));q.Convert.isValue(B)&&(I.value=B.value)}}q.Convert.isValue(ae)&&(ie.itemCount=ae),q.Convert.isValue(le)&&(ie.nodeCount=le,0==ie.nodeCount&&(ie.nodeCount=void 0)),q.Convert.isNull(C)?re.set(z,ie):C.addNode(ie),C=ie,re=ie.map}else C=re.get(z),re=C.map}}const re=[];let ne=0;for(const C of ie.values())C.index=ne++,re.push(C);return GroupLoader.makeGroupTotal(re,void 0,B,I),re}clearRows(){super.clearRows(),this._clientMap=void 0}hasRows(C,I){const B={pageNo:0,hasPage:!1};return q.Convert.isNull(C)?(B.hasPage=q.Convert.isValue(this.nodeCount),B):(q.Convert.isNull(C.nodeCount)||(B.hasPage=!0),B)}ensureMap(C){const I=new Map;this._clientMap=new Map;for(const B of C){if(q.Convert.isNull(B))continue;const C=B.data,z=[],Q=[],ee={};for(const B of this.config.groups){B.field;const q=C[B.field];z.push(q);const te=Q.join(GroupLoader.seperator),ie=I.has(te)?I.get(te):new Map;ee[B.field]=q;let re={};for(let C in ee)re[C]=ee[C];0==ie.has(q)&&ie.set(q,re),I.set(te,ie),Q.push(q)}const te=z.join(GroupLoader.seperator);this._clientMap.has(te)?this._clientMap.get(te).push(B):this._clientMap.set(te,[B])}for(const C of this._clientMap.keys()){const B=C.split(GroupLoader.seperator);for(;B.length>0;){B.join(GroupLoader.seperator);const z=B.pop(),Q=B.join(GroupLoader.seperator);if(I.has(Q)){const ee=I.get(Q);if(ee.has(z)){const I=ee.get(z),Q=""==C?this.config.groups[0]:this.config.groups[B.length];q.Convert.isNull(I[Q.itemCount])&&(I[Q.itemCount]=0);const te=this._clientMap.get(C);I[Q.itemCount]+=te.length,q.Convert.isValue(null==Q?void 0:Q.aggregates)&&(null==Q?void 0:Q.aggregates.length)>0&&(q.Convert.isNull(I[GroupLoader.itemsField])&&(I[GroupLoader.itemsField]=[]),I[GroupLoader.itemsField]=I[GroupLoader.itemsField].concat(te))}}}}for(const C of I.keys()){const B=[],z=this.config.groups[""==C?0:C.split(GroupLoader.seperator).length];for(const Q of I.get(C)){const C=Q[1];B.push(C),q.Convert.isValue(null==z?void 0:z.aggregates)&&(null==z?void 0:z.aggregates.length)>0&&(C[GroupLoader.aggregatesField]=ie.Aggregate.aggregates(C[GroupLoader.itemsField],z.aggregates,!0),delete C[GroupLoader.itemsField])}this._clientMap.set(C,B)}return q.Convert.isValue(this.config.aggregates)&&(this.config.aggregates=ie.Aggregate.aggregates(C,this.config.aggregates,!0)),this._clientMap}static makeGroupTotal(C,I,B,z){var te;let re=[],ne=!1,se=!1;const oe=B.some((C=>q.Convert.isValue(C.eval))),ae=B.some((C=>q.Convert.isValue(C.rows)));for(const ae of C)if(!q.Convert.isNull(ae))if(ae instanceof ee.GroupNode){const C=this.makeGroupTotal(ae.nodes,I,B,z);ae.nodes.length>0&&(ae.nodeCount=ae.nodes.length),C.length>0&&(ae.itemCount=C.length),ae.igroup=Q.DataSourceParser.parseGroup(ae.igroup),q.Convert.isValue(ae.igroup.aggregates)&&(C.length>0&&(ae.igroup.aggregates=ie.Aggregate.aggregates(C.map((C=>C.data)),ae.igroup.aggregates,!0)),q.Convert.isNull(ae.footer)?ae.footer=new ee.FooterNode(ae,z,ae.igroup.aggregates):ae.footer.aggregates=ae.igroup.aggregates),re=re.concat(C),se=0==ae.level}else oe&&this.calcFields(ae,B),1==(null===(te=null==I?void 0:I(ae))||void 0===te||te)&&re.push(ae),ne=!0;return ae&&GroupLoader.calcRows(re,B,ne,se),re}static calcFields(C,I){for(const B of I)if(q.Convert.isValue(B.eval)){const I=ie.Aggregate.calcFields(B,C.data);C.setData(I,B.field)}}static calcRows(C,I,B,z){if(I.some((C=>q.Convert.isValue(C.rows)))){const ee=C.map((C=>C.cloneData()));for(const C of I)q.Convert.isValue(C.rows)&&(C.range==Q.CalculationRange.BottomUp||C.range==Q.CalculationRange.LastLevel&&B||C.range==Q.CalculationRange.TopLevel&&z)&&re.BaseLoader.calculateRows(C,ee)}}search(){return z(this,void 0,void 0,(function*(){te.Log.debug((()=>["GroupLoader.search"])),q.Convert.isValue(this.clientMap&&this.clientMap.size>0)&&GroupLoader.reorderClientMap(this.clientMap,this.config.groups,this.config.orders),GroupLoader.reorderNodes(this.nodes,this.nodeCount,this.config.groups,this.config.orders),te.Log.debug((()=>["Loader.search","end"]))}))}static reorderNodes(C,I,B,z){var te;if(!q.Convert.isNull(I))if(C.length===I){const I=C[0];if(I instanceof ee.GroupNode){const q=null===(te=B.find((C=>C.field==I.igroup.field)))||void 0===te?void 0:te.dir;I.igroup.dir=q,C.sort(((C,I)=>C.groupKey<I.groupKey?q==Q.SortDir.Asc?-1:1:q==Q.SortDir.Asc?1:-1));for(const I of C)this.reorderNodes(I.nodes,I.nodeCount,B,z)}else{const I={field:"originIndex",dir:Q.SortDir.Asc};ie.Sorting.sortList(C,B,z.concat(I),((C,B)=>B.field!=I.field?C.value(B.field):C.box.originIndex))}for(let I=0;I<C.length;I++)C[I].index=I}else C.splice(0)}static reorderClientMap(C,I,B){for(const z of C.keys()){const q=C.get(z);ie.Sorting.sortList(q,I,B)}}insertNode(C,I,B,z,Q=!1){var te;if(Q)return this.removeNode(C,I,B,z);if(0==this.dataSource.insertMap.has(B.key))return I;const ie=z==ne.InsertTo.Last||z==ne.InsertTo.Child?C.nodes.length:z==ne.InsertTo.First?0:null!==(te=(null==I?void 0:I.index)+(z==ne.InsertTo.After?1:0))&&void 0!==te?te:0,se=new ee.GroupItem(B,re.BaseLoader.symbolKeyMaker,ie);return q.Convert.isValue(C)?C.addNode(se,ie):q.Convert.isValue(I.parent)&&I.parent.addNode(se,ie),this.calcAggregates(),se}removeNode(C,I,B,z,Q=!1){var ee;if(Q)return this.insertNode(C,I,B,z);if(this.dataSource.deleteMap.has(B.key))return I;const te=I,ie=null!==(ee=I.parent)&&void 0!==ee?ee:C;return q.Convert.isValue(ie)&&ie.removeNode(te),te.parent=ie,this.calcAggregates(),te}makeAllItemsData(C){let I=[];for(const B of C)B instanceof ee.GroupNode?I=I.concat(this.makeAllItemsData(B.nodes)):B instanceof ee.GroupItem&&I.push(B.data);return I}getAllItems(){return this.makeAllItemsData(this.nodes)}moveToNode(C,I,B){var z;const Q=null!==(z=this.dataSource.orderMap)&&void 0!==z?z:[];if(q.Convert.isNull(C.parent)&&q.Convert.isNull(I.parent))return re.BaseLoader.moveToList(this.nodes,C,I,B,Q);I instanceof ee.GroupNode?(B&&I.index>0&&(I=q.Convert.isNull(I.parent)?this.nodes[I.index-1]:I.parent.nodes[I.index-1]),I instanceof ee.GroupNode&&(C.parent.removeNode(C),I.addNode(C,void 0,Q),I.isOpen=!0)):q.Convert.isValue(C.parent)&&q.Convert.isValue(I.parent)&&(C.moveTo(I,B,Q),I.parent.isOpen=!0);GroupLoader.makeGroupTotal(this.nodes,this.filter,this.config.calculations,this.keyMaker);return Q}}I.GroupLoader=GroupLoader,GroupLoader.seperator="[_!!_]",GroupLoader.aggregatesField="___aggregates___",GroupLoader.itemsField="___items___"},5060:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ListLoader=void 0;const q=B(1163),Q=B(6105),ee=B(6105),te=B(3354),ie=B(5260),re=B(194),ne=B(7392);class ListLoader extends ee.BaseLoader{constructor(C){super(C),this._clientRows=[]}get clientRows(){var C;return null!==(C=this._clientRows)&&void 0!==C?C:this._clientRows=[]}search(){return z(this,void 0,void 0,(function*(){ie.Log.debug((()=>["ListLoader.search"])),q.Convert.isEmpty(this.nodes)?this.dataSource.sortOriginIndex():(ListLoader.reorderNodes(this.nodes,this.nodeCount,this.config.orders,this.dataSource.pageOnly&&0==this.config.serverSorting),q.Convert.isEmpty(this.config.orders)&&this.dataSource.sortOriginIndex()),ie.Log.debug((()=>["ListLoader.search",[].concat(this.nodes)]))}))}static reorderNodes(C,I,B,z){if(0==z&&(C.length<I||C.findIndex((C=>q.Convert.isNull(C)))>=0))return void C.splice(0);const ee={field:"__originIndex__",dir:ne.SortDir.Asc};B=[].concat(B).concat(ee),Q.Sorting.sortList(C,[],B,((C,I)=>I.field!=ee.field?C.value(I.field):C.box.originIndex));for(let I=0;I<C.length;I++){const B=C[I];q.Convert.isNull(B)||(B.index=I)}}loaded(C,I,B){let z=[];if(q.Convert.isNull(C))return z;if(q.Convert.isValue(C.aggregated)&&this.dataSource.applyAggregated(C.aggregated),0==this.isPaging){let I=C.selected;this.nodes.splice(0);let B=0;if(q.Convert.isValue(I))for(const C of I)C.index=B,this.nodes.push(C),z.push(C),B++;q.Convert.isEmpty(C.aggregated)&&this.makeTotal(this.nodes,this.filter,this.config.aggregates),this.nodeCount=I.length}else{const B=this.dataSource.getPageMap(I);this.adjustNodeCount(B,I),z=this.serverPaging(C,I,void 0)}return z}adjustNodeCount(C,I){var B,z,q,Q;if(!(this.dataSource.config.serverFiltering||(null===(z=null===(B=this.dataSource)||void 0===B?void 0:B.config)||void 0===z?void 0:z.serverSorting))&&(null===(q=this.dataSource)||void 0===q?void 0:q.hasFiltersOrOrders())){const C=this.dataSource.getPageBoxes(I,I.scrollRange==ne.ScrollRange.Whole?void 0:I.pageNo);this.nodeCount=null!==(Q=null==C?void 0:C.length)&&void 0!==Q?Q:0}else this.nodeCount=C.adjustedTotal}clientLoad(C){return z(this,void 0,void 0,(function*(){return yield this.serverLoad(C)}))}clientSelect(C,I){let B=[];const z=C.keys();for(const I of z){const z=C[I];B.push(new te.ListNode(z,this.keyMaker,I))}return B}serverLoad(C){var I,B;return z(this,void 0,void 0,(function*(){const z=yield this.dataSource.selectRequest(C);let ee=z.selected;const te=z.total,re={};return this.isPaging?(re.total=te,this.dataSource.total=re.total):(re.total=te,null!==(I=(B=this.dataSource).total)&&void 0!==I||(B.total=ee.length)),0==this.config.serverFiltering&&q.Convert.isValue(C.filters)&&(ee=Q.Filtering.filterList(ee,C.filters)),0==this.config.serverSorting&&(q.Convert.isValue(C.groups)||q.Convert.isValue(C.orders))&&(ee=Q.Sorting.sortList(ee,C.groups,C.orders)),q.Convert.isValue(C.aggregates)&&this.config.serverAggregates&&(re.aggregated=z.aggregated),re.selected=this.serverSelect(ee,C),ie.Log.debug((()=>["serverLoad",C,re])),re}))}serverSelect(C,I){var B;const z=[];C=this.adjustServerResponse(I,C);let Q=null!==(B=I.nodeIndex)&&void 0!==B?B:0;if(q.Convert.isValue(C))for(const I of C)z.push(new te.ListNode(null!=I?I:{},this.keyMaker,Q)),Q++;return z}makeTotal(C,I,B){if(!this.config.serverAggregates&&(q.Convert.isValue(this.config.aggregates)||q.Convert.isValue(this.config.calculations))){if(C=q.Convert.isNull(I)?C:C.filter(I),this.dataSource.hasCalcFields)for(const I of C)for(const C of this.config.calculations){if(q.Convert.isNull(C.eval))continue;const B=Q.Aggregate.calcFields(C,I.data);I.data[C.field]!=B&&I.setData(B,C.field)}const B=this.dataSource.hasCalcRows?C.map((C=>C.cloneData())):q.Convert.isValue(this.config.aggregates)?this.nodes.map((C=>C.data)):[];if(this.dataSource.hasCalcRows)for(const C of this.config.calculations)q.Convert.isNull(C.rows)||ee.BaseLoader.calculateRows(C,B);q.Convert.isValue(this.config.aggregates)&&Q.Aggregate.aggregates(B,this.config.aggregates,!1)}}calcAggregates(){this.dataSource.updateIndex>0||this.makeTotal(this.nodes,this.filter,this.config.aggregates)}adjustIndex(C){for(let I=C,B=this.nodes.length;I<B;I++){const C=this.nodes[I];q.Convert.isNull(C)||(C.index=I)}}insertNode(C,I,B,z,Q=!1){if(Q)return this.removeNode(C,I,B,z);if(0==this.dataSource.removeDeleted&&0==this.dataSource.insertMap.has(B.key))return I;let ie;const ne=z==re.InsertTo.Last?this.nodes.length:z==re.InsertTo.First||q.Convert.isNull(I)?0:I.index+(z==re.InsertTo.After?1:0);return ie=new te.ListNode(B,ee.BaseLoader.symbolKeyMaker,ne),ie.index=ne,this.nodes.splice(ne,0,ie),this.nodeCount++,this.adjustIndex(ne),this.calcAggregates(),ie}removeNode(C,I,B,z,q=!1){if(q)return this.insertNode(C,I,B,z);if(0==this.dataSource.removeDeleted&&this.dataSource.deleteMap.has(B.key))return I;const Q=I.index;return this.nodes.splice(Q,1),this.nodeCount--,this.adjustIndex(Q),this.calcAggregates(),this.nodes[Q]}getAllItems(){return this.nodes.map((C=>C.data))}moveToNode(C,I,B){return ee.BaseLoader.moveToList(this.nodes,C,I,B,this.dataSource.orderMap)}}I.ListLoader=ListLoader},512:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.LoaderFactory=void 0;const z=B(1163),q=B(5060),Q=B(6140),ee=B(2351),te=B(5260);I.LoaderFactory=class LoaderFactory{static ensureLoader(C,I){var B,ie,re;return te.Log.debug((()=>({f:"ensureLoader",dataSource:C,config:I}))),z.Convert.isValue(I.groups)?new ee.GroupLoader(C):z.Convert.isValue(null===(B=I.tree)||void 0===B?void 0:B.level)||z.Convert.isValue(null===(ie=I.tree)||void 0===ie?void 0:ie.master)&&z.Convert.isValue(null===(re=I.tree)||void 0===re?void 0:re.parent)?new Q.TreeLoader(C):new q.ListLoader(C)}static changeLoader(C,I){const B=C.stopLoader();return te.Log.debug((()=>["changeLoader",B])),B}}},3354:(C,I,B)=>{"use strict";var z;Object.defineProperty(I,"__esModule",{value:!0}),I.AjaxProperty=I.FixedFields=I.PivotNode=I.GroupNode=I.TreeNode=I.TreeCheck=I.ParentNode=I.FooterNode=I.GroupItem=I.ListNode=I.ItemNode=I.DataBox=I.Box=I.Status=void 0;const q=B(5260),Q=B(1163),ee=B(6105),te=B(194);var ie,re;!function(C){C.None="",C.Update="U",C.Insert="I",C.Delete="D"}(ie||(I.Status=ie={}));class Box{constructor(C,I,B){this._data=C,this._originData=C,this._originIndex=B,Q.Convert.isNull(C)&&q.Log.warn((()=>"data is null")),this._key=I(this._data,B),this._data._key_=this._key}static create(C,I,B){return new Box(C,I,B)}get key(){return this._key}get data(){return this._data}set data(C){this._data!==C&&(this._data=C)}get originData(){return this._originData}get originIndex(){return this._originIndex}set originIndex(C){this._originIndex=C}get modified(){return this.data!==this.originData}get calcFields(){return!1}getValue(C=void 0){var I,B;return Q.Convert.isEmpty(C)?this.data:(null===(I=this.data)||void 0===I?void 0:I.hasOwnProperty(C))?this.data[C]:(null===(B=this.calc)||void 0===B?void 0:B.hasOwnProperty(C))?this.calc[C]:void 0}cloneData(){if(this.modified)return this.data;const C={};for(const I in this.data)C[I]=this.data[I];return this.data=C,C}getStatus(){return this.data[FixedFields.status]}setStatus(C){Q.Convert.isEmpty(C)?delete this.data[FixedFields.status]:this.data[FixedFields.status]=C}setValue(C,I){if(Q.Convert.isEmpty(I)){if(C===this.data)return!1;this.data=C}else{if(C===this.getValue(I))return!1;0==this.modified&&this.cloneData(),this.data[I]=C}return!Q.Convert.isSame(this.originData,this.data)}get calc(){var C;return null!==(C=this._calc)&&void 0!==C?C:this._calc={}}set calc(C){this._calc!==C&&(this._calc=C)}}I.Box=Box;class DataBox extends Box{get dataSource(){return this._dataSource}set dataSource(C){this._dataSource=C}constructor(C,I,B,z){super(I,B,z),this._dataSource=C,C.keyMap.set(this.key,this),C.adjustOriginIndex(z)}static create(C,I,B,z=void 0){return C instanceof DataBox?C:(C=z.convertData(C),new DataBox(z,C,I,B))}get calcFields(){return!0}get originIndex(){return super.originIndex}set originIndex(C){super.originIndex!=C&&(super.originIndex=C,this.dataSource.adjustOriginIndex(C))}setStatus(C){super.setStatus(C)}setValue(C,I){var B,z;Q.Convert.isValue(I)&&1==(null===(z=null===(B=this.dataSource.config.schema)||void 0===B?void 0:B.fields)||void 0===z?void 0:z.hasOwnProperty(I))&&(C=this.dataSource.convertField(C,I));const q=super.setValue(C,I);let ee=this.isSameSchema();return this.dataSource.updateBox(this,ee),q}isSameSchema(){let C=!0;for(const I of this.dataSource.fieldSet.keys())if(C=Q.Convert.isSameValue(this.originData[I],this.data[I]),0==C)break;return C}get status(){return this.dataSource.getStatus(this)}}I.DataBox=DataBox;class ItemNode{constructor(C,I,B){this._box=C instanceof Box?C:new Box(C,I,B),this._gIndex=ItemNode._maxIndex++,C instanceof DataBox&&C.dataSource.loader.nodeMap.set(C.key,this)}get box(){return this._box}get key(){return this.box.key}get data(){return this.box.data}set data(C){this.box.data=C,this.box.calc=void 0}get calc(){return this.box.calc}get status(){return this.box instanceof DataBox?this.box.status:te.DataStatus.None}get modified(){return this.box.modified}get calcFields(){return!0}get originData(){return this.box.originData}get originIndex(){return this.box.originIndex}get parent(){return this._parent}set parent(C){this.parent!==C&&(this._parent=C,this._treeIndex=void 0)}get level(){var C;return this.parent instanceof ParentNode?(null!==(C=this.parent.level)&&void 0!==C?C:-1)+1:0}set level(C){}get index(){return this._index}set index(C){if(this._index===C)return;const I=this._index;this._index=C,this._treeIndex=void 0,this.setOrder(I,C)}get treeIndex(){var C;return null!==(C=this._treeIndex)&&void 0!==C?C:this._treeIndex=(this.parent instanceof ParentNode?this.parent.treeIndex+".":"")+Q.Convert.lpad(this.index+"",ItemNode.TreeIndexLength,"0")}getOrderFunc(){var C,I;return this.box instanceof DataBox?null===(I=null===(C=this.box.dataSource)||void 0===C?void 0:C.config.schema)||void 0===I?void 0:I.order:void 0}setOrder(C,I){const B=this.getOrderFunc();if(Q.Convert.isValue(B))if("function"==typeof B){if(I!=B(this.data)){const C=Q.Convert.cloneData(this.data);B(C,I),this.setData(C,void 0)}}else this.setData(I,B)}setData(C,I){return this.box.setValue(C,I)}cloneData(){return this.box.cloneData()}value(C){return this.box.getValue(C)}}I.ItemNode=ItemNode,ItemNode._maxIndex=0,ItemNode.TreeIndexLength=5;I.ListNode=class ListNode extends ItemNode{};class GroupItem extends ItemNode{static getGroupKeys(C,I=void 0){if(!Q.Convert.isNull(C))return I=null!=I?I:new Map,C instanceof GroupNode&&I.set(C.igroup.field,C.groupKey),this.getGroupKeys(C.parent,I),I}moveTo(C,I,B){var z;if(Q.Convert.isNull(C))return;if(Q.Convert.isValue(this.parent)&&this.parent==C.parent)return void ee.BaseLoader.moveToList(this.parent.nodes,this,C,I,B);const te=C.index+(I?0:1);null===(z=this.parent)||void 0===z||z.removeNode(this),C instanceof GroupNode?(q.Log.debug((()=>["target is GroupNode",C.key])),C.addNode(this,void 0,B)):C.parent.addNode(this,te,B),q.Log.debug((()=>["moveTo",C.parent.data,this.data]))}}I.GroupItem=GroupItem;class FooterNode extends ItemNode{get calcFields(){return!1}constructor(C,I,B){super(C,(I=>FooterNode.footerKeyMaker(C,I.data)),0),this.parent=C,this._aggregates=B}static footerKeyMaker(C,I){const B=[];for(const C in I)B.push(`${C}:${I[C]}`);return"__footer__ "+C.key}get aggregates(){return this._aggregates}set aggregates(C){this._aggregates=C}get index(){return this.data instanceof ParentNode?this.data.nodeCount:0}value(C){return this.data instanceof ParentNode?this.data.value(C):void 0}get level(){return this.data instanceof ParentNode?this.data.level+1:0}set level(C){}}I.FooterNode=FooterNode;class ParentNode extends ItemNode{constructor(C,I,B,z,q){super(I,B,z),this.parent=C}get parent(){return this._parent}set parent(C){this._parent!==C&&(this._parent=C)}get nodes(){var C;return null!==(C=this._nodes)&&void 0!==C?C:this._nodes=[]}get nodeCount(){return this._nodeCount}set nodeCount(C){this._nodeCount=C}get isLeaf(){return this._isLeaf}set isLeaf(C){this._isLeaf=C}get isOpen(){return this._isOpen}set isOpen(C){this._isOpen=C}get level(){var C;return null!==(C=this._level)&&void 0!==C?C:0}set level(C){this._level!=C&&(this._level=C)}get hasFooter(){return Q.Convert.isValue(this._footer)}get footer(){return this._footer}set footer(C){var I;Q.Convert.isValue(this.footer)&&(null===(I=this.footer)||void 0===I?void 0:I.parent)==(null==C?void 0:C.parent)?this._footer.aggregates=C.aggregates:this._footer=C}get openCount(){let C=this.isOpen?this.nodeCount+(this.hasFooter?1:0):0;for(const I of this.nodes)I instanceof ParentNode&&(C+=I.openCount);return C}moveTo(C,I,B){var z,q;if(Q.Convert.isNull(C))return;let te=C;for(;Q.Convert.isValue(te=te.parent);)if(te==this)return;if(Q.Convert.isValue(this.parent)&&this.parent==C.parent)return void ee.BaseLoader.moveToList(this.parent.nodes,this,C,I,B);const ie=C.index+(I?0:1);null===(z=this.parent)||void 0===z||z.removeNode(this),null===(q=C.parent)||void 0===q||q.addNode(this,ie)}addNode(C,I,B=void 0){let z=Q.Convert.isNull(B)?-1:this.nodes.findIndex((I=>I.key==C.key));if(z>=0&&(this.nodes.splice(z,1),ParentNode.adjustIndex(this.nodes,z)),Q.Convert.isNull(I)?(this.nodes.push(C),C.index=this.nodes.length-1):(this.nodes.splice(I,0,C),C.index=I,ParentNode.adjustIndex(this.nodes,I)),0==Q.Convert.isNull(B)){const C=this.nodes.map((C=>C.box.originIndex)).sort(((C,I)=>C-I));this.nodes.forEach(((I,z)=>{const q=I.box.originIndex,Q=C[z];q!=Q&&B.push({key:I.key,oldIndex:q,newIndex:Q})}))}this.nodeCount=this.nodes.length,z<0&&(C.level=this.level+1,C.parent=this)}removeNode(C){let I=this.nodes.findIndex((I=>I.key==C.key));I>=0&&(this.nodes.splice(I,1),this.nodeCount=this.nodes.length,ParentNode.adjustIndex(this.nodes,I),C.parent=void 0,q.Log.debug((()=>({f:"removeNode",nodes:this.nodes}))))}static adjustIndex(C,I=0){for(let B of C.keys()){if(B<I)continue;let z=C[B];Q.Convert.isNull(z)||(z.index=B)}}bfsSearch_old(C){if(!Q.Convert.isNull(C)){var I=new Q.Queue;for(I.push(this);I.any();){var B=I.pop();if(C(B))return B;if(B instanceof ParentNode)for(let C of B.nodes)I.push(C)}}}bfsSearch(C){let I=[this];return Q.Arrays.bfsSearch(I,(I=>!0===C(I)||(I instanceof ParentNode?I.nodes:[])))}dfsSearch(C){let I=[this];return Q.Arrays.dfsSearch(I,(I=>!0===C(I)||(I instanceof ParentNode?I.nodes:[])))}*bfsIterator(){var C=new Q.Queue;for(C.push(this);C.any();){var I=C.pop();if(yield I,I instanceof ParentNode)for(let B of I.nodes)C.push(B)}}bfsAction(C){let I=[this];Q.Arrays.bfsAction(I,(I=>!1===C(I)?[]:I instanceof ParentNode?I.nodes:[]))}dfsAction(C){let I=[this];Q.Arrays.dfsAction(I,(I=>!1===C(I)?[]:I instanceof ParentNode?I.nodes:[]))}dfsSearch_old(C){if(!Q.Convert.isNull(C)){var I=new Q.Stack;for(I.push(this);I.any();){var B=I.pop();if(C(B))return B;if(B instanceof ParentNode)for(let C of B.nodes.reverse())I.push(C)}}}}I.ParentNode=ParentNode,function(C){C[C.None=0]="None",C[C.Check=1]="Check",C[C.Half=2]="Half"}(re||(I.TreeCheck=re={}));I.TreeNode=class TreeNode extends ParentNode{constructor(C,I,B,z,q,ee){if(super(C,I,B,z,ee),this._treeMap=q,Q.Convert.isNull(q))throw"treeMap is null"}get treeMap(){return this._treeMap}get checked(){var C;return null!==(C=this._checked)&&void 0!==C?C:this._checked=re.None}set checked(C){this._checked!==C&&(this._checked=C)}toggleCheck(C){var I;let B;if(Q.Convert.isValue(C))B=C?re.Check:re.None;else switch(this.checked){case re.Check:B=re.None;break;case re.Half:case re.None:B=re.Check}if(this._checked=B,this.treeMap.checkParent&&Q.Convert.isValue(this.parent)){let C=this;for(;Q.Convert.isValue(C=C.parent);){const B=null==C?void 0:C.nodes,z=null==B?void 0:B.filter((C=>C.checked==re.Check)).length;z+(null===(I=null==B?void 0:B.filter((C=>C.checked==re.Half)))||void 0===I?void 0:I.length)==0?C._checked=re.None:z==B.length?C._checked=re.Check:C._checked=re.Half}}this.treeMap.checkChild&&Q.Convert.isValue(this.nodes)&&Q.Arrays.bfsAction([this],(C=>(C.nodes.forEach((I=>I._checked=C._checked)),C.nodes)))}get nodes(){return super.nodes}get parent(){return super.parent}get master(){var C;if(Q.Convert.isValue(null===(C=this.treeMap)||void 0===C?void 0:C.master)){const C=this.treeMap.master;return"function"==typeof C?C(this.data):this.data[C]}}set parent(C){var I,B;if(super.parent!=C&&(super.parent=C,Q.Convert.isValue(null===(I=this.treeMap)||void 0===I?void 0:I.parent))){const I=this.treeMap.parent;"function"==typeof I?I(this.data)==(null==C?void 0:C.master)||I(this.cloneData(),null!==(B=null==C?void 0:C.master)&&void 0!==B?B:""):this.setData(null==C?void 0:C.master,I)}}get level(){return super.level}set level(C){var I;if(super.level!=C&&(super.level=C,Q.Convert.isValue(null===(I=this.treeMap)||void 0===I?void 0:I.level))){const I=this.treeMap.level;"function"==typeof I?I(this.data)===C||I(this.cloneData(),C):this.setData(C,I)}}getOrderFunc(){var C,I,B,z;return null!==(I=null===(C=this.treeMap)||void 0===C?void 0:C.order)&&void 0!==I?I:this.box instanceof DataBox?null===(z=null===(B=this.box.dataSource)||void 0===B?void 0:B.config.schema)||void 0===z?void 0:z.order:void 0}addNode(C,I){super.addNode(C,I),C.adjustLevel(C.level)}adjustLevel(C){this.level=C;for(const I of this.nodes)I.adjustLevel(C+1)}};class GroupNode extends ParentNode{get itemCount(){return this._itemCount}set itemCount(C){this._itemCount=C}get groupKey(){return this._groupKey}set groupKey(C){this._groupKey=C}get map(){var C;return null!==(C=this._map)&&void 0!==C?C:this._map=new Map}get igroup(){return this._igroup}set igroup(C){this._igroup=C}get hasFooter(){return this.igroup.showFooter&&super.hasFooter}get calcFields(){return!1}static groupKeyMake2r(C,I,B){const z=[`${I}:${B[I]}`];for(;Q.Convert.isValue(C);)z.splice(0,0,`${C.igroup.field}:${C.groupKey}`),C=C.parent;return"group {"+z.join(",")+"}"}static groupKeyMaker(C,I,B){const z=[];for(const I in C)z.push(`${I}:${C[I]}`);return"__group__ {"+z.join(",")+"}"}constructor(C,I,B,z,q,Q){var ee;super(C,B,(I=>GroupNode.groupKeyMaker(B,q,C)),0,Q),this.igroup=q,this.level=(null!==(ee=null==C?void 0:C.level)&&void 0!==ee?ee:-1)+1,this._groupKey=I,this.isOpen=q.isOpen}addNode(C,I,B=void 0){super.addNode(C,I,B),C instanceof GroupNode&&(C.level=this.level+1,this.map.set(C.groupKey,C));const z=GroupItem.getGroupKeys(C);for(const I of z.keys())C.setData(z.get(I),I)}get groupKeys(){const C=new Map;return GroupItem.getGroupKeys(this,C),C}}I.GroupNode=GroupNode;I.PivotNode=class PivotNode extends ParentNode{get calcFields(){return!1}};class FixedFields{}I.FixedFields=FixedFields,z=FixedFields,FixedFields.rowno="_rowno_",FixedFields.status="_status_",FixedFields.sticky="_sticky_",FixedFields.check="_checked_",FixedFields.radio="_radio_",FixedFields.detail="_detail_",FixedFields.reorder="_reorder_",FixedFields.fields=new Set([z.rowno,z.status,z.sticky,z.check,z.radio,z.detail,z.reorder]);class AjaxProperty{}I.AjaxProperty=AjaxProperty,AjaxProperty.totalName="total",AjaxProperty.aggregateName="aggregated",AjaxProperty.selectedName="selected",AjaxProperty.insertedName="inserted",AjaxProperty.updatedName="updated",AjaxProperty.deletedName="deleted"},2288:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PageMap=I.ViewMode=void 0;const z=B(1163),q=B(7392),Q=B(6105);var ee;!function(C){C.Page="page",C.Flow="flow"}(ee||(I.ViewMode=ee={}));I.PageMap=class PageMap{constructor(C){this._loadedSize=0,this._updateIndex=0,this._dataSource=C}get dataSource(){return this._dataSource}get subMap(){var C;return null!==(C=this._subMap)&&void 0!==C?C:this._subMap=new Map}get config(){var C;return null===(C=this.dataSource)||void 0===C?void 0:C.config}get pageSizes(){var C;return null!==(C=this._pageSizes)&&void 0!==C?C:this._pageSizes=[]}get fromTo(){var C;return null!==(C=this._fromTo)&&void 0!==C?C:this._fromTo=[]}get boxes(){var C;return null!==(C=this._boxes)&&void 0!==C?C:this._boxes=[]}get pageSize(){return this.dataSource.pageSize}get loadSize(){return this._loadedSize}get total(){return this._total}set total(C){this._total=C}get adjustedTotal(){var C;return null!==(C=this._adjustedTotal)&&void 0!==C?C:this._adjustedTotal=this.calcAdjustedTotal()}get added(){return this.adjustedTotal-this.total}get isPaging(){return this.dataSource.isPaging}view(C,I,B){let q;return z.Convert.isEmpty(this.total)?q:(q=this.getSubMap(C,B),0==z.Convert.isNull(q)||(q=this.setSubMap(C,B,I)),q)}setSubMap(C,I,B){var Q,te;let ie;if((null==C?void 0:C.scrollRange)==q.ScrollRange.Whole){ie=this.boxes,ie=this.processSelect(C,ie);const B=this.getRequestSubKey(C);if(this.setRequest(B,void 0,ie),z.Convert.isValue(I)){const C=this.fromTo[I],q=null!==(Q=null==C?void 0:C.from)&&void 0!==Q?Q:I*this.pageSize,ee=null!==(te=null==C?void 0:C.to)&&void 0!==te?te:q+this.pageSize;ie=ie.slice(q,ee),ie=ie.some((C=>null!=C))?ie:[],z.Convert.isValue(B)&&this.setRequest(B,I,ie)}}else{if(B===ee.Page)ie=this.getPage(I),ie=this.processSelect(C,ie);else if(ie=this.boxes,ie=this.processSelect(C,ie),z.Convert.isValue(I)&&z.Convert.isValue(ie)){const C=I*this.pageSize,B=C+this.pageSize;ie=ie.slice(C,B)}if(0==z.Convert.isNull(ie)&&0==z.Convert.isNull(ie)){const B=this.getRequestSubKey(C);this.setRequest(B,I,ie)}}return ie}getRequestSubKey(C){return this.dataSource.getRequestKey(C,!0)}processSelect(C,I){let B=[].concat(I);return 0==this.config.serverFiltering&&z.Convert.isValue(null==C?void 0:C.filters)&&(B=Q.Filtering.filterList(B,C.filters)),0==this.config.serverSorting&&(z.Convert.isValue(null==C?void 0:C.groups)||z.Convert.isValue(null==C?void 0:C.orders))&&(B=Q.Sorting.sortList(B,C.groups,C.orders)),B}getBoxes(C){let I;return null!=C||(C=this.dataSource.request),I=this.view(C,null==C?void 0:C.viewMode,void 0),I}allBoxes(){let C=[];for(const I of this.boxes)z.Convert.isNull(I)||C.push(I);return C}setList(C){if(this.beginUpdate(),C instanceof Array){const I=C.length,B=this.isPaging?this.pageSize:I;if(this.total=I,z.Convert.isEmpty(C))this.setPage(0,[]);else{this._loadedSize=I;const z=this.boxes;z.splice(0);for(let B=0;B<I;B++){const I=this.dataSource.createBox(C[B],B);z.push(I)}let q=0;for(const C=Math.trunc(I/B);q<C;q++)this.pageSizes[q]=B;const Q=I%B;Q>0&&(this.pageSizes[q]=Q)}}this.endUpdate()}getPage(C){var I;null!=C||(C=0),C<0&&(C=this.lastPageNo+1+C);const B=this.pageSizes[C];if(z.Convert.isEmpty(B))return;const q=this.getStartRow(C);if(z.Convert.isEmpty(q))return;const Q=q+(null!==(I=this.pageSizes[C])&&void 0!==I?I:this.pageSize);return z.Convert.isEmpty(Q)?void 0:this.boxes.slice(q,Q)}setPage(C,I){var B,z;null!=C||(C=0),C<0&&(C=this.lastPageNo+1+C),this.beginUpdate(),this.subMap.clear();(I=[].concat(I)).length;const q=this.getStartRow(C),Q=null!==(B=this.pageSizes[C])&&void 0!==B?B:0,ee=null!==(z=this.pageSizes[C])&&void 0!==z?z:this.pageSize,te=I.length;if(this._loadedSize+=te-Q,this.setPageSize(C,te),q+Q>this.boxes.length&&(this.boxes.length=q+Q),this.boxes.length>q){const C=this.boxes.splice(q);this._boxes=this.boxes.concat(I).concat(C.slice(ee))}else this._boxes=this.boxes.concat(I);I.length,this.endUpdate()}setPageSize(C,I){this.beginUpdate(),this.pageSizes[C]=I,this._fromTo=this.ensureFromTo(),this.endUpdate()}setRequest(C,I,B){const q="string"==typeof C?C:this.dataSource.getRequestKey(C,!0);let Q=this.subMap.get(q);z.Convert.isNull(Q)&&(Q=new Map,this.subMap.set(q,Q)),Q.set(I,B)}getSubMap(C,I){const B="string"==typeof C?C:this.dataSource.getRequestKey(C,!0);let q=this.subMap.get(B);if(!z.Convert.isNull(q))return q.get(I)}ensureFromTo(C=void 0){var I,B;let z=0;const q=this.ensurePageSizes(null!==(I=this._total)&&void 0!==I?I:this.pageSize),Q=this.adjustedTotal,ee=[];for(let I=0,te=null!=C?C:q.length-1;I<=te;I++){let C=null!==(B=q[I])&&void 0!==B?B:this.pageSize;if(z+=C,ee[I]={from:z-C,to:z},Q>0&&z>=Q)break}return ee}getPageSize(C){var I;return null!==(I=this.pageSizes[C])&&void 0!==I?I:this.pageSize}getPageNo(C){var I;if("number"==typeof C){const B=C;let z=this.ensureFromTo().findIndex((C=>C.from<=B&&B<C.to));if(z>=0)return z;z=0;let q=0;for(;;){if(q+=null!==(I=this.pageSizes[z])&&void 0!==I?I:this.pageSize,B<q)return z;z++}return z}{const I=this.boxes.findIndex((I=>(null==I?void 0:I.key)==C.key));if(I>=0){return this.ensureFromTo().findIndex((C=>C.from<=I&&I<C.to))}}}flowToPage(C){if(0==this.isPaging)return[0];const I=this.ensureFromTo(C);if(0==I.length)return[C];if(0==this.pageSize)return[C];const B=C*this.pageSize,z=B+this.pageSize,q=I.findIndex((C=>C.from<=B&&B<C.to)),Q=I.findIndex((C=>C.from<z&&z<=C.to));if(q<0)return[C];if(Q<0)return[C];if(q==Q)return q<0?[]:[q];const ee=[];for(let C=q;C<=Q;C++)ee.push(C);return ee}indexToPage(C){var I;if(C<=0)return 0;if(z.Convert.isEmpty(C))return 0;let B=0,q=0,Q=0;const ee=this.ensureFromTo();for(;;){if(({from:q,to:Q}=null!==(I=ee[B])&&void 0!==I?I:{from:Q,to:Q+this.pageSize}),q<=C&&C<Q)return B;B++}}pageToFromTo(C,I,B){return this.ensureFromTo(C)[C]}get lastPageNo(){if(0==this.isPaging)return 0;if(0==this.total)return 0;const C=this.ensureFromTo(),I=this.adjustedTotal-1;return C.findIndex((C=>C.from<=I&&I<C.to))}hasPage(C){return z.Convert.isValue(this.pageSizes[C])}keys(){return this.pageSizes.keys()}values(){const C=[];for(const I in this.keys())C.push(this.getPage(z.Convert.asNumber(I)));return C}getStartRow(C){var I;if(0==C)return 0;let B=null===(I=this.fromTo[C])||void 0===I?void 0:I.from;if(z.Convert.isValue(B))return B;B=0;for(let I=0;I<C;I++)B+=this.getPageSize(I);return B}beginUpdate(){this._updateIndex++}endUpdate(){this._updateIndex--,this._updateIndex<=0&&(this._updateIndex=0,this.subMap.clear(),this._adjustedTotal=void 0,this.adjustIndex())}adjustIndex(){if(this._updateIndex>0)return;const C=this.boxes;for(const I in C){const B=C[I];if(z.Convert.isNull(B))continue;const q=z.Convert.asNumber(I);B.originIndex=q}}calcAdjustedTotal(){var C;let I=0;const B=this.ensurePageSizes(this._total,this.pageSize);for(const z in B){I+=null!==(C=B[z])&&void 0!==C?C:this.pageSize}return I}ensurePageSizes(C,I=void 0){null!=I||(I=this.pageSize);const B=[].concat(this.pageSizes),q=Math.ceil(C/I);let Q=C;for(let C=0;C<q&&!(Q<=0);C++)Q-=I,z.Convert.isValue(B[C])||(B[C]=Q<0?I+Q:I);return B}}},9299:(C,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.RequestBuilder=void 0;I.RequestBuilder=class RequestBuilder{static apply(C,I){I.url=C.url,I.orders=C.orders,I.groups=C.groups,I.filters=C.filters,I.aggregates=C.aggregates,I.pageNo=C.pageNo,I.pageSize=C.pageSize,I.parentKey=C.parentKey,I.parentField=C.parentField,I.viewMode=C.viewMode,I.scrollRange=C.scrollRange}}},6140:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.TreeLoader=void 0;const q=B(1163),Q=B(3354),ee=B(5260),te=B(6105),ie=B(194);class TreeLoader extends te.BaseLoader{get clientMap(){var C;return null!==(C=this._clientMap)&&void 0!==C?C:this._clientMap=new Map}search(){return z(this,void 0,void 0,(function*(){ee.Log.debug((()=>["TreeLoader.search"])),q.Convert.isValue(this.clientMap&&this.clientMap.size>0)&&TreeLoader.reorderClientMap(this.clientMap,this.config.groups,this.config.orders),TreeLoader.reorderNodes(this.nodes,this.nodeCount,this.config.orders),ee.Log.debug((()=>["TreeLoader.search","end"]))}))}static reorderNodes(C,I,B){if(C.length===I){te.Sorting.sortList(C,[],B,((C,I)=>C.value(I.field)));for(let I=0;I<C.length;I++)C[I].index=I;for(const I of C)this.reorderNodes(I.nodes,I.nodeCount,B)}else C.splice(0)}static reorderClientMap(C,I,B){for(const I of C.keys()){const z=C.get(I);te.Sorting.sortList(z,[],B)}}ensureMap(C,I){var B;const z=null===(B=this.config.tree)||void 0===B?void 0:B.parent,Q=I?this.clientMap:new Map;if(q.Convert.isNull(z))return Q;for(let I of C){let C=TreeLoader.getTreeData(I.data,z);Q.has(C)?Q.get(C).push(I):Q.set(C,[I])}return this._clientMap=Q,this._clientMap}prepareRequest(C,I,B,z){let q=super.prepareRequest(C,I,B,z);return q.parentKey=TreeLoader.getTreeData(null==C?void 0:C.data,this.config.tree.master),q}clientLoad(C){var I,B,Q,ie,re;return z(this,void 0,void 0,(function*(){let z={},ne=this.clientMap.has(C.parentKey)?this.clientMap.get(C.parentKey):(yield this.dataSource.selectRequest(C)).selected.map(((C,I)=>this.dataSource.createBox(C,I)));if(0==te.BaseLoader.compareFilters(null===(I=this.request)||void 0===I?void 0:I.filters,C.filters)||0==te.BaseLoader.compareOrders(null===(B=this.request)||void 0===B?void 0:B.orders,C.orders)||q.Convert.isEmpty(this.clientMap))ne=te.Filtering.filterList(ne,C.filters),ne=te.Sorting.sortList(ne,[],C.orders),this.ensureMap(ne,!1);else if(this.config.lazyLoading&&0==this.clientMap.has(C.parentKey)&&(this.clientMap.set(C.parentKey,ne),q.Convert.isValue(this.config.tree.leaf))){this.config.tree.leaf;const C=this.config.tree.master;if(q.Convert.isValue(ne))for(const I of ne){const B=null==I?void 0:I.data;TreeLoader.isLeaf(this.config.tree,B)&&this.clientMap.set(TreeLoader.getTreeData(B,C),[])}}return q.Convert.isValue(null===(Q=this.config.tree)||void 0===Q?void 0:Q.parent)&&q.Convert.isValue(null===(ie=this.config.tree)||void 0===ie?void 0:ie.master)?z=this.config.lazyLoading?TreeLoader.clientFindData(this.clientMap,this.config.tree,this.keyMaker,C,this.config.serverPaging,this.dataSource):TreeLoader.clientFindTree(this.clientMap,this.config.tree,this.keyMaker,C.parentKey,void 0,this.dataSource):q.Convert.isValue(null===(re=this.config.tree)||void 0===re?void 0:re.level)&&(z=TreeLoader.clientLevelTree(ne,this.config.tree,this.keyMaker,C.parentKey,this.dataSource)),0==this.config.serverPaging&&this.makeTotal(z.selected,this.filter),ee.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,lenth:z.selected.length}))),z}))}static isLeaf(C,I){var B;if(q.Convert.isValue(C.leaf)){const z=C.leaf;C.master;return"function"==typeof z?z(I):null!==(B=null==I?void 0:I.hasOwnProperty(z))&&void 0!==B&&B&&1==I[z]}return!1}serverLoad(C){var I,B,Q;return z(this,void 0,void 0,(function*(){let z=yield this.dataSource.selectRequest(C),ie={},re=z.selected;return 0==this.config.serverFiltering&&q.Convert.isValue(C.filters)&&(re=te.Filtering.filterList(re,C.filters)),0==this.config.serverSorting&&(q.Convert.isValue(C.groups)||q.Convert.isValue(C.orders))&&(re=te.Sorting.sortList(re,C.groups,C.orders)),this.ensureMap(re,!0),q.Convert.isValue(null===(I=this.config.tree)||void 0===I?void 0:I.parent)&&q.Convert.isValue(null===(B=this.config.tree)||void 0===B?void 0:B.master)?ie=this.config.lazyLoading?TreeLoader.clientFindData(this.clientMap,this.config.tree,this.keyMaker,C,this.config.serverPaging,this.dataSource):TreeLoader.clientFindTree(this.clientMap,this.config.tree,this.keyMaker,C.parentKey,void 0,this.dataSource):q.Convert.isValue(null===(Q=this.config.tree)||void 0===Q?void 0:Q.level)&&(ie=TreeLoader.clientLevelTree(re,this.config.tree,this.keyMaker,C.parentKey,this.dataSource)),0==this.config.serverPaging&&this.makeTotal(ie.selected,this.filter),ee.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,lenth:ie.selected.length}))),ie}))}loaded(C,I,B){let z=[],Q=C.selected;if(this.config.serverPaging)z=this.serverPaging(C,I,B);else if(q.Convert.isNull(B)?this.nodeCount=C.selected.length:B.nodeCount=C.selected.length,q.Convert.isValue(B)){if(0==B.nodes.length)for(let C of Q)B.addNode(C);z=[].concat(B.nodes)}else{for(let C of Q)C.index=this.nodes.length,C.level=0,this.nodes.push(C);z=[].concat(this.nodes)}return this.config.lazyLoading&&q.Convert.isValue(B)&&this.makeTotalNode(B),z}static getIsLeaf(C,I){}static clientFindData(C,I,B,z,ee,te){var ie,re,ne,se;if(q.Convert.isEmpty(null==I?void 0:I.master)||q.Convert.isEmpty(null==I?void 0:I.parent))throw"Can not build tree.";const oe={selected:[]};let ae=C.get(null!==(ie=z.parentKey)&&void 0!==ie?ie:"");oe.total=null!==(re=null==ae?void 0:ae.length)&&void 0!==re?re:0;let le=0;ee&&q.Convert.isValue(z.pageSize)&&(le=z.pageNo*z.pageSize,ae=[].concat(ae).splice(le,z.pageSize));for(const z in ae){const ee=ae[z],ie=new Q.TreeNode(void 0,ee,B,q.Convert.asNumber(z),I,te);ie.index=le++;const re=this.getTreeData(ie.data,I.master);C.has(re)?(ie.nodeCount=null!==(se=null===(ne=C.get(re))||void 0===ne?void 0:ne.length)&&void 0!==se?se:0,ie.isLeaf=0==ie.nodeCount):ie.isLeaf=TreeLoader.isLeaf(I,ee.data),oe.selected.push(ie)}return oe}static calcOpen(C,I){var B;const z=null==I?void 0:I.open,Q=C.data;switch(typeof z){case"number":return z>C.level;case"string":return null!==(B=null==Q?void 0:Q.hasOwnProperty(z))&&void 0!==B&&B&&q.Convert.asBool(Q[z]);case"function":return z(Q,C);default:return!1}}static clientFindTree(C,I,B,z,ee,te){var ie;const re={selected:[]};if(null!=z||(z=""),0==C.has(z))return re;let ne=[],se=C.get(z);if(q.Convert.isValue(ee)){for(const C in se){const z=se[C],ie=new Q.TreeNode(ee,z,B,q.Convert.asNumber(C),I,te);ee.addNode(ie),ie.isOpen=this.calcOpen(ie,I)}ee.nodeCount=ee.nodes.length,ne=ee.nodes}else{let C=0;for(const z in se){const ie=se[z],re=new Q.TreeNode(ee,ie,B,q.Convert.asNumber(z),I,te);re.level=0,re.isOpen=this.calcOpen(re,I),re.index=C,ne.push(re),C++}}if(q.Convert.isValue(ne)){const z=I.master;for(const Q of ne){const ee=this.getTreeData(Q.data,z);q.Convert.isValue(ee)&&TreeLoader.clientFindTree(C,I,B,ee,Q,te),Q.isLeaf=0==(null!==(ie=Q.nodeCount)&&void 0!==ie?ie:Q.nodeCount=0)}}return re.selected=ne,re.total=se.length,re}static clientLevelTree(C,I,B,z,ee){const te=[];let ie,re,ne,se;for(const z in C){const oe=C[z],ae=q.Convert.asNumber(z),le=this.getTreeData(oe.data,I.level),ue=q.Convert.asInt(le);if(ue==ne||q.Convert.isNull(ie))ne=ue,ie=new Q.TreeNode(void 0,oe,B,ae,I,ee),te.push(ie),ie.level=ue-ne;else if(se==ue){const C=new Q.TreeNode(ie.parent,oe,B,ae,I,ee);q.Convert.isValue(ie.parent)?ie.parent.addNode(C):te.push(C),ie=C}else if(se<ue){const C=new Q.TreeNode(ie,oe,B,ae,I,ee);ie.addNode(C),ie=C}else if(se>ue){for(let C=ue;C<=se&&(ie=ie.parent,!q.Convert.isNull(ie));C++);const C=new Q.TreeNode(ie,oe,B,ae,I,ee);ie.addNode(C),ie=C}se=ue,re=ie}q.Arrays.bfsAction(te,(C=>(C.nodeCount=C.nodes.length,C.isLeaf=0==C.nodeCount,C.isLeaf?[]:C.nodes)));return{total:te.length,selected:te}}static getTreeData(C,I){var B;if(!q.Convert.isNull(C))return null!==(B="function"==typeof I?I(C):C[I])&&void 0!==B?B:""}static setTreeData(C,I,B){if(!q.Convert.isNull(C))return"function"==typeof I?I(C,B):C[I]=B}makeTotal(C,I){let B=[];C=q.Convert.isValue(I)?C.filter(I):C;for(const I of C)B.push(I.data),q.Convert.isValue(this.config.tree.aggregates)&&(B=B.concat(this.makeTotalNode(I)));q.Convert.isValue(this.config.aggregates)&&(this.config.aggregates=te.Aggregate.aggregates(B,this.config.aggregates,!0))}calcAggregates(){this.dataSource.updateIndex>0||this.makeTotal(this.nodes,this.filter)}makeTotalNode(C){var I,B;let z=[];if(q.Convert.isNull(C)||q.Convert.isEmpty(C.nodes))return z;for(const I of C.nodes)z.push(I.data),0!=I.nodeCount&&(z=z.concat(this.makeTotalNode(I)));return q.Convert.isValue(null===(I=this.config.tree)||void 0===I?void 0:I.aggregates)&&this.config.tree.aggregates.length>0&&(q.Convert.isNull(C.footer)?C.footer=new Q.FooterNode(C,te.BaseLoader.symbolKeyMaker,te.Aggregate.aggregates(z,this.config.tree.aggregates,!0)):C.footer.aggregates=te.Aggregate.aggregates(z,this.config.tree.aggregates,!0)),(null===(B=this.config.tree)||void 0===B?void 0:B.aggregateFull)?z:[]}insertNode_old(C,I,B,z,ee=!1){if(ee)return this.removeNode(C,I,B,z);if(0==this.dataSource.insertMap.has(B.key))return I;q.Convert.isNull(C)&&(C=null==I?void 0:I.parent);const re=new Q.TreeNode(null!=C?C:null==I?void 0:I.parent,B,te.BaseLoader.symbolKeyMaker,null==I?void 0:I.index,this.config.tree,this.dataSource);re.isLeaf=!0;const ne=z==ie.InsertTo.Last||q.Convert.isNull(I)?C.nodes.length:z==ie.InsertTo.First||q.Convert.isNull(I)?0:I.index+(z==ie.InsertTo.After?1:0);return C.addNode(re,ne),re}clearRows(){super.clearRows(),this._clientMap=void 0}hasRows(C,I){const B={pageNo:0,hasPage:!1};return q.Convert.isNull(C)?(B.hasPage=q.Convert.isValue(this.nodeCount),B):(q.Convert.isNull(C.nodeCount)||(B.hasPage=!0),B)}insertNode(C,I,B,z,ee=!1){if(ee)return this.removeNode(C,I,B,z);if(0==this.dataSource.insertMap.has(B.key))return I;q.Convert.isNull(C)&&(C=null==I?void 0:I.parent);const re=new Q.TreeNode(null!=C?C:null==I?void 0:I.parent,B,te.BaseLoader.symbolKeyMaker,null==I?void 0:I.index,this.config.tree,this.dataSource);re.isLeaf=!0;const ne=q.Convert.isNull(C)?this.nodes:C.nodes,se=z==ie.InsertTo.Last||z==ie.InsertTo.Child?ne.length:z==ie.InsertTo.First||q.Convert.isNull(I)?0:I.index+(z==ie.InsertTo.After?1:0);return q.Convert.isValue(C)?(C.isLeaf=!1,C.addNode(re,se),this.makeTotalNode(C)):(ne.splice(se,0,re),re.index=se,Q.ParentNode.adjustIndex(ne,se)),q.Convert.isNull(C)&&(this.nodeCount=ne.length),re}removeNode(C,I,B,z,ee=!1){if(ee)return this.insertNode(C,I,B,z);if(this.dataSource.deleteMap.has(B.key))return I;const te=I,ie=I.index;return q.Convert.isNull(I.parent)?(this.nodes.splice(ie,1),this.nodeCount-=1,Q.ParentNode.adjustIndex(this.nodes,ie)):(I.parent.removeNode(te),te.parent=I.parent),te}makeAllItemsData(C){let I=[];for(const B of C)I.push(B.data),I=I.concat(this.makeAllItemsData(B.nodes));return I}getAllItems(){return this.makeAllItemsData(this.nodes)}moveToNode(C,I,B){const z=this.dataSource.orderMap;if(q.Convert.isNull(C.parent)&&q.Convert.isNull(I.parent))te.BaseLoader.moveToList(this.nodes,C,I,B,z);else if(q.Convert.isValue(C.parent)&&q.Convert.isValue(I.parent))null==C||C.moveTo(I,B,z);else{let z=C.index,ee=I.index;q.Convert.isNull(C.parent)?(this.nodes.splice(z,1),Q.ParentNode.adjustIndex(this.nodes,z),this.nodeCount-=1,I.parent.addNode(C,ee)):q.Convert.isNull(I.parent)&&(C.parent.removeNode(C),ee+=B?0:1,this.nodes.splice(ee,0,C),C.level=0,Q.ParentNode.adjustIndex(this.nodes,ee),this.nodeCount+=1)}return this.calcAggregates(),this.dataSource.setBoxes(void 0,this.nodes.map((C=>C.box))),z}}I.TreeLoader=TreeLoader},413:(C,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Validator=void 0;I.Validator=class Validator{static validateArg(C,I){var B;if((null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0)!=I)throw`parameter must have ${I} items`}}},3746:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.DataView=void 0;const z=B(2663),q=B(4407),Q=B(194);class DataView extends q.Publisher{get dataSource(){return this.publisher instanceof Q.DataSource?this.publisher:void 0}doCommand(C,I){return!!super.doCommand(C,I)&&(I.command,z.Commands.Loaded,!0)}}I.DataView=DataView},247:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CsvExport=void 0,B(4199);const q=B(1163),Q=B(6936),ee=B(5260);var te=B(4199);class CsvExport extends Q.ExcelExport{get config(){return this.csvConfig}constructor(C,I){var B;super(C),this.csvDatas={fields:[],data:[]},this.csvConfig=this.parseConfig(null!=I?I:null===(B=this.grid.config)||void 0===B?void 0:B.csvExport)}writeFile(){return z(this,void 0,void 0,(function*(){ee.Log.time("CsvExport.write");const C=te.unparse(this.csvDatas,this.csvConfig),I=new Blob(["\ufeff"+C],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(I),z=document.createElement("a");z.href=B,z.download=this.config.fileName,z.click(),URL.revokeObjectURL(B),ee.Log.timeEnd("CsvExport.write")}))}exportCaption(C,I,B){return z(this,void 0,void 0,(function*(){return C.rows.forEach((C=>{C.cells.forEach((C=>{this.csvDatas.fields.push(C.column.caption)}))})),I}))}exportHeader(C,I,B){return z(this,void 0,void 0,(function*(){}))}exportFooter(C,I,B){return z(this,void 0,void 0,(function*(){}))}exportRow(C,I,B,q,Q,ee){return z(this,void 0,void 0,(function*(){return C.rows.forEach((C=>{let I=[];C.cells.forEach((C=>{const B=this.getValue(C,Q);I.push(B)})),this.csvDatas.data.push(I)})),I}))}exportTreeFooter(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){}))}exportGroupFooter(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){}))}exportGroupHeader(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){}))}parseConfig(C){const I=super.parseExcelExportConfig(C);return I.fileName=q.Convert.default(null==C?void 0:C.fileName,"grid.csv"),I.delimiter=q.Convert.default(null==C?void 0:C.delimiter,","),I}}I.CsvExport=CsvExport},7152:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CsvImport=void 0,B(4199);const q=B(5369),Q=B(4507),ee=B(5260),te=B(5165);var ie=B(4199);class CsvImport extends Q.ExcelImport{constructor(C,I){super(C,I)}readFile(C,I){var B;return z(this,void 0,void 0,(function*(){try{const I=yield this.parseFile(C);if(this.config.appendable){const C=null===(B=this.config)||void 0===B?void 0:B.insertStatus,z=I.map((C=>C.value));C?yield this.grid.addRowsCommand(new te.AddRowsCommand(void 0,z)):yield this.grid.bulkAppend(z)}else this.grid.importData(new q.ImportCommand(I))}catch(C){}finally{I()}}))}parseFile(C){return z(this,void 0,void 0,(function*(){return new Promise(((I,B)=>{ie.parse(C,{delimiter:this.config.delimiter,error:function(C,I,z,q){B(C)},complete:C=>{var B,z,q,Q,te,ie;const re=C.data,ne=(null!==(q=null===(z=null===(B=this.config)||void 0===B?void 0:B.row)||void 0===z?void 0:z.from)&&void 0!==q?q:1)-1,se=null!==(ie=null===(te=null===(Q=this.config)||void 0===Q?void 0:Q.row)||void 0===te?void 0:te.to)&&void 0!==ie?ie:C.data.length-1,oe=this.columns,ae=oe.length,le=re.slice(ne,se).map((C=>{var I,B,z,q,Q,ee;const te=(null!==(z=null===(B=null===(I=this.config)||void 0===I?void 0:I.col)||void 0===B?void 0:B.from)&&void 0!==z?z:1)-1,ie=null!==(ee=null===(Q=null===(q=this.config)||void 0===q?void 0:q.col)||void 0===Q?void 0:Q.to)&&void 0!==ee?ee:void 0;C=C.slice(te,ie);const re={};for(let I=0;I<ae&&!(I>=C.length);I++){re[oe[I].field]=C[I]}return{key:void 0,value:re}}));ee.Log.debug(["Import Excel",le]),I(le)}})}))}))}}I.CsvImport=CsvImport},6936:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ExcelExport=void 0,B(2108);const q=B(7392),Q=B(3354),ee=B(6258),te=B(6938),ie=B(9797),re=B(5774),ne=B(103),se=B(8964),oe=B(1163),ae=B(4367),le=B(860),ue=B(5260),de=B(7078);var ce=B(2108);class ExcelExport extends ae.GridExport{get workSheet(){var C;return null!==(C=this._workSheet)&&void 0!==C?C:this._workSheet=this.getWorksheet(this._workBook,"sheet1")}getWorksheet(C,I){const B=C.getWorksheet(I);return B.properties.outlineProperties={summaryBelow:!1,summaryRight:!1},B}get config(){return this._config}get view(){var C;return null!==(C=this._view)&&void 0!==C?C:super.view}constructor(C,I){var B,z;super(C),this.defaultRowStyleFunc=(C,I)=>{let B,z,q;q=null!=q?q:{};const Q=(C=>{switch(C){case"dark":return q.color="ffffffff",{headerBg:"ff343a40",headerBorder:"ff505963",captionBg:"ff343a40",alternateBg:"ff1D2124",level0Bg:"ff131415",level1Bg:"ff1a1c1f",stickyBg:"ff29323a",rowBg:"ff212529"};case"bootstrap":return{headerBg:"fffcfcfc",headerBorder:"ffcacfdb",captionBg:"fff1f3f5",alternateBg:"fff7f9fb",level0Bg:"ffF0F8FF",level1Bg:"fff5f5dc",stickyBg:"ffe8ecf7",rowBg:""};default:return{headerBg:"fffcfcfc",headerBorder:"ffe5e5e5",captionBg:"fff8f8f8",alternateBg:"fffcfcfc",level0Bg:"ffF0F8FF",level1Bg:"FFF5F5DC",stickyBg:"FFF9FBFF",rowBg:""}}})(I);return(C.has(de.SbCss.header)||C.has(de.SbCss.footer))&&(B=null!=B?B:{},B.bgColor=Q.headerBg,z=null!=z?z:{},z.color=Q.headerBorder,z.style="thin"),C.has(de.SbCss.area)&&C.has(de.SbCss.thead)&&(B=null!=B?B:{},B.bgColor=Q.captionBg,z=null!=z?z:{},z.color=Q.headerBorder,z.style="thin",q.bold=!0),C.has(de.SbCss.row)&&(C.has(de.SbCss.alternate)?(B=null!=B?B:{},B.bgColor=Q.alternateBg):(B=null!=B?B:{},B.bgColor=Q.rowBg)),C.has("sbgrid-level-0")&&(B=null!=B?B:{},B.bgColor=Q.level0Bg),C.has("sbgrid-level-1")&&(B=null!=B?B:{},B.bgColor=Q.level1Bg),C.has(de.SbCss.sticky)&&(B=null!=B?B:{},B.bgColor=Q.stickyBg),{fill:B,border:z,font:q}},this.defaultCellStyleFunc=C=>{let I,B;return C.has("sbgrid-level-0")&&(I=null!=I?I:{},I.bgColor="ffF0F8FF"),C.has("sbgrid-level-1")&&(I=null!=I?I:{},I.bgColor="FFF5F5DC"),C.has(de.SbCss.left)?B=this.getAlign(de.SbCss.left):C.has(de.SbCss.right)?B=this.getAlign(de.SbCss.right):C.has(de.SbCss.center)&&(B=this.getAlign(de.SbCss.center)),{fill:I,border:{color:"ffe5e5e5",style:"thin"},font:void 0,alignment:null!=B?B:{vertical:"middle",horizontal:"center"}}},this._config=this.parseExcelExportConfig(null!=I?I:null===(B=this.grid.config)||void 0===B?void 0:B.excelExport),this.fileName=null===(z=this.config)||void 0===z?void 0:z.fileName,this._workBook=new ce.Workbook,this._workBook.addWorksheet("sheet1")}prepareColumns(){super.prepareColumns(),this.columns=this.grid.fixedColumns.filter((C=>this._config.includeRowNo&&C.type===re.ColumnTypes.RowNo||C.config.exportVisible)).concat(super.columns)}get rowRange(){var C;return null!==(C=this._rowRange)&&void 0!==C?C:super.rowRange}prepareRows(){return z(this,void 0,void 0,(function*(){if(oe.Convert.isValue(this.config.rowRange)){const C=this.config.rowRange;if("function"==typeof C||C==ee.RowRange.Whole){const I=q.DataSourceParser.parseConfig(this.grid.dataConfig),B=ee.GridParser.parseConfig(this.grid.config);"function"==typeof C&&(yield this.prepareRangeFunction(B,I)),C==ee.RowRange.Whole&&this.prepareRangeWhole(B,I),B.dataSource=I,this._view=new ie.GridView(B),yield this.view.prepareRows()}else this._rowRange=C}}))}prepareRangeFunction(C,I){var B;return z(this,void 0,void 0,(function*(){let z=(null===(B=this.config)||void 0===B?void 0:B.rowRange)();z instanceof Promise&&(z=yield z),I.data=z,I.ajax={},this.prepareRangeWhole(C,I)}))}prepareRangeWhole(C,I){C.scrollRange=q.ScrollRange.Whole,this._rowRange=ee.RowRange.Whole,C.virtualRow=!0}exportCancelled(C){ue.Log.warn((()=>["export canceled",C]));const I=this.config.cancelFunc;oe.Convert.isValue(I)&&"function"==typeof I&&I()}getRow(C,I){const B=Object.create(null,{getRow:{get:()=>super.getRow}});return z(this,void 0,void 0,(function*(){return yield B.getRow.call(this,C,I)}))}parseExcelExportConfig(C){const I={fileName:oe.Convert.default(null==C?void 0:C.fileName,"grid.xlsx"),cellStyle:oe.Convert.default(null==C?void 0:C.cellStyle,void 0,(()=>this.parseCellStyle(null==C?void 0:C.cellStyle))),rowStyle:oe.Convert.default(null==C?void 0:C.rowStyle,void 0,(()=>this.parseCellStyle(null==C?void 0:C.rowStyle))),cancelFunc:oe.Convert.default(null==C?void 0:C.cancelFunc,void 0),defaultStyle:!0,includeFormula:oe.Convert.default(null==C?void 0:C.includeFormula,!1),includeHeader:oe.Convert.default(null==C?void 0:C.includeHeader,!1),includeFooter:oe.Convert.default(null==C?void 0:C.includeFooter,!1),rowRange:oe.Convert.default(null==C?void 0:C.rowRange,ee.RowRange.Loaded,this.parseRowRange),includeRowNo:oe.Convert.default(null==C?void 0:C.includeRowNo,!1),adjustValue:oe.Convert.default(null==C?void 0:C.adjustValue,void 0),adjustCaption:oe.Convert.default(null==C?void 0:C.adjustCaption,void 0)};return I.keepMerge=oe.Convert.default(null==C?void 0:C.keepMerge,!I.includeFormula),I}parseRowRange(C){return"function"==typeof C?C:oe.Convert.parseEnum(ee.RowRange,C)}parseCellStyle(C,I){return"function"==typeof C?C:!1===C?void 0:!0===C||{font:oe.Convert.default(null==C?void 0:C.font,null==I?void 0:I.font,(()=>this.parseFont(null==C?void 0:C.font,null==I?void 0:I.font))),border:oe.Convert.default(null==C?void 0:C.border,null==I?void 0:I.border,(()=>this.parseBorder(null==C?void 0:C.border,null==I?void 0:I.border))),fill:oe.Convert.default(null==C?void 0:C.fill,null==I?void 0:I.fill,(C=>this.parseFill(C,null==I?void 0:I.fill))),alignment:oe.Convert.default(null==C?void 0:C.alignment,null==I?void 0:I.alignment,(C=>this.parseAlign(C,null==I?void 0:I.alignment)))}}convertStyle(C){return{font:this.convertFont(null==C?void 0:C.font),fill:this.convertFill(null==C?void 0:C.fill),border:this.convertBorder(null==C?void 0:C.border),alignment:this.convertAlignment(null==C?void 0:C.alignment)}}convertAlignment(C){if(!oe.Convert.isEmpty(C))return{vertical:oe.Convert.default(null==C?void 0:C.vertical,void 0),horizontal:oe.Convert.default(null==C?void 0:C.horizontal,void 0)}}convertFont(C){if(!oe.Convert.isEmpty(C))return{name:oe.Convert.default(null==C?void 0:C.name,void 0),size:oe.Convert.default(null==C?void 0:C.size,void 0),color:oe.Convert.isNull(C.color)?void 0:{argb:C.color},bold:oe.Convert.default(C.bold,void 0)}}convertFill(C){if(!oe.Convert.isEmpty(C))return{type:"pattern",pattern:"solid",fgColor:oe.Convert.isNull(C.bgColor)?void 0:{argb:C.bgColor}}}convertBorder(C){if(!oe.Convert.isEmpty(C))return{top:{color:{argb:C.color},style:C.style},bottom:{color:{argb:C.color},style:C.style},right:{color:{argb:C.color},style:C.style},left:{color:{argb:C.color},style:C.style}}}exportCaption(C,I,B){return z(this,void 0,void 0,(function*(){this.makeColumn(C);const z=this.getRowStyle((()=>[de.SbCss.area,de.SbCss.thead].join(" ")),void 0,!0===this.config.rowStyle?()=>this.makeElement(!1,le.PanelType.Caption):void 0);for(const q of C.rows){for(const C of q.cells){if(oe.Convert.isNull(C))continue;const q=C.column,Q=C.col+1,ee=q instanceof se.GroupColumn?"":oe.Convert.isValue(this._config.adjustCaption)?this._config.adjustCaption(C.column.caption,C.column):C.column.caption;this.writeValue(Q,I,ee),(C.rowSpan>1||C.colSpan>1)&&this.merge(I,Q,C.rowSpan,C.colSpan);const te=this.getStyle(B,C,void 0,z,{isCol:!0,panelType:le.PanelType.Caption});this.applyStyle(te,I,Q)}this.config.includeFormula&&(this.workSheet.getRow(I).getCell("category").value="category"),I++}return I}))}applyStyle(C,I,B){if(oe.Convert.isNull(B)){const B=this.workSheet.getRow(I);oe.Convert.isValue(null==C?void 0:C.font)&&(B.font=null==C?void 0:C.font),oe.Convert.isValue(null==C?void 0:C.fill)&&(B.fill=null==C?void 0:C.fill),oe.Convert.isValue(null==C?void 0:C.border)&&(B.border=null==C?void 0:C.border)}else{const z=this.workSheet.getRow(I).getCell(B);oe.Convert.isValue(null==C?void 0:C.font)&&(z.font=null==C?void 0:C.font),oe.Convert.isValue(null==C?void 0:C.fill)&&(z.fill=null==C?void 0:C.fill),oe.Convert.isValue(null==C?void 0:C.border)&&(z.border=null==C?void 0:C.border),oe.Convert.isValue(null==C?void 0:C.alignment)&&(z.alignment=null==C?void 0:C.alignment)}}applyMergeStyle(C,I,B,z,q){const Q=I+z,ee=B+q;for(let z=I;z<Q;z++)for(let I=B;I<ee;I++)this.applyStyle(C,z,I)}getStyle(C,I,B,z,q){const Q=this.config.cellStyle,ee=C(I.column,I,B);let te;if(!0===Q)te=this.autoStyle((()=>this.getElementStyle(ee,I.column,(()=>this.makeElement(q.isCol,q.panelType)))),z);else if(oe.Convert.isNull(Q)||"function"==typeof Q){const C=new Set(ee.split(" "));te=this.manualStyle((()=>"function"==typeof Q?Q(C):void 0),(()=>this.defaultCellStyleFunc(C)),z)}else oe.Convert.isValue(Q)&&(te=Q);return this.convertStyle(te)}manualStyle(C,I,B){let z=I();const q=this.parseCellStyle(z,B);return oe.Convert.isNull(typeof this.config.cellStyle)?q:this.parseCellStyle(C(),q)}autoStyle(C,I){const B=C();return this.parseCellStyle(B,I)}getRowStyle(C,I,B){var z;const q=this.config.rowStyle,Q=oe.Convert.isValue(C)?C(I):void 0,ee=new Set(null==Q?void 0:Q.split(" ")),te="function"==typeof q?q(ee):!0===q?this.getElementStyle(Q,I,B):void 0,ie=(null===(z=this.config)||void 0===z?void 0:z.defaultStyle)?this.defaultRowStyleFunc(ee,this.grid.config.theme):void 0;return this.parseCellStyle(te,ie)}getElementStyle(C,I,B){const z=this.grid.container.find(`.${de.SbCss.panel}.${de.SbCss.hidden}`);if((null==z?void 0:z.length)<1)return;const q=B();if(oe.Convert.isValue(q)){const I=null==C?void 0:C.split(" ");q.addClass(I);const B=window.getComputedStyle(q[0]);return{font:{name:B.fontFamily.replace(/\"/g,""),color:this.convertArgb(B.color),size:parseInt(B.fontSize),bold:this.isBold(B.fontWeight)},fill:"00000000"===this.convertArgb(B.backgroundColor)?void 0:{bgColor:this.convertArgb(B.backgroundColor)},border:"none"===B.outlineStyle?void 0:{color:this.convertArgb(B.outlineColor),style:this.getBorderStyle(B.outlineStyle)},alignment:this.convertCellAlign(B.textAlign)}}}makeElement(C,I){const B=this.grid.container.find(`.${de.SbCss.panel}.${de.SbCss.hidden}`),z=oe.JqUtils.adjustElement(B,`.${de.SbCss.scroll_body}`,`<div class='${de.SbCss.scroll_body}'></div>`);let q;switch(I){case le.PanelType.Caption:{const I=oe.JqUtils.adjustElement(z,`>.${de.SbCss.panel}.${de.SbCss.caption}`,`<div class='${de.SbCss.panel} ${de.SbCss.caption}'></div>`),B=oe.JqUtils.adjustElement(I,`>div.${de.SbCss.area}.${de.SbCss.thead}`,`<div class = '${de.SbCss.area} ${de.SbCss.thead}'></div>`);if(!C)return B;const Q=oe.JqUtils.adjustElement(B,`>.${de.SbCss.part}.${de.SbCss.tbody}`,`<div class='${de.SbCss.part} ${de.SbCss.tbody}'></div>`);q=oe.JqUtils.adjustElement(Q,`>.${de.SbCss.row}`,`<div class='${de.SbCss.row}'></div>`);break}case le.PanelType.Header:{const I=oe.JqUtils.adjustElement(z,`>div.${de.SbCss.panel}.${de.SbCss.header}`,`<div class='${de.SbCss.panel} ${de.SbCss.header}'></div>`);if(!C)return I;const B=oe.JqUtils.adjustElement(I,`>.${de.SbCss.area}.${de.SbCss.thead}`,`<div class='${de.SbCss.area} ${de.SbCss.thead}'></div>`);q=oe.JqUtils.adjustElement(B,`>.${de.SbCss.row}`,`<div class='${de.SbCss.row}'></div>`);break}case le.PanelType.Body:{const C=oe.JqUtils.adjustElement(z,`>.${de.SbCss.panel}.${de.SbCss.body}`,`<div class='${de.SbCss.panel} ${de.SbCss.body}'></div>`);q=oe.JqUtils.adjustElement(C,`>div.${de.SbCss.row}`,`<div class='${de.SbCss.row}'></div>`);const I=[...q[0].classList].filter((C=>!1===[de.SbCss.row].includes(C.trim())));q.removeClass(I);break}case le.PanelType.Footer:{const I=oe.JqUtils.adjustElement(z,`>.${de.SbCss.panel}.${de.SbCss.footer}`,`<div class='${de.SbCss.panel} ${de.SbCss.footer}'></div>`);if(!C)return I;const B=oe.JqUtils.adjustElement(I,`>.${de.SbCss.area}.${de.SbCss.tfoot}`,`<div class='${de.SbCss.area} ${de.SbCss.tfoot}'></div>`);q=oe.JqUtils.adjustElement(B,`>.${de.SbCss.row}`,`<div class='${de.SbCss.row}'></div>`);break}}if(C){const C=oe.JqUtils.adjustElement(q,`>span.${de.SbCss.col}`,`<span class='${de.SbCss.col}'></span>`),I=[...C[0].classList].filter((C=>!1===[de.SbCss.col].includes(C.trim())));return C.removeClass(I),C}return q}convertCellAlign(C){switch(C){case"start":case"left":return{vertical:"middle",horizontal:"left"};case"end":case"right":return{vertical:"middle",horizontal:"right"};case"center":return{vertical:"middle",horizontal:"center"};case"justify":return{vertical:"justify",horizontal:"justify"}}}convertArgb(C){let I=C.substring(C.indexOf("(")+1,C.indexOf(")")).split(",");return I=I.length>3?I.slice(3,I.length).concat(I.slice(0,3)):["255"].concat(I),I.map((C=>parseInt(C).toString(16).length>1?parseInt(C).toString(16):"0"+parseInt(C).toString(16))).join("")}isBold(C){return parseInt(C)>400}getBorderStyle(C){return"thin"}makeColumn(C){var I;let B=(null===(I=te.GridMatrix.toMatrix(C))||void 0===I?void 0:I.matrix)[0].map(((C,I)=>(null==C?void 0:C.column.type)===re.ColumnTypes.Frozen?{key:I+"",width:0}:{key:I+"",width:C.width/8}));this.config.includeFormula&&(B=B.concat({key:"category",width:0})),this.workSheet.columns=B}exportHeader(C,I,B){var q;return z(this,void 0,void 0,(function*(){if(oe.Convert.isNull(this.workSheet.columns)&&this.makeColumn(C),oe.Convert.isEmpty(C))return I;if(!1===this.config.includeHeader)return I;const z=I,Q=this.getRowStyle((()=>[de.SbCss.panel,de.SbCss.header].join(" ")),void 0,(()=>this.makeElement(!1,le.PanelType.Header)));for(const z of C.rows){for(const C in z.cells){const ee=z.cells[C],te=(ee.column,this.makeTotalData(ee.column)),ie=this.makeHeaders(ee.column),re=ee.col+1,ne=ie[ee.row],se=null!==(q=this.getAggRendererValue(ne,te))&&void 0!==q?q:"",oe=this.writeValue(re,I,se);this.format(null==ne?void 0:ne.format,oe),this.merge(I,re,ee.rowSpan,ee.colSpan);const ae=this.getStyle(B,ee,void 0,Q,{isCol:!0,panelType:le.PanelType.Header});this.applyStyle(ae,I,re)}this.config.includeFormula&&(this.workSheet.getRow(I).getCell("category").value=""),I++}if(!0===this.config.includeFormula){const B=this.getHeaderRange(I-1);this.exportAggregatesFormula(C,B,z,void 0,!0)}return I}))}getAggRendererValue(C,I){if(oe.Convert.isValue(null==C?void 0:C.template)||oe.Convert.isValue(null==C?void 0:C.prefix)||oe.Convert.isValue(null==C?void 0:C.suffix))return C.render(I);{let B=oe.Convert.convertType(I[null==C?void 0:C.field],null==C?void 0:C.dataType);return"function"==typeof(null==C?void 0:C.format)&&(B=oe.Convert.formatValue(B,void 0,null==C?void 0:C.format,I)),B}}getAlign(C){switch(C){case de.SbCss.right:return this.convertCellAlign("right");case de.SbCss.left:return this.convertCellAlign("left");case de.SbCss.center:return this.convertCellAlign("center")}}makeHeaders(C){return C.totalHeaders}makeFooters(C){return C.totalFooters}exportFooter(C,I,B){return z(this,void 0,void 0,(function*(){if(!1===this.config.includeFooter)return I;if(oe.Convert.isEmpty(C))return I;const z=I,q=this.getRowStyle((()=>[de.SbCss.panel,de.SbCss.footer].join(" ")),void 0,(()=>this.makeElement(!1,le.PanelType.Footer)));for(const z of C.rows){for(const C in z.cells){const Q=z.cells[C],ee=this.makeTotalData(Q.column),te=this.makeFooters(Q.column),ie=Q.col+1,re=te[Q.row],ne=this.getAggRendererValue(re,ee),se=this.writeValue(ie,I,ne);this.format(null==re?void 0:re.format,se),this.merge(I,ie,Q.rowSpan,Q.colSpan);let oe=this.getStyle(B,Q,void 0,q,{isCol:!0,panelType:le.PanelType.Footer});this.applyStyle(oe,I,ie)}this.config.includeFormula&&(this.workSheet.getRow(I).getCell("category").value=""),I++}if(!0===this.config.includeFormula){const I=this.getFooterRange(z);this.exportAggregatesFormula(C,I,z,void 0,!1)}return I}))}exportRow(C,I,B,q,Q,ee){return z(this,void 0,void 0,(function*(){const z=this.getRowStyle(q,Q,(()=>this.makeElement(!1,le.PanelType.Body))),te=new Map,ie=I,re=C.rows.length;for(const q of C.rows){let C=q.cells;const ie=this.grid.mergeColumn||this.grid.mergeRow?this.grid.viewport.makeMerge(C,Q,ee,re):C;for(const C of ie){if(oe.Convert.isNull(C))continue;const q=C.col+1;if(C.merged&&this.config.keepMerge)continue;if(C.column instanceof se.GroupColumn==0){const B=this.getValue(C,Q),z=oe.Convert.isValue(this._config.adjustValue)?this._config.adjustValue(B,null==C?void 0:C.column,Q):B;this.writeValue(q,I,z,null==C?void 0:C.column);!0===this.config.keepMerge&&C.merge&&this.isLastMergeCell(ie,C)?this.merge(I,q,C.mergeRow*re,C.mergeCol):this.merge(I,q,C.rowSpan,C.colSpan),0==te.has(C.column.field)&&te.set(C.column.field,{col:q,row:I})}const ee=this.getStyle(B,C,Q,z,{isCol:!0,panelType:le.PanelType.Body});this.applyStyle(ee,I,q)}const ne=this.workSheet.getRow(I);this.config.includeFormula&&(ne.getCell("category").value=1),Q.level>0&&(ne.outlineLevel=Q.level),I+=1}return!0===this.config.includeFormula&&this.exportRow_calc(C,te,ie,Q),I}))}isLastMergeCell(C,I){const B=C.find((C=>I.column===C.column&&(I.mergeRow<C.mergeRow||I.mergeCol<C.mergeCol)));return!oe.Convert.isValue(B)||B===I}getValue(C,I){const B=C.column;return B.config.exportLabel?B.getCellLabel(I):null==B?void 0:B.getRawValue(I)}getHeaderRange(C,I){let B=this.calcRows(I);if(0==B)return;return{from:C+1,to:C+B}}getFooterRange(C,I){return{from:C-this.calcRows(null==I?void 0:I.parent,I),to:C-1}}calcRows(C,I){var B,z,q,ee;let te=0;if(oe.Convert.isNull(C)){let C,I=0,q=this.rowLayout;for(;oe.Convert.isValue(C=this.view.rows[I]);)te+=null!==(z=null===(B=this.getLayout(q,C))||void 0===B?void 0:B.layout.rows.length)&&void 0!==z?z:1,I++}else if(C.node instanceof Q.ParentNode){const B=C.level;let z,ie=C.rowIndex+1,re=this.rowLayout;for(;oe.Convert.isValue(z=this.grid.rows[ie])&&!(z.level<=B)&&z!=I&&!(z.node instanceof Q.FooterNode&&z.parent==C);)te+=null!==(ee=null===(q=this.getLayout(re,z))||void 0===q?void 0:q.layout.rows.length)&&void 0!==ee?ee:1,ie++}return te}exportRow_calc(C,I,B,z){var q;for(const Q of C.rows){let C=Q.cells;for(const Q of C){if(oe.Convert.isNull(Q))continue;if(Q.merged)continue;if(Q.column instanceof se.GroupColumn)continue;const C=Q.col+1,ee=null===(q=Q.column)||void 0===q?void 0:q.config.calc;if(oe.Convert.isNull(ee)||"function"==typeof(null==ee?void 0:ee.rows))continue;let te;const getFieldsFunc=()=>("string"==typeof ee.require?[ee.require]:ee.require).map((C=>I.get(C)));if(oe.Convert.isValue(null==ee?void 0:ee.eval)){if("string"!=typeof ee.eval)continue;const C=getFieldsFunc();if(oe.Convert.isEmpty(C))continue;te=this.makeFormula(ee.eval,C,ee)}else if(oe.Convert.isValue(null==ee?void 0:ee.rows)&&"function"!=typeof(null==ee?void 0:ee.rows)){const C=getFieldsFunc();te=this.calcRowsFormula(ee,C,B)}const ie=this.calcTemplate(Q.column.cellTemplate,te,ee.field);this.writeFormula(C,B,ie,Q.column.getValue(z))}B+=1}return B}calcRowsFormula(C,I,B){const z=C.rows;if("function"!=typeof z&&z.func==q.RankFunctions.Rank)return this.rank(C.rows,oe.Convert.parseEnum(q.CalculationRange,C.range),I,B)}rank(C,I,B,z){var Q,ee,te;let ie;I==q.CalculationRange.TopLevel?ie=null!==(Q=this.totalRange)&&void 0!==Q?Q:this.totalRange={from:z,to:z+this.calcRows()}:I==q.CalculationRange.LastLevel&&(ie=null!==(te=null!==(ee=this.headerRange)&&void 0!==ee?ee:this.totalRange)&&void 0!==te?te:this.totalRange={from:z,to:z+this.calcRows()});const re=C.dir==q.SortDir.Desc?">":"<";if(oe.Convert.isValue(ie))return`_xlfn.COUNTIFS(${this.getRange({col:B[0].col,startRow:ie.from,endRow:ie.to})}\n            ,"${re}"&${this.getSeperateRange(B)},${this.categoryRange(ie.from,ie.to)})+1`}exportAggregatesFormula(C,I,B,z,q){for(const Q in C.rows){const ee=C.rows[Q];for(const Q in ee.cells){const te=ee.cells[Q];te.col;if(te.column instanceof se.GroupColumn)continue;const ie=this.getTemplate(z,te.column,q);if(oe.Convert.isEmpty(ie))continue;const re=this.getAggregates(z,te.column,q);if(oe.Convert.isEmpty(re))continue;ie[te.row];const ne=this.makeFormulaObj(C,re,I);if(oe.Convert.isEmpty(ne))continue;const ae=this.makeString(ne,ie[te.row],te.column);if(oe.Convert.isValue(ae)){const C=te.column;let I;if(oe.Convert.isNull(z)&&q)I=C.getHeaderValue(te.row);else if(oe.Convert.isNull(z)&&!q)I=C.getFooterValue(te.row);else if(oe.Convert.isValue(z)){const B=C.getGroupValue(z);I=oe.Convert.isNull(B)?"":B[te.row]}this.writeFormula(te.col+1,te.row+B,ae,I)}}}}getTemplate(C,I,B){return oe.Convert.isNull(C)&&B?this.makeHeaders(I):oe.Convert.isNull(C)&&!B?this.makeFooters(I):oe.Convert.isValue(C)&&B?this.makeGroupHeaders(C,I):oe.Convert.isValue(C)&&!B?this.makeGroupFooters(C,I):void 0}getAggregates(C,I,B){var z,q;if(oe.Convert.isNull(C))return null===(z=I.config.total)||void 0===z?void 0:z.aggregates;{const B=(C.node instanceof Q.FooterNode?C.node.parent:C.node).igroup.field;let z=null===(q=I.getGroup(B))||void 0===q?void 0:q.groups;if(z.length>1&&(z=z.filter((C=>C.group===B))),oe.Convert.isEmpty(z))return;return z[0].aggregates}}getGroups(C,I,B){var z;const q=(C.node instanceof Q.FooterNode?C.node.parent:C.node).igroup.field,ee=null===(z=I.groups)||void 0===z?void 0:z.filter((C=>B?oe.Convert.isValue(C.header):oe.Convert.isValue(C.footer)));if(oe.Convert.isEmpty(ee))return null;let te=ee.filter((C=>C.group==q));return te.length<=0&&(te=ee.filter((C=>"*"==C.group))),oe.Convert.isEmpty(te)?void 0:ee}makeFormulaObj(C,I,B){const z={};if(!oe.Convert.isNull(B))return I.forEach((I=>{var Q,ee,te,ie;const re="function"==typeof I.require?[I.require]:I.require,ne=oe.Convert.parseEnum(q.AggregateFunctions,null===(Q=I.func)||void 0===Q?void 0:Q.toString());let se;if(re.length>1)se=this.makeMultiRangeAggregateFormula(I,B,C,z);else{const z=null===(ee=this.findCoordinate(re[0],C))||void 0===ee?void 0:ee.col;se=this.makeAggregateFormula(z,ne,B,I.params)}if(oe.Convert.isValue(se)){if(oe.Convert.isValue(I.payload)){const z=null===(te=this.findCoordinate(re[0],C))||void 0===te?void 0:te.col;se=this.payload(null===(ie=this.findCoordinate(I.payload,C))||void 0===ie?void 0:ie.col,se,z,B)}this.findCell(re[0],C);z[I.field]=se,oe.Convert.isValue(ne)&&!Object.keys(z).includes(ne)&&(z[ne]=se)}})),z}payload(C,I,B,z){if(oe.Convert.isNull(C))return I;return`_xlfn.INDEX(${this.getRange({col:C+1,startRow:z.from,endRow:z.to})},${`MATCH(${I},${this.getRange({col:B+1,startRow:z.from,endRow:z.to})},0)`})`}makeString(C,I,B){var z;if(oe.Convert.isNull(I))return;if("none"==I.field)return;let q=I.originalTemplate;oe.Convert.isValue(null==I?void 0:I.template)&&(q=this.template(C,I.originalTemplate));let Q=new _ColumnRender({prefix:I.prefix,suffix:I.suffix,field:I.field,format:I.format,cssClass:I.cssClass,template:q,dataType:null!==(z=I.dataType)&&void 0!==z?z:B.dataType}).render(C);return(null==Q?void 0:Q.includes("&quot;"))&&(Q=Q.replace(/&quot;/g,'"')),(null==Q?void 0:Q.includes("&gt;"))&&(Q=Q.replace(/&gt;/g,">")),Q}template(C,I){let B="",z=!1,q="",Q=0;for(let C=0;C<I.length;C++){const ee=I[C];if(q+=ee,"{"==ee){if(!z){z=!0;continue}if(z){const z=I.substring(Q,C-1);oe.Convert.isValue(z)&&(B+=this.joinQuotation(z)),Q=C-1;continue}}else if("}"==ee){if(!z){z=!0;continue}B+=I.substring(Q,C+1),Q=C+1}z&&B.length>0&&Q<I.length&&(B+="&"),z=!1}return Q<I.length&&(B+=this.joinQuotation(I.substring(Q,I.length))),B}joinQuotation(C){return`"${C}"`}joinAndString(C,I){return`${C}&${I}`}calcTemplate(C,I,B){return I}exportTreeFooter(C,I,B,q,Q){var ee,te;return z(this,void 0,void 0,(function*(){const z=I,ie=this.getRowStyle(q,Q,(()=>this.makeElement(!1,le.PanelType.Body)));for(const z of C.rows){for(const C of z.cells){const z=this.makeTreeFooters(C.column),q=this.makeTreeData(Q,C.column),re=null!==(ee=this.getAggRendererValue(z[C.row],q))&&void 0!==ee?ee:"",ne=C.col+1,se=this.writeValue(ne,I,re);this.format(null===(te=z[C.row])||void 0===te?void 0:te.format,se),this.merge(I,ne,C.rowSpan,C.colSpan);const oe=this.getStyle(B,C,Q,ie,{isCol:!0,panelType:le.PanelType.Body});this.applyStyle(oe,I,ne)}this.config.includeFormula&&(this.workSheet.getRow(I).getCell("category").value=""),I+=1}const re=this.getFooterRange(z,Q);return this.writeValue(1,I-1,re),I}))}exportGroupFooter(C,I,B,q,Q){var ee,te,ie;return z(this,void 0,void 0,(function*(){const z=I,re=this.getRowStyle(q,Q,(()=>this.makeElement(!1,le.PanelType.Body)));for(const z of C.rows){for(const C in z.cells){const q=z.cells[C],ne=this.makeGroupFooters(Q,q.column),se=this.makeGroupData(Q,q.column),ae=q.col+1;let ue=oe.Convert.isValue(ne)&&oe.Convert.isValue(se)?null!==(ee=this.getAggRendererValue(ne[q.row],se))&&void 0!==ee?ee:"":null===(te=null==q?void 0:q.column)||void 0===te?void 0:te.getValue(Q);ue=oe.Convert.isValue(ue)?ue:void 0;const de=this.writeValue(ae,I,ue);this.format(null===(ie=ne[q.row])||void 0===ie?void 0:ie.format,de),this.merge(I,ae,q.rowSpan,q.colSpan);let ce=this.getStyle(B,q,Q,re,{isCol:!0,panelType:le.PanelType.Body});this.applyMergeStyle(ce,I,ae,q.rowSpan,q.colSpan)}this.workSheet.getRow(I).outlineLevel=Q.level,I+=1}if(!0===this.config.includeFormula){const I=this.getFooterRange(z,Q);this.exportAggregatesFormula(C,I,z,Q,!1)}return I}))}exportGroupHeader(C,I,B,q,ee){var te,ie,re,ne;return z(this,void 0,void 0,(function*(){const z=this.getRowStyle(q,ee,(()=>this.makeElement(!1,le.PanelType.Body)));if(ee.node instanceof Q.GroupNode){const q=ee.node.igroup,ae=I;for(const ae of C.rows){for(const C of ae.cells)if(!oe.Convert.isNull(C))if(C.column instanceof se.GroupColumn){const Q=C.col+1;if(q.field==C.column.field){let B=oe.Convert.isValue(C.column.config.groupTitle)?C.column.getGroupTitle(ee):null===(te=ee.node)||void 0===te?void 0:te.groupKey;this.writeValue(Q,I,B),this.merge(I,Q,C.rowSpan,C.colSpan)}const ie=this.getStyle(B,C,ee,z,{isCol:!0,panelType:le.PanelType.Body});this.applyMergeStyle(ie,I,Q,C.rowSpan,C.colSpan)}else{if(ee.items[0]instanceof Q.GroupNode)continue;const q=this.makeGroupHeaders(ee,C.column),te=this.makeGroupData(ee,C.column),se=C.col+1;let ae=oe.Convert.isValue(q)&&oe.Convert.isValue(te)?null!==(ie=this.getAggRendererValue(q[C.row],te))&&void 0!==ie?ie:"":null===(re=null==C?void 0:C.column)||void 0===re?void 0:re.getValue(ee);ae=oe.Convert.isValue(ae)?ae:void 0;const ue=this.writeValue(se,I,ae);this.format(null===(ne=q[C.row])||void 0===ne?void 0:ne.format,ue),this.merge(I,se,C.rowSpan,C.colSpan);let de=this.getStyle(B,C,ee,z,{isCol:!0,panelType:le.PanelType.Body});this.applyMergeStyle(de,I,se,C.rowSpan,C.colSpan)}this.workSheet.getRow(I).outlineLevel=ee.level,I+=1}!0===this.config.includeFormula&&(this.headerRange=this.getHeaderRange(I-1,ee),this.exportAggregatesFormula(C,this.headerRange,ae,ee,!0))}return I}))}merge(C,I,B,z){try{B>1&&z>1?this.workSheet.mergeCells(C,I,C+B-1,I+z-1):B>1?this.workSheet.mergeCells(C,I,C+B-1,I):z>1&&this.workSheet.mergeCells(C,I,C,I+z-1)}catch(C){}}writeValue(C,I,B,z){var q,Q;const ee=this.workSheet.getRow(I).getCell(C);return B=(null===(q=null==z?void 0:z.config)||void 0===q?void 0:q.exportLabel)?B:this.convertValue(this.getDataType(z),B),this.format(null===(Q=null==z?void 0:z.config)||void 0===Q?void 0:Q.format,ee),ee.value=B,ee}format(C,I){oe.Convert.isValue(C)&&"string"==typeof C&&(I.numFmt=C)}getDataType(C){var I,B,z;if(!oe.Convert.isNull(C))return null!==(I=C.dataType)&&void 0!==I?I:null===(z=null===(B=this.grid.dataConfig.schema)||void 0===B?void 0:B.fields[C.field])||void 0===z?void 0:z.dataType}convertValue(C,I){return oe.Convert.isValue(C)?oe.Convert.convertType(I,C):I}writeFormula(C,I,B,z){const q=this.workSheet.getRow(I).getCell(C);q.value;q.value={formula:B,date1904:!0,result:z}}getAddress(C,I){var B,z;return null===(z=null===(B=this.workSheet.getRow(I))||void 0===B?void 0:B.getCell(C))||void 0===z?void 0:z.address}getSeperateRange(C){const I=[];for(const B of C)oe.Convert.isNull(B)||I.push(this.getAddress(B.col,B.row));return I.join(",")}getRange(C){return this.getAddress(C.col,C.startRow)+":"+this.getAddress(C.col,C.endRow)}categoryRange(C,I){const B=this.workSheet.getColumn("category").number;return`${this.getAddress(B,C)}:${this.getAddress(B,I)},1`}categoryCellAddress(C){const I=this.workSheet.getColumn("category").number;return`${this.getAddress(I,C)}`}makeFormula(C,I,B){switch(C){case q.AggregateFunctions.Max:return`MAX(${this.getSeperateRange(I)})`;case q.AggregateFunctions.Min:return`MIN(${this.getSeperateRange(I)})`;case q.AggregateFunctions.Sum:return`SUM(${this.getSeperateRange(I)})`;case q.AggregateFunctions.Avg:case q.AggregateFunctions.Average:return`AVERAGE(${this.getSeperateRange(I)})`;case q.AggregateFunctions.Count:return`ROWS(${this.getSeperateRange(I)})`;case q.AggregateFunctions.Range:return`_xlfn.IFS(${this.ifsLogic(I,B,">=")})`;case q.AggregateFunctions.Switch:return`_xlfn.IFS(${this.ifsLogic(I,B,"=")})`}return""}ifsLogic(C,I,B){let z=I.params;if(z instanceof Map){const I=z,q=[...I.keys()].filter((C=>"default"!==C)).map((C=>parseFloat(C))).sort(((C,I)=>I-C)).map((z=>`${this.getSeperateRange(C)}${B}${z},"${I.get(z.toString())}"`));return q.push("TRUE"),q.push(`"${I.get("default")}"`),q}}makeAggregateFormula(C,I,B,z){let Q,ee={col:C+1,startRow:B.from,endRow:B.to};switch(I){case q.AggregateFunctions.Max:Q=`_xlfn.MAXIFS(${this.getRange(ee)},${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.Min:Q=`_xlfn.MINIFS(${this.getRange(ee)},${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.Count:Q=`_xlfn.COUNTIFS(${this.getRange(ee)},"${z[0]}",${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.Avg:case q.AggregateFunctions.Average:Q=`_xlfn.AVERAGEIFS(${this.getRange(ee)},${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.Total:Q=`_xlfn.COUNTIFS(${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.Sum:Q=`_xlfn.SUMIFS(${this.getRange(ee)},${this.categoryRange(ee.startRow,ee.endRow)})`;break;case q.AggregateFunctions.First:Q=`${this.getSeperateRange([{col:ee.col,row:ee.startRow}])}`;break;case q.AggregateFunctions.Last:Q=`${this.getSeperateRange([{col:ee.col,row:ee.endRow}])}`}return Q}makeMultiRangeAggregateFormula(C,I,B,z){var Q;const ee=C.require,formulas=(q,Q)=>Q.map((Q=>{var ee;const te=null===(ee=this.findCoordinate(Q,B))||void 0===ee?void 0:ee.col;return oe.Convert.isNull(te)?Object.keys(z).includes(Q)?z[Q]:void 0:this.makeAggregateFormula(te,q,I,C.params)}));switch(null!==(Q=C.func)&&void 0!==Q?Q:C.eval){case q.AggregateFunctions.Sum:return`SUM(${formulas(q.AggregateFunctions.Sum,ee)})`;case q.AggregateFunctions.Max:return`MAX(${formulas(q.AggregateFunctions.Max,ee)})`;case q.AggregateFunctions.Min:return`MIN(${formulas(q.AggregateFunctions.Min,ee)})`;case q.AggregateFunctions.Average:case q.AggregateFunctions.Avg:return`SUM(${formulas(q.AggregateFunctions.Sum,ee)})/SUM(${formulas(q.AggregateFunctions.Total,ee)})`;case q.AggregateFunctions.Total:return`SUM(${formulas(q.AggregateFunctions.Total,ee)})`}}findCoordinate(C,I){let B;for(const z in I.rows)if(B=I.rows[z].cells.find((I=>{var B;return!((null==I?void 0:I.column)instanceof se.GroupColumn)&&(null===(B=null==I?void 0:I.column)||void 0===B?void 0:B.field)===C})),oe.Convert.isValue(B))break;return{col:null==B?void 0:B.col,row:null==B?void 0:B.row}}findCell(C,I){let B;for(const z in I.rows)if(B=I.rows[z].cells.find((I=>{var B;return!((null==I?void 0:I.column)instanceof se.GroupColumn)&&(null===(B=null==I?void 0:I.column)||void 0===B?void 0:B.field)===C})),oe.Convert.isValue(B))break;return B}static createWorkbook(){}canceled(){const C=this.config.cancelFunc;oe.Convert.isValue(C)&&C()}writeFile(){return z(this,void 0,void 0,(function*(){ue.Log.time("ExcelExport.write"),this._workBook.xlsx.writeBuffer({}).then((C=>{const I=new Blob([C],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),B=window.URL.createObjectURL(I),z=document.createElement("a");z.href=B,z.download=this.fileName,z.click(),window.URL.revokeObjectURL(B),this.grid.container.find(`.${de.SbCss.hidden}.${de.SbCss.panel}>.${de.SbCss.scroll_body}`).remove(),ue.Log.timeEnd("ExcelExport.write")}))}))}parseFont(C,I){var B,z,q,Q;return{name:oe.Convert.default(null==C?void 0:C.name,null!==(B=null==I?void 0:I.name)&&void 0!==B?B:void 0),color:oe.Convert.default(null==C?void 0:C.color,null!==(z=null==I?void 0:I.color)&&void 0!==z?z:void 0),bold:oe.Convert.default(null==C?void 0:C.bold,null!==(q=null==I?void 0:I.bold)&&void 0!==q?q:void 0),size:oe.Convert.default(null==C?void 0:C.size,null!==(Q=null==I?void 0:I.size)&&void 0!==Q?Q:void 0)}}parseBorder(C,I){var B,z;return{color:oe.Convert.default(C.color,null!==(B=null==I?void 0:I.color)&&void 0!==B?B:void 0),style:oe.Convert.default(C.style,null!==(z=null==I?void 0:I.style)&&void 0!==z?z:"thin")}}parseFill(C,I){var B;return{bgColor:oe.Convert.default(C.bgColor,null!==(B=null==I?void 0:I.bgColor)&&void 0!==B?B:void 0)}}parseAlign(C,I){var B,z;return{vertical:oe.Convert.default(C.vertical,null!==(B=null==I?void 0:I.vertical)&&void 0!==B?B:void 0),horizontal:oe.Convert.default(C.horizontal,null!==(z=null==I?void 0:I.horizontal)&&void 0!==z?z:void 0)}}}I.ExcelExport=ExcelExport;class _ColumnRender extends ne.ColumnRender{renderText(C){let I=C[this.field];return I=this.formatFormula(I,this.dataType,this.format),`${this.prefix?this.joinQuotation(this.prefix)+"&":""}${null!=I?I:""}${this.suffix?"&"+this.joinQuotation(this.suffix):""}`}renderTemplate(C){if(oe.Convert.isValue(this.format))for(const I in C){let B=C[I];B=this.formatFormula(B,this.dataType,this.format),C[I]=B}return this.template(C)}joinQuotation(C){return`"${C}"`}textFormatFormula(C,I){return oe.Convert.isNull(I)?C:C=`IF(${C}>0,TEXT(${C},${I=`"${I}"`}),"")`}formatFormula(C,I,B){return oe.Convert.isValue(B)&&"string"==typeof B||I==oe.DataType.Date?(B=I==oe.DataType.Date&&oe.Convert.isEmpty(B)?"yyyy-mm-dd":B,this.textFormatFormula(C,B.toString())):C}}},4507:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ExcelImport=void 0,B(2108);var q=B(2108);const Q=B(5369),ee=B(5260),te=B(2948),ie=B(1163),re=B(6938),ne=B(5165);class ExcelImport extends te.GridImport{constructor(C,I){super(C),ie.Convert.isValue(I)&&(this.config=I)}get config(){var C,I;return null!==(C=this._config)&&void 0!==C?C:this._config=this.parseExcelImportConfig(null===(I=this.grid.config)||void 0===I?void 0:I.excelImport)}set config(C){this._config=this.parseExcelImportConfig(C)}get columns(){return this.grid.fixedColumns.filter((C=>C.config.exportVisible)).concat(super.columns)}readFile(C,I){var B,te,ie,re,se,oe;return z(this,void 0,void 0,(function*(){try{this.grid.exporting=!0;const I=new q.Workbook,z=yield C.arrayBuffer();yield I.xlsx.load(z);const ae=I.worksheets[0],le=[],ue=null!==(ie=null===(te=null===(B=this.config)||void 0===B?void 0:B.row)||void 0===te?void 0:te.from)&&void 0!==ie?ie:0,de=(null!==(oe=null===(se=null===(re=this.config)||void 0===re?void 0:re.row)||void 0===se?void 0:se.to)&&void 0!==oe?oe:ae.rowCount)+1,ce=this.getCellMatrix();let he=[];for(let C=ue;C<de;C++)if(he.push(ae.getRow(C)),he.length>=ce.length){const C=this.makeEditData(he,ce);le.push(C),he=[]}if(this.config.appendable){const C=this.config.insertStatus,I=le.map((C=>C.value));C?yield this.grid.addRowsCommand(new ne.AddRowsCommand(void 0,I)):yield this.grid.bulkAppend(I)}else ee.Log.debug(["Import Excel",le]),yield this.grid.importData(new Q.ImportCommand(le))}catch(C){}finally{this.grid.exporting=!1,I()}}))}getCellMatrix(){return re.GridLayout.makeRowLayout(this.grid,this.columns).toMatrix().matrix}makeEditData(C,I){const B={};return I.forEach(((I,z)=>{const q=C[z];this._makeEditData(B,q,I)})),{key:void 0,value:B}}_makeEditData(C,I,B){var z,q,Q,ee,te,re;const ne=I.cellCount,se=null!==(Q=null===(q=null===(z=this.config)||void 0===z?void 0:z.col)||void 0===q?void 0:q.from)&&void 0!==Q?Q:1,oe=null!==(re=null===(te=null===(ee=this.config)||void 0===ee?void 0:ee.col)||void 0===te?void 0:te.to)&&void 0!==re?re:ne;I.splice(oe,ne-oe),I.splice(1,se-1),B.forEach(((B,z)=>{if(z>=I.cellCount)return;const q=I.getCell(z+1),Q=B.column;if(0==C.hasOwnProperty(Q.field)){let z=ie.Convert.isValue(q.formula)?q.result:q.value;if(ie.Convert.isValue(z)&&"object"==typeof z){const C=z;ie.Convert.isValue(C.formula)&&(z=C.result)}z=ie.Convert.isValue(this._config.adjustValue)?this._config.adjustValue(z,null==B?void 0:B.column,I.number):z,C[Q.field]=z}}))}parseExcelImportConfig(C){var I,B,z,q;return{appendable:ie.Convert.default(null==C?void 0:C.appendable,!1),insertStatus:ie.Convert.default(null==C?void 0:C.insertStatus,!1),row:{from:ie.Convert.default(null===(I=null==C?void 0:C.row)||void 0===I?void 0:I.from,1),to:ie.Convert.default(null===(B=null==C?void 0:C.row)||void 0===B?void 0:B.to,void 0)},col:{from:ie.Convert.default(null===(z=null==C?void 0:C.col)||void 0===z?void 0:z.from,1),to:ie.Convert.default(null===(q=null==C?void 0:C.col)||void 0===q?void 0:q.to,void 0)},delimiter:ie.Convert.default(null==C?void 0:C.delimiter,","),adjustValue:ie.Convert.default(null==C?void 0:C.adjustValue,void 0)}}}I.ExcelImport=ExcelImport},4367:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GridExport=void 0;const q=B(3354),Q=B(6258),ee=B(6938),te=B(2562),ie=B(5774),re=B(103),ne=B(5260),se=B(1163);class GridExport extends ee.GridLayouts{constructor(C){super(C)}get grid(){return this._grid}get view(){return this.grid.view}get rowRange(){return Q.RowRange.Loaded}get cancelled(){var C,I;return null!==(I=null===(C=this._token)||void 0===C?void 0:C.cancelled)&&void 0!==I&&I}exportCancelled(C){}export(C){return z(this,void 0,void 0,(function*(){try{this.grid.view.isLoading("export",!0),this.grid.exporting=!0,this.prepareColumns(),this._token=C;let I=1;yield this.prepareRows(),I=yield this.exportCaption(this.captionLayout,I,((C,I)=>this.grid.scrollPanel.captionPanel.makeColClass(C,I).colClass)),this.grid.hasHeader&&(I=yield this.exportHeader(this.headerLayout,I,((C,I)=>this.grid.scrollPanel.headerPanel.makeColClass(C,I).colClass))),I=yield this.exportBody(this.rowLayout,I,((C,I,B)=>this.grid.scrollPanel.bodyPanel.tbody.makeColClass(B,C,I).colClass),(C=>this.grid.scrollPanel.bodyPanel.tbody.makeRowClass(C).rowClass)),this.grid.hasFooter&&(I=yield this.exportFooter(this.footerLayout,I,((C,I)=>this.grid.scrollPanel.footerPanel.makeColClass(C,I).colClass))),yield this.writeFile()}catch(C){if(!this.cancelled)throw C;this.exportCancelled(C)}finally{this.grid.view.isLoading("export",!1),this.grid.exporting=!1}}))}prepareColumns(){const C=[].concat(this._grid.headColumns.filter((C=>C.type!=ie.ColumnTypes.Frozen))).concat(this._grid.scrollColumns).concat(this._grid.tailColumns.filter((C=>C.type!=ie.ColumnTypes.Frozen)));super.columns=C.filter((C=>C.visible))}prepareRows(){return z(this,void 0,void 0,(function*(){}))}writeFile(){return z(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}exportCaption(C,I,B){return z(this,void 0,void 0,(function*(){throw new Error("[exportCaption] Method not implemented.")}))}exportHeader(C,I,B){return z(this,void 0,void 0,(function*(){throw new Error("[exportHeader] Method not implemented.")}))}exportFooter(C,I,B){return z(this,void 0,void 0,(function*(){throw new Error("[exportFooter] Method not implemented.")}))}getRow(C,I){return z(this,void 0,void 0,(function*(){return yield this.view.getRow(C,I)}))}exportBody(C,I,B,q){return z(this,void 0,void 0,(function*(){try{ne.Log.time("exportBody");let Q=yield this.getRows();Q=Q.filter((C=>C.rowItem.visible)),ne.Log.timeLog("exportBody","getRow after",Q.length),(this.grid.config.mergeRow||this.grid.config.mergeColumn)&&te.Viewport.makeMergeRow(Q,this.rowLayout),ne.Log.timeLog("exportBody","merge after"),yield se.Arrays.intervalAction(Q,((Q,ee,te)=>z(this,void 0,void 0,(function*(){const z=Q.rowItem,te=Q.merge,ie=this.getLayout(C,z);let re;if(re=ie.isGroupHeader?this.exportGroupHeader(ie.layout,I,B,q,z):ie.isGroupFooter?this.exportGroupFooter(ie.layout,I,B,q,z):ie.isTreeFooter?this.exportTreeFooter(ie.layout,I,B,q,z):this.exportRow(ie.layout,I,B,q,z,te),this.cancelled)throw"export canceled";return I=yield re,(ee+1)%1e3==0}))))}finally{ne.Log.timeEnd("exportBody")}return I}))}getRows(){var C,I,B;return z(this,void 0,void 0,(function*(){let z,ee=0;const te=[];switch(this.rowRange){case Q.RowRange.Whole:let ie=0,re=null!==(B=null===(I=null===(C=this.view)||void 0===C?void 0:C.dataSource.pageMap)||void 0===I?void 0:I.lastPageNo)&&void 0!==B?B:0;for(;ie<=re;ie++)yield this.view.loadPage(ie,!1);case Q.RowRange.Loaded:{const C=this.rowRange==Q.RowRange.Loaded;for(;z=this.getRow(ee++,C);){if(this.cancelled)throw"export canceled";const C=yield z;if(se.Convert.isNull(C))break;C.node instanceof q.GroupNode&&!C.isOpen&&(yield this.view.openRow(C.rowIndex)),te.push({rowItem:C})}break}case Q.RowRange.Page:{ee=this.grid.scrollWhole?this.grid.pageNo*this.grid.pageSize:0;const C=ee+this.grid.pageSize;for(;(z=this.getRow(ee++,!0))&&!(ee>C);){if(this.cancelled)throw"export canceled";const C=yield z;if(se.Convert.isNull(C))break;C.node instanceof q.GroupNode&&!C.isOpen&&(yield this.grid.view.openRow(C.rowIndex)),te.push({rowItem:C})}break}}return te}))}exportRow(C,I,B,q,Q,ee){return z(this,void 0,void 0,(function*(){throw new Error("[exportRow] Method not implemented.")}))}exportTreeFooter(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){throw new Error("[exportTreeFooter] Method not implemented.")}))}exportGroupFooter(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){throw new Error("[exportGroupFooter] Method not implemented.")}))}exportGroupHeader(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){throw new Error("[exportGroupHeader] Method not implemented.")}))}writeValue(C,I,B){throw new Error("[writeValue] Method not implemented.")}canceled(){}makeTreeFooters(C){var I;return re.ColumnRender.parseColumnTemplate(null===(I=C.config.tree)||void 0===I?void 0:I.footer)}makeTotalData(C){var I;return re.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(I=C.config.total)||void 0===I?void 0:I.aggregates)}makeTreeData(C,I){var B;if(C.node instanceof q.FooterNode&&C.node.parent instanceof q.TreeNode&&se.Convert.isValue(null===(B=this.grid.dataConfig.tree)||void 0===B?void 0:B.aggregates)&&se.Convert.isValue(C.node.aggregates)){return re.GridColumn.makeTreeData(C.node.aggregates,I.config.tree,C.parent)}}makeGroupFooters(C,I){var B;const z=C.node instanceof q.FooterNode?C.node.parent:C.node;if(z instanceof q.GroupNode){const C=z.igroup;return null===(B=I.getGroup(C.field))||void 0===B?void 0:B.footers}}makeGroupHeaders(C,I){var B;const z=C.node instanceof q.FooterNode?C.node.parent:C.node;if(z instanceof q.GroupNode){const C=z.igroup;return null===(B=I.getGroup(C.field))||void 0===B?void 0:B.headers}}makeGroupData(C,I){var B;const z=C.node instanceof q.FooterNode?C.node.parent:C.node;if(z instanceof q.GroupNode){const q=z.igroup,{groups:Q}=I.getGroup(q.field);if(se.Convert.isValue(Q)){return re.GridColumn.makeGroupData(q.aggregates,Q,null!==(B=C.parent)&&void 0!==B?B:C)}}}}I.GridExport=GridExport},2948:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GridImport=void 0;const q=B(5774),Q=B(1163);I.GridImport=class GridImport{constructor(C){this._grid=C}get grid(){return this._grid}get columns(){if(Q.Convert.isEmpty(this._columns)){const C=[].concat(this._grid.headColumns.filter((C=>C.type!=q.ColumnTypes.Frozen))).concat(this._grid.scrollColumns).concat(this._grid.tailColumns.filter((C=>C.type!=q.ColumnTypes.Frozen)));this._columns=C.filter((C=>C.visible))}return this._columns}excelImport(C){return z(this,void 0,void 0,(function*(){this._grid.exporting=!0,this._grid.showLoading(!0),yield this.readFile(C,(()=>{this._grid.exporting=!1,this._grid.showLoading(!1)}))}))}}},2875:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ButtonColumn=void 0;const q=B(1163),Q=B(103),ee=B(6258),te=B(6312),ie=B(7078),re=B(2135);class ButtonColumn extends Q.GridColumn{editable(){var C;return(null===(C=this.grid.editConfig)||void 0===C?void 0:C.mode)===ee.EditMode.inline}get mergeColumn(){return!1}get mergeRow(){return!1}get commands(){if(q.Convert.isNull(this._commands)){const C=this.config.command;if(this._commands=[],q.Convert.isValue(C))for(const I of C){const C=re.RowCommandFactory.createTool(this.grid,I);q.Convert.isValue(C)&&this._commands.push(C)}}return this._commands}get editCommands(){if(q.Convert.isNull(this._editCommands)){const C=this.commands.find((C=>C.command===re.RowCommands.Edit)),I=[re.RowCommands.Update,re.RowCommands.Cancel];if(q.Convert.isNull(C))return this._editCommands=this.commands,this._editCommands;this._editCommands=[];for(const C of I){const I=re.RowCommandFactory.createTool(this.grid,C);q.Convert.isValue(I)&&this._editCommands.push(I)}for(const C of this.commands)C.command===re.RowCommands.Custom&&this._editCommands.push(C)}return this._editCommands}constructor(C,I){super(C,I)}static create(C,I){return new ButtonColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){return super.parseConfig(C,I,B)}renderCell(C,I,B){var Q;return z(this,void 0,void 0,(function*(){this.removeElement(C);const z=this.makeCell(C,I,B);for(const C of z.children())te.SBGrid3.$(C).hasClass(ie.SbCss.edit)&&C.parentNode.removeChild(C);for(const C of this.commands){const ee=C instanceof re.RowButton?ie.SbCss.command:ie.SbCss.custom,te=`>span#${C.name}.${ee}.${ie.SbCss.button}`,ne=q.JqUtils.adjustElement(z,`> span#${C.name}`,`<span id='${C.name}' class='${ee} ${ie.SbCss.button}'/>`);ne.data("selector",te),C.render(ne,I,null!==(Q=null==B?void 0:B.column)&&void 0!==Q?Q:this)}}))}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){if(0==this.editable())return;const z=this.makeCell(C,I,B);for(const C of z.children())te.SBGrid3.$(C).hasClass(ie.SbCss.edit)||C.parentNode.removeChild(C);for(const C of this.editCommands){const B=C instanceof re.RowButton?ie.SbCss.command:ie.SbCss.custom,Q=q.JqUtils.adjustElement(z,`> span#${C.name}`,`<span id='${C.name}' class='${B} ${ie.SbCss.button} ${ie.SbCss.edit}'/>`);C.render(Q,I,this)}}))}removeElement(C){C.children().empty()}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${ie.SbCss.text}`,{cellSelector:B,cellClass:z}}}I.ButtonColumn=ButtonColumn},5615:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CheckColumn=I.CheckEditMode=I.CheckViewMode=void 0;const q=B(1163),Q=B(103),ee=B(9797),te=B(6312),ie=B(7078),re=B(5369),ne=B(7443),se=B(860),oe=B(5165);var ae,le;!function(C){C.Check="check",C.Label="label",C.CheckLabel="checkLabel"}(ae||(I.CheckViewMode=ae={})),function(C){C.Cell="cell",C.Checkbox="checkbox"}(le||(I.CheckEditMode=le={}));class CheckColumn extends Q.GridColumn{constructor(C,I){super(C,I)}static create(C,I){return new CheckColumn(C,I)}get config(){return super.config}get mergeColumn(){return!1}get mergeRow(){return!1}get directApplyEdit(){return this.config.directApplyEdit}parseConfig(C,I,B){var z,Q,ee,te,ie,re,ne;let se=super.parseConfig(C,I,B);if(se.checkValue=q.Convert.default(C.checkValue,null!==(z=null==I?void 0:I.checkValue)&&void 0!==z?z:void 0),se.checkLabel=q.Convert.default(C.checkLabel,null!==(Q=null==I?void 0:I.checkLabel)&&void 0!==Q?Q:void 0),se.unCheckValue=q.Convert.default(C.unCheckValue,null!==(ee=null==I?void 0:I.unCheckValue)&&void 0!==ee&&ee),se.unCheckLabel=q.Convert.default(C.unCheckLabel,null!==(te=null==I?void 0:I.unCheckLabel)&&void 0!==te?te:void 0),se.viewMode=q.Convert.default(C.viewMode,null!==(ie=null==I?void 0:I.viewMode)&&void 0!==ie?ie:ae.Label),se.checkMode=q.Convert.default(C.checkMode,null!==(re=null==I?void 0:I.checkMode)&&void 0!==re?re:le.Cell),se.showOriginValue=q.Convert.default(C.showOriginValue,null!==(ne=null==I?void 0:I.showOriginValue)&&void 0!==ne&&ne),se.directApplyEdit&&(se.directApplyValue=!0),q.Convert.isEmpty(se.checkValue))throw"checkValue is empty";return se}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){if(this.config.directApplyEdit&&this.editable(I))this.renderEdit(C,I,B);else{const z=this.makeCell(C,I,B);yield this._renderCell(z,I,B)}}))}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);yield this._renderEdit(z,I,B)}))}editMode(C,I){return z(this,void 0,void 0,(function*(){const B=q.JqUtils.adjustElement(C,`span.${ie.SbCss.checkbox}`,`<span class=${ie.SbCss.checkbox}></span>`),z=this.config.checkMode===le.Checkbox?B:C;this.isFocused(I,se.PanelType.Body)&&B.get(0).focus({preventScroll:!0});const ee=this.getEventKey(I);this.grid.setEvent(Q.GridColumn.eventName,"mousedown",ee,(B=>{if(1!==B.which)return!1;C.hasClass(ie.SbCss.check)&&this.toggle(C,I)}),z),this.grid.setEvent(Q.GridColumn.eventName,"keydown",ee,(B=>C.hasClass(ie.SbCss.check)&&this.onKeyDown(B,C,I)),B)}))}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=C.isCheck?` ${ie.SbCss.checked}`:"",z+=` ${ie.SbCss.text}`,{cellSelector:B,cellClass:z}}getCellTemplate(C){const I=this.getTooltipData(C);return this.cellTemplate(I)}_renderCell(C,I,B,ee=!1){return z(this,void 0,void 0,(function*(){const B=q.JqUtils.adjustElement(C,`div.${ie.SbCss.checkboxGroup}`,`<div class=${ie.SbCss.checkboxGroup}>`),z=this.getEventKey(I);if(this.grid.setEvent(Q.GridColumn.eventName,"mousedown",z,void 0,C),q.Convert.isValue(this.cellTemplate)||q.Convert.isValue(this.config.customView))return this.renderCustomView(C,I,this.getTooltipData(I)),C;const ee=this.config.viewMode;return this.removeElement(C),this.renderViewMode(B,I,ee),C}))}_renderEdit(C,I,B,Q=!1){return z(this,void 0,void 0,(function*(){const B=q.JqUtils.adjustElement(C,`div.${ie.SbCss.checkboxGroup}`,`<div class=${ie.SbCss.checkboxGroup}>`);C.contents().filter(((C,I)=>3===I.nodeType)).remove();const z=this.config.viewMode===ae.Label?ae.CheckLabel:this.config.viewMode;return this.removeElement(C),this.renderViewMode(B,I,z),this.editMode(C,I),q.JqUtils.addClass(C,ie.SbCss.edit),C}))}renderViewMode(C,I,B){switch(B){case ae.Label:this.renderLabel(C,I),te.SBGrid3.$(`span.${ie.SbCss.checkbox}`,C).remove();break;case ae.Check:this.renderCheckbox(C,I),te.SBGrid3.$(`span.${ie.SbCss.text}`,C).remove();break;case ae.CheckLabel:this.renderCheckbox(C,I),this.renderLabel(C,I)}}renderLabel(C,I){const B=this.getItemData(I),z=q.JqUtils.adjustElement(C,`label.${ie.SbCss.text}`,`<label class=${ie.SbCss.text}></label>`),Q=z.text(),ee=this.config.showOriginValue?q.Convert.asText(B):this.getCheckLabel(B);ee!==Q&&q.JqUtils.adjustHtml(z,ee)}renderCheckbox(C,I){const B=this.getItemData(I),z=q.JqUtils.adjustElement(C,`span.${ie.SbCss.checkbox}`,`<span class="${ie.SbCss.checkbox}"></span>`,(C=>C.hasClass(ie.SbCss.text))).attr("tabindex",0);this.getCheckState(B)?q.JqUtils.addClass(z,ie.SbCss.checked):q.JqUtils.removeClass(z,ie.SbCss.checked)}getEditValue(C){var I;if(C.length<1||!C.hasClass(ie.SbCss.edit))return null;const B=null!==(I=C.find(` .${ie.SbCss.checkbox}`).hasClass(ie.SbCss.checked))&&void 0!==I&&I;return this.getCheckValue(B)}getCheckValue(C){const{checkValue:I,unCheckValue:B}=this.config;return C?I:B}getCheckLabel(C){const{checkLabel:I,unCheckLabel:B}=this.config;return this.getCheckState(C)?null!=I?I:q.Convert.asText(C):null!=B?B:q.Convert.asText(C)}getCheckState(C){const I=this.config.checkValue;return"function"==typeof I?I(C):C===I}getItemData(C){return this.config.directApplyEdit?this.getLabelData(C,void 0):this.isEdit(C)?this.getTemp(C):this.getLabelData(C,void 0)}toggle(C,I){return z(this,void 0,void 0,(function*(){const B=q.JqUtils.adjustElement(C,`span.${ie.SbCss.checkbox}`,`<span class=${ie.SbCss.checkbox}></span>`);B.is(`.${ie.SbCss.checkbox}`)&&B.toggleClass(`${ie.SbCss.checked}`),this.setTemp(I,C),this.fireCommandAsync(this,new oe.RefreshCommand({rowStart:I.rowIndex,rowEnd:I.rowIndex}))}))}onKeyDown(C,I,B){return z(this,void 0,void 0,(function*(){switch(C.preventDefault(),C.key){case ne.KeyboardShortCut.Space:return yield this.toggle(I,B),!1;case ne.KeyboardShortCut.Escape:case ne.KeyboardShortCut.Enter:case ne.KeyboardShortCut.Tab:return!0}return!0}))}removeElement(C){if(!(C.children().length<1))for(const I of C.children()){const C=I.classList.contains(ie.SbCss.checkboxGroup),B=I.classList.contains(ie.SbCss.text);C||B||I.remove()}}toggleCaptionCheck(){super.toggleCaptionCheck();const C=[];for(const I of this.grid.rows){if(q.Convert.isNull(I))continue;const B=I.data[this.field],z=this.getCheckValue(this.captionChecked);B!==z&&C.push({value:z,key:I.key,field:this.field})}this.fireCommandAsync(this,new re.UpdateCommand(C))}isEditColumn(C,I){var B;if(this===C&&q.Convert.isValue(I)){const C=this.grid.getContainer(I,this);if(!this.config.directApplyEdit&&!this.isEdit(I))return!1;const z=te.SBGrid3.$(`span.${ie.SbCss.checkbox}`,C);if(z.length<1)return;null===(B=z.get(0))||void 0===B||B.focus({preventScroll:!0})}return!0}getTooltipData(C,I=void 0){const B=q.Convert.cloneData(C.data),z=this.getValue(C),Q=this.getCheckLabel(z);return B._label_=Q,B._value_=z,B}getCellLabel(C){const I=C instanceof ee.RowItem?this.getItemData(C):C;return this.config.showOriginValue?q.Convert.asText(I):this.getCheckLabel(I)}}I.CheckColumn=CheckColumn},1009:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnFactory=void 0;const z=B(1163),q=B(5615),Q=B(5774),ee=B(289),te=B(6923),ie=B(2154),re=B(103),ne=B(8964),se=B(3849),oe=B(150),ae=B(3960),le=B(1095),ue=B(2875),de=B(4732),ce=B(8788),he=B(1046);I.ColumnFactory=class ColumnFactory{static create(C,I){let B="function"==typeof I.type?Q.ColumnTypes.Dynamic:z.Convert.parseEnum(Q.ColumnTypes,I.type);switch(B){case Q.ColumnTypes.RowNo:return new ce.RowNoColumn(C,I);case Q.ColumnTypes.Sticky:return new ce.StickyColumn(C,I);case Q.ColumnTypes.Detail:return new ce.DetailClickColumn(C,I);case Q.ColumnTypes.RowCheck:return new ce.RowCheckColumn(C,I);case Q.ColumnTypes.RowRadio:return new ce.RowRadioColumn(C,I);case Q.ColumnTypes.RowReorder:return new ce.RowReorderColumn(C,I);case Q.ColumnTypes.Frozen:return new ce.FrozenColumn(C,I);case Q.ColumnTypes.Status:return new ce.StatusColumn(C,I);case Q.ColumnTypes.Group:return new ne.GroupColumn(C,I);case Q.ColumnTypes.Tree:return new le.TreeColumn(C,I);case Q.ColumnTypes.Dropdown:return new ie.DropDownColumn(C,I);case Q.ColumnTypes.Check:return new q.CheckColumn(C,I);case Q.ColumnTypes.Date:return new te.DateColumn(C,I);case Q.ColumnTypes.Number:return new oe.NumberColumn(C,I);case Q.ColumnTypes.Radio:return new de.RadioColumn(C,I);case Q.ColumnTypes.MultiText:return new se.MultiTextColumn(C,I);case Q.ColumnTypes.Button:return new ue.ButtonColumn(C,I);case Q.ColumnTypes.Combo:return new ee.ComboColumn(C,I);case Q.ColumnTypes.Text:return new ae.TextColumn(C,I);case Q.ColumnTypes.Dynamic:return new he.DynamicColumn(C,I);case Q.ColumnTypes.Multi:case Q.ColumnTypes.Html:case Q.ColumnTypes.Image:default:return new re.GridColumn(C,I)}throw`'${B}' is unknown column type.`}}},1977:()=>{},2987:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ResizeOptionParser=I.AutoFitMode=I.ResizeMode=I.ColumnResize=void 0;const z=B(5260),q=B(1163),Q=B(5774),ee=B(7721),te=B(6312),ie=B(7078),re=B(860),ne=B(8964);var se,oe;I.ColumnResize=class ColumnResize{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._grid.config.resizable}set option(C){this._option=C}constructor(C){this.dragging=!1,this.lastMouseX=0,this.isRight=!1,this._grid=C}renderIndecator(C){const I=q.JqUtils.adjustElement(C,`>div.${ie.SbCss.resize_indicator}`,`<div class='${ie.SbCss.resize_indicator}'></div>`);this._grid.setEvent("ColumnResize","mouseover","IndicatorShow",(()=>{I.css("opacity","1")}),I),this._grid.setEvent("ColumnResize","mouseout","IndicatorHide",(()=>{I.css("opacity","0")}),I),I.draggable({axis:"x",start:(C,I)=>{this.dragging=!0,this.lastMouseX=C.pageX},stop:(C,I)=>{let B=C.pageX;const z=C.ctrlKey;this.option.mode===se.GuideLine&&this.resizeWithPosition(this.lastMouseX,B,z),this.dragging=!1},drag:(C,I)=>{if(this.dragging){let I=C.pageX;const B=C.ctrlKey;if(this.option.mode===se.Column)try{this.resizeWithPosition(this.lastMouseX,I,B),this.lastMouseX=I}catch(C){z.Log.warn((()=>C))}}}});const B=this.option.autoFit;q.Convert.isValue(B)&&this._grid.setEvent("ColumnResize","dblclick","AutoFit",(C=>{var B;if(q.Convert.isNull(this.resizableCol))return;const z=this._grid.getColumn(this.resizableCol);if(q.Convert.isValue(z)){(null===(B=this.getCell(z))||void 0===B?void 0:B.width)!==this.autoFit(z)&&I.css("opacity","0")}}),I);const Q=C.find(`.${ie.SbCss.thead}`);this._grid.setEvent("ColumnResize","mousemove","IndicatorMove",(I=>{this.mouseMove(I,C)}),Q),I.draggable("option","helper",((I,B)=>{const z=q.JqUtils.adjustElement(C,`>div.${ie.SbCss.resize_helper}`,`<div class='${ie.SbCss.resize_helper}'></div>`),Q=this._grid.container.find(`.${ie.SbCss.scroll_body}`);return this.option.mode===se.GuideLine&&z.height(Q.height()),z}))}mouseMove(C,I){if(!1===this.dragging){const B=this.getJqCol(te.SBGrid3.$(C.target));if(q.Convert.isNull(B))return;let z=C.pageX-B.offset().left;if(this.resizableCol=this.findResizableCol(B,z),q.Convert.isNull(this.resizableCol))return;let Q=I.find(`>.${ie.SbCss.resize_indicator}`);this.moveIndicator(Q,B,z)}}getJqCol(C){if(C.is(`.${ie.SbCss.indicator}`))return;let I=C.closest(`.${ie.SbCss.col}`);return I.length<=0?void 0:I}findResizableCol(C,I){let B=this._grid.getColumn(C);if(q.Convert.isNull(B))return;if(B.part===ee.PartType.Fixed)return;let z=this.getDirection(C,I),Q=this.findCell(B,z);if(q.Convert.isNull(Q))return;if(Q.column instanceof ne.GroupColumn)return;return this._grid.getContainer(void 0,Q.column,re.PanelType.Caption)}tailDirection(C){const I=this.findCell(C,-1);return 0===this.getBetweenLength(C,I.column)?-1:1}moveIndicator(C,I,B){var z;if(q.Convert.isNull(this.resizableCol))return;const Q=this._grid.container.find(`.${ie.SbCss.panel}.${ie.SbCss.caption}`).offset(),ee=this.resizableCol.offset();C.height(this.resizableCol.height());let te=null!==(z=null==ee?void 0:ee.top)&&void 0!==z?z:0,re=I.offset(),ne=I.outerWidth(),se=ne/2,oe=re.left;oe+=B<=se?-2:ne,C.css({transform:`translate(${oe-Q.left}px, ${te-Q.top}px)`})}getDirection(C,I){var B;this.isRight=!1;const z=this._grid.getColumn(C);if(q.Convert.isNull(z))return;let te,ie=C.width()/2;switch(z.part){case ee.PartType.Head:te=(null===(B=z.config)||void 0===B?void 0:B.type)===Q.ColumnTypes.Frozen?-1:ie<I?0:-1;break;case ee.PartType.Tail:const C=this.getBetweenBodyAndTail();this.isRight=C>5,te=this.isRight?ie<I?1:0:ie<I?0:-1;break;case ee.PartType.Sticky:case ee.PartType.Body:te=I>ie?0:-1;break;case ee.PartType.Fixed:return}return te}isLastColumn(C,I){return!!q.Convert.isValue(q.Arrays.dfsSearch([I],(I=>{var B;return I===C||(q.Convert.isValue(null==I?void 0:I.columns)?[null===(B=null==I?void 0:I.columns)||void 0===B?void 0:B.at(-1)]:void 0)})))}isTailFirst(C){const I=this._grid.captionLayout,B=q.Utils.findCellFromColumn(I,C);return this._grid.captionMatrix.getCell(B.row,B.col-1).column.config.type===Q.ColumnTypes.Frozen}getBetweenLength(C,I){const B=this.getSelector(q.Utils.findCellFromColumn(this._grid.captionLayout,C)),z=this._grid.container.find(`.${ie.SbCss.caption}.${ie.SbCss.panel}`),Q=z.find(B),ee=Q.position(),te=q.Utils.findCellFromColumn(this._grid.captionLayout,I);if(q.Convert.isNull(te))return;const re=this.getSelector(te),ne=z.find(re),se=ne.position();return ee.left<se.left?se.left-(ee.left+Q.width()):ee.left-(se.left+ne.width())}getBetweenBodyAndTail(){if(q.Convert.isEmpty(this._grid.tailColumns))return 0;const C=this._grid.scrollColumns.filter((C=>C.visible)),I=C[C.length-1],B=this._grid.getContainer(void 0,I,re.PanelType.Caption),z=null==B?void 0:B.offset();if(q.Convert.isNull(z))return 0;const Q=this._grid.tailColumns[0],ee=this._grid.getContainer(void 0,Q,re.PanelType.Caption),te=null==ee?void 0:ee.offset();return q.Convert.isNull(te)?0:z.left+B.outerWidth()<=te.left?te.left-(z.left+B.outerWidth()):z.left+B.outerWidth()-te.left}findCell(C,I){var B,z;let te=q.Utils.findCellFromColumn(this._grid.captionLayout,C);if(0===I)return te;const ie=this._grid.captionMatrix;let re;try{re=ie.getCell(null==te?void 0:te.row,(null==te?void 0:te.col)+I),0===(null==re?void 0:re.width)&&(re=this.findCell(re.column,I))}catch(C){}finally{if((null===(B=null==re?void 0:re.column)||void 0===B?void 0:B.config.type)===Q.ColumnTypes.Frozen&&(re=this.findCell(re.column,I)),(null==re?void 0:re.part)===ee.PartType.Fixed)return;return q.Convert.isNull(re)&&this.isLastColumn(C,this._grid.tailColumns[(null===(z=this._grid.tailColumns)||void 0===z?void 0:z.length)-1])&&(re=te),re}}getSelector(C){return` .${ie.SbCss.col}.${ie.SbCss.col}-${C.row+1}-${C.col}`}resizeWithPosition(C,I,B){if(q.Convert.isNull(this.resizableCol))return;const z=this._grid.getColumn(this.resizableCol);if(q.Convert.isNull(z))return;let Q=z.part==ee.PartType.Tail&&this.isRight?C-I:I-C;if(0==Q)return;const te=this.getCell(z);if(q.Convert.isNull(te))return;let ie=te.width+Q;this.resize(z,ie,B)}getCell(C){var I;const B=this._grid.captionLayout;for(let z=0;z<B.rows.length;z++){const Q=B.rows[z],ee=null===(I=null==Q?void 0:Q.cells)||void 0===I?void 0:I.find((I=>(null==I?void 0:I.column)==C));if(q.Convert.isValue(ee))return ee}}adjustBodyLastColumnWidth(C,I){var B;const z=this.getBetweenBodyAndTail(),q=(null===(B=this.getCell(C))||void 0===B?void 0:B.width)+z;return q<I?q:I}resize(C,I,B){const{minWidth:q,maxWidth:Q}=this.option;I>Q&&(I=Q),I<q&&(I=q);const te=this.getBetweenBodyAndTail(),ie=C.part===ee.PartType.Body&&this.isLastColumn(C,this._grid.scrollColumns[this._grid.scrollColumns.length-1])&&te>1?this.adjustBodyLastColumnWidth(C,I):I;z.Log.debug(["------------\x3e",C.config.caption,ie,B]),this._grid.setColumnSize(C,ie,B)}autoFit(C,I){const B=C.grid;let z=q.Convert.isValue(C.columns)?C.columns.reduce(((C,I)=>C+this.autoFit(I)),0):0;const Q=this.makeSelector(C,I);if(q.Convert.isNull(Q))return;const ee=B.container.find(Q),re=te.SBGrid3.$(`div.${ie.SbCss.panel}.${ie.SbCss.hidden}`,B.container),ne=q.JqUtils.adjustElement(re,`>div.${ie.SbCss.panel}.resize`,`<div class='${ie.SbCss.panel} resize'></div>`);let se=0;return ee.each(((C,I)=>{let B=I.cloneNode(!0);this.copyStyle(I,B),ne.append(B);const z=ne.find(B).outerWidth()+2;se=Math.max(z,se)})),se++,z<se?this.resize(C,se,!1):se=z,ne.remove(),se}copyStyle(C,I){const B=window.getComputedStyle(C),z=te.SBGrid3.$(I);["padding","margin"].forEach((C=>{["top","bottom","left","right"].forEach((I=>{const q=`${C}-${I}`;z.css(q,B.getPropertyValue(q))}))}));const q=B.getPropertyValue("font-size");z.css("font-size",q);for(var Q=C.children,ee=I.children,ie=0;ie<Q.length;ie++)this.copyStyle(Q[ie],ee[ie])}makeSelector(C,I){if((I=null!=I?I:this.option.autoFit).includes(oe.Caption)&&I.includes(oe.Data)){const I=this.makeSelector(C,[oe.Data]),B=this.makeSelector(C,[oe.Caption]);return q.Convert.isNull(I)||q.Convert.isNull(B)?void 0:`${I}, ${B}`}if(I.includes(oe.Caption)){const I=q.Utils.findCellFromColumn(this._grid.captionLayout,C);return q.Convert.isNull(I)?void 0:`.${ie.SbCss.panel}.${ie.SbCss.scroll} .${ie.SbCss.panel}.${ie.SbCss.caption} .${ie.SbCss.col}.${ie.SbCss.col}-${I.row+1}-${I.col}`}if(I.includes(oe.Data)){const I=q.Utils.findCellFromColumn(this._grid.rowLayout,C);return q.Convert.isNull(I)?void 0:`.${ie.SbCss.panel}.${ie.SbCss.scroll} .${ie.SbCss.panel}.${ie.SbCss.body} .${ie.SbCss.col}.${ie.SbCss.col}-${I.row+1}-${I.col}`}}},function(C){C.GuideLine="guideLine",C.Column="column"}(se||(I.ResizeMode=se={})),function(C){C.Caption="caption",C.Data="data"}(oe||(I.AutoFitMode=oe={}));class ResizeOptionParser{static parseResizeOption(C){let I;if(!0===C)I=te.SBGrid3.default.defaultResizable;else{if(!1===C)return;I="string"==typeof C?ResizeOptionParser.parseResizeOption({mode:q.Convert.parseEnum(se,C)}):{mode:q.Convert.parseEnum(se,C.mode),maxWidth:q.Convert.default(C.maxWidth,void 0),minWidth:q.Convert.default(C.minWidth,10),autoFit:q.Convert.default(C.autoFit,[oe.Caption,oe.Data],(C=>ResizeOptionParser.parseAutoFit(C)))}}return I}static parseAutoFit(C){if(!0===C)return[oe.Caption,oe.Data];if(!1!==C){if("string"==typeof C)return this.parseAutoFit([C]);if(C instanceof Array)return C.map((C=>q.Convert.parseEnum(oe,C)));throw`not supported autofit option ${C}`}}}I.ResizeOptionParser=ResizeOptionParser},5774:(C,I)=>{"use strict";var B;Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnTypes=void 0,function(C){C.Text="text",C.Number="number",C.Date="date",C.Check="check",C.Radio="radio",C.Dropdown="dropdown",C.MultiText="multitext",C.Html="html",C.Image="image",C.Multi="multi",C.Group="groupIndicator",C.Tree="tree",C.Calc="calc",C.Hidden="hidden",C.Button="button",C.Combo="combo",C.RowNo="rowno",C.Sticky="sticky",C.Frozen="frozen",C.Detail="detail",C.RowCheck="rowcheck",C.RowRadio="rowradio",C.RowReorder="rowreorder",C.Status="status",C.Dynamic="dynamic"}(B||(I.ColumnTypes=B={}))},289:function(C,I,B){"use strict";var z=B(4692),q=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ComboColumn=I.PopupColumn=I.ItemsColumn=I.defaultFilterRegExp=I.AutoCompleteType=I.ComboViewMode=I.PopupPositionType=void 0;const Q=B(1163),ee=B(103),te=B(9797),ie=B(2663),re=B(6312),ne=B(7078),se=B(5165),oe=B(5369),ae=B(860),le=B(7443),ue=B(6252),de=B(5774);var ce,he,fe;!function(C){C.Top="top",C.Bottom="bottom",C.Auto="auto"}(ce||(I.PopupPositionType=ce={})),function(C){C.Value="value",C.Label="label",C.Both="both"}(he||(I.ComboViewMode=he={})),function(C){C.Contains="contains",C.StartsWith="startsWith",C.EndsWith="endsWith"}(fe||(I.AutoCompleteType=fe={})),I.defaultFilterRegExp=new Map([[fe.Contains,C=>new RegExp(Q.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source,"i")],[fe.StartsWith,C=>new RegExp("^"+Q.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source,"i")],[fe.EndsWith,C=>new RegExp(Q.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source+"$","i")]]);class ItemsColumn extends ee.GridColumn{get selectItems(){return Q.Convert.isNull(this._selectItems)&&(this._selectItems=new Map),this._selectItems}get useFilter(){return this.config.master?this._useFilter=this.config.useFilter:this._useFilter=!1,this._useFilter}get cache(){return this.config.useCache&&Q.Convert.isEmpty(this._cache)&&(this._cache=new Map),this._cache}get checkedItems(){return Q.Convert.isEmpty(this._checkedItems)&&(this._checkedItems=new Map),this._checkedItems}setCache(C,I){this.cache.set(C,I)}getCache(C){return this.cache.get(C)}hasCache(C){return this.cache.has(C)}isAutoCompleteType(C){return C===fe.Contains||C===fe.StartsWith||C===fe.EndsWith}get autoComplete(){const{autoComplete:C}=this.config;return Q.Convert.isNull(this._autoComplete)&&(this.isAutoCompleteType(C)?this._autoComplete=new FilterRenderer(this.grid,this,C):"boolean"==typeof C&&(this._autoComplete=!0===C?new FilterRenderer(this.grid,this,fe.Contains):void 0)),this._autoComplete}get items(){return Q.Convert.isEmpty(this._items)&&(this._items=new Map),this._items}get itemTemplate(){var C;return null!==(C=this._itemTemplate)&&void 0!==C?C:Q.Convert.isEmpty(this.config.itemTemplate)?void 0:this._itemTemplate=Q.Utils.createTemplate(this.config.itemTemplate)}get noDataTemplate(){var C;return null!==(C=this._noDataTemplate)&&void 0!==C?C:Q.Convert.isEmpty(this.config.noDataTemplate)?void 0:this._noDataTemplate=Q.Utils.createTemplate(this.config.noDataTemplate)}get parseCheckedItem(){return Q.Convert.isEmpty(this._parseCheckedItem)&&(this._parseCheckedItem=this.config.useMultiSelect?this.config.parseCheckedItem:void 0),this._parseCheckedItem}get afterCheckedItem(){return Q.Convert.isEmpty(this._afterCheckedItem)&&(this._afterCheckedItem=this.config.useMultiSelect?this.config.afterCheckedItem:void 0),this._afterCheckedItem}get config(){return super.config}constructor(C,I){super(C,I)}parseConfig(C,I,B){var z,q,ee,te,ie,re,ne=super.parseConfig(C,I,B);return ne.items=Q.Convert.default(C.items,null!==(z=null==I?void 0:I.items)&&void 0!==z?z:void 0),ne.defaultItem=Q.Convert.default(C.defaultItem,null!==(q=null==I?void 0:I.defaultItem)&&void 0!==q?q:void 0,(C=>ne.useMultiSelect?void 0:C)),ne.itemTemplate=Q.Convert.default(C.itemTemplate,null!==(ee=null==I?void 0:I.itemTemplate)&&void 0!==ee?ee:void 0),ne.noDataTemplate=Q.Convert.default(C.noDataTemplate,null!==(te=null==I?void 0:I.noDataTemplate)&&void 0!==te?te:void 0),ne.autoComplete=Q.Convert.default(C.autoComplete,null!==(ie=null==I?void 0:I.autoComplete)&&void 0!==ie?ie:void 0),ne.itemContent=Q.Convert.default(C.itemContent,null!==(re=null==I?void 0:I.itemContent)&&void 0!==re?re:void 0),ne.popupMaxHeight=Q.Convert.default(C.popupMaxHeight,null==I?void 0:I.popupMaxHeight),ne}render(C,I){var B,z;return q(this,void 0,void 0,(function*(){if(C.get(0).style.width="",Q.Convert.isValue(this.config.master)){const C=Q.Arrays.bfsSearch(this.grid.wholeColumns,(C=>C.field===this.config.master||C.columns));(null==C?void 0:C.type)!==de.ColumnTypes.Combo&&(yield this.getItems(I))}let q=this.items.get(I.rowIndex);const{useMultiSelect:ee,popupMaxHeight:te}=this.config;if(ee&&this.autoComplete){const ee=(null===(B=this.autoComplete)||void 0===B?void 0:B.render(C,I)).val();q=Q.Convert.isValue(ee)?null===(z=this.autoComplete)||void 0===z?void 0:z.filterItems(ee,I):q}const ie=Q.JqUtils.adjustElement(C,`>div.${ne.SbCss.wrapPopup}`,`<div class='${ne.SbCss.wrapPopup}'></div>`);Q.Convert.isValue(te)&&ie.css("max-height",`${te}px`),this.renderItems(ie,I,q)}))}renderItems(C,I,B){return q(this,void 0,void 0,(function*(){const z=Q.JqUtils.adjustElement(C,`>ul.${ne.SbCss.comboPopupItems}`,`<ul class='${ne.SbCss.comboPopupItems}'></ul>`);z.empty(),Q.Convert.isSameValue(C.css("display"),"none")&&C.css("display",""),Q.Convert.isValue(B)?yield this.renderItem(z,I,B):this.renderEmptyMessage(z)}))}getItemData(C){var I,B,z,q,ee;const{comboValue:te,comboLabel:ie,useMultiSelect:re,defaultItem:ne}=this.config;let se,oe=C.isEdit?this.getTemp(C):this.getValue(C);if(re)se=this.getMultiSelectLabels(C,oe);else{const re=null!==(B=null===(I=this.items.get(C.rowIndex))||void 0===I?void 0:I.find((C=>C[te]===oe)))&&void 0!==B?B:null===(z=this.items.get(0))||void 0===z?void 0:z.find((C=>C[te]===oe));Q.Convert.isValue(ne)&&Q.Convert.isEmpty(oe)||Q.Convert.isEmpty(re)?(oe=null!==(q=null==ne?void 0:ne.value)&&void 0!==q?q:"",se=null!==(ee=null==ne?void 0:ne.label)&&void 0!==ee?ee:""):se=re[ie]}return{[te]:oe,[ie]:se}}getParseCheckedItem(C){return Q.Convert.isValue(this.parseCheckedItem)?this.parseCheckedItem(C):C instanceof Array?C:[C]}getMultiSelectLabels(C,I){var B,z;const{comboValue:q,comboLabel:Q}=this.config,ee=this.getParseCheckedItem(I);return this.checkedItems.set(C.rowIndex,null!=ee?ee:[]),null!==(z=null===(B=this.items.get(C.rowIndex))||void 0===B?void 0:B.filter((C=>ee.find((I=>I===C[q])))).map((C=>C[Q])).join(","))&&void 0!==z?z:""}getSingleSelectLabel(C,I){var B,z,q;const{comboValue:Q,comboLabel:ee}=this.config;return null!==(q=null===(z=null===(B=this.items.get(C.rowIndex))||void 0===B?void 0:B.find((C=>C[Q]===I)))||void 0===z?void 0:z[ee])&&void 0!==q?q:""}selectItem(C,I){var B,z;const q=re.SBGrid3.$(`div#${this._name}_popup.${ne.SbCss.comboPopup}`);if("INPUT"===C.tagName){const I="checkbox"===C.type?`li.${ne.SbCss.comboPopupItem}`:`span.${ne.SbCss.combobox}`;C=re.SBGrid3.$(C).closest(I).get(0)}const Q=C.classList.contains(`${ne.SbCss.combobox}`)?re.SBGrid3.$(`li.${ne.SbCss.comboItemSelected}`,q.children()):"LI"===C.tagName?re.SBGrid3.$(C):re.SBGrid3.$(C).closest(`li.${ne.SbCss.comboPopupItem}`);if((null==Q?void 0:Q.length)<=0)return;const ee=Q.data("value");if(this.config.useMultiSelect){if(Q.length>1)return;Q.attr("id").includes("checkAll")?this.toggleAll(Q,I):this.toggle(Q,I,ee);const C=this.checkedItems.get(I.rowIndex),q=null!==(z=null===(B=this.afterCheckedItem)||void 0===B?void 0:B.call(this,C))&&void 0!==z?z:C;this.fireCommandAsync(this,new oe.UpdateCellDataCommand(this,I,q)),setTimeout((()=>this.doFocus(I)),10)}else Q.length>0&&this.fireCommandAsync(this,new oe.UpdateCellDataCommand(this,I,ee)),this.fireCommandAsync(this,new se.ClosePopupCommand(this,I))}toggleAll(C,I){const B=C.find("input").hasClass(ne.SbCss.halfCheck),q=re.SBGrid3.$(`div#${this._name}_popup.${ne.SbCss.comboPopup}`),Q=re.SBGrid3.$(`ul.${ne.SbCss.comboPopupItems}`,q),ee=re.SBGrid3.$(`li.${ne.SbCss.comboPopupItem}:not(#${ne.SbCss.comboPopupItem}-checkAll)`,Q).map(((C,I)=>z(I).find('input[type="checkbox"]').val())).get(),te=this.checkedItems.get(I.rowIndex)||[],ie=ee.every((C=>te.includes(C)));B||!ie?this.checkedItems.set(I.rowIndex,ee):this.checkedItems.set(I.rowIndex,[])}doFocus(C){const I=this.grid.getContainer(C,this,ae.PanelType.Body);(re.SBGrid3.$(`span.${ne.SbCss.combobox}`,I).length>0?re.SBGrid3.$(`span.${ne.SbCss.combobox}`,I):re.SBGrid3.$(this.grid.container)).get(0).focus({preventScroll:!0})}checkItem(C,I,B){return Q.JqUtils.addClass(C,ne.SbCss.comboItemSelected),[...this.checkedItems.get(B.rowIndex),I]}unCheckItem(C,I,B){return Q.JqUtils.removeClass(C,ne.SbCss.comboItemSelected),this.checkedItems.get(B.rowIndex).filter((C=>C!==I))}toggle(C,I,B){const z=this.checkedItems.get(I.rowIndex).includes(B)?this.unCheckItem(C,B,I):this.checkItem(C,B,I);this.checkedItems.set(I.rowIndex,z.filter((C=>Q.Convert.isValue(C))))}adjustAllCheckCss(C){const I=C.find('li:not(#sbgrid-popup-item-checkAll) input[type="checkbox"]'),B=I.filter(":checked"),z=C.find("#sbgrid-popup-item-checkAll > input");I.length===B.length?z.removeClass(ne.SbCss.halfCheck).prop("checked",!0):0===B.length?z.removeClass(ne.SbCss.halfCheck).prop("checked",!1):z.addClass(ne.SbCss.halfCheck).prop("checked",!1)}renderItem(C,I,B){var z,ee;return q(this,void 0,void 0,(function*(){const{comboValue:q}=this.config,te=null!==(ee=null===(z=this.checkedItems)||void 0===z?void 0:z.get(I.rowIndex))&&void 0!==ee?ee:this.getTemp(I)instanceof Array?this.getTemp(I):[this.getTemp(I)];if(!0===this.config.useMultiSelect){const I=this.grid.resourceManager.resource.select_all,B=Q.JqUtils.adjustElement(C,`>li#${ne.SbCss.comboPopupItem}-checkAll`,`<li id='${ne.SbCss.comboPopupItem}-checkAll' class='${ne.SbCss.comboPopupItem}'></li>`);Q.JqUtils.adjustElement(B,`input.${ne.SbCss.checkbox}>`,`<input type='checkbox' value='all' class='${ne.SbCss.checkbox}'>`,(()=>!0)).attr("tabindex",0),Q.JqUtils.adjustElement(B,`>span.${ne.SbCss.text}`,`<span class='${ne.SbCss.text}'>${I}</span>`)}for(let I=0;I<B.length;I++){const z=B[I];if(Q.Convert.isNull(z))continue;const ee=Q.JqUtils.adjustElement(C,`>li#${ne.SbCss.comboPopupItem}-${I}`,`<li id='${ne.SbCss.comboPopupItem}-${I}' class='${ne.SbCss.comboPopupItem}'></li>`).attr("data-index",I),ie=Q.JqUtils.adjustElement(ee,`>span.${ne.SbCss.text}`,`<span class='${ne.SbCss.text}'></span>`),re=z[q];ee.data("value",re),Q.Convert.isValue(this.itemTemplate)?Q.JqUtils.adjustHtml(ie,this.itemTemplate(z)):this.renderItemLabel(ie,z),(null==te?void 0:te.find((C=>C===re)))?Q.JqUtils.addClass(ee,ne.SbCss.comboItemSelected):Q.JqUtils.removeClass(ee,ne.SbCss.comboItemSelected),this.renderCheckbox(ee,z,te)}this.grid.setEvent("comboItemClick","click",`${this._name}`,(C=>this.selectItem(C.target,I)),C),this.config.useMultiSelect&&this.adjustAllCheckCss(C)}))}renderCheckbox(C,I,B){if(this.config.useMultiSelect){const z=I[this.config.comboValue],q=Q.JqUtils.adjustElement(C,`input.${ne.SbCss.checkbox}>`,`<input type='checkbox' id='${this._name}_item_${z}' class='${ne.SbCss.checkbox}' value='${z}'>`,(()=>!0)).attr("tabindex",0);return(null==B?void 0:B.find((C=>C===z)))&&q.attr("checked","checked"),q}}renderItemLabel(C,I){const{comboLabel:B,comboValue:z,itemContent:q}=this.config;Q.Convert.isValue(q)?C.append(q(I[B],I[z])):C.append(I[B])}renderEmptyMessage(C){const I=Q.JqUtils.adjustElement(C,`>li#${ne.SbCss.comboItemEmpty}`,`<li class='${ne.SbCss.comboItemEmpty}'></li>`);if(Q.Convert.isValue(this.noDataTemplate))Q.JqUtils.adjustHtml(I,this.noDataTemplate(void 0));else{const C=re.SBGrid3.$(`div#${this._name}_popup`,this.grid.container);Q.JqUtils.addClass(C,ne.SbCss.hidden)}}doFilterItems(C){return q(this,void 0,void 0,(function*(){const{column:I,items:B,rowItem:z}=C;if(I===this){const C=re.SBGrid3.$(`#${I._name}_popup`,I.grid.container),q=Q.JqUtils.adjustElement(C,`>div.${ne.SbCss.wrapPopup}`,`<div class='${ne.SbCss.wrapPopup}'></div>`);yield this.renderItems(q,z,B);const ee=B[0][this.config.comboValue],te=re.SBGrid3.$(`div#${this._name}_popup`,this.grid.container).find(`li.${ne.SbCss.comboPopupItem}`);Q.JqUtils.removeClass(te,ne.SbCss.comboItemSelected),te.each(((C,I)=>{re.SBGrid3.$(I).data("value")===ee&&I.classList.add(ne.SbCss.comboItemSelected)}))}}))}getItems(C){var I,B;return q(this,void 0,void 0,(function*(){const{master:z,items:q}=this.config;let ee;if(z){const q=Q.Arrays.bfsSearch(this.grid.columns,(C=>C.field==z||C.columns));ee=(null==q?void 0:q.isEdit(C))?null===(I=C.temp)||void 0===I?void 0:I[z]:null===(B=C.data)||void 0===B?void 0:B[z]}else ee=this.isEdit(C)?C.temp:C.data;q instanceof Array?this.getStaticItems(C,q,ee):q instanceof Function&&(yield this.getDynamicItems(C,q,ee))}))}getStaticItems(C,I,B){var z,q;const ee=[],{comboValue:te,comboLabel:ie,defaultItem:re}=this.config;if(Q.Convert.isValue(re)){const C=null!==(z=null==re?void 0:re.value)&&void 0!==z?z:"",I=null!==(q=null==re?void 0:re.label)&&void 0!==q?q:"";ee.push({[te]:C,[ie]:I})}for(const C of I)this.getFilter(C,this.useFilter,B)&&ee.push(C);this.items.set(C.rowIndex,ee)}getFilter(C,I,B){return!I||(null==C?void 0:C[this.config.masterField])===B}getDynamicItems(C,I,B=""){return q(this,void 0,void 0,(function*(){let z;this.config.useCache?(!this.hasCache(B)&&this.setCache(B,yield this.loadItems(I,B)),z=this.getCache(B)):z=yield this.loadItems(I,B),this.getStaticItems(C,z,B)}))}loadItems(C,I){return q(this,void 0,void 0,(function*(){let B=C(this,I);return B instanceof Promise?yield B:B}))}moveFocusItem(C,I){return!(I.length<1)&&(I.hasClass(ne.SbCss.comboItemSelected)||(Q.JqUtils.addClass(I,ne.SbCss.comboItemSelected),Q.JqUtils.removeClass(C,ne.SbCss.comboItemSelected)),!0)}fireBelowFocusItem(C){var I,B;const z=re.SBGrid3.$(`div#${this._name}_popup.${ne.SbCss.comboPopup}`),q=re.SBGrid3.$(`ul.${ne.SbCss.comboPopupItems}`,z),Q=re.SBGrid3.$(`li.${ne.SbCss.comboItemSelected}`,q);if(!this.config.useMultiSelect)if(Q.length<1)q.children().first().addClass(ne.SbCss.comboItemSelected);else{const q=Q.next();this.moveFocusItem(Q,q)&&(z.find(`div.${ne.SbCss.wrapPopup}`).get(0).scrollTop=q.get(0).offsetTop,(null===(I=q.get(0))||void 0===I?void 0:I.offsetTop)+q.get(0).clientHeight>(null===(B=z.get(0))||void 0===B?void 0:B.clientHeight)&&this.selectItems.set(C.rowIndex,q.data("value")))}}fireAboveFocusItem(C){const I=re.SBGrid3.$(`div#${this._name}_popup.${ne.SbCss.comboPopup}`),B=re.SBGrid3.$(`ul.${ne.SbCss.comboPopupItems}`,I),z=re.SBGrid3.$(`li.${ne.SbCss.comboItemSelected}`,B);if(!this.config.useMultiSelect)if(z.length<1)B.children().first().addClass(ne.SbCss.comboItemSelected);else{const B=z.prev();this.moveFocusItem(z,B)&&(I.find(`div.${ne.SbCss.wrapPopup}`).get(0).scrollTop=B.get(0).offsetTop,this.selectItems.set(C.rowIndex,B.data("value")))}}doCommand(C,I){return I.command!==ie.Commands.FilterCellData?super.doCommand(C,I):(this.doFilterItems(I),!0)}getCacheValus(C){for(const I of this.cache){const B=I[1].find((I=>I[this.config.comboValue]===C));if(Q.Convert.isValue(B))return B}}}I.ItemsColumn=ItemsColumn;class PopupColumn extends ItemsColumn{constructor(C,I){super(C,I)}parseConfig(C,I,B){var z;let q=super.parseConfig(C,I,B);return q.popupPosition=Q.Convert.default(C.popupPosition,null!==(z=null==I?void 0:I.popupPosition)&&void 0!==z?z:ce.Auto),q.popupMaxWidth=Q.Convert.default(C.popupMaxWidth,null==I?void 0:I.popupMaxWidth),q}render(C,I){return q(this,void 0,void 0,(function*(){this.rowItem=I,this.renderPopup(C,I)}))}renderPopup(C,I){const B=Object.create(null,{render:{get:()=>super.render}});return q(this,void 0,void 0,(function*(){this.grid.scrollPanel.removeMenu();const z=Q.JqUtils.adjustElement(this.grid.container,`>div#${this._name}_popup`,`<div id='${this._name}_popup' class='${ne.SbCss.comboPopup}'></div>`);return yield B.render.call(this,z,I),this.setPosition(C,z,`span.${ne.SbCss.combobox}`),this.setWidth(C,z,`span.${ne.SbCss.combobox}`),this.grid.setEvent("ComboPopupMouseout","mouseleave",this.name,(()=>this.hidePopup()),this.grid.container),z}))}setPosition(C,I,B){const q=this.grid.container.offset(),Q=C.get(0).getBoundingClientRect().bottom+z(window).scrollTop(),{left:ee}=re.SBGrid3.$(B,C).get(0).getBoundingClientRect();let te,ie=ee-q.left-2;switch(this.config.popupPosition){case ce.Top:te=q.top+I.height()>Q?this.positionBottom(I,C):this.positionTop(I,C);break;case ce.Auto:case ce.Bottom:te=Q+I.height()>q.top+this.grid.height?this.positionTop(I,C):this.positionBottom(I,C)}I.css({left:ie,top:te})}setWidth(C,I,B){const z=re.SBGrid3.$(B,C).get(0).getBoundingClientRect().width;I.css("width",z)}positionTop(C,I){return new ue.PopupPosition(this.grid.container).positionTop(C,I),C.data("position",ce.Top),Q.Convert.asFloat(C.css("top"))}positionBottom(C,I){return new ue.PopupPosition(this.grid.container).positionBottom(C,I),C.data("position",ce.Bottom),Q.Convert.asFloat(C.css("top"))-2}doCommand(C,I){var B,z,q;switch(I.command){case ie.Commands.Focused:const Q=I;if((null===(z=null===(B=null==Q?void 0:Q.current)||void 0===B?void 0:B.column)||void 0===z?void 0:z.name)==this.name&&(null===(q=null==Q?void 0:Q.current)||void 0===q?void 0:q.rowItem)==this.rowItem)return;case ie.Commands.Escape:case ie.Commands.ClosePopup:return this.doEscape(I),super.doCommand(C,I);case ie.Commands.PopupPosChange:return this.doPopupPosChange(I);case ie.Commands.FilterCellData:return this.doShowFilterUI(I);default:return super.doCommand(C,I)}}isPopup(){const C=re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);return C.length>0&&!C.hasClass(ne.SbCss.hidden)}togglePopup(){this.isPopup()?this.hidePopup():this.showPopup()}hidePopup(){const C=re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);C.length>0&&(re.SBGrid3.$(`input.${ne.SbCss.comboValueText}`,C).val(""),Q.JqUtils.addClass(C,ne.SbCss.hidden))}showPopup(){const C=re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);C.length>0&&Q.JqUtils.removeClass(C,ne.SbCss.hidden)}doShowFilterUI(C){const{column:I,rowItem:B,cell:z,items:q}=C;if(I===this){re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);if(q.length<=0)return;return this.renderPopup(z,B).then((()=>{super.doFilterItems(C),!this.isPopup()&&this.showPopup()})),!1}return!0}doPopupPosChange(C){const{jqCell:I,column:B}=C;if(this===B){const C=re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);this.setPosition(I,C,`span.${ne.SbCss.combobox}`)}return!0}doEscape(C){const{column:I,rowItem:B}=C;return this.hidePopup(),this===I&&this.doFocus(B),!0}}I.PopupColumn=PopupColumn;class ComboColumn extends PopupColumn{constructor(C,I){super(C,I)}get directApplyEdit(){return this.config.directApplyEdit}static create(C,I){return new ComboColumn(C,I)}parseConfig(C,I,B){var z,q,ee,te;let ie=super.parseConfig(C,I,B);return ie.viewMode=Q.Convert.default(C.viewMode,null!==(z=null==I?void 0:I.viewMode)&&void 0!==z?z:he.Label),ie.useMultiSelect=Q.Convert.default(C.useMultiSelect,null!==(q=null==I?void 0:I.useMultiSelect)&&void 0!==q&&q),ie.afterCheckedItem=Q.Convert.default(C.afterCheckedItem,null==I?void 0:I.afterCheckedItem),ie.parseCheckedItem=Q.Convert.default(C.parseCheckedItem,null==I?void 0:I.parseCheckedItem),ie.master=Q.Convert.default(C.master,null==I?void 0:I.master),ie.masterField=Q.Convert.default(C.masterField,null==I?void 0:I.masterField),ie.useFilter=Q.Convert.default(C.useFilter,null==I?void 0:I.useFilter),ie.useCache=Q.Convert.default(C.useCache,null==I?void 0:I.useCache),ie.comboLabel=Q.Convert.default(C.comboLabel,null!==(ee=null==I?void 0:I.comboLabel)&&void 0!==ee?ee:"label"),ie.comboValue=Q.Convert.default(C.comboValue,null!==(te=null==I?void 0:I.comboValue)&&void 0!==te?te:"value"),ie.directApplyEdit&&(ie.directApplyValue=!0),ie}renderCell(C,I,B){return q(this,void 0,void 0,(function*(){this.isEdit(I)||(yield this._renderCell(C,I,B))}))}renderEdit(C,I){return q(this,void 0,void 0,(function*(){if(0==this.editable(I))return;const B=yield this._renderCell(C,I,void 0,!0);Q.JqUtils.addClass(B,ne.SbCss.edit),this.render(B,I),B.contents().filter(((C,I)=>3===I.nodeType)).remove()}))}_renderCell(C,I,B=void 0,z=!1){return q(this,void 0,void 0,(function*(){const q=this.makeCell(C,I,B);return z=this.editable(I)&&this.config.directApplyEdit?!this.isGroupItem(I):z,(null==B?void 0:B.merged)?(Q.Convert.isValue(B)&&Q.JqUtils.adjustHtml(q,""),q):(z&&(q.contents().filter(((C,I)=>3===I.nodeType)).remove(),this.removeElement(q)),this.getItems(I).then((()=>{z||this.isEdit(I)?this.render(q,I):this.renderContent(q,I)})),q)}))}renderContent(C,I){var B,z;if(0==(null!==(z=null===(B=C[0])||void 0===B?void 0:B.isConnected)&&void 0!==z&&z))return;Q.Convert.isValue(this.cellTemplate)?this.renderTemplate(C,I):this.renderViewLabel(C,I);const q=this.getItemData(I)[this.config.comboValue];this.selectItems.set(I.rowIndex,q)}render(C,I){const B=Object.create(null,{render:{get:()=>super.render}});var z,ee,te;return q(this,void 0,void 0,(function*(){const{comboValue:q,useMultiSelect:ie}=this.config,se=Q.JqUtils.adjustElement(C,`span.${ne.SbCss.combobox}`,`<span class='${ne.SbCss.combobox}'></span>`).attr("tabindex",0),oe=ie?this.renderEditLabel(se,I):null!==(ee=null===(z=this.autoComplete)||void 0===z?void 0:z.render(se,I))&&void 0!==ee?ee:this.renderEditLabel(se,I),le=re.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container),ue=this.isFocused(I,ae.PanelType.Body);((null!==(te=null==le?void 0:le.length)&&void 0!==te?te:0)<1||!this.isPopup())&&ue&&oe.get(0).focus({preventScroll:!0}),this.selectItems.set(I.rowIndex,this.getItemData(I)[q]);const de=this.renderButton(se),ce=this.autoComplete&&!this.config.useMultiSelect?de:se;this.grid.setEvent("comboOpenPopup","mousedown",`${this._name}_${I.rowIndex}`,(B=>{this.renderCombo(C,I)}),ce),this.grid.setEvent("comboKeyDown","keydown",`${this._name}_${I.rowIndex}`,(B=>this.onKeyDown(B,C,I)),se),ue&&this.isPopup()&&B.render.call(this,C,I)}))}renderEditLabel(C,I){const B=Q.JqUtils.adjustElement(C,`>span.${ne.SbCss.comboInner}`,`<span class='${ne.SbCss.comboInner}'></span>`),z=Q.JqUtils.adjustElement(B,`>span.${ne.SbCss.comboValueText}`,`<span class='${ne.SbCss.comboValueText}'></span>`),q=this.getItemData(I)[this.config.comboLabel];return Q.JqUtils.adjustHtml(z,q),C}renderViewLabel(C,I){var B;const z=this.getItemData(I);let q=z[this.config.comboValue],ee=z[this.config.comboLabel];if(Q.Convert.isEmpty(q))Q.JqUtils.adjustHtml(C,null!==(B=super.renderPlaceHolder(q,I,C))&&void 0!==B?B:"");else switch(this.config.viewMode){case he.Label:return C.html()!=ee&&Q.JqUtils.adjustHtml(C,ee);case he.Value:return C.html()!=q&&Q.JqUtils.adjustHtml(C,q);case he.Both:return C.html()!=`${ee}[${q}]`&&Q.JqUtils.adjustHtml(C,`${ee}[${q}]`)}}renderButton(C){const I=Q.JqUtils.adjustElement(C,`>span.${ne.SbCss.comboButton}`,`<span class='${ne.SbCss.comboButton}'></span>`);return Q.JqUtils.adjustElement(I,`>span.${ne.SbCss.comboButton}.${ne.SbCss.icon}`,`<span class='${ne.SbCss.comboButton} ${ne.SbCss.icon} ${ne.SbCss.angleBottom}'></span>`),I}renderCombo(C,I){return 1===re.SBGrid3.$(`span.${ne.SbCss.loading}`,C).length||(this.togglePopup(),super.render(C,I)),!1}onKeyDown(C,I,B){switch(C.key){case le.KeyboardShortCut.Escape:if(!this.isPopup())break;return this.fireCommandAsync(this,new se.ClosePopupCommand(this,B)),!1;case le.KeyboardShortCut.Tab:case le.KeyboardShortCut.Enter:if(!this.isPopup())break;return this.selectItem(C.target,B),!1;case le.KeyboardShortCut.End:case le.KeyboardShortCut.Home:case le.KeyboardShortCut.ArrowLeft:case le.KeyboardShortCut.ArrowRight:case le.KeyboardShortCut.PageUp:case le.KeyboardShortCut.PageDown:return!1;case le.KeyboardShortCut.ArrowDown:if(C.preventDefault(),this.isPopup())return this.fireBelowFocusItem(B),!1;case le.KeyboardShortCut.ArrowUp:if(C.preventDefault(),this.isPopup())return this.fireAboveFocusItem(B),!1;case le.KeyboardShortCut.Space:default:if(C.shiftKey)return;return!(!C.ctrlKey||86!==C.keyCode&&67!==C.keyCode)||(C.ctrlKey||this.renderCombo(I,B),!1)}return!0}getCellTemplate(C){const I=this.getTooltipData(C);return this.cellTemplate(I)}renderTemplate(C,I){const B=this.getCellTemplate(I);C.html()!=B&&Q.JqUtils.adjustHtml(C,B)}doUpdate(C){var I,B;return q(this,void 0,void 0,(function*(){const{value:z,rowItem:q,column:ee}=C,te=this.grid.getContainer(q,this,ae.PanelType.Body),ie=re.SBGrid3.$(`.${ne.SbCss.cell}`,te);if(this===ee&&(this.selectItems.set(q.rowIndex,z),this.setTemp(q,te),this.fireCommandAsync(this,new se.RefreshCommand({rowStart:null==q?void 0:q.rowIndex,rowEnd:null==q?void 0:q.rowIndex}))),this.config.master===ee.field){if(ee.config.useMultiSelect)return;const C=ee.isEdit(q)?ee.getTemp(q):ee.getValue(q),z=!Q.Convert.isValue(null===(B=null===(I=this.items)||void 0===I?void 0:I.get(q.rowIndex))||void 0===B?void 0:B.find((I=>this.getFilter(I,!0,C))));this.renderLoading(ie,!0),this.getItems(q).then((()=>{var C;const I=null===(C=this.items.get(q.rowIndex)[0])||void 0===C?void 0:C[this.config.comboValue],B=z?I:ee.isEdit(q)?ee.getTemp(q):ee.getValue(q);this.renderLoading(ie,!1),this.fireCommandAsync(this,new oe.UpdateCellDataCommand(this,q,B))}))}}))}renderLoading(C,I){const B=re.SBGrid3.$(`.${ne.SbCss.comboButton}.${ne.SbCss.icon}`,C),z=re.SBGrid3.$(`>.${ne.SbCss.combobox}`,C);Q.JqUtils.changeClass(B,`${ne.SbCss.comboButton} ${ne.SbCss.icon} ${I?ne.SbCss.loading:ne.SbCss.angleBottom}`),z.css("pointer-events",I?"none":"")}removeElement(C){C.children().length<1||C.children().remove()}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${ne.SbCss.text}`,{cellSelector:B,cellClass:z}}isEditColumn(C,I){if(C==this&&Q.Convert.isValue(I)){if(!this.config.directApplyEdit&&!this.isEdit(I))return!1;const C=this.grid.getContainer(I,this),B=re.SBGrid3.$(`input#${this._name}_input`,C),z=B.length>0?B:re.SBGrid3.$(`span.${ne.SbCss.combobox}`,C);null==z||z.get(0).focus({preventScroll:!0})}return!0}doCommand(C,I){return I.command!==ie.Commands.UpdateCellData?super.doCommand(C,I):(this.doUpdate(I),!0)}getEditValue(C){var I,B;return C.find(`>.${ne.SbCss.cell}`).length<1?null:this.selectItems.get(null!==(B=null===(I=this.grid.getRowItem(C))||void 0===I?void 0:I.rowIndex)&&void 0!==B?B:-1)}setTempValue(C,I){var B,z;if(this.config.useMultiSelect){const q=this.getParseCheckedItem(I),Q=this.checkedItems.get(C.rowIndex).every((C=>!!q.find((I=>I===C)))),ee=null!==(z=null===(B=this.afterCheckedItem)||void 0===B?void 0:B.call(this,q))&&void 0!==z?z:q;return Q?super.setTempValue(C,ee):super.setTempValue(C,this.getValue(C))}return super.setTempValue(C,I)}getTooltipData(C,I=void 0){const{useMultiSelect:B}=this.config,z=Q.Convert.cloneData(C.data),q=this.getValue(C),ee=B?this.getMultiSelectLabels(C,q):this.getSingleSelectLabel(C,q);return z._label_=ee,z._value_=q,z}getCellHtml(C,I=void 0){if(Q.Convert.isValue(this.cellTemplate))return this.getCellTemplate(C);{const I=this.getItemData(C);let B=I[this.config.comboValue],z=I[this.config.comboLabel];switch(this.config.viewMode){case he.Label:return z;case he.Value:return B;case he.Both:return`${z}[${B}]`}}}getCellLabel(C){const findLabel=C=>Q.Convert.isEmpty(C)?void 0:C[this.config.comboLabel],getItem=C=>{const{items:I}=this.config;if(I instanceof Function&&!this.config.useCache){const B=I(this,C);return null==B?void 0:B.find((I=>I[this.config.comboValue]===C))}return I instanceof Function?this.getCacheValus(C):null==I?void 0:I.find((I=>I[this.config.comboValue]===C))};if(Array.isArray(C))return C.map((C=>findLabel(getItem(C))));if(C instanceof te.RowItem){const I=this.getItemData(C);return findLabel(I)}return findLabel(getItem(C))}setWidth(C,I,B){const z=this.config.popupMaxWidth;if(Q.Convert.isNull(z))return void super.setWidth(C,I,B);const q=I.outerWidth(),ee=re.SBGrid3.$(B,C).get(0).getBoundingClientRect().width,te=Q.Convert.isValue(z)?q>z?z:ee>q?ee:q:ee;I.css("width",te)}}I.ComboColumn=ComboColumn;class FilterRenderer{get column(){return this._column}get grid(){return this._grid}get filter(){return Q.Convert.isNull(this._filter)&&(this._filter=I.defaultFilterRegExp.get(this._type)),this._filter}constructor(C,I,B){this._grid=C,this._column=I,this._type=B}get type(){return this._type}filterComboItems(C,I,B){const z=this.filterItems(B,I);this.column.items.get(I.rowIndex);return Q.Convert.isValue(z)&&this.column.fireCommand(this.column,new oe.FilterCellDataCommand(this.column,I,z,C)),z}filterTextItems(C,I,B,z){const q=z(B);this.column.fireCommandAsync(this.column,new oe.FilterCellDataCommand(this.column,I,q,C))}render(C,I){const{comboValue:B,comboLabel:z,useMultiSelect:q}=this.column.config,ee=this.column.getItemData(I),te=Q.JqUtils.adjustElement(C,`>span.${ne.SbCss.comboInner}`,`<span class='${ne.SbCss.comboInner}'></span>`),ie=Q.JqUtils.adjustElement(te,`>input.${ne.SbCss.comboValueText}#${this.column._name}_input`,`<input class='${ne.SbCss.comboValueText}' id='${this.column._name}_input'></input>`),se=re.SBGrid3.$(`> span.${ne.SbCss.cell}`,this._grid.getContainer(I,this.column,ae.PanelType.Body));!q&&ie.val(ee[z]).data("value",ee[B]);const handleInput=C=>{const{comboValue:B,comboLabel:z}=this.column.config,q=C.target.value;this.filterComboItems(se,I,q)};return this._grid.setEvent("filterComboKeydown","keydown",`${this.column._name}_${I.rowIndex}`,(C=>(C=>{switch(C.key){case le.KeyboardShortCut.Tab:case le.KeyboardShortCut.Enter:case le.KeyboardShortCut.ArrowLeft:case le.KeyboardShortCut.ArrowRight:case le.KeyboardShortCut.ArrowDown:case le.KeyboardShortCut.ArrowUp:case le.KeyboardShortCut.Esc:case le.KeyboardShortCut.Escape:return!0;default:return!1}})(C)),ie),this._grid.setEvent("filterComboKeyup","input",`${this.column._name}_${I.rowIndex}`,(C=>(handleInput(C),!1)),ie),ie}filterItems(C,I){const B=this.filter(C),{comboLabel:z,comboValue:q}=this.column.config;return this.column.items.get(I.rowIndex).filter((C=>B.test(C[z])||B.test(C[q])))}}},6923:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.DateColumn=I.CalendarType=void 0;const q=B(9996),Q=B(1163),ee=B(103),te=B(6312),ie=B(7078),re=B(7443),ne=B(860);var se;!function(C){C.Year="year",C.Month="month",C.Date="date",C.YearMonth="yearMonth",C.DateTime="datetimeLocal",C.Time="time"}(se||(I.CalendarType=se={}));class DateColumn extends ee.GridColumn{get format(){return this._format}set format(C){this._format=C}constructor(C,I){super(C,I)}static create(C,I){return new DateColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){var z,q,ee,te,ie,re=super.parseConfig(C,I,B);return re.min=Q.Convert.default(C.min,null!==(z=null==I?void 0:I.min)&&void 0!==z?z:void 0),re.max=Q.Convert.default(C.max,null!==(q=null==I?void 0:I.max)&&void 0!==q?q:void 0),re.step=Q.Convert.default(C.step,null!==(ee=null==I?void 0:I.step)&&void 0!==ee?ee:void 0),re.calendarType=Q.Convert.default(C.calendarType,null!==(te=null==I?void 0:I.calendarType)&&void 0!==te?te:se.Date),re.valueFormat=Q.Convert.default(C.valueFormat,null!==(ie=null==I?void 0:I.valueFormat)&&void 0!==ie?ie:re.calendarType===se.Date?"yyyy-MM-dd":"yyyy-MM"),re}renderEdit(C,I,B){const q=Object.create(null,{getTemp:{get:()=>super.getTemp}});return z(this,void 0,void 0,(function*(){const B=this.makeCell(C,I,void 0);Q.JqUtils.addClass(B,ie.SbCss.edit);let{max:z,min:oe,step:ae,calendarType:le}=this.config,ue=te.SBGrid3.$(`input#${this._name}_date`,B);switch(le){case se.Date:ue=Q.JqUtils.adjustElement(B,"input[type=date]",`<input type='date' class='${ie.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12-31",this.format="yyyy-MM-dd";break;case se.YearMonth:ue=Q.JqUtils.adjustElement(B,"input[type=month]",`<input type='month' class='${ie.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12",this.format="yyyy-MM";break;case se.DateTime:ue=Q.JqUtils.adjustElement(B,"input[type=datetime-local]",`<input type='datetime-local' class='${ie.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12-31T23:59",this.format="yyyy-MM-dd'T'HH:mm";break;case se.Time:ue=Q.JqUtils.adjustElement(B,"input[type=time]",`<input type='time' class='${ie.SbCss.toClass("date")}' id='${this._name}_date'/>`),this.format=Q.Convert.isValue(this.config.step)?"HH:mm:ss":"HH:mm";break;case se.Year:case se.Month:throw new Error(`calendarType ${le} not implemented.`);default:throw new Error(`calendarType ${le} is not supported.`)}const de=this.getEventKey(I);this.grid.setEvent(ee.GridColumn.eventName,"input",de,(()=>this.setTemp(I,C)),ue),this.grid.setEvent(ee.GridColumn.eventName,"keydown",de,(C=>(C=>{switch(C.key){case re.KeyboardShortCut.Home:case re.KeyboardShortCut.End:case re.KeyboardShortCut.PageUp:case re.KeyboardShortCut.PageDown:case re.KeyboardShortCut.ArrowLeft:case re.KeyboardShortCut.ArrowRight:case re.KeyboardShortCut.ArrowUp:case re.KeyboardShortCut.ArrowDown:return!1}return!0})(C)),ue);let ce=q.getTemp.call(this,I);ce=this.convertValue(ce),0==Q.Convert.isSameValue(ue.val(),ce)&&Q.Convert.isValue(ce)&&ue.val(ce),Q.JqUtils.changeAttr(ue,"step",null==ae?void 0:ae.toString()),Q.JqUtils.changeAttr(ue,"min",null==oe?void 0:oe.toString()),Q.JqUtils.changeAttr(ue,"max",null==z?void 0:z.toString()),this.isFocused(I,ne.PanelType.Body)&&0==document.activeElement.isSameNode(ue[0])&&ue.get(0).focus({preventScroll:!0}),B.contents().filter(((C,I)=>3===I.nodeType)).remove(),Q.JqUtils.disposeElement(this.grid.trashCan,B,[ue[0]])}))}getEditValue(C){const I=C.find(`>.${ie.SbCss.cell}.${ie.SbCss.edit}>input`).val();if("function"==typeof this.config.valueFormat)return this.config.valueFormat(I);let B=I;switch(this.config.calendarType){case se.Date:B=this.getDateValue(I);break;case se.DateTime:B=this.getDateTimeValue(I);break;case se.YearMonth:B=this.getYearMonthValue(I)}return B}getDateValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy/MM/dd":const[I,B,z]=C.split("-");return`${I}/${B}/${z}`;default:return C}}getYearMonthValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy/MM":const[I,B]=C.split("-");return`${I}/${B}`;default:return C}}getDateTimeValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy-MM-dd HH:mm":return C.replace("T"," ");case"yyyy/MM/dd HH:mm":const[I,B]=C.split("T");return`${I.replace(/-/g,"/")} ${B}`;default:return C}}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${ie.SbCss.text}`,{cellSelector:B,cellClass:z}}convertValue(C){let I=this.convertToDateTimeFormat(C);return I=this.convertToTimeDate(I),Q.Convert.isValue(I)?q.DateUtil.dateFormat(I,this.format,!1):void 0}convertToTimeDate(C){if(C instanceof Date)return C;if(this.config.calendarType!==se.Time)return C;const I=null==C?void 0:C.match(/^(\d{2}):(\d{2})(?::(\d{2}))?$/);if(!I)return C;const[,B,z,q="0"]=I,Q=Number(B),ee=Number(z),te=Number(q),ie=new Date;return ie.setHours(Q,ee,te,0),ie}convertToDateTimeFormat(C){const I=this.config.valueFormat;if(Q.Convert.isNull(I)||Q.Convert.isEmpty(C))return C;if("yyyy-MM-dd HH:mm"!=I&&"yyyy/MM/dd HH:mm"!=I)return C;if("string"!=typeof C)return C;const B=null==C?void 0:C.match(/^(\d{4})[-/](\d{2})[-/](\d{2}) (\d{2}):(\d{2})$/);if(!B)return C;const[z,q,ee,te,ie,re]=B;return`${q}-${ee}-${te}T${ie}:${re}`}setTempValue(C,I){var B;if(null===(B=null==I?void 0:I.toString())||void 0===B?void 0:B.startsWith("00"))return;const z=Q.Convert.asDate(I);Q.Convert.isValue(z)&&(z instanceof Date==0||isNaN(null==z?void 0:z.getTime()))||super.setTempValue(C,I)}isEditColumn(C,I){var B;if(this===C&&Q.Convert.isValue(I)){const C=this.grid.getContainer(I,this);if(!this.isEdit(I))return!1;const z=te.SBGrid3.$("input",C);if(z.length<1)return;null===(B=z.get(0))||void 0===B||B.focus({preventScroll:!0})}return!0}isValidValue(C){const{calendarType:I}=this.config;let B;switch(I){case se.Date:B=/^\d{4}-\d{2}-\d{2}$/;break;case se.YearMonth:B=/^\d{4}-\d{2}$/;break;case se.DateTime:B=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/;break;case se.Year:case se.Month:throw new Error(`calendarType ${I} not implemented.`);default:throw new Error(`calendarType ${I} is not supported.`)}if(Q.Convert.isNull(B))return!1;return B.test(C)}}I.DateColumn=DateColumn},2154:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.DropDownColumn=void 0;const q=B(1163),Q=B(103),ee=B(6312),te=B(7078);class DropDownColumn extends Q.GridColumn{constructor(C,I){super(C,I)}static create(C,I){return new DropDownColumn(C,I)}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){if(!1===this.config.editable)return;yield this.renderCell(C,I,B);const z=ee.SBGrid3.$(`>.${te.SbCss.cell}`,C);if(z.hasClass(te.SbCss.edit))return;z.addClass(te.SbCss.edit),z.text("");const Q=q.JqUtils.adjustElement(z,">select","<select></select>");(yield this.grid.getGroupByField(this.field)).forEach((C=>q.JqUtils.adjustElement(Q,`>option[value='${C}']`,`<option value='${C}'>${C}</option>`)));let ie=this.getValue(I);Q.find(`>option[value='${ie}']`).prop("selected",!0)}))}getEditValue(C){return C.find(`>.${te.SbCss.cell}.${te.SbCss.edit}>select>option:selected`).val()}}I.DropDownColumn=DropDownColumn},4012:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.DropDownList=void 0;const q=B(3354),Q=B(1163),ee=B(6312),te=B(7078),ie=B(7392),re=B(2288);class DropDownList{constructor(C,I,B){this._config=C,this._masterElement=B,this._container=I,this.init()}init(){var C;this.addEventListenr();let I=[];null===(C=this._masterElement)||void 0===C||C.trigger("querySelectedItem",(()=>I)),this.updateFilter(I)}render(){return z(this,void 0,void 0,(function*(){this._container.empty(),yield this._config.dataSource.loadView(0,re.ViewMode.Flow,ie.ScrollRange.Whole);let C=yield this._config.dataSource.rows;this._config.groupView?yield this.groupView(C):yield this.flatView(C),this._container.trigger("change")}))}groupView(C){return z(this,void 0,void 0,(function*(){for(let I in C){let B=C[I];B instanceof q.GroupNode?yield this.findChild(B):this.renderLeaf(B,I)}}))}flatView(C){return z(this,void 0,void 0,(function*(){for(let I in C)this.renderLeaf(C[I],I)}))}findChild(C){return z(this,void 0,void 0,(function*(){this.renderGroup(C);let I=yield this._config.dataSource.loader.getRows(C,0,!1,re.ViewMode.Flow,ie.ScrollRange.Whole);for(let C in I){let B=I[C];B instanceof q.GroupNode?yield this.findChild(B):this.renderLeaf(B,C)}}))}renderGroup(C){let I=C.groupKey,B=DropDownList.GROUP_ID++,z=Q.JqUtils.adjustElement(this._container,`>option.${te.SbCss.group}.${te.SbCss.group}-${B}`,`<option class='${te.SbCss.group} ${te.SbCss.group}-${B} ${te.SbCss.level}-${C.level}'></option>`);z.text(I),z.prop("disabled")}renderLeaf(C,I){let B=C.data,z=B[this._config.valueField],q=B[this._config.textField];Q.JqUtils.adjustElement(this._container,`>option.${te.SbCss.option}-${I}[value='${z}']`,`<option class='${te.SbCss.option}-${I}' value='${z}'></option>`).text(q)}updateFilter(C){let I=(null==C?void 0:C.length)>0?C[0]:void 0;this._config.dataSource.filters.forEach((C=>{const B=C.field instanceof Array?C.field[0]:C.field;null==I||I.hasOwnProperty(B);(null==I?void 0:I.hasOwnProperty(C.field))&&(C.values=I[B])})),this._config.dataSource.reload()}addEventListenr(){var C,I;this._container.off("querySelectedItem"),this._container.on("querySelectedItem",((C,I)=>{this.querySelectedItem(ee.SBGrid3.$(C.target),I())})),null===(C=this._masterElement)||void 0===C||C.off("change"),null===(I=this._masterElement)||void 0===I||I.on("change",(C=>{this.masterChaged(this._container)}))}querySelectedItem(C,I){let B=ee.SBGrid3.$(">option:selected",C).index(),z=this._config.dataSource.rows[B];I.push(null==z?void 0:z.data)}masterChaged(C){var I;let B=[];null===(I=this._masterElement)||void 0===I||I.trigger("querySelectedItem",(()=>B)),this.updateFilter(B),this.render()}}I.DropDownList=DropDownList,DropDownList.GROUP_ID=0},1046:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.DynamicColumn=void 0;const z=B(1163),q=B(103),Q=B(5774),ee=B(1009);class DynamicColumn extends q.GridColumn{get mergeColumn(){return!1}get mergeRow(){return!1}constructor(C,I){super(C,I),this._columnMap=new Map}static create(C,I){return new DynamicColumn(C,I)}get config(){return super.config}get type(){return"function"==typeof this.config.type?Q.ColumnTypes.Dynamic:super.type}getColumn(C){if("function"==typeof this.config.type){const I=this.config.type(C.data,C);if(this._columnMap.has(I))return this._columnMap.get(I);const B=z.Convert.cloneData(this.config);B.type=I;const q=ee.ColumnFactory.create(this.grid,B);return this._columnMap.set(I,q),q}return this}renderCell(C,I,B){const z=this.getColumn(I);return null==z?void 0:z.renderCell(C,I,B)}renderEdit(C,I,B){const z=this.getColumn(I);return null==z?void 0:z.renderEdit(C,I,B)}getCellLabel(C){const I=this.getColumn(C);return null==I?void 0:I.getCellLabel(C)}isEditColumn(C,I){const B=this.getColumn(I);return B.isEditColumn(B,I)}}I.DynamicColumn=DynamicColumn},6252:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.FilterManager=I.FilterUtil=I.ISourceType=I.FilterMode=I.PopupPosition=I.Position=I.ValueRenderFactory=I.FilterRenderer=I.NoneType=void 0;const q=B(7392),Q=B(7078),ee=B(1163),te=B(7721),ie=B(6312),re=B(860),ne=B(5165),se=B(5774),oe=B(9996);var ae,le,ue,de,ce;!function(C){C.None="none"}(ae||(I.NoneType=ae={})),function(C){C[C.NoValue=0]="NoValue",C[C.Value=1]="Value",C[C.Values=2]="Values",C[C.In=3]="In",C[C.NotIn=4]="NotIn"}(le||(le={}));I.FilterRenderer=class FilterRenderer{get filter(){return ee.Convert.isNull(this._filter)&&this.initFilter(),this._filter}set filter(C){this._filter=C}get originalFilter(){var C;return null!==(C=this._originalFilter)&&void 0!==C?C:this._originalFilter=FilterUtil.cloneFilter(this.filter,this.column)}set originalFilter(C){this._originalFilter=C}get filterMenu(){var C;return null!==(C=this._filterMenu)&&void 0!==C?C:this._filterMenu=new FilterMenu(this.grid,this.column,this)}get filterRow(){var C;return null!==(C=this._filterRow)&&void 0!==C?C:this._filterRow=new FilterRow(this.grid,this.column,this)}constructor(C,I){this.grid=C,this.column=I}initFilter(){const C=FilterUtil.searchDataFilter(this.grid,this.column.field),I=this.column.config.filter;ee.Convert.isValue(C)?this.filter=te.GridColumnParser.convertFilter(C,I,this.column.field):this.filter=FilterUtil.cloneFilter(I,this.column),ee.Convert.isEmpty(C)&&this.hasValues(this.filter)&&FilterUtil.doFilter(this.grid,this.filter)}hasValues(C){const I=ee.Arrays.bfsSearch(C.filters,(C=>!!ee.Convert.isValue(C.values)||C.filters));return ee.Convert.isValue(I)}renderCaptionFilter(C,I,B,z){const q=ee.Convert.isValue(I)?ee.JqUtils.adjustElement(C,`>button.${Q.SbCss.filter}`,`<button class='${Q.SbCss.filter}' type='button'></button>`,{data:"index",index:I},B):ee.JqUtils.adjustElement(C,`>button.${Q.SbCss.filter}`,`<button class='${Q.SbCss.filter}' type='button'></button>`),te=ee.JqUtils.adjustElement(q,`>.${Q.SbCss.filter}.${Q.SbCss.icon}`,`<span class = '${Q.SbCss.filter} ${Q.SbCss.icon}'></span>`);FilterUtil.searchDataFilterIndex(this.grid,this.column.field)>-1?ee.JqUtils.addClass(te,Q.SbCss.filled):ee.JqUtils.removeClass(te,Q.SbCss.filled),this.addEventHandler(q,C),this.filterMenu.render(q),ee.Convert.isValue(z)&&z(q)}renderFilterColumn(C,I){const B=ee.JqUtils.adjustElement(C,`>span.${this.column.cellSelector}`,`<span class='${Q.SbCss.filter} ${Q.SbCss.column} ${this.column.cellSelector}'></span>`);if(I){const C=!!document.activeElement.closest(`.${Q.SbCss.summary}`);let I=!!document.activeElement.closest(`button.${Q.SbCss.filter}`);const z=C||!C&&!I;z?this.filterRow.render(B,!0):this.filterRow.render(B,!1);(z?!document.activeElement.closest(`.${Q.SbCss.summary}`):I)?this.renderCaptionFilter(B,void 0,void 0,(C=>C.get(0).focus())):this.renderCaptionFilter(B)}else this.filterRow.render(B,!1),this.renderCaptionFilter(B)}addEventHandler(C,I){this.grid.setEvent("filter","click",this.column.cellSelector+"_menuopen",(I=>{const B=this.filterMenu.isOpen;return this.filterMenu.isOpen=!B,(ee.Convert.isNull(this.grid.config.selectable)||this.grid.config.selectable&&"mouse"!==I.pointerType)&&this.filterMenu.render(C),!1}),C)}focusEscape(){this.grid.container.get(0).focus({preventScroll:!0})}static setFilter(C,I,B){const z=C.columns.find((C=>C.field==I));if((null==z?void 0:z.filterRenderer)&&(z.filterRenderer.filter=void 0),ee.Convert.isNull(B))FilterUtil.doClear(C,I);else{let z="function"==typeof B.operator?q.DataSourceParser.parseFilter(B):te.GridColumnParser.parseFilter(B,I);FilterUtil.doFilter(C,z)}}};class BaseFilter{get filter(){return this.parent.filter}set filter(C){this.parent.filter=C}get name(){var C;return null!==(C=this._name)&&void 0!==C?C:this._name=ee.Utils.ensureName(this.constructor.name)}get originalFilter(){return this.parent.originalFilter}set originalFilter(C){this.parent.originalFilter=C}constructor(C,I,B){this.grid=C,this.parent=B,this.column=I}doFilter(C=!0){C&&(this.originalFilter=void 0);const I=FilterUtil.searchDataFilter(this.grid,this.column.field);this.isSame(I,this.filter)?this.column.fireCommandAsync(this.column,new ne.RefreshCommand):FilterUtil.doFilter(this.grid,this.filter)}doClear(){this.originalFilter=void 0,this.filter=void 0;FilterUtil.searchDataFilterIndex(this.grid,this.column.field)>-1?FilterUtil.doClear(this.grid,this.column.field):this.column.fireCommandAsync(this.column,new ne.RefreshCommand)}doCancel(){this.filter=FilterUtil.cloneFilter(this.originalFilter,this.column),this.doFilter()}isSame(C,I){var B,z,q,Q,te,ie,re;if((null===(B=null==C?void 0:C.values)||void 0===B?void 0:B.length)!==(null===(z=I.values)||void 0===z?void 0:z.length))return!1;if(0==ee.Convert.isSame(null==C?void 0:C.values,null==I?void 0:I.values,!0))return!1;if((null===(q=null==C?void 0:C.filters)||void 0===q?void 0:q.length)!==(null===(Q=null==I?void 0:I.filters)||void 0===Q?void 0:Q.length))return!1;if("none"!==(null==I?void 0:I.operator)&&(null==C?void 0:C.operator)!==(null==I?void 0:I.operator))return!1;return null===(re=null===(ie=null===(te=null==C?void 0:C.filters)||void 0===te?void 0:te.map(((C,B)=>this.isSame(C,null==I?void 0:I.filters[B]))))||void 0===ie?void 0:ie.every((C=>C)))||void 0===re||re}}class FilterMenu extends BaseFilter{get isOpen(){var C;return null!==(C=this._isOpen)&&void 0!==C?C:this._isOpen=!1}set isOpen(C){this._isOpen=C}get secondChildFilter(){var C,I,B;return null!==(C=this._secondChildFilter)&&void 0!==C?C:this._secondChildFilter=null===(B=null===(I=this.column)||void 0===I?void 0:I.config.filter)||void 0===B?void 0:B.filters[1]}constructor(C,I,B){super(C,I,B),this.onFilterCustom=C=>{const I=C.detail,B=I.menuOpen;I.doFilter&&this.doFilter(B),I.doCancel&&this.doCancel(B),I.doClear&&this.doClear(B)},this.onKeyDown=C=>{if("Tab"===C.key&&!C.shiftKey){const I=C.target.closest(`.${Q.SbCss.cancel}`);ee.Convert.isValue(I)&&C.preventDefault()}return!1},this.onChange=C=>{var I;if(0==ie.SBGrid3.$(C.target).hasClass(Q.SbCss.operator))return;const B=null===(I=ie.SBGrid3.$(C.target.closest(`.${Q.SbCss.operator}`)))||void 0===I?void 0:I.closest(`.${Q.SbCss.condition}`);if(B.length<=0)return;const z=B.attr("data-index");if(ee.Convert.isEmpty(z))return;const te=Number.parseInt(z),re=C.target.options[C.target.selectedIndex].value,ne=this.filter.filters[te];return ne.operator!==re&&(ne.operator=ee.Convert.parseEnum(q.FilterOperators,re),ne.values=void 0,this.renderMenu()),!1},this.onJoinClick=C=>{var I,B;const z=ie.SBGrid3.$(C.target).closest(`div.${Q.SbCss.join}`);if(z.length<=0)return;const ee=z.hasClass(Q.SbCss.and)?q.FilterOperators.And:z.hasClass(Q.SbCss.or)?q.FilterOperators.Or:ae.None;return((null===(B=null===(I=this.filter)||void 0===I?void 0:I.filters)||void 0===B?void 0:B.length)>1?this.filter.operator:"none")!=ee?(this.filter.operator=ee,this.adjustFilters(ee),this.renderMenu(),!1):void 0}}render(C){if(!FilterUtil.isFocused(this.grid,this.column)&&this.isOpen)return void this.doCancel();if(!this.isOpen)return this.hideMenu();const I=this.renderMenu();return new PopupPosition(this.grid.container).move(I,C,ue.Right),I}renderMenu(){ee.Convert.isNull(this.originalFilter)&&(this.originalFilter=FilterUtil.cloneFilter(this.filter,this.column));const C=ee.JqUtils.adjustElement(this.grid.container,`#${this.name}.${Q.SbCss.filter}.${Q.SbCss.menu}`,`<div id='${this.name}' class='${Q.SbCss.filter} ${Q.SbCss.menu}'></div>`);C.removeClass(Q.SbCss.hidden);return new JoinCondition(this.grid,this.column).render(C,this.filter),this.renderButtons(C),this.addEventHandler(C),C}addEventHandler(C){this.grid.setEvent("filter","keydown",this.name,this.onKeyDown,C),this.grid.setEvent("filter","filterCustomEvent",this.name,this.onFilterCustom,C),this.grid.setEvent("filter","change",this.name,this.onChange,C),this.grid.setEvent("filter","click",this.name,this.onJoinClick,C)}adjustFilters(C){var I;const B=this.filter.filters;switch(C){case q.FilterOperators.And:case q.FilterOperators.Or:if((null==B?void 0:B.length)<2){const C=null!==(I=this.secondChildFilter)&&void 0!==I?I:B[0],z=FilterUtil.cloneFilter(C,this.column);z.values=void 0,B.push(z)}break;case ae.None:this.filter.operator=ae.None,B.length>=2&&B.splice(1,1)}}renderButtons(C){const I=this.grid.resourceManager.resource,B=ee.JqUtils.adjustElement(C,`>div.${Q.SbCss.confirm}`,`<div class = ${Q.SbCss.confirm}></div>`),z=ee.JqUtils.adjustElement(B,`>.${Q.SbCss.submit}`,`<button class ='${Q.SbCss.submit}' type='button'></button>`);z.html(`${I.filter_submit}`);const q=ee.JqUtils.adjustElement(B,`>.${Q.SbCss.cancel}`,`<button class ='${Q.SbCss.cancel}' type='button'></button>`);q.html(`${I.filter_clear}`),this.grid.setEvent("filter","click",this.name+"_submit",(()=>(this.doFilter(),!1)),z),this.grid.setEvent("filter","click",this.name+"_cancel",(()=>(this.doClear(),!1)),q)}hideMenu(){if(this.isHideMenu())return;const C=this.grid.container.find(`#${this.name}`);return ee.JqUtils.addClass(C,Q.SbCss.hidden),this.parent.focusEscape(),C}isHideMenu(){const C=this.grid.container.find(`#${this.name}`);return!!(C.length<1||C.hasClass(Q.SbCss.hidden))}doFilter(C=!1){var I;this._isOpen=C;(null===(I=this.filter)||void 0===I?void 0:I.filters.every((C=>ValueRenderFactory.getValueType(C.operator)!=le.NoValue&&ee.Convert.isNull(C.values))))?super.doClear():super.doFilter(!C)}doClear(C=!1){this._isOpen=C,super.doClear()}doCancel(C=!1){this._isOpen=C,super.doCancel()}}class FilterRow extends BaseFilter{constructor(){super(...arguments),this.onFilterCustom=C=>{const I=C.detail;I.doFilter&&this.doFilter(),I.doCancel&&this.doCancel(),I.doClear&&this.doClear()}}render(C,I){ee.Convert.isNull(this.originalFilter)&&(this.originalFilter=FilterUtil.cloneFilter(this.filter,this.column));const B=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.summary}`,`<span class = ${Q.SbCss.summary}></span>`),z=this.renderValue(B,I);return this.addEventHandler(B),FilterUtil.removeTrash(B,[z]),B}renderValue(C,I){const{filter:B,renderer:z}=ValueRenderFactory.createRowValueRender(this.grid,this.filter);return null==z?void 0:z.render(C,{column:this.column,filter:B,filterIndex:0},I)}addEventHandler(C){this.grid.setEvent("filter","filterCustomEvent",this.name,this.onFilterCustom,C)}doFilter(){var C;(null===(C=this.filter)||void 0===C?void 0:C.filters.every((C=>ValueRenderFactory.getValueType(C.operator)!=le.NoValue&&ee.Convert.isNull(C.values))))?super.doClear():super.doFilter()}}class ValueRenderFactory{static createRowValueRender(C,I){var B;if((null===(B=I.filters)||void 0===B?void 0:B.length)>1)return{filter:I,renderer:new RowFilterMultiValueRenderer(C)};let z;const Q=(I=null==I?void 0:I.filters[0]).operator;switch(Q){case q.FilterOperators.In:case q.FilterOperators.NotIn:z=new RowFilterCheckValueRenderer(C);break;default:z=C.filterManager.getValueRenderer(Q)}return{filter:I,renderer:z}}static createValueRender(C,I){switch(I){case le.NoValue:return new NoValueRenderer(C);case le.Value:return new ValueRenderer(C);case le.Values:return new ValuesRenderer(C);case le.In:return new InCheckValuesRenderer(C);case le.NotIn:return new NotInCheckValuesRenderer(C)}}static getValueType(C){switch(C){case q.FilterOperators.IsNull:case q.FilterOperators.IsNotNull:case q.FilterOperators.IsEmpty:case q.FilterOperators.IsNotEmpty:case q.FilterOperators.IsNullOrEmpty:case q.FilterOperators.IsNotNullOrEmpty:case q.FilterOperators.And:case q.FilterOperators.Or:return le.NoValue;case q.FilterOperators.IsLessThan:case q.FilterOperators.IsLessThanOrEqualTo:case q.FilterOperators.IsEqualTo:case q.FilterOperators.IsNotEqualTo:case q.FilterOperators.IsGreaterThanOrEqualTo:case q.FilterOperators.IsGreaterThan:case q.FilterOperators.IsGreaterThan:case q.FilterOperators.StartsWith:case q.FilterOperators.NotStartsWith:case q.FilterOperators.EndsWith:case q.FilterOperators.NotEndsWith:case q.FilterOperators.NotContains:case q.FilterOperators.Contains:return le.Value;case q.FilterOperators.FromTo:case q.FilterOperators.NotFromTo:return le.Values;case q.FilterOperators.In:return le.In;case q.FilterOperators.NotIn:return le.NotIn}}static createValueElement(C,I){let B;switch(I){case ee.DataType.String:case ee.DataType.Number:B=ValueRenderFactory.createTextElement(C);break;case ee.DataType.Date:B=ValueRenderFactory.createDateElement(C);break;default:B=ValueRenderFactory.createTextElement(C)}return B}static createTextElement(C){return ee.JqUtils.adjustElement(C,">input[type=text]","<input type='text'>")}static createNumberElement(C){return ee.JqUtils.adjustElement(C,">input[type=number]","<input type='number'>")}static createDrowDownElement(C){return ee.JqUtils.adjustElement(C,">select","<select></select>")}static createDateElement(C){return ee.JqUtils.adjustElement(C,">input[type=date]","<input type='date'>")}static appendOptions(C,I,B){I.forEach((I=>{const z=ee.JqUtils.adjustElement(C,`>option[value='${I}']`,`<option value='${I}'>${I}</option>`);I===B?z.prop("selected",!0):z.prop("selected",!1)}))}}I.ValueRenderFactory=ValueRenderFactory;class ValueRenderer{constructor(C){this.onInput=(C,I)=>{let B=C.target.value.toString();return I.values=ee.Convert.isEmpty(B)?void 0:[B],!1},this.onChange=(C,I)=>(this.onInput(C,I),C.target.dispatchEvent(FilterUtil.createCustomEvent({doFilter:!0})),!1),this.onKeyDown=C=>I=>{C&&I.stopPropagation();let B;switch(I.key){case"Enter":B={doFilter:!0};break;case"Escape":B={doCancel:!0}}return ee.Convert.isValue(B)&&I.target.dispatchEvent(FilterUtil.createCustomEvent(B)),!1},this.grid=C}render(C,I,B){const{filter:z}=I,q=ee.JqUtils.adjustElement(C,`>.${Q.SbCss.values}[data-render-type='${this.constructor.name}']`,`<span class='${Q.SbCss.values}'  data-type='${z.dataType}' data-render-type='${this.constructor.name}'></span>`);return q.data("values",z.values),this.renderValue(q,I,B),q}renderValue(C,I,B){const{filter:z,column:q,filterIndex:te}=I,ie=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_0`,`<span class = '${Q.SbCss.value} ${Q.SbCss.value}_0 '></span>`),re=ValueRenderFactory.createValueElement(ie,z.dataType);let ne=ee.Convert.isValue(null==z?void 0:z.values)?z.values[0]:"";ne=this.convertAsText(ne,z.dataType),re.val(ne);const se=this.makeEventKey(q.name,te,0);this.addEventHandler(re,se,z),FilterUtil.removeTrash(ie,[re]),B&&re.get(0).focus()}convertAsText(C,I){return ee.Convert.isEmpty(C)||I==ee.DataType.Date&&(C=oe.DateUtil.dateFormat(C,"yyyy-MM-dd",!1)),C}makeEventKey(C,I,B){return`${C}_${I}_${B}`}addEventHandler(C,I,B){if(B.dataType===ee.DataType.Date)this.grid.setEvent("filter","change",I,(C=>this.onChange(C,B)),C),this.grid.setEvent("filter","keydown",I,this.onKeyDown(!1),C);else this.grid.setEvent("filter","input",I,(C=>this.onInput(C,B)),C),this.grid.setEvent("filter","keydown",I,this.onKeyDown(!0),C)}}class NoValueRenderer extends ValueRenderer{get type(){return NoValueRenderer.type}renderValue(C,I){var B,z;const q=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_0`,`<span class = '${Q.SbCss.value} ${Q.SbCss.value}_0 '></span>`),te=ValueRenderFactory.createValueElement(q,ee.DataType.String);te.val(null===(z=null===(B=I.filter)||void 0===B?void 0:B.operator)||void 0===z?void 0:z.toString()),te.prop("disabled",!0)}}NoValueRenderer.type="noValue";class ValuesRenderer extends ValueRenderer{constructor(){super(...arguments),this.onInput=(C,I)=>{const B=C.target,z=B.closest("span"),q=(null==z?void 0:z.classList.contains(`${Q.SbCss.value}_0`))?0:1;let te=B.value.toString();return I.values=I.values||[],I.values[q]=ee.Convert.isEmpty(te)?"":te,I.values.every((C=>""===C))&&(I.values=void 0),!1}}renderValue(C,I,B){var z,q;const{filter:te,column:ie,filterIndex:re}=I;[{index:0,value:(null===(z=null==te?void 0:te.values)||void 0===z?void 0:z[0])||""},{index:1,value:(null===(q=null==te?void 0:te.values)||void 0===q?void 0:q[1])||""}].forEach((({index:I,value:z},q)=>{const ne=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_${I}`,`<span class='${Q.SbCss.value} ${Q.SbCss.value}_${I}'></span>`),se=ValueRenderFactory.createValueElement(ne,te.dataType),oe=this.convertAsText(z,te.dataType);se.val(oe);const ae=this.makeEventKey(ie.name,re,I);this.addEventHandler(se,ae,te),FilterUtil.removeTrash(ne,[se]),B&&0===q&&se.get(0).focus()}))}}class InCheckValuesRenderer extends ValueRenderer{constructor(){super(...arguments),this.filterDirect=!0,this.onKeyUp=(C,I,B,z)=>{ee.Convert.isValue(this.autoCompleteTimer)&&clearTimeout(this.autoCompleteTimer);const q=C.target;if("Escape"===C.key)return C.target.dispatchEvent(FilterUtil.createCustomEvent({doCancel:!0})),!1;if("Enter"===C.key){const B=this.filterItems(q.value,I);return z.values=ee.Convert.isEmpty(B)?void 0:B,C.target.dispatchEvent(FilterUtil.createCustomEvent({doFilter:!0})),!1}return this.autoCompleteTimer=setTimeout((()=>{const C=this.filterItems(q.value,I);this.checkItemsRenderer.renderItems(B,C,(C=>this.isChecked(null==z?void 0:z.values,C)))}),200),!1},this.onClick=(C,I,B)=>{var z;const q=ie.SBGrid3.$(C.target);if(q.is("input:checkbox")){const Q=ie.SBGrid3.$(C.currentTarget),ee=q.prop("checked"),te=Q.find(">li>input[type=checkbox]:not([value='all'])"),re=null==te?void 0:te.map(((C,I)=>ie.SBGrid3.$(I).data("data-value"))).get(),ne=null!==(z=B.values)&&void 0!==z?z:[].concat(I),se="all"===q.val()?this.checkAll(ee,re,ne):this.checkValue(ee,null==q?void 0:q.data("data-value"),ne);return B.values=se,this.filterDirect&&C.target.dispatchEvent(FilterUtil.createCustomEvent({doFilter:!0,menuOpen:!0})),!1}}}get checkItemsRenderer(){var C;return null!==(C=this._checkItemsRenderer)&&void 0!==C?C:this._checkItemsRenderer=new ItemsRenderer}renderValue(C,I){const{column:B,filter:z,filterIndex:q}=I,te=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_0`,`<span class = '${Q.SbCss.value} ${Q.SbCss.value}_0'></span>`);this.grid.getGroupByField(B.field,!0).then((C=>{C=this.convertLabelItems(C,z,B),this.initFilter(z,B,C),this.renderCheckFilter(te,C,I)}))}initFilter(C,I,B){}renderCheckFilter(C,I,B){const{column:z,filter:q,filterIndex:Q}=B,ee=this.renderAutoComplete(C),te=this.makeEventKey(z.name,Q,0);this.grid.setEvent("filter","keyup",te,(B=>this.onKeyUp(B,I,C,q)),ee);const ie=this.filterItems(ee.val(),I);this.checkItemsRenderer.renderItems(C,ie,(C=>this.isChecked(null==q?void 0:q.values,C))).then((C=>{this.grid.setEvent("filter","change",te,(C=>this.onClick(C,I,q)),C)}))}convertLabelItems(C,I,B){const z=[...new Set(C.flat())];return I.sourceType===ce.Label?z.map((C=>B.getCellLabel(C))):z}renderAutoComplete(C){const I=this.grid.resourceManager.resource,B=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.filter}.${Q.SbCss.search}`,`<span class = '${Q.SbCss.filter} ${Q.SbCss.search}'></div>`),z=ValueRenderFactory.createTextElement(B);return z.attr("placeholder",I.filter_placeholder),z.get(0).focus({preventScroll:!0}),z}filterItems(C,I){if(ee.Convert.isValue(C)){const B=ee.FuzzyMatcher.createFuzzyMatcher(C);return I.filter((C=>B.test(C)))}return I.map((C=>C))}renderCheckItems(C,I,B){return z(this,void 0,void 0,(function*(){return yield this.checkItemsRenderer.renderItems(C,I,(C=>this.isChecked(null==B?void 0:B.values,C)))}))}isChecked(C,I){return!!ee.Convert.isNull(C)||(null==C?void 0:C.includes(I))}checkAll(C,I,B){return C?ee.Arrays.from(new Set([...I,...B])):null==B?void 0:B.filter((C=>!I.includes(C)))}checkValue(C,I,B){return C?!B.includes(I)&&B.push(I):B.findIndex((C=>C===I))>-1&&B.splice(B.findIndex((C=>C===I)),1),B}adjustValues(C,I){}}class ItemsRenderer{renderItems(C,I,B){return z(this,void 0,void 0,(function*(){const z=ee.JqUtils.adjustElement(C,">ul","<ul></ul>"),q=this.renderCheckAllItem(z),Q=[];return Q.push(q),yield ee.Arrays.intervalAction(I,((C,I,q)=>{const te=this.renderItem(z,C,I,B(C));return ee.Convert.isValue(te)&&Q.push(te),(I+1)%500==0})),FilterUtil.removeTrash(z,Q),this.renderTotalAndAll(C,q),z}))}renderCheckAllItem(C){const I=ee.JqUtils.adjustElement(C,">li[value='all']","<li value='all'></li>");return ee.JqUtils.adjustElement(I,">input[type=checkbox]","<input type='checkbox' value='all'></input>"),ee.JqUtils.adjustElement(I,">label","<label>all</label>"),I}renderItem(C,I,B,z){if(ee.Convert.isNull(I))return;const q=this.hashCode(I.toString()),Q=C.children().eq(B+1);let te=ee.JqUtils.adjustElement(C,`>li[value='${q}']`,`<li value='${q}'></li>`,(C=>Q.length>0&&C.is(Q)));const ie=ee.JqUtils.adjustElement(te,">input[type=checkbox]",`<input type='checkbox' value='${I}'></input>`);return ie.data("data-value")!==I&&ie.data("data-value",I),ie.prop("checked")!==z&&ie.prop("checked",z),ee.JqUtils.adjustElement(te,">label",`<label>${I}</label>`),te}hashCode(C){let I=0;for(let B=0;B<C.length;B++){I=(I<<5)-I+C.charCodeAt(B)}return I}renderTotalAndAll(C,I){const B=ee.JqUtils.adjustElement(C,">span.count","<span class ='count'><span>"),z=C.find(`ul>li:not(.${Q.SbCss.hidden})>input[type=checkbox]:not([value='all'])`),q=z.filter(((C,I)=>!0===ie.SBGrid3.$(I).prop("checked"))).length,te=z.length;B.text(`all : ${z.length}, checked: ${q}`);const re=I.find("input")[0];te===q?(ie.SBGrid3.$(re).removeClass(Q.SbCss.halfCheck),re.checked=!0):0==q?(ie.SBGrid3.$(re).removeClass(Q.SbCss.halfCheck),re.checked=!1):(ie.SBGrid3.$(re).addClass(Q.SbCss.halfCheck),re.checked=!1)}}class NotInCheckValuesRenderer extends InCheckValuesRenderer{isChecked(C,I){return!ee.Convert.isNull(C)&&(null==C?void 0:C.includes(I))}initFilter(C,I,B){ee.Convert.isNull(C.values)&&(C.values=[])}}class RowFilterMultiValueRenderer extends ValueRenderer{renderValue(C,I){const B=I.filter,z=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_0`,`<span class = '${Q.SbCss.value} ${Q.SbCss.value}_0 '></span>`),q=ValueRenderFactory.createValueElement(z,ee.DataType.String),te=null==B?void 0:B.filters.map((C=>(null==C?void 0:C.values)instanceof Array?C.values[0]:C.values)),ie=te.every((C=>ee.Convert.isEmpty(C)))?"":te.join(` ${B.operator} `);q.prop("disabled",!0),q.val(ie)}}class RowFilterCheckValueRenderer extends ValueRenderer{renderValue(C,I){var B;const z=ee.JqUtils.adjustElement(C,`>span.${Q.SbCss.value}.${Q.SbCss.value}_1`,`<span class = '${Q.SbCss.value} ${Q.SbCss.value}_1 '></span>`),q=ValueRenderFactory.createValueElement(z,ee.DataType.String),te=I.filter.values,ie=ee.Convert.isNull(te)||te.length<=0?"":`(${te.length}) ${"string"==typeof te?te:null!==(B=te.find((C=>ee.Convert.isValue(C))))&&void 0!==B?B:""}`;q.val(ie),q.prop("disabled",!0)}}class JoinCondition{constructor(C,I){this.grid=C,this.column=I}render(C,I){const B=ee.JqUtils.adjustElement(C,`>.${Q.SbCss.condition}`,`<div class ='${Q.SbCss.condition}'></div>`),z=null==I?void 0:I.filters,q=I.operator===ae.None,te=[];for(let C=0;C<(null==z?void 0:z.length);C++){const I=z[C],Q=this.renderCondition(B,I,C);if(te.push(Q),q)break}if(!0===I.showJoinOperator){const C=this.renderJoinOperator(B,I,q?void 0:C=>C.is(te[1]));te.push(C)}return FilterUtil.removeTrash(B,te),B}static removeTrash(C,I){const B=C.children();for(let C=0;C<B.length;C++){const z=B[C];I.find((C=>C.is(z)))||z.remove()}}renderJoinOperator(C,I,B){var z;const te=ee.JqUtils.adjustElement(C,`>div.${Q.SbCss.operator}.${Q.SbCss.join}`,`<div class= '${Q.SbCss.operator} ${Q.SbCss.join}'>`,B),ie=(null===(z=null==I?void 0:I.filters)||void 0===z?void 0:z.length)>1?I.operator:"none";return[ae.None,q.FilterOperators.And,q.FilterOperators.Or].forEach((C=>{const I=Q.SbCss.toClass(C.toLowerCase()),B=ee.JqUtils.adjustElement(te,`>div.${Q.SbCss.join}.${I}`,`<div class= '${Q.SbCss.join} ${I}'></div>`),z=ee.JqUtils.adjustElement(B,`>input[type='radio'].${Q.SbCss.operator}.${I}`,`<input type='radio' name='${Q.SbCss.operator}' value= '${C}' class='${Q.SbCss.operator} ${I}'></input>`);C==ie?z.prop("checked",!0):z.prop("checked",!1),ee.JqUtils.adjustElement(B,">label",`<label>${FilterUtil.getResource(C,this.grid)}</label>`)})),te}renderCondition(C,I,B){return new FilterCondition(this.grid).render(C,{column:this.column,filter:I,filterIndex:B})}}!function(C){C.Top="top",C.Bottom="bottom",C.Left="left",C.Right="right"}(ue||(I.Position=ue={}));class PopupPosition{constructor(C){this.gridOffset=C.offset()}move(C,I,B){switch(B){case ue.Top:this.positionTop(C,I);break;case ue.Left:this.positionLeft(C,I);break;case ue.Right:this.positionRight(C,I);break;case ue.Bottom:this.positionBottom(C,I)}}positionLeft(C,I){const B=I.offset(),z=C.outerWidth();B.left-z<0?this.positionRight(C,I):C.css({top:B.top-this.gridOffset.top+I.outerHeight(),left:B.left-z-this.gridOffset.left+I.outerWidth()})}positionRight(C,I){const B=I.offset(),z=C.outerWidth(),q=window.innerWidth,Q=B.left;q-Q-I.outerWidth()<z?this.positionLeft(C,I):C.css({top:B.top-this.gridOffset.top+I.outerHeight(),left:Q-this.gridOffset.left})}positionBottom(C,I){const B=I.offset();C.css({top:B.top+I.outerHeight()-this.gridOffset.top,left:B.left-this.gridOffset.left+I.outerWidth()/2-C.outerWidth()/2})}positionTop(C,I){const B=I.offset(),z=B.top-C.outerHeight();B.left;z<0?this.positionBottom(C,I):C.css({top:z-this.gridOffset.top,left:B.left-this.gridOffset.left+I.outerWidth()/2-C.width()/2})}}I.PopupPosition=PopupPosition,function(C){C.Row="row",C.Menu="menu"}(de||(I.FilterMode=de={})),function(C){C.Value="value",C.Label="label"}(ce||(I.ISourceType=ce={}));class FilterUtil{static searchDataFilterIndex(C,I){I="string"==typeof I?I:I[0];return C.view.dataConfig.filters.findIndex((C=>C.field[0]===I&&!C.fixed))}static searchDataFilter(C,I){I="string"==typeof I?I:I[0];const B=FilterUtil.searchDataFilterIndex(C,I);return B>-1?C.view.dataConfig.filters[B]:void 0}static doClear(C,I){var B;if(ee.Convert.isNull(I))C.dataConfig.filters=C.dataConfig.filters.filter((C=>void 0!==C.field[0]||C.fixed));else{const z=FilterUtil.searchDataFilterIndex(C,I);z>-1&&(null===(B=null==C?void 0:C.dataConfig.filters)||void 0===B||B.splice(z,1))}C.search()}static doFilter(C,I){return z(this,void 0,void 0,(function*(){const B=(null==I?void 0:I.operator)==ae.None,z="function"==typeof I.operator;B&&(I.operator=q.FilterOperators.Or);const Q=C.view.dataConfig.filters,ee=q.DataSourceParser.parseFilter(I);if(z)Q.push(ee);else{const z=FilterUtil.searchDataFilterIndex(C,I.field);z>-1?Q.splice(z,1,ee):Q.push(ee),B&&(I.operator=ae.None)}C.search()}))}static cloneFilter(C,I){var B,z,Q;const te=ee.Convert.default(C.dataType,null!==(B=FilterUtil.getDataType(I))&&void 0!==B?B:ee.DataType.String),ie=C.operator==ae.None?null===(z=C.filters)||void 0===z?void 0:z.slice(0,1):C.filters;return{field:null!==(Q=null==C?void 0:C.field)&&void 0!==Q?Q:I.field,operator:null==C?void 0:C.operator,showJoinOperator:null==C?void 0:C.showJoinOperator,values:ee.Convert.isValue(null==C?void 0:C.values)?[].concat(null==C?void 0:C.values):C.values,sourceType:null==C?void 0:C.sourceType,dataType:te,getFilterValue:null==C?void 0:C.getFilterValue,operators:ee.Convert.default(C.operators,FilterUtil.type_operators[te]),filters:null==ie?void 0:ie.map((B=>{const z=FilterUtil.cloneFilter(B,I);return z.dataType==ee.DataType.Array&&(z.operator=q.FilterOperators.In),FilterUtil.adjustOperator(z),FilterUtil.adjustSourceType(z,I),z.getFilterValue=null==C?void 0:C.getFilterValue,z}))}}static adjustSourceType(C,I){const B=[se.ColumnTypes.Check,se.ColumnTypes.Combo,se.ColumnTypes.Radio];ee.Convert.isNull(C.sourceType)&&(C.sourceType=B.includes(I.type)?ce.Label:ce.Value),C.sourceType===ce.Label&&(C.getValue=(C,B)=>I.getCellLabel(C[B]))}static getDataType(C){var I,B;let z;z=ee.Convert.isValue(C.dataType)?C.dataType:null===(B=null===(I=C.grid.dataConfig.schema)||void 0===I?void 0:I.fields[C.field])||void 0===B?void 0:B.dataType,ee.Convert.isValue(z)&&(z=ee.Convert.parseEnum(ee.DataType,z));const q=[ee.DataType.Any,ee.DataType.Object,ee.DataType.BigInt];return z=ee.Convert.isNull(z)||q.includes(ee.Convert.parseEnum(ee.DataType,z))?ee.DataType.String:ee.Convert.parseEnum(ee.DataType,z),z}static adjustOperator(C){return"function"==typeof C.operator||C.dataType===ee.DataType.Boolean&&0==C.operators.some((I=>C.operator==I))&&(C.operator=C.operators[0]),C}static getOperators(C){var I;return null!==(I=FilterUtil.type_operators[C])&&void 0!==I?I:FilterUtil.type_operators[ee.DataType.String]}static getResource(C,I){const B=I.resource;switch(C){case q.FilterOperators.IsLessThan:return B.filter_isLessThan;case q.FilterOperators.IsLessThanOrEqualTo:return B.filter_isLessThanOrEqualTo;case q.FilterOperators.IsEqualTo:return B.filter_isEqualTo;case q.FilterOperators.IsNotEqualTo:return B.filter_isNotEqualTo;case q.FilterOperators.IsGreaterThan:return B.filter_isGreaterThan;case q.FilterOperators.IsGreaterThanOrEqualTo:return B.filter_isGreaterThanOrEqualTo;case q.FilterOperators.IsNull:return B.filter_isNull;case q.FilterOperators.IsNotNull:return B.filter_isNotNull;case q.FilterOperators.IsEmpty:return B.filter_isEmpty;case q.FilterOperators.IsNotEmpty:return B.filter_isNotEmpty;case q.FilterOperators.In:return B.filter_in;case q.FilterOperators.NotIn:return B.filter_notIn;case q.FilterOperators.IsNullOrEmpty:return B.filter_isNullOrEmpty;case q.FilterOperators.IsNotNullOrEmpty:return B.filter_isNotNullOrEmpty;case q.FilterOperators.FromTo:return B.filter_fromTo;case q.FilterOperators.NotFromTo:return B.filter_notFromTo;case q.FilterOperators.StartsWith:return B.filter_startsWith;case q.FilterOperators.NotStartsWith:return B.filter_notStartsWith;case q.FilterOperators.EndsWith:return B.filter_endsWith;case q.FilterOperators.NotEndsWith:return B.filter_notEndsWith;case q.FilterOperators.Contains:return B.filter_contains;case q.FilterOperators.NotContains:return B.filter_notContains;case q.FilterOperators.And:return B.filter_and;case q.FilterOperators.Or:return B.filter_or;case ae.None:return B.filter_none}}static removeTrash(C,I){const B=C.children();for(let C=0;C<B.length;C++){const z=B[C];I.find((C=>null==C?void 0:C.is(z)))||z.remove()}}static isFocused(C,I){const B=C.focusManager.focus;if(!((null==B?void 0:B.column)==I))return!1;switch(C.config.filterable){case de.Menu:return(null==B?void 0:B.panelType)==re.PanelType.Caption;case de.Row:return(null==B?void 0:B.panelType)==re.PanelType.Filter}}static createCustomEvent(C){return new CustomEvent("filterCustomEvent",{bubbles:!0,cancelable:!0,detail:C})}}I.FilterUtil=FilterUtil,FilterUtil.publicFilters=[q.FilterOperators.IsLessThan,q.FilterOperators.IsLessThanOrEqualTo,q.FilterOperators.IsEqualTo,q.FilterOperators.IsNotEqualTo,q.FilterOperators.IsGreaterThan,q.FilterOperators.IsGreaterThanOrEqualTo,q.FilterOperators.In,q.FilterOperators.NotIn,q.FilterOperators.FromTo,q.FilterOperators.NotFromTo,q.FilterOperators.IsNull,q.FilterOperators.IsNotNull,q.FilterOperators.IsEmpty,q.FilterOperators.IsNotEmpty,q.FilterOperators.IsNullOrEmpty,q.FilterOperators.IsNotNullOrEmpty],FilterUtil.type_operators={array:[q.FilterOperators.In,q.FilterOperators.NotIn],string:[q.FilterOperators.StartsWith,q.FilterOperators.NotStartsWith,q.FilterOperators.EndsWith,q.FilterOperators.NotEndsWith,q.FilterOperators.Contains,q.FilterOperators.NotContains,...FilterUtil.publicFilters],number:[...FilterUtil.publicFilters],date:[...FilterUtil.publicFilters],boolean:[q.FilterOperators.In,q.FilterOperators.NotIn,q.FilterOperators.IsNull,q.FilterOperators.IsNotNull,q.FilterOperators.IsEmpty,q.FilterOperators.IsNotEmpty,q.FilterOperators.IsNullOrEmpty,q.FilterOperators.IsNotNullOrEmpty]};class FilterCondition{constructor(C){this.grid=C}render(C,I){var B,z;const{filter:q,filterIndex:te,column:ie}=I,re=ee.JqUtils.adjustElement(C,`>.${Q.SbCss.condition}_${te}.${Q.SbCss.condition}`,`<div class ='${Q.SbCss.condition} ${Q.SbCss.condition}_${te}' data-index= ${te}></div>`),ne=this.renderOperator(re,I),se=null===(z=null===(B=this.grid.filterManager)||void 0===B?void 0:B.getValueRenderer(q.operator))||void 0===z?void 0:z.render(re,I,!0);return FilterUtil.removeTrash(re,[ne,se]),re}renderOperator(C,I){var B;const z=ee.JqUtils.adjustElement(C,`>select.${Q.SbCss.operator}`,`<select class='${Q.SbCss.operator}'></select>`),{filter:q}=I;return null===(B=q.operators)||void 0===B||B.forEach((C=>{const I=ee.JqUtils.adjustElement(z,`>option[value=${C}]`,`<option value='${C}'>${FilterUtil.getResource(C,this.grid)}</option>`);C==q.operator?I.prop("selected",!0):I.prop("selected",!1)})),z}}I.FilterManager=class FilterManager{get valuesRenderContainer(){var C;return null!==(C=this._valuesRenderContainer)&&void 0!==C?C:this._valuesRenderContainer=new Map}constructor(C){this._grid=C}getValueRenderer(C){const I=ValueRenderFactory.getValueType(C);let B=this.valuesRenderContainer.get(I);return ee.Convert.isNull(B)&&(B=ValueRenderFactory.createValueRender(this._grid,I),ee.Convert.isValue(B)&&this.valuesRenderContainer.set(I,B)),B}disconnect(){var C;null===(C=this._grid.columns)||void 0===C||C.forEach((C=>{ee.Convert.isValue(C.filterRenderer)&&(C.filterRenderer.filter=void 0)}))}}},8788:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GapColumn=I.RowReorderColumn=I.RowRadioColumn=I.RowCheckColumn=I.FrozenColumn=I.DetailColumn=I.DetailClickColumn=I.StickyColumn=I.CustomColumn=I.StatusColumn=I.RowNoColumn=I.FixedColumn=void 0;const q=B(5165),Q=B(3354),ee=B(5260),te=B(1163),ie=B(5774),re=B(103),ne=B(7721),se=B(6258),oe=B(6312),ae=B(7078),le=B(194);class FixedColumn extends re.GridColumn{editable(){return!1}get sortable(){return se.SortMode.None}get visible(){return!0}makeCell(C,I,B){const{cellSelector:z,cellClass:q}=this.makeCellClass(I,B),Q=new Set,ee=te.JqUtils.adjustElement(C,`>span.${z}`,`<span class='${q}'></span>`,void 0,Q);return te.JqUtils.movetoTrash(this.grid.trashCan,C,Q),te.JqUtils.changeClass(ee,q),ee}renderCell(C,I,B){var q;return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(te.Convert.isValue(this.cellTemplate)||te.Convert.isValue(null===(q=this.config)||void 0===q?void 0:q.customView))this.renderCustomView(z,I);else{const C=this.getValue(I);te.JqUtils.adjustHtml(z,C)}}))}renderEmpty(C,I,B=void 0,z=void 0){const q=`${ae.SbCss.cell} ${this.cellSelector} ${I}`,Q=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${q}'></span>`,B,z);te.JqUtils.changeClass(Q,q),te.JqUtils.adjustHtml(Q,"")}renderCaptionTitle(C,I,B,z){this.renderEmpty(C,ae.SbCss.caption,void 0,z)}renderGroupFooter(C,I,B){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,ae.SbCss.group)}))}renderGroupHeader(C,I,B){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,ae.SbCss.group)}))}renderTreeFooter(C,I,B){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,ae.SbCss.footer)}))}renderCaptionFilter(C,I,B){}}I.FixedColumn=FixedColumn;class RowNoColumn extends FixedColumn{renderCell(C,I,B){return z(this,void 0,void 0,(function*(){const B=new Set;let z=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.cell} ${this.cellSelector}'></span>`,void 0,B),q="";if(q=this.grid.scrollWhole?te.Convert.isNull(I)?"":(I.rowNo+1).toString():te.Convert.isValue(this.grid.dataConfig.groups)?this.grid.pageNo+1+"-"+(I.rowNo+1):(I.rowNo+1).toString(),te.Convert.isValue(this.config.cellTemplate)||te.Convert.isValue(this.config.customView)){const C=te.Convert.cloneData(I.data);C[Q.FixedFields.rowno]=q,C._rowIndex_=I.rowIndex,this.renderCustomView(z,I,C)}else z.html(q);te.JqUtils.movetoTrash(this.grid.trashCan,C,B),te.JqUtils.addClass(z,ae.SbCss.rowno)}))}getValue(C){return te.Convert.isNull(C)?"":(C.rowIndex+1).toString()}renderCaptionTitle(C,I,B,z){const q=`${this.cellSelector} ${ae.SbCss.caption} ${ae.SbCss.center}`,Q=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${q}'></span>`,{data:"index",index:B},z);te.JqUtils.changeClass(Q,q);const ee=te.JqUtils.adjustElement(Q,`>.${ae.SbCss.center}`,`<div class='${ae.SbCss.tools} ${ae.SbCss.align} ${ae.SbCss.center}'></div>`);te.Convert.isValue(this.caption)?te.JqUtils.adjustHtml(ee,this.caption):te.JqUtils.adjustHtml(ee,"#")}renderHeader(C,I){const B=Object.create(null,{renderHeader:{get:()=>super.renderHeader}});return z(this,void 0,void 0,(function*(){yield B.renderHeader.call(this,C,I)}))}renderGroupHeader(C,I,B){return z(this,void 0,void 0,(function*(){return yield this.renderCell(C,I,B)}))}renderGroupFooter(C,I,B){return z(this,void 0,void 0,(function*(){return yield this.renderCell(C,I,B)}))}renderTreeFooter(C,I,B){return z(this,void 0,void 0,(function*(){return yield this.renderCell(C,I,B)}))}getRawValue(C){return this.getValue(C)}}I.RowNoColumn=RowNoColumn;I.StatusColumn=class StatusColumn extends RowNoColumn{get sortable(){return this.config.sortable}constructor(C,I){I.field=Q.FixedFields.status,super(C,I)}renderCell(C,I){var B;return z(this,void 0,void 0,(function*(){const z=te.Convert.isValue(this.config.cellTemplate);let q=`${ae.SbCss.cell} ${this.cellSelector} ${z?ae.SbCss.template:ae.SbCss.icon} ${ae.SbCss.toClass(I.status)}`,Q=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${q}'></span>`),ee=te.Convert.isNull(I)?"":this.getValue(I);if(te.Convert.isValue(this.config.cellTemplate)||te.Convert.isValue(null===(B=this.config)||void 0===B?void 0:B.customView)){const C=te.Convert.cloneData(I.data);this.renderCustomView(Q,I,C)}else te.JqUtils.adjustHtml(Q,ee);te.JqUtils.changeClass(Q,q)}))}renderCaptionTitle(C,I,B,z){const q=`${ae.SbCss.caption} ${ae.SbCss.icon} ${ae.SbCss.update}`;this.renderEmpty(C,q,void 0,z),this.config.sortable!=se.SortMode.None&&this.grid.setEvent("columnCaptionSortClick","click",this.config,this.onCaptionSortClick,C)}renderCaptionSort(C,I,B){}getValue(C){return""}makeColClass(C,I){return ae.SbCss.status}getRawValue(C){return C.getValue(this.field)}};I.CustomColumn=class CustomColumn extends RowNoColumn{constructor(C,I,B){super(C,I),this._render=B}renderCell(C,I){return z(this,void 0,void 0,(function*(){let B=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.cell} ${this.cellSelector}'></span>`);B.remove(),this._render(B.get(0),I,this)}))}getValue(C){let I="";switch(C.status){case le.DataStatus.Delete:I+=" -";break;case le.DataStatus.Insert:I+=" +";break;case le.DataStatus.Update:I+=" *"}return I}};I.StickyColumn=class StickyColumn extends FixedColumn{constructor(){super(...arguments),this.onStickyMousedown=C=>z(this,void 0,void 0,(function*(){if(0!=C.button)return;let I=oe.SBGrid3.$(C.target),B=this.grid.getRowItem(I);this.grid.toggleStickyRow(null==B?void 0:B.key)}))}selectable(){return!1}renderCell(C,I,B){const q=Object.create(null,{makeCell:{get:()=>super.makeCell}});return z(this,void 0,void 0,(function*(){let z=q.makeCell.call(this,C,I,B);(I.node instanceof Q.GroupNode||I.node instanceof Q.FooterNode)&&z.html(""),te.JqUtils.addClass(z.parent(),ae.SbCss.sticky),this.grid.eventManager.setHandler("stickyColumnMousedown","mousedown",this.constructor.name,this.onStickyMousedown,C.toArray())}))}renderDetail(C,I,B){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,`${ae.SbCss.cell}`)}))}makeCellClass(C,I){const B=super.makeCellClass(C,I);return C.node instanceof Q.GroupNode||C.node instanceof Q.FooterNode?B.cellClass+=" ":B.cellClass+=` ${ae.SbCss.icon} ${ae.SbCss.sticky} ${C.isSticky?ae.SbCss.pined:""}`,B}makeColClass(C,I){return ae.SbCss.sticky}renderCaption(C){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,`${ae.SbCss.caption} ${ae.SbCss.cell} ${ae.SbCss.icon} ${ae.SbCss.sticky}`)}))}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){yield this.renderCell(C,I,B)}))}};I.DetailClickColumn=class DetailClickColumn extends FixedColumn{constructor(){super(...arguments),this.onDetailClick=C=>z(this,void 0,void 0,(function*(){if(0!=C.button)return;let I=oe.SBGrid3.$(C.target),B=yield this.grid.getRowItem(I);ee.Log.debug((()=>["detail",B])),te.Convert.isValue(B)&&(this.grid.toggleDetail(B.key),this.fireCommandAsync(this,new q.RefreshCommand(this.grid.mergeRow?{}:{rowStart:B.rowIndex}))),this.grid.scrollPanel.sbScrollbar.scrollAnti=!0}))}selectable(){return!1}renderCell(C,I){return z(this,void 0,void 0,(function*(){const B=`${ae.SbCss.cell} ${this.cellSelector} ${ae.SbCss.detail} ${ae.SbCss.icon} ${I.isDetail?ae.SbCss.open:ae.SbCss.close}`;let z=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${B}'></span>`);te.JqUtils.changeClass(z,B),this.grid.eventManager.setHandler("detailColumnClick","mousedown",this.constructor.name,this.onDetailClick,C.toArray())}))}renderCaption(C){return z(this,void 0,void 0,(function*(){te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.caption} ${ae.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}};I.DetailColumn=class DetailColumn extends FixedColumn{selectable(){return!1}constructor(C,I){I.type=ie.ColumnTypes.Detail,super(C,I)}renderDetail(C,I,B){var q,Q,ee,ie,re,ne,oe,ae,le,ue;return z(this,void 0,void 0,(function*(){let z;if(null!==(ie=null===(ee=null===(Q=null===(q=I.detailContext)||void 0===q?void 0:q.container)||void 0===Q?void 0:Q.get(0))||void 0===ee?void 0:ee.isConnected)&&void 0!==ie&&ie)z=I.detailContext.container,C.append(z);else if((null!==(oe=null===(ne=null===(re=I.detailContext)||void 0===re?void 0:re.container)||void 0===ne?void 0:ne.get(0).children.length)&&void 0!==oe?oe:0)>0)z=I.detailContext.container,C.append(z);else{z=this.makeCell(C,I,B),te.Convert.isValue(this.grid.config.detailOverflow)&&z.css("overflow",this.grid.config.detailOverflow);const q=(null!==(ae=I.detailTemplate)&&void 0!==ae?ae:this.grid.detailTemplate)(I.data);te.JqUtils.adjustHtml(z,q);const Q=null!==(le=I.detailInit)&&void 0!==le?le:this.grid.detailInit;if(te.Convert.isValue(Q)){const C=null!==(ue=I.detailContext)&&void 0!==ue?ue:I.detailContext=new se.DetailContext(this.grid,I,z,new Map);C.container=z,Q(C)}}return z}))}};class FrozenColumn extends re.GridColumn{editable(){return!1}renderCell(C,I){return z(this,void 0,void 0,(function*(){te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.cell} ${this.cellSelector}'></span>`).html("")}))}renderCaption(C){return z(this,void 0,void 0,(function*(){te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.caption} ${ae.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}}I.FrozenColumn=FrozenColumn;class RowCheckColumn extends FixedColumn{constructor(){super(...arguments),this.onClick=C=>z(this,void 0,void 0,(function*(){if(0!=C.button)return;let I=oe.SBGrid3.$(C.target),B=yield this.grid.getRowItem(I);te.Convert.isNull(B)||(B.check=!B.isCheck,this.fireCommandAsync(this,new q.RefreshCommand({rowStart:B.rowIndex,rowEnd:B.rowIndex})))}))}get type(){return ie.ColumnTypes.Check}static create(C,I){return new RowCheckColumn(C,I)}getValue(C){return C.isCheck}makeCell(C,I,B){const{cellSelector:z,cellClass:q}=this.makeCellClass(I,B),Q=te.JqUtils.adjustElement(C,`>span.${z}`,`<span class='${q}'></span>`);return te.JqUtils.changeClass(Q,q),Q}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);te.Convert.isValue(this.cellTemplate)||te.Convert.isValue(this.config.customView)?this.renderCustomView(z,I):(z.empty(),te.JqUtils.addClass(z,ae.SbCss.icon),I.isCheck?te.JqUtils.addClass(z,ae.SbCss.checked):te.JqUtils.removeClass(z,ae.SbCss.checked)),this.grid.eventManager.setHandler("checkColumnClick","mousedown",this.constructor.name,this.onClick,C.toArray())}))}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=" "+ae.SbCss.check,{cellSelector:B,cellClass:z}}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){this.renderCell(C,I,B)}))}renderCaption(C){return z(this,void 0,void 0,(function*(){this.renderCaptionCheck(C,void 0,void 0)}))}toggleCaptionCheck(){super.toggleCaptionCheck();for(const C of this.grid.rows)te.Convert.isNull(C)||(C.check=this.captionChecked);this.fireCommandAsync(this,new q.RefreshCommand)}}I.RowCheckColumn=RowCheckColumn;class RowRadioColumn extends FixedColumn{constructor(){super(...arguments),this.onClick=C=>z(this,void 0,void 0,(function*(){if(0!=C.button)return;let I=oe.SBGrid3.$(C.target),B=yield this.grid.getRowItem(I);te.Convert.isNull(B)||(B.isRadio=!0,this.fireCommandAsync(this,new q.RefreshCommand))}))}get type(){return ie.ColumnTypes.Radio}static create(C,I){return new RowRadioColumn(C,I)}getValue(C){return C.isCheck}makeCell(C,I,B){const{cellSelector:z,cellClass:q}=this.makeCellClass(I,B),Q=te.JqUtils.adjustElement(C,`>span.${z}`,`<span class='${q}'></span>`);return te.JqUtils.changeClass(Q,q),Q}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(te.Convert.isValue(this.cellTemplate)||te.Convert.isValue(this.config.customView))this.renderCustomView(z,I);else{const C=` ${ae.SbCss.radio} ${ae.SbCss.radio_icon} ${I.isRadio?" "+ae.SbCss.checked:""}`,B=te.JqUtils.adjustElement(z,">span",`<span class='${C}'></span>`);te.JqUtils.changeClass(B,C)}this.grid.eventManager.setHandler("radioColumnClick","mousedown",this.constructor.name,this.onClick,C.toArray())}))}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return{cellSelector:B,cellClass:z}}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){this.renderCell(C,I,B)}))}renderCaptionTitle(C,I,B,z){super.renderCaptionTitle(C,I,B,z)}}I.RowRadioColumn=RowRadioColumn;class RowReorderColumn extends FixedColumn{constructor(C,I){I.selectable=!1,super(C,I)}static create(C,I){return new RowReorderColumn(C,I)}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(te.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(I);z.html()!=C&&z.html(C)}else te.Convert.isValue(this.config.customView)&&this.renderViewFunc(z,I);I.reorderable||te.Convert.isValue(C.data("ui-draggable"))&&C.draggable("destroy")}))}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return C.reorderable&&(z+=" "+ae.SbCss.icon),{cellSelector:B,cellClass:z}}renderCaption(C){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,`${ae.SbCss.caption} ${ae.SbCss.icon} ${ae.SbCss.rowreorder}`)}))}renderDetail(C,I,B){return z(this,void 0,void 0,(function*(){this.renderEmpty(C,`${ae.SbCss.cell}`)}))}}I.RowReorderColumn=RowReorderColumn;class GapColumn extends re.GridColumn{selectable(){return!1}editable(){return!1}get unit(){return ne.Unit.Fraction}get width(){return 1}set width(C){}get cellSelector(){return`${ae.SbCss.gap}`}renderCell(C,I){return z(this,void 0,void 0,(function*(){te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.cell} ${this.cellSelector}'></span>`).html("")}))}renderCaption(C){return z(this,void 0,void 0,(function*(){te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae.SbCss.caption} ${ae.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}}I.GapColumn=GapColumn},103:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnRender=I.GridColumn=void 0;const q=B(4407),Q=B(6105),ee=B(7392),te=B(3354),ie=B(1163),re=B(7721),ne=B(9797),se=B(6312),oe=B(7078),ae=B(3419),le=B(860),ue=B(6258),de=B(5882),ce=B(6252),he=B(5165),fe=B(5774),pe=B(5369),me=B(373),ge=B(2663);class GridColumn extends q.Publisher{get captionChecked(){var C;return null!==(C=this._captionChecked)&&void 0!==C?C:this._captionChecked=!1}set captionChecked(C){this._captionChecked=C}get filterRenderer(){var C;return ie.Convert.isNull(this._filterRenderer)&&(this._filterRenderer=ie.Convert.isValue(this.grid.config.filterable)&&this.part!==re.PartType.Fixed&&this.type!==fe.ColumnTypes.Frozen&&ie.Convert.isValue(this.field)&&ie.Convert.isValue(null===(C=this.config.filter)||void 0===C?void 0:C.operator)?new ce.FilterRenderer(this.grid,this):void 0),this._filterRenderer}get align(){return this.config.align}get valign(){return this.config.valign}get captions(){return this.config.captions}get rows(){return this.config.rows}get filters(){return this.config.filters}get headers(){return this.config.headers}get footers(){return this.config.footers}get directApplyEdit(){return!1}static ensureName(C){const I=[];return ie.Convert.isValue(C.caption)&&I.push(C.caption),ie.Convert.isValue(C.field)&&I.push(C.field),0==I.length?void 0:I.join("-")}constructor(C,I){var B,q,Q,re;super(C),this._level=0,this._colSpan=1,this._width=void 0,this._getGroupMap=new Map,this.onCaptionMenuClick=C=>z(this,void 0,void 0,(function*(){const I=this.getCol(se.SBGrid3.$(C.target)),B=this.grid.getColumn(I),z=yield this.grid.getRowItem(I);if(null!=B&&(this.grid.container.find(`.${oe.SbCss.menu_group}`).not(`.${oe.SbCss.menu_group}.${oe.SbCss.col}-${B.index}`).remove(),this.grid.container.find(`.${oe.SbCss.context_menu}`).remove()),this.grid.container.find(`.${oe.SbCss.menu_group}.${oe.SbCss.col}-${B.index}`).length>0)this.grid.container.find(`.${oe.SbCss.menu_group}.${oe.SbCss.col}-${B.index}`).remove();else{const q=se.SBGrid3.$(C.target).closest(`.${oe.SbCss.panel}.${oe.SbCss.caption}`),Q=ie.JqUtils.adjustElement(q,`>div.${oe.SbCss.menu_group}.${oe.SbCss.col}-${B.index}`,`<div class='${oe.SbCss.menu_group} ${oe.SbCss.col}-${B.index}'></span>`),ee=new de.GridMenu(this._grid,de.GridMenuParser.parse(this.config.captionMenu),B,z);null==B.parent?ee.render(se.SBGrid3.$(Q),de.MenuType.CaptionMenu,void 0):ee.render(se.SBGrid3.$(Q),de.MenuType.CaptionMenu,B.parent);const te=se.SBGrid3.$(`.${oe.SbCss.panel}.${oe.SbCss.group}`);let re=0;null!=te.height()&&(re=te.height());const ne=se.SBGrid3.$(C.target).closest(`.${oe.SbCss.grid}`);this.grid.container.height()<this.grid.container.find(Q).children().height()&&(Q.children().css("height",this.grid.container.height()/2),Q.children().css("overflow-y","scroll")),this.grid.container.find(Q).css("top",I.offset().top-ne.offset().top+I.height()),this.grid.container.find(Q).css("left",I.offset().left-ne.offset().left+I.width()-se.SBGrid3.$(C.target).width()),ne.width()+this.grid.container.offset().left<se.SBGrid3.$(C.target).offset().left+se.SBGrid3.$(Q).width()&&this.grid.container.find(Q).css("left",this.grid.container.width()-this.grid.container.find(Q).width()-this.grid.container.find(`.${oe.SbCss.scrollv}`).width()-4)}})),this.onCaptionClick=C=>{const I=this;switch(this.config.captionClick){case GridColumn.toolSort:I.onCaptionSortClick(C);break;case GridColumn.toolMenu:I.onCaptionMenuClick(C);break;case GridColumn.toolCheck:I.onCaptionCheckClick(C)}},this.onCaptionSortClick=C=>{var I;if(this.grid.config.sortable==ue.SortMode.None||this.config.sortable==ue.SortMode.None)return;C.offsetX;const B=C.offsetY,z=se.SBGrid3.$(C.target).height(),q=(null!==(I=this.grid.dataConfig.orders)&&void 0!==I?I:[]).find((C=>C.field==this.field));let Q=ee.SortDir.Asc,re=ie.Convert.isNull(q)||q.dir==ee.SortDir.Desc;this.config.sortable==ue.SortMode.Toggle&&(Q=B<z/2?ee.SortDir.Asc:ee.SortDir.Desc,re=ie.Convert.isNull(q)||(null==q?void 0:q.dir)==Q),this.config.field==te.FixedFields.status&&(re=!0),this.grid.toggleSort(this.config.field,re,Q)},this.onCaptionCheckClick=C=>{if(!0!==this.config.captionCheck)return;C.offsetX,C.offsetY,se.SBGrid3.$(C.target).height();this.toggleCaptionCheck()},this._alias=GridColumn.ensureName(I),this._config=this.parseConfig(I,C.config.defaultColumn,C.config.masterColumns),ie.Convert.isNull(this._config.dataType)&&ie.Convert.isValue(null===(q=null===(B=C.dataConfig.schema)||void 0===B?void 0:B.fields)||void 0===q?void 0:q[I.field])&&(this._config.dataType=ie.Convert.parseEnum(ie.DataType,null===(re=null===(Q=C.dataConfig.schema)||void 0===Q?void 0:Q.fields[I.field])||void 0===re?void 0:re.dataType)),this._grid=C}get type(){return this.config.type}get name(){var C,I;return ie.Convert.isEmpty(this.config.caption)&&ie.Convert.isEmpty(this.config.field)?super.name:(null!==(C=this.config.caption)&&void 0!==C?C:"")+"_"+(null!==(I=this.config.field)&&void 0!==I?I:"")}get visible(){var C;return null!==(C=this.grid.exporting?this.config.exportVisible:void 0)&&void 0!==C?C:this.config.visible}get sortable(){return this.config.sortable}get dataType(){return this.config.dataType}get captionRender(){var C;return null!==(C=this._captionRender)&&void 0!==C?C:this._captionRender=new le.CaptionRender(this.grid,this.captionLayout)}static create(C,I){return new GridColumn(C,I)}get config(){return this._config}get tooltip(){return this.config.tooltip}parseConfig(C,I,B){return re.GridColumnParser.parseColumn(C,I,B,!1)}get columns(){var C;return null!==(C=this._columns)&&void 0!==C?C:this._columns=new Array}get grid(){return this._grid}set grid(C){this._grid=C,super.publisher=C}get field(){return this.config.field}get index(){var C;return null!==(C=this._index)&&void 0!==C?C:0}set index(C){this._index=C}get colIndex(){var C;return null!==(C=this._colIndex)&&void 0!==C?C:0}set colIndex(C){this._colIndex=C}get level(){return this._level}set level(C){this._level=C}get parent(){return this._parent}set parent(C){this._parent=C}get colSpan(){var C,I;return null!==(I=null!==(C=this._colSpan)&&void 0!==C?C:this.config.colSpan)&&void 0!==I?I:1}set colSpan(C){this._colSpan=C}get width(){var C;return null!==(C=this._width)&&void 0!==C?C:this.config.width}set width(C){this._width=C}get minWidth(){return this.config.minWidth}get maxWidth(){return this.config.maxWidth}get unit(){return this.config.unit}get groups(){return this.config.groups}selectable(C){return 0!=this.grid.canGridCommand(new me.GridSelectCommand(null==C?void 0:C.key,this))&&0!=this.evalBoolean(this.config.selectable,C)}editable(C){var I,B;return!ie.Convert.isNull(this.grid.config.editable)&&(!ie.Convert.isEmpty(this.field)&&(!ie.Convert.isValue(null===(I=this.config.calc)||void 0===I?void 0:I.eval)&&(0!=this.grid.canGridCommand(new me.GridEditCommand(null==C?void 0:C.key,this))&&0!=(null!==(B=this.evalBoolean(this.config.editable,C))&&void 0!==B&&B))))}get part(){return this.config.part}get isSticky(){return this.part==re.PartType.Sticky}get cellSelector(){return oe.SbCss.col+"-"+this.index}get totalHeaders(){var C,I;return null!==(C=this._headers)&&void 0!==C?C:this._headers=ColumnRender.parseColumnTemplate(null===(I=this.config.total)||void 0===I?void 0:I.header,this)}get totalFooters(){var C,I;return null!==(C=this._footers)&&void 0!==C?C:this._footers=ColumnRender.parseColumnTemplate(null===(I=this.config.total)||void 0===I?void 0:I.footer,this)}get treeFooters(){var C,I;return null!==(C=this._treeFooters)&&void 0!==C?C:this._treeFooters=ColumnRender.parseColumnTemplate(null===(I=this.config.tree)||void 0===I?void 0:I.footer,this)}get groupMap(){var C;return null!==(C=this._groupMap)&&void 0!==C?C:this._groupMap=this.makeGroupMap()}get groupFootersMap(){var C;return null!==(C=this._groupFootersMap)&&void 0!==C?C:this._groupFootersMap=this.makeRenderMap((C=>C.footer))}get groupHeadersMap(){var C;return null!==(C=this._groupHeadersMap)&&void 0!==C?C:this._groupHeadersMap=this.makeRenderMap((C=>C.header))}get hasHeader(){return ie.Convert.isValue(this.totalHeaders)}get hasFooter(){return ie.Convert.isValue(this.totalFooters)}get mergeRow(){return this.config.mergeRow}get mergeColumn(){return this.config.mergeColumn}get captionLayout(){return this.config.captionLayout}get caption(){return this.config.caption}set caption(C){this.config.caption=C}get isSorted(){var C;return(null!==(C=this.grid.dataConfig.orders)&&void 0!==C?C:[]).some((C=>C.field==this.field))}get contextMenu(){return ie.Convert.isEmpty(this.config.contextMenu)?this.grid.contextMenu:this.config.contextMenu}hasGroupHeader(C){return 0!=this.groupMap.size&&!ie.Convert.isEmpty(this.getGroup(C).headers)}hasGroupFooter(C){return 0!=this.groupMap.size&&!ie.Convert.isEmpty(this.getGroup(C).footers)}makeGroupMap(){var C;const I=new Map;if(this.config.groups instanceof Array)for(const B of this.config.groups){null!==(C=B.ignoreGroup)&&void 0!==C||(B.ignoreGroup=new Set);const z=B.group.split(",");for(let C of z)ie.Convert.isWhite(C)||(C=C.trim(),C.startsWith("!")?B.ignoreGroup.add(C.replace("!","")):I.has(C)?I.get(C).push(B):I.set(C,[B]))}return I}makeRenderMap(C){const I=new Map;for(const B of this.groupMap.keys()){const z=this.groupMap.get(B),q=ColumnRender.parseAggregateGroup(z.filter((C=>{var I,z;return null===(z=0==(null===(I=C.ignoreGroup)||void 0===I?void 0:I.has(B)))||void 0===z||z})),this,C);I.set(B,q)}return I}getGroup(C){var I,B,z,q;if(this._getGroupMap.has(C))return this._getGroupMap.get(C);const Q={groups:null!==(I=this.groupMap.get(C))&&void 0!==I?I:[],footers:null!==(B=this.groupFootersMap.get(C))&&void 0!==B?B:[],headers:null!==(z=this.groupHeadersMap.get(C))&&void 0!==z?z:[],titles:null!==(q=this.groupTitles)&&void 0!==q?q:[]};return this.groupMap.has("*")&&(Q.groups=Q.groups.concat(this.groupMap.get("*").filter((I=>0==I.ignoreGroup.has(C))))),ie.Convert.isValue(Q.groups)&&(this.groupFootersMap.has("*")&&(Q.footers=Q.footers.concat(this.groupFootersMap.get("*"))),this.groupHeadersMap.has("*")&&(Q.headers=Q.headers.concat(this.groupHeadersMap.get("*")))),this._getGroupMap.set(C,Q),Q}toArray(C){return C instanceof Array?C:ie.Convert.isNull(C)?[]:[C]}get cellTemplate(){var C;return null!==(C=this._cellTemplate)&&void 0!==C?C:ie.Convert.isEmpty(this.config.cellTemplate)?void 0:this._cellTemplate=ie.Utils.createTemplate(this.config.cellTemplate)}get captionTemplate(){var C;return null!==(C=this._captionTemplate)&&void 0!==C?C:ie.Convert.isEmpty(this.config.captionTemplate)?void 0:this._captionTemplate=ie.Utils.createTemplate(this.config.captionTemplate)}get editTemplate(){var C;return null!==(C=this._editTemplate)&&void 0!==C?C:ie.Convert.isEmpty(this.config.editTemplate)?void 0:this._editTemplate=ie.Utils.createTemplate(this.config.editTemplate)}get groupTitles(){var C,I;return null!==(C=this._groupTitles)&&void 0!==C?C:this._groupTitles=ColumnRender.parseColumnTemplate(null===(I=this.config.groupTitle)||void 0===I?void 0:I.title,this)}getFieldValue(C,I){const{field:B,format:z,default:q}=this.config;let Q=C.hasOwnProperty(B)?C[B]:void 0;const ee=this.getInnerValue(I,Q,B);if(this.isEdit(I))return Q=ie.Convert.isNull(ee)?q:ee,Q;if(Q=ee,ie.Convert.isValue(z)){let I=ie.Convert.isValue(this.dataType)?ie.Convert.convertType(Q,this.dataType):Q;return I=ie.Convert.formatValue(I,B,z,C),Object.is(I,Number.NaN)?Q:I}return Q}getCellValue(C){return this.getRawValue(C)}getCellLabel(C){return C instanceof ne.RowItem?this.getValue(C):C}getCellHtml(C,I=void 0){var B;if(!ie.Convert.isValue(this.cellTemplate))return this.getCellLabel(C);{let I=this.getCellTemplate(C);try{return null===(B=se.SBGrid3.$(I).text())||void 0===B?void 0:B.trim()}catch(C){return I}}}getCellText(C,I=void 0){return this.getCellHtml(C,I)}getRawValue(C){return ie.Convert.isEmpty(this.field)?void 0:C.getValue(this.field)}getValue(C,I=void 0){var B;let z="";if(C.node instanceof te.FooterNode&&C.node.parent instanceof te.GroupNode||C.node instanceof te.GroupNode)z=this.getGroupValue(C);else if(ie.Convert.isValue(I)&&I.merge&&"function"==typeof this.mergeColumn)z=this.mergeColumn(C.data,C);else{const I=C.data;z=ie.Convert.isNull(I)?"":null!==(B=this.getFieldValue(I,C))&&void 0!==B?B:""}return z}getTooltipData(C,I=void 0){return ie.Convert.cloneData(C.data)}getTemp(C){var I;const B=null==C?void 0:C.columnTemps;if(null==B?void 0:B.hasOwnProperty(this.name))return B[this.name];const z=null!==(I=C.temp)&&void 0!==I?I:this.directApplyEdit?ie.Convert.cloneData(C.data):void 0;if(ie.Convert.isNull(z))return"";return this.getFieldValue(z,C)}setValueDirect(C,I,B){this.setInnerValue(C,I,B)}setInnerValue(C,I,B){const z=[];if(this.grid.mergeRow&&ie.Convert.isValue(this.config.mergeUpdate)){const q=this.isMergeUpdate(C,B,I);ie.Convert.isEmpty(q)&&q.push(C);for(const C of q)z.push({key:C.key,value:I,field:B,oldValue:C.data[B]})}else z.push({key:C.key,value:I,field:B,oldValue:C.data[B]});this.fireCommand(this,new pe.UpdateCommand(z,this))}isMergeUpdate(C,I,B){var z,q;const Q=this.grid.scrollPanel.bodyPanel.rowsView,ee=C.key,te=[];let ie=Q.currRows.findIndex((C=>{var I;return(null===(I=C.rowItem)||void 0===I?void 0:I.key)==ee}));const re=Q.currRows[ie];if(1==(null!==(z=null==re?void 0:re.merge[I])&&void 0!==z?z:1))return te;if("function"==typeof this.config.mergeUpdate){if(!0!==this.config.mergeUpdate(B,I,C.data))return te}else if(!0!==this.config.mergeUpdate)return te;const ne=this.grid.mergeMap;if(ie=ne.findIndex((C=>{var I;return(null===(I=C.rowItem)||void 0===I?void 0:I.key)==ee})),ie<0){ie=this.grid.ensureMergeMap().findIndex((C=>{var I;return(null===(I=C.rowItem)||void 0===I?void 0:I.key)==ee}))}if(ie<0)return te;for(;ie>=0&&!(ne[ie].merge[I]>1);ie--);const se=(null!==(q=ne[ie].merge[I])&&void 0!==q?q:1)+ie;for(let C=ie;C<se;C++)te.push(ne[C].rowItem);return te}getInnerValue(C,I,B){return ie.Convert.isValue(this.config.getValue)&&(I=this.config.getValue(I,B,C)),I}setTemp(C,I){const B=this.getEditValue(I);this._setTemp(C,B)}_setTemp(C,I){const B=C.columnTemps;this.config.directApplyValue||0!=ie.Convert.isNull(B)?(null==B?void 0:B.hasOwnProperty(this.name))&&delete B[this.name]:B[this.name]=I,this.setTempValue(C,I)}setTempValue(C,I){var B;if(C.setTemp(this.field,I),ie.Convert.isValue(this.config.validators)){if(0==(null===(B=this.grid.editConfig)||void 0===B?void 0:B.immediateValidationCheck)&&!this.config.directApplyValue)return;const z=this.isValid(C);this.grid.config.editable.immediateValidationCheck&&this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:this.index,colEnd:this.index})),z.state===ae.ValidationState.Valid&&this.config.directApplyValue&&(this.setValueDirect(C,I,this.field),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})))}else this.config.directApplyValue&&(this.setValueDirect(C,I,this.field),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})))}getLabelData(C,I){var B;return null!==(B=this.getValue(C,I))&&void 0!==B?B:""}getCellTemplate(C){return this.cellTemplate(C.data)}getEditTemplate(C){return this.editTemplate(C.data)}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(null==B?void 0:B.merged)ie.JqUtils.adjustHtml(z,"");else if(ie.Convert.isValue(this.cellTemplate)||ie.Convert.isValue(this.config.customView))this.renderCustomView(z,I);else{let q=this.getValue(I,B);ie.Convert.isEmpty(q)&&(q=this.renderPlaceHolder(q,I,C)),ie.JqUtils.adjustHtml(z,q)}}))}renderPlaceHolder(C,I,B){const z=this.config.placeHolder;return ie.Convert.isEmpty(C)&&ie.Convert.isValue(z)?(C="function"==typeof z?z(I.data):z,ie.JqUtils.addClass(B,oe.SbCss.place_holder)):ie.JqUtils.removeClass(B,oe.SbCss.place_holder),C}makeCell(C,I,B){(null==I?void 0:I.node)instanceof te.GroupNode?ie.JqUtils.addClass(C,oe.SbCss.hidden):0!=this.width&&ie.JqUtils.removeClass(C,oe.SbCss.hidden);const{cellSelector:z,cellClass:q}=this.makeCellClass(I,B),Q=new Set,ee=ie.JqUtils.adjustElement(C,`>span.${z}`,`<span class='${q}'></span>`,void 0,Q);return ie.JqUtils.changeClass(ee,q),C.hasClass(oe.SbCss.invalid)&&ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.invalid}.${oe.SbCss.indicator}`,`<span class='${oe.SbCss.invalid} ${oe.SbCss.indicator}'></span>`,void 0,Q),ie.JqUtils.movetoTrash(this.grid.trashCan,C,Q),ee}makeColClass(C,I){return""}makeCellClass(C,I){const B=this.cellSelector;let z=`${oe.SbCss.cell} ${this.cellSelector} ${oe.SbCss.toClass(this.type)} ${0==this.width?oe.SbCss.hidden:""}`;return ie.Convert.isEmpty(this.getValue(C))&&ie.Convert.isValue(this.config.placeHolderCss)&&(z+=" "+("function"==typeof this.config.placeHolderCss?this.config.placeHolderCss(C.data):this.config.placeHolderCss)),ie.Convert.isValue(this.config.cellTemplate)&&(z+=" "+oe.SbCss.template),{cellSelector:B,cellClass:z}}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(ie.Convert.isValue(this.editTemplate)||ie.Convert.isValue(this.config.customEdit))this.renderCustomEdit(z,I);else{let C=this.getValue(I,B);ie.JqUtils.adjustHtml(z,C)}}))}renderDetail(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);return""!=z.html()&&z.html(""),z}))}renderCaption(C){var I;return z(this,void 0,void 0,(function*(){const B=null!==(I=this.config.caption)&&void 0!==I?I:"",z=this.cellSelector,q=new Set,Q=`${oe.SbCss.caption} ${oe.SbCss.column} ${z}`,ee=ie.JqUtils.adjustElement(C,`>.${z}`,`<span class='${Q}'></span>`,void 0,q);if(ie.JqUtils.changeClass(ee,Q),ie.JqUtils.movetoTrash(this.grid.trashCan,C,q),ie.Convert.isEmpty(this.config.captionTemplate))this.captionRender.render(ee,((C,I,z,q)=>{if(!ie.Convert.isEmpty(I))switch(I.toLowerCase()){case GridColumn.toolCaption:this.renderCaptionTitle(C,B,z,q);break;case GridColumn.toolSort:this.renderCaptionSort(C,z,q);break;case GridColumn.toolFilter:this.renderCaptionFilter(C,z,q);break;case GridColumn.toolMenu:this.renderCaptionMenu(C,z,q);break;case GridColumn.toolCheck:this.renderCaptionCheck(C,z,q);break;default:this.renderCaptionTemplate(C,I,z,q)}}));else{q.clear();const C=ie.JqUtils.adjustElement(ee,`>span.${oe.SbCss.template}`,`<span class='${oe.SbCss.template}'></span>`,void 0,q);ie.JqUtils.movetoTrash(this.grid.trashCan,ee,q);const I=this.captionTemplate(this);ie.JqUtils.adjustHtml(C,I)}}))}get captionTemplateMap(){var C;return null!==(C=this._captionTemplateMap)&&void 0!==C?C:this._captionTemplateMap=new Map}renderCaptionTemplate(C,I,B,z){if(ie.Convert.isEmpty(I))return;let q;if(0==this.captionTemplateMap.has(I)?(q=ie.Utils.createTemplate(I),this.captionTemplateMap.set(I,q)):q=this.captionTemplateMap.get(I),ie.Convert.isValue(q)){const Q=ie.JqUtils.adjustElement(C,`>span[name='${I}']`,`<span name='${I}' class='${oe.SbCss.template}'></span>`,{data:"index",index:B},z),ee=q(this);ie.JqUtils.adjustHtml(Q,ee)}}renderCaptionMenu(C,I,B){if(ie.Convert.isNull(this.config.captionMenu)||0==this.config.captionMenu||this.config.part==re.PartType.Fixed)return;const z=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.icon}.${oe.SbCss.menu}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.menu}'></span>`,{data:"index",index:I},B);this.grid.setEvent("columnCaptionMenuClick","click",this.name,this.onCaptionMenuClick,z)}renderCaptionCheck(C,I,B){if(!0!==this.config.captionCheck)return;const z=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.check}`,`<span class='${oe.SbCss.check}'><span class='${oe.SbCss.checkbox}'></span></span>`,{data:"index",index:I},B),q=ie.JqUtils.adjustElement(z,`>span.${oe.SbCss.checkbox}`,`<span class='${oe.SbCss.checkbox}'></span>`);this.captionChecked?ie.JqUtils.addClass(q,oe.SbCss.checked):ie.JqUtils.removeClass(q,oe.SbCss.checked),this.grid.setEvent("columnCaptionCheckClick","click",this.name,this.onCaptionCheckClick,z)}getCol(C){var I;if(0!=(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0))return C.closest(`.${oe.SbCss.col}`)}renderCaptionSort(C,I,B){var z,q;if(this.grid.config.sortable==ue.SortMode.None||this.sortable==ue.SortMode.None)return;if(ie.Convert.isEmpty(this.config.field))return;const Q=0==this.config.showUnSortIcon,te=[].concat(null!==(z=this.grid.dataConfig.groups)&&void 0!==z?z:[]);null===(q=this.grid.dataConfig.orders)||void 0===q||q.forEach((C=>te.findIndex((I=>I.field==C.field))<0&&te.push(C)));const re=te.findIndex((C=>C.field==this.config.field)),ne=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.order}`,`<span class='${oe.SbCss.order}'></span>`,{data:"index",index:I},B),se=Q&&re<0?`${oe.SbCss.order} ${oe.SbCss.hidden}`:`${oe.SbCss.order}`;ie.JqUtils.changeClass(ne,se);const ae=ie.JqUtils.adjustElement(ne,`>span.${oe.SbCss.icon}.${oe.SbCss.sort}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.sort}'></span>`);if(re>=0){const C=te[re].dir==ee.SortDir.Asc?oe.SbCss.asc:oe.SbCss.desc;if(ie.JqUtils.changeClass(ae,`${oe.SbCss.icon} ${oe.SbCss.sort} ${C}`),this.grid.config.multiSort||ie.Convert.isValue(this.grid.dataConfig.groups)){const C=ie.JqUtils.adjustElement(ne,`>span.${oe.SbCss.icon}.${oe.SbCss.no}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.no}'></span>`);ie.JqUtils.adjustHtml(C,re+1)}}else{ie.JqUtils.changeClass(ae,`${oe.SbCss.icon} ${oe.SbCss.sort}`);const C=ie.JqUtils.adjustElement(ne,`>span.${oe.SbCss.icon}.${oe.SbCss.no}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.no}'></span>`);ie.JqUtils.adjustHtml(C,"")}this.grid.setEvent("columnCaptionSortClick","click",this.config,this.onCaptionSortClick,ae)}renderCaptionTitle(C,I,B,z){const q=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.title}`,`<span class='${oe.SbCss.title}'></span>`,{data:"index",index:B},z);ie.Convert.isEmpty(this.config.captionTemplate)?ie.JqUtils.adjustHtml(q,I):ie.JqUtils.adjustHtml(q,this.captionTemplate(this)),ie.Convert.isValue(this.config.captionClick)&&this.grid.setEvent("columnCaptionClick","click",this.config,this.onCaptionClick,q)}renderCaptionFilter(C,I,B){this.grid.config.filterable===ce.FilterMode.Menu&&ie.Convert.isValue(this.filterRenderer)&&this.filterRenderer.renderCaptionFilter(C,I,B)}renderFilterColumn(C){var I;this.grid.config.filterable===ce.FilterMode.Row&&(ie.Convert.isValue(this.filterRenderer)?null===(I=this.filterRenderer)||void 0===I||I.renderFilterColumn(C,!1):C.empty())}toggleCaptionCheck(){const C=new me.GridCaptionCheckCommand(this,this.captionChecked);1==this.grid.canGridCommand(C)&&(C.checked=1!=this.captionChecked,this.grid.doGridCommand(C),this.captionChecked=C.checked,this.fireCommandAsync(this,new he.RefreshCommand))}getHeaderValue(C=void 0){return this.getHeaderFooterValue(this.totalHeaders,C)}getFooterValue(C=void 0){return this.getHeaderFooterValue(this.totalFooters,C)}getHeaderFooterValue(C,I){var B,z;const q=GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(B=this.config.total)||void 0===B?void 0:B.aggregates);let Q;if(ie.Convert.isNull(I)){Q=[];for(const I of C)Q.push(I.render(q))}else{const B=null===(z=C.find(((C,B)=>I==B)))||void 0===z?void 0:z.render;ie.Convert.isValue(B)&&(Q=B(q))}return Q}getGroupValue(C){let I,B;if(C.node instanceof te.GroupNode)I=C.node.igroup,B=C.node.data;else{if(!(C.node instanceof te.FooterNode))return"";I=C.node.parent.igroup,B=C.node.parent.data}const{groups:z,headers:q,footers:Q}=this.getGroup(I.field);if(ie.Convert.isValue(z)){const ee=ie.Convert.mergeData(B,GridColumn.makeGroupData(I.aggregates,z,C)),re=C.node instanceof te.GroupNode?q:Q,ne=[];for(const C of re)ne.push(C.render(ee));return ne}}renderHeader(C,I){var B;return z(this,void 0,void 0,(function*(){const z=this.cellSelector,q=ie.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.header} ${oe.SbCss.text} ${z}' data-selector='${z}'></span>`);let Q="";if(ie.Convert.isValue(this.totalHeaders)){const z=null===(B=this.totalHeaders[I.renderIndex])||void 0===B?void 0:B.align;ie.Convert.isValue(z)&&ie.JqUtils.addClass(C,oe.SbCss.toClass(z)),Q=this.getHeaderValue(I.renderIndex)}ie.JqUtils.movetoTrash(this.grid.trashCan,C,z),q.html(Q)}))}renderFooter(C,I){var B;return z(this,void 0,void 0,(function*(){const z=this.cellSelector,q=ie.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.footer} ${oe.SbCss.text} ${z}' data-selector='${z}'></span>`);let Q="";if(ie.Convert.isValue(this.totalFooters)){const z=null===(B=this.totalFooters[I.renderIndex])||void 0===B?void 0:B.align;ie.Convert.isValue(z)&&ie.JqUtils.addClass(C,oe.SbCss.toClass(z)),Q=this.getFooterValue(I.renderIndex)}ie.JqUtils.movetoTrash(this.grid.trashCan,C,z),q.html(Q)}))}static getAggregateMap(C){var I;const B=new Map;for(const z of null!=C?C:[]){const C=null!==(I=z.require)&&void 0!==I?I:[],q=Q.Aggregate.getResultName(z,C,!0);B.set(q,z)}return B}renderGroupFooter(C,I,B){var q,Q;return z(this,void 0,void 0,(function*(){const z=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.cell}`,`<span class='${oe.SbCss.group} ${oe.SbCss.footer} ${oe.SbCss.cell} ${oe.SbCss.text} ${this.cellSelector}'></span>`);let ee="";if(I.node instanceof te.FooterNode&&I.node.parent instanceof te.GroupNode){const C=I.node.parent,te=C.igroup;if(0==this.groupTitleVisible&&0==B.merged){const Q=null===(q=this.grid.view.dataConfig.groups.map((C=>C.field)))||void 0===q?void 0:q.indexOf(this.field);if(Q>=0&&C.level>Q)return ee=this.getValue(I.parent,B),ie.Convert.isEmpty(ee)&&(ee=this.getFieldValue(I.parent.data,I.parent)),void(z.html()!=ee&&z.html(ee))}const{groups:re,footers:ne}=this.getGroup(te.field);if(ie.Convert.isValue(re)){const C=GridColumn.makeGroupData(te.aggregates,re,I.parent),q=ne[B.renderIndex];ie.Convert.isValue(q)&&(ie.Convert.isValue(q.align)&&ie.JqUtils.addClass(z,oe.SbCss.toClass(q.align)),ee=null!==(Q=q.render(C))&&void 0!==Q?Q:"")}}z.html()!=ee&&z.html(ee)}))}renderGroupHeader(C,I,B){var q;return z(this,void 0,void 0,(function*(){const z=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.cell}`,`<span class='${oe.SbCss.group} ${oe.SbCss.header} ${oe.SbCss.cell} ${oe.SbCss.text} ${this.cellSelector}'></span>`);let Q="";if(I.node instanceof te.GroupNode){const C=I.node.igroup,{groups:ee,headers:te}=this.getGroup(C.field);if(ie.Convert.isValue(ee)){const re=GridColumn.makeGroupData(C.aggregates,ee,I),ne=te[B.renderIndex];ie.Convert.isValue(ne)&&(ie.Convert.isValue(ne.align)&&ie.JqUtils.addClass(z,oe.SbCss.toClass(ne.align)),Q=null!==(q=ne.render(re))&&void 0!==q?q:"")}ie.JqUtils.removeClass(z,oe.SbCss.invalid)}z.html()!=Q&&z.html(Q)}))}get groupTitleVisible(){var C;return!1!==(null===(C=this.config.groupTitle)||void 0===C?void 0:C.visible)}get groupTitle(){var C;return null!==(C=this.config.groupTitle)&&void 0!==C?C:{}}getGroupTitle(C,I=0){var B,z;let q="";if(C.node instanceof te.GroupNode){const Q=C.node.igroup,{groups:ee,titles:te}=this.getGroup(Q.field);if(ie.Convert.isValue(te)){const ee=this.makeGroupTitle(Q.aggregates,this.config.groupTitle,C);q=null!==(z=null===(B=te[I])||void 0===B?void 0:B.render(ee))&&void 0!==z?z:""}}return q}renderTreeFooter(C,I,B){var q,Q;return z(this,void 0,void 0,(function*(){const z=ie.JqUtils.adjustElement(C,`>span.${oe.SbCss.cell}`,`<span class='${oe.SbCss.tree} ${oe.SbCss.footer} ${oe.SbCss.cell} ${this.cellSelector}'></span>`);let ee="";if(I.node instanceof te.FooterNode&&I.node.parent instanceof te.TreeNode&&ie.Convert.isValue(null===(q=this.config.tree)||void 0===q?void 0:q.aggregates)&&ie.Convert.isValue(I.node.aggregates)){const C=GridColumn.makeTreeData(I.node.aggregates,this.config.tree,I.parent),q=this.treeFooters[B.renderIndex];ie.Convert.isValue(q)&&(ie.Convert.isValue(q.align)&&ie.JqUtils.addClass(z,oe.SbCss.toClass(q.align)),ee=null!==(Q=q.render(C))&&void 0!==Q?Q:"")}z.html()!=ee&&z.html(ee)}))}static makeAggregateData(C,I){const B=GridColumn.getAggregateMap(C),z=GridColumn.getAggregateMap(I),q={};for(const C of z.keys())if(B.has(C)){const I=z.get(C);I.value=B.get(C).value,q[I.field]=I.value,"string"==typeof I.func?ie.Convert.isValue(I.payload)?q[I.func+"_"+I.payload]=I.value:q[I.func]=I.value:"string"==typeof I.eval&&(ie.Convert.isValue(I.payload)?q[I.eval+"_"+I.payload]=I.value:q[I.eval]=I.value)}return q}static makeGroupData(C,I,B){var z;let q={_rowItem:B,_data:B.data};if(q=ie.Convert.mergeData(q,null==B?void 0:B.data),ie.Convert.isEmpty(C)||ie.Convert.isEmpty(I))return q;for(const B of C)for(const C of I)for(const I of null!==(z=C.aggregates)&&void 0!==z?z:[])0!=Q.Aggregate.aggregateEquals(I,B)&&GridColumn.makeAggregateValue(I,q,B.value);return q}static makeAggregateValue(C,I,B){ie.Convert.isValue(C.field)&&(I[C.field]=B);const z=Q.Aggregate.fieldsJoin(C.require,"_"),q="string"==typeof C.func?C.func:"func",ee=C.payload;"string"==typeof C.func&&(I[q]=B),I[z+"_"+q]=B,ie.Convert.isValue(C.payload)&&(I[z+"_"+q+"_"+ee]=B,I[q+"_"+ee]=B)}makeGroupTitle(C,I,B){var z;let q={_rowItem:B,_data:B.data};if(q=ie.Convert.mergeData(q,null==B?void 0:B.data),B.node instanceof te.GroupNode){const C=B.node;q._groupKey=C.groupKey,q._groupField=C.igroup.field,q._groupNode=C,q._aggregates=C.igroup.aggregates}if(ie.Convert.isEmpty(C)||ie.Convert.isEmpty(I))return q;for(const B of C)for(const C of null!==(z=I.aggregates)&&void 0!==z?z:[])0!=Q.Aggregate.aggregateEquals(C,B)&&GridColumn.makeAggregateValue(C,q,B.value);return q}static makeTreeData(C,I,B){let z={_rowItem:B,_data:B.data};if(z=ie.Convert.mergeData(z,null==B?void 0:B.data),ie.Convert.isEmpty(C)||ie.Convert.isEmpty(I))return z;for(const B of C)for(const C of I.aggregates)0!=Q.Aggregate.aggregateEquals(C,B)&&GridColumn.makeAggregateValue(C,z,B.value);return z}getEditValue(C){}isValid(C){var I,B;if(ie.Convert.isNull(this.config.validators)||"GroupNode"===(null===(B=null===(I=null==C?void 0:C.node)||void 0===I?void 0:I.constructor)||void 0===B?void 0:B.name))return{state:ae.ValidationState.Valid};let z=this.isEdit(C)?this.getTemp(C):this.getRawValue(C);return ae.ColumnValidator.isValid(this.config.validators,z)}mergeEditData(C,I){if(!this.editable(I))return;const B=this.getTemp(I),z=new me.GridValueCommand({key:I.key,value:B,field:this.field},this);this.grid.canGridCommand(z)&&(C[this.field]=B)}isFocused(C,I){var B;const z=null===(B=this.grid.focusManager.focus)||void 0===B?void 0:B.column;return(null==z?void 0:z.type)===fe.ColumnTypes.Dynamic&&z.name===this.name?this.grid.focusManager.isFocused(C,z,I):this.grid.focusManager.isFocused(C,this,I)}isGroupItem(C){if(C.node instanceof te.GroupItem){if(te.GroupItem.getGroupKeys(C.node).has(this.field))return!0}return!1}isEdit(C){var I,B,z,q,Q;const ee=null===(I=this.grid.editConfig)||void 0===I?void 0:I.mode;if(ie.Convert.isNull(ee))return!1;if(ee==ue.EditMode.incell&&(null===(B=this.grid.focusManager.focus)||void 0===B?void 0:B.column)!=this)return!1;if(1!=this.editable(C))return!1;if(this.isGroupItem(C))return!1;if(C.node instanceof te.TreeNode){const C=null===(z=this.grid.dataConfig.tree)||void 0===z?void 0:z.parent;if(ie.Convert.isValue(C)&&"string"==typeof C&&this.field===C)return!1}if(C.isEdit)switch(ee){case ue.EditMode.none:case ue.EditMode.popup:return!1;case ue.EditMode.inline:return this.evalBoolean(this.config.editable,C);case ue.EditMode.incell:{const I=this.grid.focusManager.focus;return!(null===(Q=this.evalBoolean(null===(q=null==I?void 0:I.column)||void 0===q?void 0:q.config.editable,C))||void 0===Q||!Q)&&(this==(null==I?void 0:I.column)&&C==(null==I?void 0:I.rowItem)&&(null==I?void 0:I.panelType)==le.PanelType.Body)}}return!1}evalBoolean(C,I){return 0!=this.grid.view.rowEditable(I)&&(ie.Convert.isNull(C)?void 0:"function"==typeof C?C(I.data,this.field):C)}focus(C){const{current:{column:I,rowItem:B}}=C;this!==I||!ie.Convert.isValue(B)||this.isEditColumn(I,B)}doCommand(C,I){return I.command===ge.Commands.Focused&&this.focus(I),super.doCommand(C,I)}isEditColumn(C,I){return!1}renderTooltip(C){const I=this.grid.tooltip;if(ie.Convert.isNull(I))return;const B=this.grid.focusManager.focus;if(ie.Convert.isValue(B)&&(null==B?void 0:B.column)==this&&this.isEdit(null==B?void 0:B.rowItem)){const z=this.grid.getContainer(null==B?void 0:B.rowItem,null==B?void 0:B.column);if(z.length<1)I.clearTooltips();else{const B=this.tooltip.validation;I.renderRalativeTooltip(C,z,B)}}}getEventKey(C){return`${this.name}_${C.rowIndex}`}renderViewFunc(C,I,B){var z;null===(z=this.config)||void 0===z||z.customView(C[0],null!=B?B:ie.Convert.cloneData(null==I?void 0:I.data),this.field,I.key)}renderEditFunc(C,I,B){var z;null===(z=this.config)||void 0===z||z.customEdit(C[0],null!=B?B:ie.Convert.cloneData(null==I?void 0:I.data),this.field,I.key)}renderCustomView(C,I,B){var z;if(ie.Convert.isValue(this.cellTemplate)){const z=this.cellTemplate(null!=B?B:ie.Convert.cloneData(I.data));return C.html()!=z&&ie.JqUtils.adjustHtml(C,z),C}if(ie.Convert.isValue(this.config.customView))return null===(z=this.config)||void 0===z||z.customView(C[0],null!=B?B:ie.Convert.cloneData(null==I?void 0:I.data),this.field,I.key),C}renderCustomEdit(C,I,B){var z;if(ie.Convert.isValue(this.editTemplate)){const z=this.editTemplate(null!=B?B:ie.Convert.cloneData(I.data));C.html()!=z&&ie.JqUtils.adjustHtml(C,z)}else ie.Convert.isValue(this.config.customEdit)&&(null===(z=this.config)||void 0===z||z.customEdit(C[0],null!=B?B:ie.Convert.cloneData(null==I?void 0:I.data),this.field,I.key))}}I.GridColumn=GridColumn,GridColumn.toolCaption="caption",GridColumn.toolSort="sort",GridColumn.toolFilter="filter",GridColumn.toolMenu="menu",GridColumn.toolCheck="check",GridColumn.eventName="GridColumn";class ColumnRender{constructor(C,I=void 0,B=""){var z,q,Q,ee,te;this.render=C=>ie.Convert.isValue(this.template)?this.renderTemplate(C):this.renderText(C),this._column=I,this._field=null!==(z=C.field)&&void 0!==z?z:"",this._group=null!=B?B:"",this._suffix=null!==(q=C.suffix)&&void 0!==q?q:"",this._prefix=null!==(Q=C.prefix)&&void 0!==Q?Q:"",this._cssClass=null!==(ee=C.cssClass)&&void 0!==ee?ee:"",this._template=null!==(te=C.template)&&void 0!==te?te:"",this._format=C.format,this._dataType=C.dataType,this._align=C.align,this._colSpan=C.colSpan,this._rowSpan=C.rowSpan}get template(){var C;return null!==(C=this._templateFunc)&&void 0!==C?C:ie.Convert.isEmpty(this._template)?void 0:this._templateFunc=ie.Utils.createTemplate(this._template)}get templateParams(){var C;return null!==(C=this._templateParams)&&void 0!==C?C:this._templateParams=new Set(ie.Utils.parseTemplateParams(this._template))}get originalTemplate(){return this._template}get cssClass(){return this._cssClass}get group(){return this._group}get prefix(){return this._prefix}get suffix(){return this._suffix}get field(){return this._field}get dataType(){return this._dataType}get format(){return this._format}get align(){var C,I;return null!==(C=this._align)&&void 0!==C?C:null===(I=this._column)||void 0===I?void 0:I.align}get colSpan(){return this._colSpan}get rowSpan(){return this._rowSpan}get column(){return this._column}renderTemplate(C){if(ie.Convert.isValue(this._format))for(const I in C){let B=C[I];B=ie.Convert.convertType(B,this._dataType),C[I]=ie.Convert.formatValue(B,void 0,this._format,C)}return this.template(C)}renderText(C){var I,B;let z=ie.Convert.convertType(C[this._field],this._dataType);return z=ie.Convert.formatValue(z,void 0,this._format,C),`${null!==(I=this._prefix)&&void 0!==I?I:""}${null!=z?z:""}${null!==(B=this._suffix)&&void 0!==B?B:""}`}static parseColumnTemplate(C,I=void 0,B=""){return ie.Convert.isNull(C)?[]:C instanceof Array?C.map((C=>new ColumnRender(C,I,B))):[new ColumnRender(C,I,B)]}static parseAggregateGroup(C,I,B){let z=[];return(C instanceof Array?C:[C]).forEach((C=>{const q=B(C);ie.Convert.isEmpty(q)||(z=z.concat(this.parseColumnTemplate(q,I,C.group)))})),z}}I.ColumnRender=ColumnRender},7721:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.GridColumnParser=I.SelectedStatus=I.ApplyTotalToGroup=I.VertAlign=I.TextAlign=I.Unit=I.PartType=void 0;const z=B(6105),q=B(7392),Q=B(1163),ee=B(5774),te=B(6258),ie=B(3419),re=B(5882),ne=B(121),se=B(6252),oe=B(6312);var ae,le,ue,de,ce,he;!function(C){C.Fixed="fixed",C.Head="head",C.Body="body",C.Sticky="sticky",C.Tail="tail"}(ae||(I.PartType=ae={})),function(C){C.Pixel="px",C.Percent="%",C.Fraction="fr"}(le||(I.Unit=le={})),function(C){C.Left="left",C.Center="center",C.Right="right"}(ue||(I.TextAlign=ue={})),function(C){C.Top="top",C.Center="center",C.Bottom="bottom"}(de||(I.VertAlign=de={})),function(C){C.Header="header",C.Footer="footer",C.Both="both"}(ce||(I.ApplyTotalToGroup=ce={})),function(C){C[C.RowSelected=0]="RowSelected",C[C.RowUnSelected=1]="RowUnSelected",C[C.CellUnSelected=2]="CellUnSelected",C[C.CellSelected=3]="CellSelected"}(he||(I.SelectedStatus=he={}));class GridColumnParser{static parseColumn(C,I,B,z=!0){var ie,ne,se,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ne,Ae,De,Fe,Oe,Be,Le,je,$e,Ve,He,Ge,Ue,ze,qe,We,Ke,Xe,Je,Ye,Ze,Qe,et,tt,it,rt,nt,st,ot,at,ut,dt,ct,ht,pt,mt,vt,yt,bt,Ct,wt,_t,St,xt,kt,Tt,Mt,Rt,Et,Pt,It,Nt,At,Dt,Ft,Ot,Bt,Lt,jt,$t,Vt,Ht,Gt,Ut,zt,qt,Wt,Kt,Xt,Jt,Yt,Zt,Qt,ei,ti,ii,ri,ni,si,oi,ai,li,ui,di,ci,hi,fi,pi,mi,gi,vi,yi,bi,Ci,wi,_i,Si,xi,ki,Ti,Mi,Ri,Ei,Pi,Ii,Ni,Ai,Di,Fi,Oi,Bi,Li,ji,$i,Vi,Hi,Gi,Ui,zi,qi,Wi,Ki,Xi,Ji,Yi,Zi,Qi,er,tr,ir,rr;const nr=z?{}:C,sr=Q.Convert.isEmpty(C.masterColumn)?I:this.getMasterColumn(C.masterColumn,B);nr.masterColumn=C.masterColumn,nr.field=C.field,nr.dataType=Q.Convert.default(C.dataType,null!==(ne=null!==(ie=null==sr?void 0:sr.dataType)&&void 0!==ie?ie:null==I?void 0:I.dataType)&&void 0!==ne?ne:void 0,(C=>Q.Convert.parseEnum(Q.DataType,C))),nr.default=Q.Convert.default(C.default,null!==(se=null==sr?void 0:sr.default)&&void 0!==se?se:null==I?void 0:I.default),nr.caption=Q.Convert.default(C.caption,null!==(ce=null==sr?void 0:sr.caption)&&void 0!==ce?ce:C.field),nr.cellTemplate=null!==(he=C.cellTemplate)&&void 0!==he?he:null==sr?void 0:sr.cellTemplate,nr.editTemplate=null!==(fe=C.editTemplate)&&void 0!==fe?fe:null==sr?void 0:sr.editTemplate,nr.captionTemplate=null!==(pe=C.captionTemplate)&&void 0!==pe?pe:null==sr?void 0:sr.captionTemplate,nr.captionLayout=Q.Convert.default(C.captionLayout,null!==(ge=null!==(me=null==sr?void 0:sr.captionLayout)&&void 0!==me?me:null==I?void 0:I.captionLayout)&&void 0!==ge?ge:te.GridParser.parsePanelLayout(null===(ye=null===(ve=oe.SBGrid3.default)||void 0===ve?void 0:ve.defaultColumn)||void 0===ye?void 0:ye.captionLayout),GridColumnParser.parseCaptionLayout),nr.captionClick=Q.Convert.default(C.captionClick,null!==(be=null==sr?void 0:sr.captionClick)&&void 0!==be?be:null==I?void 0:I.captionClick),nr.showUnSortIcon=Q.Convert.default(C.showUnSortIcon,null===(we=null!==(Ce=null==sr?void 0:sr.showUnSortIcon)&&void 0!==Ce?Ce:null==I?void 0:I.showUnSortIcon)||void 0===we||we),nr.placeHolder=Q.Convert.default(C.placeHolder,null!==(_e=null==sr?void 0:sr.placeHolder)&&void 0!==_e?_e:null==I?void 0:I.placeHolder),nr.placeHolderCss=Q.Convert.default(C.placeHolderCss,null!==(Se=null==sr?void 0:sr.placeHolderCss)&&void 0!==Se?Se:null==I?void 0:I.placeHolderCss),nr.captionCss=Q.Convert.default(C.captionCss,null!==(ke=null!==(xe=null==sr?void 0:sr.captionCss)&&void 0!==xe?xe:null==I?void 0:I.captionCss)&&void 0!==ke?ke:""),nr.colCss=Q.Convert.default(C.colCss,null!==(Me=null!==(Te=null==sr?void 0:sr.colCss)&&void 0!==Te?Te:null==I?void 0:I.colCss)&&void 0!==Me?Me:""),nr.colSpan=Q.Convert.default(C.colSpan,null!==(Re=null==sr?void 0:sr.colSpan)&&void 0!==Re?Re:null==I?void 0:I.colSpan),nr.rowSpan=Q.Convert.default(C.rowSpan,null!==(Ee=null==sr?void 0:sr.rowSpan)&&void 0!==Ee?Ee:null==I?void 0:I.rowSpan),nr.columns=Q.Convert.default(C.columns,void 0,(C=>GridColumnParser.parseColumns(C,I,B))),nr.captions=Q.Convert.default(C.captions,void 0),nr.rows=Q.Convert.default(C.rows,void 0),nr.headers=Q.Convert.default(C.headers,void 0),nr.footers=Q.Convert.default(C.footers,void 0),nr.filters=Q.Convert.default(C.filters,void 0),nr.command=Q.Convert.default(C.command,void 0,GridColumnParser.parseCommand),nr.format=Q.Convert.default(C.format,null!==(Ie=null!==(Pe=null==sr?void 0:sr.format)&&void 0!==Pe?Pe:null==I?void 0:I.format)&&void 0!==Ie?Ie:"",GridColumnParser.parseFormat),nr.part=Q.Convert.default(C.part,null!==(Ae=null!==(Ne=null==sr?void 0:sr.part)&&void 0!==Ne?Ne:null==I?void 0:I.part)&&void 0!==Ae?Ae:ae.Body,(C=>Q.Convert.parseEnum(ae,C))),nr.type=Q.Convert.default(C.type,null!==(Fe=null!==(De=null==sr?void 0:sr.type)&&void 0!==De?De:null==I?void 0:I.type)&&void 0!==Fe?Fe:ee.ColumnTypes.Text,(C=>"function"==typeof C?C:Q.Convert.parseEnum(ee.ColumnTypes,C))),nr.width=Q.Convert.default(C.width,null!==(Be=null!==(Oe=null==sr?void 0:sr.width)&&void 0!==Oe?Oe:null==I?void 0:I.width)&&void 0!==Be?Be:null===(je=null===(Le=oe.SBGrid3.default)||void 0===Le?void 0:Le.defaultColumn)||void 0===je?void 0:je.width,GridColumnParser.parseWidth),nr.unit=Q.Convert.default(C.unit,null!==(Ve=null!==($e=null==sr?void 0:sr.unit)&&void 0!==$e?$e:null==I?void 0:I.unit)&&void 0!==Ve?Ve:le.Pixel,(C=>Q.Convert.parseEnum(le,C))),nr.minWidth=Q.Convert.default(C.minWidth,null!==(Ge=null!==(He=null==sr?void 0:sr.minWidth)&&void 0!==He?He:null==I?void 0:I.minWidth)&&void 0!==Ge?Ge:null===(ze=null===(Ue=oe.SBGrid3.default)||void 0===Ue?void 0:Ue.defaultColumn)||void 0===ze?void 0:ze.minWidth,GridColumnParser.parseWidth),nr.maxWidth=Q.Convert.default(C.maxWidth,null!==(We=null!==(qe=null==sr?void 0:sr.maxWidth)&&void 0!==qe?qe:null==I?void 0:I.maxWidth)&&void 0!==We?We:null===(Xe=null===(Ke=oe.SBGrid3.default)||void 0===Ke?void 0:Ke.defaultColumn)||void 0===Xe?void 0:Xe.maxWidth,GridColumnParser.parseWidth),nr.editable=Q.Convert.default(C.editable,null!==(Ye=null!==(Je=null==sr?void 0:sr.editable)&&void 0!==Je?Je:null==I?void 0:I.editable)&&void 0!==Ye?Ye:null===(Qe=null===(Ze=oe.SBGrid3.default)||void 0===Ze?void 0:Ze.defaultColumn)||void 0===Qe?void 0:Qe.editable),nr.selectable=Q.Convert.default(C.selectable,null!==(tt=null!==(et=null==sr?void 0:sr.selectable)&&void 0!==et?et:null==I?void 0:I.selectable)&&void 0!==tt?tt:null===(rt=null===(it=oe.SBGrid3.default)||void 0===it?void 0:it.defaultColumn)||void 0===rt?void 0:rt.selectable),nr.sortable=Q.Convert.default(C.sortable,null!==(st=null!==(nt=null==sr?void 0:sr.sortable)&&void 0!==nt?nt:null==I?void 0:I.sortable)&&void 0!==st?st:null===(at=null===(ot=oe.SBGrid3.default)||void 0===ot?void 0:ot.defaultColumn)||void 0===at?void 0:at.sortable,te.GridParser.parseSortable),nr.groupable=Q.Convert.default(C.groupable,null!==(dt=null!==(ut=null==sr?void 0:sr.groupable)&&void 0!==ut?ut:null==I?void 0:I.groupable)&&void 0!==dt?dt:null===(ht=null===(ct=oe.SBGrid3.default)||void 0===ct?void 0:ct.defaultColumn)||void 0===ht?void 0:ht.groupable),nr.captionCheck=Q.Convert.default(C.captionCheck,null!==(mt=null!==(pt=null==sr?void 0:sr.captionCheck)&&void 0!==pt?pt:null==I?void 0:I.captionCheck)&&void 0!==mt?mt:null===(yt=null===(vt=oe.SBGrid3.default)||void 0===vt?void 0:vt.defaultColumn)||void 0===yt?void 0:yt.captionCheck),nr.getValue=Q.Convert.default(C.getValue,null!==(bt=null==sr?void 0:sr.getValue)&&void 0!==bt?bt:null==I?void 0:I.getValue),nr.setValue=Q.Convert.default(C.setValue,null!==(Ct=null==sr?void 0:sr.setValue)&&void 0!==Ct?Ct:null==I?void 0:I.setValue),nr.align=Q.Convert.default(C.align,null!==(_t=null!==(wt=null==sr?void 0:sr.align)&&void 0!==wt?wt:null==I?void 0:I.align)&&void 0!==_t?_t:null===(xt=null===(St=oe.SBGrid3.default)||void 0===St?void 0:St.defaultColumn)||void 0===xt?void 0:xt.align,(C=>Q.Convert.parseEnum(ue,C))),nr.valign=Q.Convert.default(C.valign,null!==(Et=null!==(Tt=null!==(kt=null==sr?void 0:sr.valign)&&void 0!==kt?kt:null==I?void 0:I.valign)&&void 0!==Tt?Tt:null===(Rt=null===(Mt=oe.SBGrid3.default)||void 0===Mt?void 0:Mt.defaultColumn)||void 0===Rt?void 0:Rt.valign)&&void 0!==Et?Et:de.Center,(C=>Q.Convert.parseEnum(de,C))),nr.visible=Q.Convert.default(C.visible,null!==(It=null!==(Pt=null==sr?void 0:sr.visible)&&void 0!==Pt?Pt:null==I?void 0:I.visible)&&void 0!==It?It:null===(At=null===(Nt=oe.SBGrid3.default)||void 0===Nt?void 0:Nt.defaultColumn)||void 0===At?void 0:At.visible),nr.exportVisible=Q.Convert.default(C.exportVisible,null!==(Dt=null==sr?void 0:sr.exportVisible)&&void 0!==Dt?Dt:null==I?void 0:I.exportVisible),nr.exportLabel=Q.Convert.default(C.exportLabel,null!==(Ot=null!==(Ft=null==sr?void 0:sr.exportLabel)&&void 0!==Ft?Ft:null==I?void 0:I.exportLabel)&&void 0!==Ot?Ot:null===(Lt=null===(Bt=oe.SBGrid3.default)||void 0===Bt?void 0:Bt.defaultColumn)||void 0===Lt?void 0:Lt.exportLabel),nr.captionVisible=Q.Convert.default(C.captionVisible,null!==($t=null!==(jt=null==sr?void 0:sr.captionVisible)&&void 0!==jt?jt:null==I?void 0:I.captionVisible)&&void 0!==$t?$t:null===(Ht=null===(Vt=oe.SBGrid3.default)||void 0===Vt?void 0:Vt.defaultColumn)||void 0===Ht?void 0:Ht.captionVisible),nr.groupTitle=Q.Convert.default(C.groupTitle,null!==(Ut=null!==(Gt=null==sr?void 0:sr.groupTitle)&&void 0!==Gt?Gt:null==I?void 0:I.groupTitle)&&void 0!==Ut?Ut:null===(qt=null===(zt=oe.SBGrid3.default)||void 0===zt?void 0:zt.defaultColumn)||void 0===qt?void 0:qt.groupTitle,(()=>GridColumnParser.parseAggregateTtitle(C.field,C.groupTitle,null==I?void 0:I.groupTitle))),nr.total=Q.Convert.default(C.total,Q.Convert.isValue(null==sr?void 0:sr.total)?GridColumnParser.parseAggregateTotal(C.field,sr.total,sr):Q.Convert.isValue(null==I?void 0:I.total)?GridColumnParser.parseAggregateTotal(C.field,I.total,I):void 0,(()=>GridColumnParser.parseAggregateTotal(C.field,C.total,sr))),nr.groups=Q.Convert.default(C.groups,GridColumnParser.parseAggregateGroups(C.field,null!==(Kt=null!==(Wt=null==sr?void 0:sr.groups)&&void 0!==Wt?Wt:null==I?void 0:I.groups)&&void 0!==Kt?Kt:null===(Jt=null===(Xt=oe.SBGrid3.default)||void 0===Xt?void 0:Xt.defaultColumn)||void 0===Jt?void 0:Jt.groups,sr),(()=>GridColumnParser.parseAggregateGroups(C.field,C.groups,sr))),Q.Convert.isEmpty(nr.groups)&&(Q.Convert.isValue(null===(Yt=nr.total)||void 0===Yt?void 0:Yt.applyFooterToGroup)||Q.Convert.isValue(null===(Zt=nr.total)||void 0===Zt?void 0:Zt.applyHeaderToGroup))&&(nr.groups=GridColumnParser.parseTotalToGroups(C.field,nr.total,sr)),nr.tree=Q.Convert.default(C.tree,null!==(ei=null!==(Qt=null==sr?void 0:sr.tree)&&void 0!==Qt?Qt:null==I?void 0:I.tree)&&void 0!==ei?ei:null===(ii=null===(ti=oe.SBGrid3.default)||void 0===ti?void 0:ti.defaultColumn)||void 0===ii?void 0:ii.tree,(()=>GridColumnParser.parseAggregateTree(C.field,C.tree))),nr.calc=Q.Convert.default(C.calc,null!==(ni=null!==(ri=null==sr?void 0:sr.calc)&&void 0!==ri?ri:null==I?void 0:I.calc)&&void 0!==ni?ni:null===(oi=null===(si=oe.SBGrid3.default)||void 0===si?void 0:si.defaultColumn)||void 0===oi?void 0:oi.calc,(()=>q.DataSourceParser.parseCalculation(C.calc,C.field))),nr.dropDownConfig=Q.Convert.default(C.dropDownConfig,null===(li=null===(ai=oe.SBGrid3.default)||void 0===ai?void 0:ai.defaultColumn)||void 0===li?void 0:li.dropDownConfig),nr.validators=Q.Convert.default(C.validators,null!==(di=null!==(ui=null==sr?void 0:sr.validators)&&void 0!==ui?ui:null==I?void 0:I.validators)&&void 0!==di?di:null===(hi=null===(ci=oe.SBGrid3.default)||void 0===ci?void 0:ci.defaultColumn)||void 0===hi?void 0:hi.validators,(()=>GridColumnParser.parseValidation(C.validators))),nr.mergeRow=Q.Convert.default(C.mergeRow,null!==(pi=null!==(fi=null==sr?void 0:sr.mergeRow)&&void 0!==fi?fi:null==I?void 0:I.mergeRow)&&void 0!==pi?pi:null===(gi=null===(mi=oe.SBGrid3.default)||void 0===mi?void 0:mi.defaultColumn)||void 0===gi?void 0:gi.mergeRow),nr.mergeColumn=Q.Convert.default(C.mergeColumn,null!==(yi=null!==(vi=null==sr?void 0:sr.mergeColumn)&&void 0!==vi?vi:null==I?void 0:I.mergeColumn)&&void 0!==yi?yi:null===(Ci=null===(bi=oe.SBGrid3.default)||void 0===bi?void 0:bi.defaultColumn)||void 0===Ci?void 0:Ci.mergeColumn),nr.mergeUpdate=Q.Convert.default(C.mergeUpdate,null!==(_i=null!==(wi=null==sr?void 0:sr.mergeUpdate)&&void 0!==wi?wi:null==I?void 0:I.mergeUpdate)&&void 0!==_i?_i:null===(xi=null===(Si=oe.SBGrid3.default)||void 0===Si?void 0:Si.defaultColumn)||void 0===xi?void 0:xi.mergeUpdate),nr.filter=Q.Convert.default(C.filter,null!==(Ti=null!==(ki=null==sr?void 0:sr.filter)&&void 0!==ki?ki:null==I?void 0:I.filter)&&void 0!==Ti?Ti:null===(Ri=null===(Mi=oe.SBGrid3.default)||void 0===Mi?void 0:Mi.defaultColumn)||void 0===Ri?void 0:Ri.filter,(()=>{var B;return GridColumnParser.parseFilter(C.filter,C.field,null!==(B=null==sr?void 0:sr.filter)&&void 0!==B?B:null==I?void 0:I.filter)})),nr.skipPaste=Q.Convert.default(C.skipPaste,null!==(Pi=null!==(Ei=null==sr?void 0:sr.skipPaste)&&void 0!==Ei?Ei:null==I?void 0:I.skipPaste)&&void 0!==Pi?Pi:null===(Ni=null===(Ii=oe.SBGrid3.default)||void 0===Ii?void 0:Ii.defaultColumn)||void 0===Ni?void 0:Ni.skipPaste),nr.tooltip=Q.Convert.default(C.tooltip,null!==(Di=null!==(Ai=null==sr?void 0:sr.tooltip)&&void 0!==Ai?Ai:null==I?void 0:I.tooltip)&&void 0!==Di?Di:C.validators?GridColumnParser.parseColumnTooltip({validation:!0},C.validators):void 0,(I=>GridColumnParser.parseColumnTooltip(I,C.validators))),nr.captionMenu=Q.Convert.default(C.captionMenu,null!==(Fi=null==sr?void 0:sr.captionMenu)&&void 0!==Fi?Fi:(null==I?void 0:I.captionMenu)?null==I?void 0:I.captionMenu:null===(Bi=null===(Oi=oe.SBGrid3.default)||void 0===Oi?void 0:Oi.defaultColumn)||void 0===Bi?void 0:Bi.captionMenu,(C=>{var B,z;return re.GridMenuParser.parse(C,(null==I?void 0:I.captionMenu)?null==I?void 0:I.captionMenu:null===(z=null===(B=oe.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===z?void 0:z.defaultCaptionMenu)})),nr.defaultCaptionMenu=Q.Convert.default(C.defaultCaptionMenu,null!==(ji=null!==(Li=null==sr?void 0:sr.defaultCaptionMenu)&&void 0!==Li?Li:null==I?void 0:I.defaultCaptionMenu)&&void 0!==ji?ji:null===(Vi=null===($i=oe.SBGrid3.default)||void 0===$i?void 0:$i.defaultColumn)||void 0===Vi?void 0:Vi.defaultCaptionMenu,(C=>{var B,z,q;return re.GridMenuParser.parse(C,null!==(B=null==I?void 0:I.defaultCaptionMenu)&&void 0!==B?B:null===(q=null===(z=oe.SBGrid3.default)||void 0===z?void 0:z.defaultColumn)||void 0===q?void 0:q.defaultCaptionMenu)})),nr.defaultContextMenu=Q.Convert.default(C.defaultContextMenu,null!==(Gi=null!==(Hi=null==sr?void 0:sr.defaultContextMenu)&&void 0!==Hi?Hi:null==I?void 0:I.defaultContextMenu)&&void 0!==Gi?Gi:null===(zi=null===(Ui=oe.SBGrid3.default)||void 0===Ui?void 0:Ui.defaultColumn)||void 0===zi?void 0:zi.defaultContextMenu,(C=>{var B,z,q;return re.GridMenuParser.parse(C,null!==(B=null==I?void 0:I.defaultContextMenu)&&void 0!==B?B:null===(q=null===(z=oe.SBGrid3.default)||void 0===z?void 0:z.defaultColumn)||void 0===q?void 0:q.defaultContextMenu)})),nr.directApplyValue=Q.Convert.default(C.directApplyValue,null!==(Wi=null!==(qi=null==sr?void 0:sr.directApplyValue)&&void 0!==qi?qi:null==I?void 0:I.directApplyValue)&&void 0!==Wi?Wi:null===(Xi=null===(Ki=oe.SBGrid3.default)||void 0===Ki?void 0:Ki.defaultColumn)||void 0===Xi?void 0:Xi.directApplyValue),nr.directApplyEdit=Q.Convert.default(C.directApplyEdit,null!==(Yi=null!==(Ji=null==sr?void 0:sr.directApplyEdit)&&void 0!==Ji?Ji:null==I?void 0:I.directApplyEdit)&&void 0!==Yi?Yi:null===(Qi=null===(Zi=oe.SBGrid3.default)||void 0===Zi?void 0:Zi.defaultColumn)||void 0===Qi?void 0:Qi.directApplyEdit),nr.customView=Q.Convert.default(C.customView,null!==(tr=null!==(er=null==sr?void 0:sr.customView)&&void 0!==er?er:null==I?void 0:I.customView)&&void 0!==tr?tr:null===(rr=null===(ir=oe.SBGrid3.default)||void 0===ir?void 0:ir.defaultColumn)||void 0===rr?void 0:rr.customView);for(const I in C)nr.hasOwnProperty(I)||(nr[I]=C[I]);return Q.Convert.isValue(nr.captions)&&(nr.type=ee.ColumnTypes.Multi),nr}static getMasterColumn(C,I){var B,z,q,ee;if(I=Q.Convert.mergeData(I,null===(B=oe.SBGrid3.default)||void 0===B?void 0:B.masterColumns),Q.Convert.isEmpty(I))return;var te=I[C];if(Q.Convert.isValue(te))return te;const ie=C.split("."),re=C+".",ne=new Map;for(const C in I){const B=C.split(".");let z=0;for(let C=0;C<B.length;C++){"*"==B[C]&&ie.length>C&&(B[C]=ie[C],z++)}const q=B.join(".")+".";if(ne.has(q)){const B=ne.get(q);B.push({index:z,column:I[C]}),B.sort(((C,I)=>C.index-I.index))}else ne.set(q,[{index:z,column:I[C]}])}const se=Q.Arrays.from(ne.keys()).sort().reverse();for(const C of se)if(re.startsWith(C))return null===(q=null===(z=ne.get(C))||void 0===z?void 0:z[0])||void 0===q?void 0:q.column;return null!==(ee=I.default)&&void 0!==ee?ee:I[""]}static parseCaptionLayout(C){return C instanceof Array||"string"==typeof C?{center:te.GridParser.parseStringArray(C)}:te.GridParser.parsePanelLayout(C)}static parseAggregateTotal(C,I,B){var q,ee,te,ie,re,ne,se,oe;const ae={field:C=Q.Convert.isEmpty(I.field)?C:I.field,header:Q.Convert.default(I.header,void 0,(I=>GridColumnParser.parseColumnTemplates(C,I))),footer:Q.Convert.default(I.footer,void 0,(I=>GridColumnParser.parseColumnTemplates(C,I))),aggregates:Q.Convert.default(I.aggregates,void 0,(I=>GridColumnParser.parseAggregates(C,I))),headerCss:null!==(q=I.headerCss)&&void 0!==q?q:null===(ee=null==B?void 0:B.total)||void 0===ee?void 0:ee.headerCss,footerCss:null!==(te=I.footerCss)&&void 0!==te?te:null===(ie=null==B?void 0:B.total)||void 0===ie?void 0:ie.footerCss,applyFooterToGroup:Q.Convert.parseEnum(ce,null!==(re=I.applyFooterToGroup)&&void 0!==re?re:null===(ne=null==B?void 0:B.total)||void 0===ne?void 0:ne.applyFooterToGroup),applyHeaderToGroup:Q.Convert.parseEnum(ce,null!==(se=I.applyHeaderToGroup)&&void 0!==se?se:null===(oe=null==B?void 0:B.total)||void 0===oe?void 0:oe.applyHeaderToGroup)};if(Q.Convert.isValue(ae.aggregates)){for(const I of ae.aggregates)Q.Convert.isEmpty(I.field)&&(I.field=z.Aggregate.getResultName(I,C));const I=ae.aggregates[0].field;if(ae.header instanceof Array)for(const B of ae.header.filter((I=>Q.Convert.isEmpty(I.field)||I.field==C)))B.field=I;if(ae.footer instanceof Array)for(const B of ae.footer.filter((I=>Q.Convert.isEmpty(I.field)||I.field==C)))B.field=I}return ae}static parseAggregateGroup(C,I,B){const z=GridColumnParser.parseAggregateTotal(C,I,B);return z.group=Q.Convert.isWhite(I.group)?C:I.group,z}static parseTotalToGroups(C,I,B){const z=GridColumnParser.parseAggregateGroup(C,I,B);z.group="*";const q=z.header,Q=z.footer;switch(z.footer=[],z.header=[],I.applyHeaderToGroup){case ce.Header:z.header=q;break;case ce.Footer:z.footer=q;break;case ce.Both:z.header=q,z.footer=q}switch(I.applyFooterToGroup){case ce.Header:z.header=Q;break;case ce.Footer:z.footer=Q;break;case ce.Both:z.header=Q,z.footer=Q}return[z]}static parseAggregateTtitle(C,I,B){var q,ee;const te={field:C,aggregates:GridColumnParser.parseAggregates(C,I.aggregates),title:Q.Convert.default(I.title,void 0,(I=>GridColumnParser.parseColumnTemplate(C,I))),visible:Q.Convert.default(I.visible,!0),colSpan:null!==(ee=null!==(q=null==I?void 0:I.colSpan)&&void 0!==q?q:null==B?void 0:B.colSpan)&&void 0!==ee?ee:1};if(Q.Convert.isValue(te.aggregates))for(const C of te.aggregates)Q.Convert.isEmpty(C.field)&&(C.field=z.Aggregate.getResultName(C,C.require,!1));return te}static parseAggregateTree(C,I){const B={field:C,aggregates:GridColumnParser.parseAggregates(C,I.aggregates),footer:Q.Convert.default(I.footer,void 0,(I=>GridColumnParser.parseColumnTemplates(C,I))),footerCss:I.footerCss};if(Q.Convert.isValue(B.aggregates)){const I=B.aggregates[0].field;if(B.footer instanceof Array)for(const z of B.footer.filter((I=>Q.Convert.isEmpty(I.field)||I.field==C)))z.field=I}return B}static parseAggregateGroups(C,I,B){const z=[];if(Q.Convert.isEmpty(I))return z;if(I instanceof Array)for(const q of I)z.push(GridColumnParser.parseAggregateGroup(C,q,B));else z.push(GridColumnParser.parseAggregateGroup(C,I,B));return z}static parseAggregates(C,I){const B=[];if(Q.Convert.isValue(I))for(const z of I)B.push(GridColumnParser.parseAggregate(C,z));return q.DataSourceParser.sortCalcReference(B)}static parseAggregate(C,I){const B=q.DataSourceParser.parseAggregate(I);return B.require=Q.Convert.asStringArray(I.require,C),B.field=Q.Convert.isValue(I.field)?I.field:Q.Convert.isEmpty(C)&&Q.Convert.isEmpty(I.require)?"":z.Aggregate.getResultName(B,C),B}static parseColumnTemplates(C,I){const B=new Array;if(I instanceof Array)for(let z of I)B.push(GridColumnParser.parseColumnTemplate(C,z));else B.push(GridColumnParser.parseColumnTemplate(C,I));return B}static parseColumnTemplate(C,I){var B;return{prefix:I.prefix,suffix:I.suffix,field:null!==(B=I.field)&&void 0!==B?B:C,cssClass:I.cssClass,template:I.template,format:I.format,dataType:q.DataSourceParser.parseDataType(I.dataType),align:Q.Convert.parseEnum(ue,I.align),colSpan:I.colSpan,rowSpan:I.rowSpan}}static parseWidth(C){var I,B;return"number"==typeof C?C:Q.Convert.isValue(C)?Q.Convert.asNumber(C):null===(B=null===(I=oe.SBGrid3.default)||void 0===I?void 0:I.defaultColumn)||void 0===B?void 0:B.minWidth}static parseFormat(C){return C}static parseCommand(C){return[].concat(C)}static parseColumns(C,I,B){let z=[];if(C instanceof Array)for(let q of C)z.push(GridColumnParser.parseColumn(q,I,B));else z.push(GridColumnParser.parseColumn(C,I,B));return z}static parseValidation(C){let I;return C instanceof Array?C.forEach((C=>{let B={rule:Q.Convert.default(C.rule,ie.Rules.None,"string"==typeof C.rule?C=>Q.Convert.parseEnum(ie.Rules,C.toString()):"function"==typeof C.rule?C=>C:void 0),value:Q.Convert.default(C.value,void 0),message:Q.Convert.default(C.message,void 0),dataType:Q.Convert.default(C.dataType,void 0,(C=>Q.Convert.parseEnum(Q.DataType,C)))};I=null!=I?I:[],I.push(B)})):!0===C&&(I=[]),I}static parseFilter(C,I,B){var z,ee,te,ie;if(B=null!=B?B:null===(ee=null===(z=null===oe.SBGrid3||void 0===oe.SBGrid3?void 0:oe.SBGrid3.default)||void 0===z?void 0:z.defaultColumn)||void 0===ee?void 0:ee.filter,!1===C)return{operator:void 0};if(Q.Convert.isNull(C)||!0===C)return B;if(Q.Convert.isNull(null==C?void 0:C.operator))return{operator:void 0};const re=C.operator,ne=null===(te=null==C?void 0:C.showJoinOperator)||void 0===te||te,ae=null==C?void 0:C.getFilterValue,le=re==q.FilterOperators.And||re==q.FilterOperators.Or,ue=re==se.NoneType.None;C=le||ue?C:{operator:q.FilterOperators.Or,showJoinOperator:ne,getFilterValue:ae,field:I,filters:C instanceof Array?C:[C]},ue&&(C.operator=q.FilterOperators.Or);const de=q.DataSourceParser.parseFilter(C,Q.Convert.isValue(I)?[I]:void 0),ce=GridColumnParser.convertFilter(de,C,I);return(ue||1===(null===(ie=null==ce?void 0:ce.filters)||void 0===ie?void 0:ie.length))&&(ce.operator=se.NoneType.None),ce}static convertFilter(C,I,B){var z,ee;return C.field=Q.Convert.isValue(B)?[B]:void 0,Object.assign(Object.assign({},C),{operators:null===(z=null==I?void 0:I.operators)||void 0===z?void 0:z.map((C=>Q.Convert.parseEnum(q.FilterOperators,C))),sourceType:Q.Convert.default(null==I?void 0:I.sourceType,void 0,(C=>Q.Convert.parseEnum(se.ISourceType,C))),showJoinOperator:Q.Convert.default(null==I?void 0:I.showJoinOperator,!0),getFilterValue:null==I?void 0:I.getFilterValue,filters:null===(ee=null==C?void 0:C.filters)||void 0===ee?void 0:ee.map(((C,z)=>GridColumnParser.convertFilter(C,null==I?void 0:I.filters[z],B)))})}static parseTooltip(C,I){var B,z;let q;return q=0==I?void 0:!0===I?GridColumnParser.parseTooltip(C,{title:ne.Tooltip.getTitleFunc(C),target:ne.Tooltip.getTooltipSelector(C)}):{title:null!==(B=I.title)&&void 0!==B?B:Q.Convert.isValue(I.template)?void 0:ne.Tooltip.getTitleFunc(C),target:null!==(z=I.target)&&void 0!==z?z:ne.Tooltip.getTooltipSelector(C),template:Q.Convert.default(I.template,void 0),placement:Q.Convert.default(I.placement,ne.Placement.Bottom,(C=>Q.Convert.parseEnum(ne.Placement,C))),delay:Q.Convert.default(I.delay,{show:0,hide:0},(()=>({show:Q.Convert.default(I.delay.show,0),hide:Q.Convert.default(I.delay.hide,0)}))),type:C},q}static parseColumnTooltip(C,I){let B;return B=!0===C?GridColumnParser.parseColumnTooltip({cell:!0,caption:!0,validation:!0},I):!1===C?void 0:{cell:Q.Convert.default(C.cell,void 0,(()=>GridColumnParser.parseTooltip(ne.TooltipCategory.Cell,null==C?void 0:C.cell))),caption:Q.Convert.default(C.caption,void 0,(()=>GridColumnParser.parseTooltip(ne.TooltipCategory.Caption,null==C?void 0:C.caption))),validation:Q.Convert.default(C.validation,I?GridColumnParser.parseTooltip(ne.TooltipCategory.Validation,!0):void 0,(()=>GridColumnParser.parseTooltip(ne.TooltipCategory.Validation,null==C?void 0:C.validation)))},B}}I.GridColumnParser=GridColumnParser},8964:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GroupColumn=void 0;const q=B(3354),Q=B(1163),ee=B(103),te=B(7721),ie=B(6312),re=B(7078),ne=B(5165);class GroupColumn extends ee.GridColumn{constructor(C,I){super(C,I),this.onGroupMousedown=C=>{var I,B;if(0==C.button){let z=ie.SBGrid3.$(C.target);const q=this.grid.getRowItem(z);q.rowIndex;return(null===(B=null===(I=this.grid.rowsView)||void 0===I?void 0:I.headers)||void 0===B?void 0:B.findIndex((C=>C.rowItem.key==(null==q?void 0:q.key))))>=0?this.grid.topRow=q.rowIndex:this.toggleRow(z,q),!1}return!0},this.config.align=te.TextAlign.Left}get groupLevel(){return this._groupLevel}set groupLevel(C){this._groupLevel=C}get groupColumn(){return this._groupColumn}set groupColumn(C){this._groupColumn=C}selectable(){return!1}get mergeRow(){return!1}get mergeColumn(){return!1}static create(C,I){return new GroupColumn(C,I)}makeColClass(C,I){var B,z;if((null==C?void 0:C.node)instanceof q.GroupNode){let z=(null==C?void 0:C.node)instanceof q.GroupNode?C.node:void 0;const Q=null!==(B=(null==z?void 0:z.igroup.field)==this.config.field)&&void 0!==B&&B;return super.makeColClass(C,I)+` ${re.SbCss.group} ${Q?re.SbCss.title:re.SbCss.indicator} ${re.SbCss.level}-${this.groupLevel} ${(null==z?void 0:z.level)<this.groupLevel?re.SbCss.hidden:""}`}if((null==C?void 0:C.node)instanceof q.FooterNode){let B=(null==C?void 0:C.node)instanceof q.FooterNode?null==C?void 0:C.node:void 0,Q=null==B?void 0:B.parent;z=(null==Q?void 0:Q.igroup.field)==this.config.field;const ee=(null==Q?void 0:Q.level)==this.groupLevel,te=(null==Q?void 0:Q.level)<this.groupLevel,ie=te?null==Q?void 0:Q.level:this.groupLevel;return super.makeColClass(C,I)+` ${re.SbCss.group} ${re.SbCss.footer} ${re.SbCss.indicator} ${re.SbCss.level}-${ie} ${ee?re.SbCss.level_first:te?re.SbCss.level_next:""}`}return super.makeColClass(C,I)+` ${re.SbCss.group} ${re.SbCss.indicator} ${re.SbCss.level}-${this.groupLevel}`}get groupTitleVisible(){var C;return!1!==(null===(C=this.groupColumn)||void 0===C?void 0:C.groupTitleVisible)}getGroupCellHtml(C,I,B){var z,q,ee,te;let ie="";if(B&&this.groupTitleVisible){ie=(B?`<span class='${re.SbCss.icon} ${C.loading?re.SbCss.loading:C.isOpen?re.SbCss.open:re.SbCss.close}'></span>`:"")+(Q.Convert.isValue(null===(q=null===(z=this.groupColumn)||void 0===z?void 0:z.config.groupTitle)||void 0===q?void 0:q.title)?null===(ee=this.groupColumn)||void 0===ee?void 0:ee.getGroupTitle(C):`<span class='${re.SbCss.title}'>${null==I?void 0:I.groupKey} [${null!==(te=null==I?void 0:I.itemCount)&&void 0!==te?te:""}]</span>`)}return ie}renderCell(C,I,B){var ee;return z(this,void 0,void 0,(function*(){let z=(null==I?void 0:I.node)instanceof q.GroupNode?I.node:void 0;const te=null!==(ee=(null==z?void 0:z.igroup.field)==this.config.field)&&void 0!==ee&&ee;(null==z?void 0:z.level)<this.groupLevel&&C.addClass(re.SbCss.hidden);const ie=new Set,ne=this.cellSelector+` ${re.SbCss.cell} ${re.SbCss.group} ${te?re.SbCss.title:re.SbCss.indicator} ${re.SbCss.level}-${this.groupLevel}`,se=Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ne}'></span>`,void 0,ie);if(Q.JqUtils.changeClass(se,ne),(null==B?void 0:B.merge)||(null==B?void 0:B.merged))Q.JqUtils.adjustHtml(se,"");else{let B=this.getGroupCellHtml(I,z,te);se.html(B),this.grid.setEvent("groupTitleMousedown","mousedown",this.config.field,this.onGroupMousedown,C)}Q.JqUtils.movetoTrash(this.grid.trashCan,C,ie),te&&this.checkOpen(C,I)}))}checkOpen(C,I){I.isOpen||I.node instanceof q.GroupNode&&I.isOpen!=I.node.isOpen&&this.toggleRow(C,I)}toggleRow(C,I){const B=I.node;if(B instanceof q.GroupNode){const I=ie.SBGrid3.$(`>.${re.SbCss.cell}`,C),z=ie.SBGrid3.$(`>.${re.SbCss.icon}`,I);Q.JqUtils.changeClass(z,`${re.SbCss.icon} ${re.SbCss.loading}`),this.fireCommandAsync(this,new ne.ToggleRowCommand(B.key))}}renderGroupHeader(C,I){return z(this,void 0,void 0,(function*(){this.renderCell(C,I,void 0)}))}renderGroupFooter(C,I){return z(this,void 0,void 0,(function*(){let B=(null==I?void 0:I.node)instanceof q.FooterNode?null==I?void 0:I.node:void 0,z=null==B?void 0:B.parent;(null==z?void 0:z.igroup.field)==this.config.field;const ee=(null==z?void 0:z.level)==this.groupLevel,te=(null==z?void 0:z.level)<this.groupLevel,ie=te?null==z?void 0:z.level:this.groupLevel,ne=this.cellSelector+` ${re.SbCss.group} ${re.SbCss.footer} ${re.SbCss.indicator} ${re.SbCss.level}-${ie} ${ee?re.SbCss.level_first:te?re.SbCss.level_next:""}`,se=Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ne}'></span>`);se.html("&nbsp"),Q.JqUtils.changeClass(se,ne)}))}renderCaption(C){return z(this,void 0,void 0,(function*(){Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${re.SbCss.caption} ${re.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderHeader(C){return z(this,void 0,void 0,(function*(){Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${re.SbCss.header} ${re.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderFooter(C){return z(this,void 0,void 0,(function*(){Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${re.SbCss.footer} ${re.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderDetail(C,I){var B;return z(this,void 0,void 0,(function*(){let z=(null==I?void 0:I.node)instanceof q.GroupNode?I.node:void 0;const ee=null!==(B=(null==z?void 0:z.igroup.field)==this.config.field)&&void 0!==B&&B;(null==z?void 0:z.level)<this.groupLevel&&C.addClass(re.SbCss.hidden);const te=this.cellSelector+` ${re.SbCss.group} ${ee?re.SbCss.title:re.SbCss.indicator} ${re.SbCss.level}-${this.groupLevel}`,ne=Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${te}'></span>`);return Q.JqUtils.changeClass(ne,te),ne.html(""),C.children().length>1&&ie.SBGrid3.$(`> :not(.${this.cellSelector})`,C).empty(),ne}))}renderFilterColumn(C){C.html("")}}I.GroupColumn=GroupColumn},3849:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.MultiTextColumn=void 0;const q=B(1163),Q=B(103),ee=B(6312),te=B(7078),ie=B(860),re=B(7443);class MultiTextColumn extends Q.GridColumn{set eventKey(C){q.Convert.isNull(this._eventKey)&&(this._eventKey=C)}get eventKey(){return this._eventKey}get maxLength(){return this.config.maxLength}get showPreLine(){return this.config.showPreLine}constructor(C,I){super(C,I)}static create(C,I){return new MultiTextColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){var z,Q;let ee=super.parseConfig(C,I,B);return ee.maxLength=q.Convert.default(C.maxLength,null!==(z=null==I?void 0:I.maxLength)&&void 0!==z?z:void 0),ee.showPreLine=q.Convert.default(C.showPreLine,null!==(Q=null==I?void 0:I.showPreLine)&&void 0!==Q&&Q),ee}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){const B=this.makeCell(C,I,void 0);q.JqUtils.addClass(B,te.SbCss.edit);const z=this.renderMultiText(C,B,I);B.contents().filter(((C,I)=>3===I.nodeType)).remove(),q.JqUtils.disposeElement(this.grid.trashCan,B,[z[0]])}))}renderCell(C,I,B){const q=Object.create(null,{renderCell:{get:()=>super.renderCell}});return z(this,void 0,void 0,(function*(){yield q.renderCell.call(this,C,I,B);const z=ee.SBGrid3.$(C).find(`span.${te.SbCss.cell}`);this.setShowPreLine(z,I)}))}checkKeydownEvent(C){return q.Convert.isValue(C.key)}onKeydown(C){if(this.checkKeydownEvent(C)){if(C.ctrlKey&&C.stopPropagation(),C.ctrlKey)return!1;const fnPageUp=()=>{C.target.setSelectionRange(0,0),ee.SBGrid3.$(C.target).scrollTop(0)},fnPageDown=()=>{const I=C.target.textLength;C.target.setSelectionRange(I,I),ee.SBGrid3.$(C.target).scrollTop(9999)},fnNewLine=()=>{let I=C.target,B=I.selectionStart,z=I.value.substring(0,B),q=I.value.substring(B);I.value=z+"\n"+q,I.selectionStart=I.selectionEnd=B+1,this.setHeight(ee.SBGrid3.$(I))};switch(C.key){case re.KeyboardShortCut.Enter:if(!C.altKey)break;return C.preventDefault(),fnNewLine(),!1;case re.KeyboardShortCut.PageUp:case re.KeyboardShortCut.PageDown:C.preventDefault(),C.key===re.KeyboardShortCut.PageUp?fnPageUp():fnPageDown();case re.KeyboardShortCut.End:case re.KeyboardShortCut.ArrowLeft:case re.KeyboardShortCut.ArrowRight:case re.KeyboardShortCut.ArrowUp:case re.KeyboardShortCut.ArrowDown:case re.KeyboardShortCut.Home:case re.KeyboardShortCut.Space:return!1}return!0}}setShowPreLine(C,I){this.config.showPreLine&&(C.css({"white-space":"pre-line","overflow-y":"auto"}),this.grid.setEvent("scrollWheel","wheel",`${this._name}_${I.rowIndex}`,(()=>!1),C,!0))}renderMultiText(C,I,B){const z=q.JqUtils.adjustElement(I,`textarea#${this._name}`,`<textarea id='${this._name}' class='${te.SbCss.multiText}'/>`),re=C.get(0).scrollHeight,ne=this.maxLength,se=B.rowIndex,oe=this.index;z.val(this.getTemp(B)).attr({row:se,col:oe,maxLength:ne}).css({position:"absolute",top:0,left:-1,width:this.width-1,minHeight:re,"z-index":1});const ae=this.getEventKey(B);if(this.grid.setEvent(Q.GridColumn.eventName,"input",ae,(I=>{this.setTemp(B,C),this.setHeight(z)}),z),this.grid.setEvent(Q.GridColumn.eventName,"keydown",ae,(C=>this.onKeydown(C)),z),this.grid.setEvent(Q.GridColumn.eventName,"wheel",ae,(()=>!1),z,!0),this.isFocused(B,ie.PanelType.Body)){let C=ee.SBGrid3.$(document.activeElement).is("textarea")?ee.SBGrid3.$(document.activeElement):z;null==C||C.get(0).focus()}return this.setHeight(z),z}setHeight(C){const I=null==C?void 0:C.get(0);q.Convert.isNull(I)||(I.style.height=I.scrollHeight+"px")}getEditValue(C){const I=ee.SBGrid3.$(`>.${te.SbCss.cell}.${te.SbCss.edit}`,C);if(I.length<1)return null;const B=ee.SBGrid3.$(`textarea#${this._name}`,I);return q.Utils.escapeString(B.val())}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${te.SbCss.text}`,{cellSelector:B,cellClass:z}}getTemp(C){const I=super.getTemp(C);return q.Utils.unEscapeString(I)}isEditColumn(C,I){if(this===C&&q.Convert.isValue(I)){if(!this.isEdit(I))return!1;const C=ee.SBGrid3.$(`textarea#${this._name}`,this.grid.container);null==C||C.get(0).focus({preventScroll:!0})}return!0}}I.MultiTextColumn=MultiTextColumn},150:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.NumberColumn=void 0;const q=B(1163),Q=B(103),ee=B(6312),te=B(7078),ie=B(860),re=B(7443);class NumberColumn extends Q.GridColumn{constructor(C,I){super(C,I),this.handleKeyup=(C,I,B)=>{this.config.useSpinner||(C.target.value=C.target.value.replace(/[^0-9|\.|\-]/g,"")),this.setTemp(B,I)},this.handleKeyDown=C=>{if(C.ctrlKey)return!1;switch(C.key){case re.KeyboardShortCut.End:case re.KeyboardShortCut.ArrowLeft:case re.KeyboardShortCut.ArrowRight:case re.KeyboardShortCut.Home:case re.KeyboardShortCut.ArrowUp:case re.KeyboardShortCut.ArrowDown:case re.KeyboardShortCut.PageUp:case re.KeyboardShortCut.PageDown:return!1}const I=[...C.target.value];q.Convert.isSameValue(C.key,".")&&I.filter((C=>"."===C)).length>0&&C.preventDefault(),q.Convert.isSameValue(C.key,"-")&&(I.length>0||I.filter((C=>"-"===C)).length>0)&&C.preventDefault()}}static create(C,I){return new NumberColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){var z,Q,ee,te,ie;let re=super.parseConfig(C,I,B);return re.min=q.Convert.default(C.min,null!==(z=null==I?void 0:I.min)&&void 0!==z?z:void 0),re.max=q.Convert.default(C.max,null!==(Q=null==I?void 0:I.max)&&void 0!==Q?Q:void 0),re.step=q.Convert.default(C.step,null!==(ee=null==I?void 0:I.step)&&void 0!==ee?ee:void 0),re.maxLength=q.Convert.default(C.maxLength,null!==(te=null==I?void 0:I.maxLength)&&void 0!==te?te:void 0),re.useSpinner=q.Convert.default(C.useSpinner,null!==(ie=null==I?void 0:I.useSpinner)&&void 0!==ie&&ie),re}renderCell(C,I,B=void 0){return z(this,void 0,void 0,(function*(){yield this._renderCell(C,I,B)}))}_renderCell(C,I,B=void 0,Q=!1){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(!Q){if(null==B?void 0:B.merged)return""!=z.html()&&q.JqUtils.adjustHtml(z,""),z;if(q.Convert.isValue(this.cellTemplate)||q.Convert.isValue(this.config.customView))this.renderCustomView(z,I);else{let Q=this.getLabelData(I,B);if(q.Convert.isEmpty(Q))return Q=this.renderPlaceHolder(Q,I,C),void q.JqUtils.adjustHtml(z,Q);z.text(null!=Q?Q:"")}}return z}))}setTemp(C,I){const{max:B,min:z}=this.config;let Q=this.getEditValue(I);if(0==q.Convert.isNull(Q)&&isNaN(Q))return;const ee=q.Convert.isValue(B)&&B<Q,te=q.Convert.isValue(z)&&z>Q;Q=ee?B:te?z:Q,super._setTemp(C,Q)}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){const{min:B,max:z,step:ee,useSpinner:re,maxLength:ne,editable:se}=this.config;if(!1===se)return;const oe=re?"number":"text",ae=yield this._renderCell(C,I,void 0,!0),le=new Set,ue=q.JqUtils.adjustElement(ae,`input[type=${oe}]`,`<input type="${oe}" class="${te.SbCss.toClass("num")}" id="${this._name}_number"/>`,void 0,le);q.JqUtils.disposeElement(this.grid.trashCan,ae,[ue[0]]),ae.contents().filter(((C,I)=>3===I.nodeType)).remove(),q.JqUtils.addClass(ae,te.SbCss.edit),ue.attr({min:B,max:z,step:ee}),re||this.config.maxLength&&ue.attr({maxLength:ne});const de=this.getEventKey(I);if(this.grid.setEvent(Q.GridColumn.eventName,"keyup",de,(B=>this.handleKeyup(B,C,I)),ue),re&&this.grid.setEvent(Q.GridColumn.eventName,"change",de,(()=>this.setTemp(I,C)),ue),this.grid.setEvent(Q.GridColumn.eventName,"keydown",de,(C=>this.handleKeyDown(C)),ue),this.isFocused(I,ie.PanelType.Body)&&document.activeElement.id===this.grid.name&&ue.get(0).focus({preventScroll:!0}),q.Convert.isSame(ue.val(),"")){const C=this.getTemp(I);ue.val(C)}}))}getEditValue(C){const I=C.find(`>.${te.SbCss.cell}.${te.SbCss.edit}`);if(I.length<1)return null;const B=I.find(">input").val();return q.Convert.isEmpty(B)?void 0:q.Convert.asNumber(B)}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${te.SbCss.text}`,{cellSelector:B,cellClass:z}}isEditColumn(C,I){var B;if(this===C&&q.Convert.isValue(I)){const C=this.grid.getContainer(I,this);if(!this.isEdit(I))return!1;const z=ee.SBGrid3.$("input",C);if(z.length<1)return;null===(B=z.get(0))||void 0===B||B.focus({preventScroll:!0})}return!0}}I.NumberColumn=NumberColumn},4732:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.RadioColumn=I.RadioEditMode=void 0;const q=B(1163),Q=B(103),ee=B(9797),te=B(6312),ie=B(7078),re=B(7443);var ne;!function(C){C.Radio="radio",C.RadioLabel="radioLabel"}(ne||(I.RadioEditMode=ne={}));class RadioColumn extends Q.GridColumn{get mergeColumn(){return!1}get mergeRow(){return!1}get directApplyEdit(){return this.config.directApplyEdit}get radioItems(){if(q.Convert.isNull(this._radioItems)){let C=this.config.radioItems;this._radioItems=[],C instanceof Array||(C=[].concat(C));let I=[];for(let B=0;B<C.length;B++){const z=C[B];q.Convert.isEmpty(z.value)||(!0===z.default&&I.push(Number(B)),this._radioItems.push(z))}for(let C=0;C<I.length-1;C++){const B=I[C];delete this._radioItems[B].default}}return this._radioItems}constructor(C,I){super(C,I)}static create(C,I){return new RadioColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){var z,Q;let ee=super.parseConfig(C,I,B);if(ee.radioItems=q.Convert.default(C.radioItems,null!==(z=null==I?void 0:I.radioItems)&&void 0!==z?z:void 0),ee.checkMode=q.Convert.default(C.checkMode,null!==(Q=null==I?void 0:I.checkMode)&&void 0!==Q?Q:ne.RadioLabel),ee.directApplyEdit&&(ee.directApplyValue=!0),q.Convert.isEmpty(ee.radioItems))throw"radioItems is empty";return ee}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){yield this._renderCell(C,I,B)}))}_renderCell(C,I,B,ee=!1){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(ee=this.editable(I)&&this.config.directApplyEdit?!this.isGroupItem(I):ee)q.JqUtils.addClass(z,ie.SbCss.edit);else{if(q.Convert.isValue(this.editTemplate)||q.Convert.isValue(this.config.customEdit))return void this.renderCustomEdit(z,I,this.getTooltipData(I));const C=this.getEventKey(I);this.grid.setEvent(Q.GridColumn.eventName,"keydown",C,void 0,z),this.grid.setEvent(Q.GridColumn.eventName,"mousedown",C,void 0,z)}this.removeElement(z);const te=q.JqUtils.adjustElement(z,`> div.${ie.SbCss.radioGroup}`,`<div class='${ie.SbCss.radioGroup}'>`);for(const C of this.radioItems){const B=`${this._name}_${I.rowIndex}_${C.value}`,z=q.JqUtils.adjustElement(te,`> span#${B}`,`<span id='${B}' class='${ie.SbCss.wrap_radio}'>`);this.renderRadio(z,I,C),this.renderLabel(z,C)}if(ee){const B=this.getEventKey(I);this.grid.setEvent(Q.GridColumn.eventName,"keydown",B,(B=>this.onKeyDown(B,C,I)),z),this.grid.setEvent(Q.GridColumn.eventName,"mousedown",B,(B=>this.onMouseDown(C,B.target,I)),z)}return z.contents().filter(((C,I)=>3===I.nodeType)).remove(),te}))}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){0!=this.editable(I)&&(yield this._renderCell(C,I,void 0,!0))}))}getCellTemplate(C){const I=this.getTooltipData(C);return this.cellTemplate(I)}renderTemplate(C,I){if(q.Convert.isValue(this.cellTemplate)){const B=this.getCellTemplate(I);return C.html()!=B&&q.JqUtils.adjustHtml(C,B),C}}onKeyDown(C,I,B){switch(C.preventDefault(),C.key){case re.KeyboardShortCut.Tab:case re.KeyboardShortCut.Enter:this.setTemp(B,I);case re.KeyboardShortCut.Escape:return!0;case re.KeyboardShortCut.ArrowLeft:return this.toggle(I,B,"prev"),!1;case re.KeyboardShortCut.ArrowRight:return this.toggle(I,B,"next"),!1}return!0}onMouseDown(C,I,B){const z=te.SBGrid3.$(`span.${ie.SbCss.cell}`,C);this.checkRadio(z.find(`span.${ie.SbCss.checked}`),te.SBGrid3.$(I))&&this.setTemp(B,C)}makeCellClass(C,I){let{cellSelector:B,cellClass:z}=super.makeCellClass(C,I);return z+=` ${ie.SbCss.text}`,{cellSelector:B,cellClass:z}}getEditValue(C){const I=te.SBGrid3.$(`.${ie.SbCss.cell}.${ie.SbCss.radio}`,C);return q.Convert.isEmpty(I)?null:te.SBGrid3.$(`span.${ie.SbCss.checked}`,I).data("value")}renderRadio(C,I,B){const z=q.JqUtils.adjustElement(C,`> span.${ie.SbCss.radio}.${ie.SbCss.radio_icon}`,`<span class='${ie.SbCss.radio} ${ie.SbCss.radio_icon}'>`).attr("tabindex",0);q.Convert.isEmpty(z.data("value"))&&z.data("value",B.value),this.getCheckState(I,B)?q.JqUtils.addClass(z,ie.SbCss.checked):q.JqUtils.removeClass(z,ie.SbCss.checked)}renderLabel(C,I){const B=q.JqUtils.adjustElement(C,`>label.${ie.SbCss.text}`,`<label class='${ie.SbCss.text}'></label>`);B.css("align-items","center");B.text()!==I.label&&q.JqUtils.adjustHtml(B,I.label)}getItemData(C){return this.config.directApplyEdit?this.getLabelData(C,void 0):this.isEdit(C)?this.getTemp(C):this.getLabelData(C,void 0)}removeElement(C){if(!q.Convert.isEmpty([...C.children()]))for(const I of C.children()){I.classList.contains(ie.SbCss.radioGroup)||I.remove()}}getCheckState(C,I){const B=this.getItemData(C);return q.Convert.isValue(B)?B===I.value:!0===I.default?I.default:B===I.value}getCheckLabel(C){var I,B;const z=this.radioItems;if(Array.isArray(z)){const Q=z.find((({value:I,label:B})=>{if(I===C)return B})),ee=z.find((C=>!0===(null==C?void 0:C.default)));return q.Convert.isEmpty(Q)?null!==(I=null==ee?void 0:ee.label)&&void 0!==I?I:"":null!==(B=null==Q?void 0:Q.label)&&void 0!==B?B:""}}checkRadio(C,I){if(I.hasClass(ie.SbCss.checked))return!1;switch(this.config.checkMode){case ne.Radio:if(!I.hasClass(ie.SbCss.radio_icon))return!1;break;case ne.RadioLabel:I=I.hasClass(ie.SbCss.wrap_radio)?I.find(`.${ie.SbCss.radio}`):I.hasClass(ie.SbCss.text)?I.siblings(`.${ie.SbCss.radio}`):I}return I.hasClass(ie.SbCss.radioGroup)?void 0:(q.JqUtils.removeClass(C,ie.SbCss.checked),q.JqUtils.addClass(I,ie.SbCss.checked),!0)}toggle(C,I,B){var z;const q=te.SBGrid3.$(`span.${ie.SbCss.cell}`,C),Q=te.SBGrid3.$(`span.${ie.SbCss.checked}`,q),ee=Q.closest(`span.${ie.SbCss.wrap_radio}`);let re;switch(B){case"next":if(re=te.SBGrid3.$(`> span.${ie.SbCss.radio}`,ee.next()),re.length<1)return;break;case"prev":if(re=te.SBGrid3.$(`> span.${ie.SbCss.radio}`,ee.prev()),re.length<1)return;break;default:re=Q}null===(z=re.get(0))||void 0===z||z.focus({preventScroll:!0}),this.checkRadio(Q,re),this.setTemp(I,C)}isEditColumn(C,I){var B;if(this===C&&q.Convert.isValue(I)){const C=this.grid.getContainer(I,this);if(!this.config.directApplyEdit&&!this.isEdit(I))return!1;const z=te.SBGrid3.$(`span.${ie.SbCss.checked}`,C);if(z.length<1)return;null===(B=z.get(0))||void 0===B||B.focus({preventScroll:!0})}return!0}setTempValue(C,I){const B=this.radioItems.filter((C=>C.value===I));return q.Convert.isEmpty(B)?super.setTempValue(C,this.getValue(C)):super.setTempValue(C,I)}getTooltipData(C,I=void 0){const B=q.Convert.cloneData(C.data),z=this.getValue(C),Q=this.getCheckLabel(z);return B._label_=Q,B._value_=z,B}getCellLabel(C){const I=C instanceof ee.RowItem?this.getItemData(C):C;return this.getCheckLabel(I)}}I.RadioColumn=RadioColumn},3960:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.TextColumn=void 0;const q=B(1163),Q=B(6312),ee=B(7078),te=B(289),ie=B(5369),re=B(5165),ne=B(2663),se=B(860),oe=B(7443),ae=B(103),le=B(6700);class TextColumn extends te.PopupColumn{get inputmask(){return q.Convert.isEmpty(this._inputmask)&&(this._inputmask=le.Mask.create(this)),this._inputmask}get maxLength(){var C;return null===(C=this.config)||void 0===C?void 0:C.maxLength}get showPreLine(){return this.config.showPreLine}constructor(C,I){super(C,I)}static create(C,I){return new TextColumn(C,I)}get config(){return super.config}parseConfig(C,I,B){var z,Q,ee;let te=super.parseConfig(C,I,B);return te.maxLength=q.Convert.default(C.maxLength,null!==(z=null==I?void 0:I.maxLength)&&void 0!==z?z:void 0),te.mask=q.Convert.default(C.mask,null!==(Q=null==I?void 0:I.mask)&&void 0!==Q?Q:void 0),te.showPreLine=q.Convert.default(C.showPreLine,null!==(ee=null==I?void 0:I.showPreLine)&&void 0!==ee&&ee),te}getStaticItems(C,I,B){const z=[];for(const C of I)z.push(C);this.items.set(C.rowIndex,z)}renderCell(C,I,B){return z(this,void 0,void 0,(function*(){this.isPopup()&&"INPUT"!==document.activeElement.tagName&&this.fireCommandAsync(this,new re.ClosePopupCommand(this,I)),this._renderCell(C,I,B)}))}renderEdit(C,I,B){return z(this,void 0,void 0,(function*(){const B=yield this._renderCell(C,I,void 0,!0);q.JqUtils.addClass(B,ee.SbCss.edit),B.contents().filter(((C,I)=>3===I.nodeType)).remove(),yield this.getItems(I),q.Convert.isValue(this.config.editTemplate)||q.Convert.isValue(this.config.customEdit)?this.renderCustomEdit(B,I):this.renderTextColumn(C,B,I)}))}renderTextColumn(C,I,B){var z;let Q=!1;const te=q.JqUtils.adjustElement(I,"input[type=text]",`<input type="text" class="${ee.SbCss.input}" id="${this._name}_input"/>`),ie=this.getTemp(B);0==q.Convert.isSameValue(te.val(),ie)&&(q.Convert.isEmpty(ie)?te.val(null):te.val(q.Utils.unEscapeString(ie))),q.Convert.isValue(this.maxLength)&&q.JqUtils.changeAttr(te,"maxLength",String(this.maxLength)),this.isFocused(B,se.PanelType.Body)&&te.get(0).focus({preventScroll:!0}),null===(z=this.inputmask)||void 0===z||z.inputmask(te.get(0));const ne=this.getEventKey(B);this.grid.setEvent(ae.GridColumn.eventName,"input",ne,(z=>{var ee;if(Q)return;const te=z.target.value;this.setTemp(B,C);null===(ee=this.autoComplete)||void 0===ee||ee.filterTextItems(I,B,te,(C=>{var I;return[...null!==(I=this.items.get(B.rowIndex))&&void 0!==I?I:new Set(this.grid.view.rows.map((C=>C.data[this.field])))].filter((I=>q.Convert.isValue(I)&&this.autoComplete.filter(C).test(I)))})),te.length>this.maxLength&&(z.target.value=te.slice(0,this.maxLength))}),I),this.grid.setEvent(ae.GridColumn.eventName,"keydown",ne,(C=>{const I=C.target;if(C.ctrlKey||this.checkKeyboardShortCut(C.key))return!1;switch(Q=!1,C.key){case oe.KeyboardShortCut.Home:I.setSelectionRange(0,0);case oe.KeyboardShortCut.ArrowUp:case oe.KeyboardShortCut.ArrowDown:return C.preventDefault(),this.isPopup()?(Q=!0,C.key===oe.KeyboardShortCut.ArrowUp?this.fireAboveFocusItem(B):this.fireBelowFocusItem(B),!1):!1;case oe.KeyboardShortCut.Enter:case oe.KeyboardShortCut.Tab:this.selectItem(I,B);break;case oe.KeyboardShortCut.Escape:this.fireCommandAsync(this,new re.ClosePopupCommand(this,B))}return!0}),I)}isDuplicatedInput(C){var I;const B=C.originalEvent;!1===B.isComposing&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(null===(I=B.data)||void 0===I?void 0:I.toString());return this.char=B.data,!1}_renderCell(C,I,B=void 0,Q=!1){return z(this,void 0,void 0,(function*(){const z=this.makeCell(C,I,B);if(!0===this.showPreLine&&z.css("white-space","pre-line"),Q){return!(q.Convert.isValue(this.editTemplate)||q.Convert.isValue(this.config.customEdit))&&this.removeElement(z),z}if(null==B?void 0:B.merged)return""!=z.html()&&q.JqUtils.adjustHtml(z,""),z;if(q.Convert.isValue(this.cellTemplate)||q.Convert.isValue(this.config.customView))this.renderCustomView(z,I);else{let Q=this.getLabelData(I,B);if(q.Convert.isEmpty(Q))Q=this.renderPlaceHolder(Q,I,C),q.JqUtils.adjustHtml(z,Q);else{if(z.text()==q.Convert.asText(Q))return;q.JqUtils.adjustHtml(z,Q)}}return z}))}getEditValue(C){const I=C.find(`>.${ee.SbCss.cell}.${ee.SbCss.edit}`);if(I.length<1)return null;const B=I.find(">input").val();return"number"==typeof B?B:q.Utils.escapeString(B)}removeElement(C){if(!q.Convert.isEmpty([...C.children()]))for(const I of C.children()){const C=I.classList.contains(ee.SbCss.text);I.classList.contains(ee.SbCss.input)||C||I.remove()}}checkKeyboardShortCut(C){switch(C){case oe.KeyboardShortCut.End:case oe.KeyboardShortCut.ArrowLeft:case oe.KeyboardShortCut.ArrowRight:case oe.KeyboardShortCut.Home:case oe.KeyboardShortCut.PageUp:case oe.KeyboardShortCut.PageDown:case oe.KeyboardShortCut.Space:return!0}return!1}selectItem(C,I){const B=Q.SBGrid3.$(`div#${this._name}_popup.${ee.SbCss.comboPopup}`),z="INPUT"===C.tagName?Q.SBGrid3.$(`li.${ee.SbCss.comboItemSelected}`,B.children()):"LI"===C.tagName?Q.SBGrid3.$(C):Q.SBGrid3.$(C).closest(`li.${ee.SbCss.comboPopupItem}`),q=z.data("value");z.length>0&&this.fireCommandAsync(this,new ie.UpdateCellDataCommand(this,I,q)),this.fireCommandAsync(this,new re.ClosePopupCommand(this,I))}renderItem(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.getTemp(I),te=Q.SBGrid3.$(`div#${this._name}_popup`,this.grid.container);"none"===te.css("display")&&te.css("display","");for(let I=0;I<B.length;I++){const Q=B[I];if(q.Convert.isNull(Q))continue;const te=q.JqUtils.adjustElement(C,`>li#${ee.SbCss.comboPopupItem}-${I}`,`<li id='${ee.SbCss.comboPopupItem}-${I}' class='${ee.SbCss.comboPopupItem}'></li>`).attr("tabindex",0),ie=q.JqUtils.adjustElement(te,`>span.${ee.SbCss.text}`,`<span class='${ee.SbCss.text}'></span>`);z===Q?q.JqUtils.addClass(te,ee.SbCss.comboItemSelected):q.JqUtils.removeClass(te,ee.SbCss.comboItemSelected),te.data("value",Q),q.Convert.isValue(this.itemTemplate)?q.JqUtils.adjustHtml(ie,this.itemTemplate(Q)):q.JqUtils.adjustHtml(ie,Q)}this.grid.setEvent("comboItemClick","click",`${this._name}`,(C=>this.selectItem(C.target,I)),C)}))}update(C){const{value:I,rowItem:B,column:z}=C;if(this===z){const C=this.grid.getContainer(B,this,se.PanelType.Body),z=Q.SBGrid3.$(`.${ee.SbCss.cell}`,C);Q.SBGrid3.$("input",z).val(I),this.setTemp(B,C),this.fireCommandAsync(this,new re.ClosePopupCommand(this,B))}}isEditColumn(C,I){var B;if(this===C&&q.Convert.isValue(I)){const C=this.grid.getContainer(I,this);if(!this.isEdit(I))return!1;const z=Q.SBGrid3.$("input",C);if(z.length<1)return;null===(B=z.get(0))||void 0===B||B.focus({preventScroll:!0})}return!0}doCommand(C,I){return I.command!==ne.Commands.UpdateCellData?super.doCommand(C,I):(this.update(I),!0)}setPosition(C,I,B){super.setPosition(C,I,`input.${ee.SbCss.input}`)}setWidth(C,I,B){super.setWidth(C,I,`input.${ee.SbCss.input}`)}}I.TextColumn=TextColumn},1095:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.TreeColumn=I.TitleClickAction=void 0;const q=B(3354),Q=B(1163),ee=B(103),te=B(7721),ie=B(6312),re=B(7078),ne=B(6140),se=B(5165),oe=B(3960);var ae;!function(C){C.None="none",C.Check="check",C.Open="open"}(ae||(I.TitleClickAction=ae={}));class TreeColumn extends oe.TextColumn{constructor(C,I){super(C,I),this.onTreeClick=C=>z(this,void 0,void 0,(function*(){if(0!=C.button)return;let I=ie.SBGrid3.$(C.target),B=yield this.grid.getRowItem(I);return I.hasClass(re.SbCss.icon)||this.config.titleClick==ae.Open?this.toggleRow(I,B,void 0):(I.hasClass(re.SbCss.check)||I.hasClass(re.SbCss.checkbox)||this.config.titleClick==ae.Check)&&this.toggleCheck(B),!0})),this.config.align=te.TextAlign.Left}static create(C,I){return new TreeColumn(C,I)}get config(){return super.config}renderCell(C,I){var B,ee;return z(this,void 0,void 0,(function*(){let z=(null==I?void 0:I.node)instanceof q.TreeNode?null==I?void 0:I.node:void 0;const te=(null===(B=null==z?void 0:z.parent)||void 0===B?void 0:B.nodeCount)==(null==z?void 0:z.index)+1&&I.isClose,ie=TreeColumn.makeTreeSpace(z.level),ne=`<span class='${re.SbCss.icon} ${I.loading?re.SbCss.loading:(null==z?void 0:z.isLeaf)?re.SbCss.leaf:I.isOpen?re.SbCss.open:re.SbCss.close}'></span>`,se=z.checked==q.TreeCheck.Check?re.SbCss.checked:z.checked==q.TreeCheck.Half?re.SbCss.halfCheck:"",oe=this.config.showCheck,ae=("function"==typeof oe?oe(I.data,this,I):oe)?`<span class='${re.SbCss.check}'><span class='${re.SbCss.checkbox} ${se}'></span></span>`:"",le=Q.Convert.isNull(this.cellTemplate)?`<span class='${re.SbCss.text}'>${null!==(ee=this.getValue(I))&&void 0!==ee?ee:""}</span>`:`<span class='${re.SbCss.text}'>${this.getCellTemplate(I)}</span>`,ue=this.cellSelector+` ${re.SbCss.cell} ${re.SbCss.tree} ${re.SbCss.header} ${te?re.SbCss.last:""}`,de=`<span class='${re.SbCss.tree} ${re.SbCss.title}'>${ne+ae+le}</span>`,ce=Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ue}'></span>`);Q.JqUtils.adjustHtml(ce,ie+de),Q.JqUtils.changeClass(ce,ue),Q.Convert.isValue(z)&&this.grid.setEvent("treeTitleMousedown","mousedown",this.config.field,this.onTreeClick,C),this.checkOpen(C,I)}))}checkOpen(C,I){I.isOpen||I.node instanceof q.TreeNode&&I.isOpen!=I.node.isOpen&&Q.Convert.isValue(this.grid.dataConfig.tree.open)&&ne.TreeLoader.calcOpen(I.node,this.grid.dataConfig.tree)&&this.toggleRow(C,I,!0)}static makeTreeSpace(C){return Q.Convert.repeat(C,(I=>`<span class='${re.SbCss.tree} ${re.SbCss.space} ${re.SbCss.level}-${I} ${C==I+1?re.SbCss.last:""}'></span>`))}renderTreeFooter(C,I,B){var te,ie,ne;return z(this,void 0,void 0,(function*(){const z=(null==I?void 0:I.node)instanceof q.FooterNode?null==I?void 0:I.node:void 0,se=null==z?void 0:z.parent;let oe="";if(z instanceof q.FooterNode){if(Q.Convert.isValue(null===(te=this.config.tree)||void 0===te?void 0:te.aggregates)&&Q.Convert.isValue(z.aggregates)){const C=ee.GridColumn.makeTreeData(z.aggregates,this.config.tree,I.parent);oe=null!==(ne=null===(ie=this.treeFooters[B.row])||void 0===ie?void 0:ie.render(C))&&void 0!==ne?ne:""}}const ae=TreeColumn.makeTreeSpace(se.level+1),le=`<span class='${re.SbCss.tree} ${re.SbCss.title}'><span class='${re.SbCss.title}'>${oe}</span></span>`,ue=this.cellSelector+` ${re.SbCss.cell} ${re.SbCss.tree} ${re.SbCss.footer}`,de=Q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ue}'></span>`);de.html(ae+le),Q.JqUtils.changeClass(de,ue),Q.JqUtils.addClass(de.parent(),ue),de.off("click",this.onTreeClick)}))}toggleRow(C,I,B){const z=I.node;if(z instanceof q.TreeNode){if(z.isLeaf)return;if(Q.Convert.isNull(z.nodeCount)){C=C.parent(`.${re.SbCss.col}`);const B=ie.SBGrid3.$(`>.${re.SbCss.cell}`,C),z=ie.SBGrid3.$(`>.${re.SbCss.title}>.${re.SbCss.icon}`,B);if(z.hasClass(re.SbCss.loading))return;if(Q.JqUtils.changeClass(z,`${re.SbCss.icon} ${re.SbCss.loading}`),1==I.loading)return}Q.Convert.isNull(B)?this.fireCommandAsync(this,new se.ToggleRowCommand(z.key)):B?this.fireCommandAsync(this,new se.OpenRowCommand(z.key)):this.fireCommandAsync(this,new se.CloseRowCommand(z.key))}}toggleCheck(C){const I=C.node;I instanceof q.TreeNode&&(I.toggleCheck(),this.fireCommandAsync(this,new se.RefreshCommand))}parseConfig(C,I,B){let z=super.parseConfig(C,I,B);return z.showCheck=Q.Convert.default(C.showCheck,!1),z.titleClick=Q.Convert.default(C.titleClick,ae.None,(C=>Q.Convert.parseEnum(ae,C))),z}}I.TreeColumn=TreeColumn},5882:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.MenuCustom=I.MenuExcel=I.MenuCancel=I.MenuEdit=I.MenuColumn=I.MenuDeleteRow=I.MenuAddTop=I.MenuAddRow=I.MenuAppendRow=I.MenuInsertRow=I.EditableMenuItem=I.MenuFixedTail=I.MenuFixedSticky=I.MenuFixedBody=I.MenuFixedHead=I.MenuFixedCol=I.MenuSticky=I.MenuRedo=I.MenuUndo=I.MenuPaste=I.MenuCut=I.MenuCopy=I.MenuClipboard=I.MenuSortReset=I.MenuSortDesc=I.MenuSortAsc=I.MenuSort=I.MenuSet=I.MenuSeparator=I.MenuItem=I.GridMenu=I.GridMenuParser=I.MenuFactory=I.MenuItems=I.MenuType=I.KeyboardShortCut=void 0;const q=B(273),Q=B(4407),ee=B(5369),te=B(5165),ie=B(7392),re=B(6312),ne=B(7078),se=B(1163),oe=B(6258),ae=B(2663),le=B(7721),ue=B(373),de=B(5774);var ce,he,fe;!function(C){C.Esc="Esc",C.Escape="Escape",C.ArrowDown="ArrowDown",C.ArrowLeft="ArrowLeft",C.ArrowRight="ArrowRight",C.ArrowUp="ArrowUp",C.Enter="Enter",C.Space=" ",C.Tab="Tab",C.Home="Home",C.End="End",C.PageUp="PageUp",C.PageDown="PageDown"}(ce||(I.KeyboardShortCut=ce={})),function(C){C.CaptionMenu="captionMenu",C.ContextMenu="contextMenu"}(he||(I.MenuType=he={})),function(C){C.Filter="filter",C.Sort="sort",C.Clipboard="clipboard",C.FixedCol="fixedCol",C.Separator="separator",C.Asc="asc",C.Desc="desc",C.Reset="reset",C.Copy="copy",C.Cut="cut",C.Paste="paste",C.Undo="undo",C.Redo="redo",C.HeadPart="head",C.BodyPart="body",C.BodyStick="stioky",C.TailPart="tail",C.Sticky="sticky",C.InsertRow="insertRow",C.AppendRow="appendrow",C.AddRow="addRow",C.AddTop="addTop",C.DeleteRow="deleteRow",C.Apply="apply",C.Edit="edit",C.Update="update",C.Save="save",C.Delete="delete",C.Column="column",C.Cancel="cancel",C.Custom="custom",C.Excel="excel"}(fe||(I.MenuItems=fe={}));const pe=new Map([[fe.Sort,C=>new MenuSort(C)],[fe.Clipboard,C=>new MenuClipboard(C)],[fe.Asc,C=>new MenuSortAsc(C)],[fe.Desc,C=>new MenuSortDesc(C)],[fe.Reset,C=>new MenuSortReset(C)],[fe.Copy,C=>new MenuCopy(C)],[fe.Paste,C=>new MenuPaste(C)],[fe.Cut,C=>new MenuCut(C)],[fe.Undo,C=>new MenuUndo(C)],[fe.Redo,C=>new MenuRedo(C)],[fe.Separator,C=>new MenuSeparator(C)],[fe.FixedCol,C=>new MenuFixedCol(C)],[fe.Sticky,C=>new MenuSticky(C)],[fe.InsertRow,C=>new MenuInsertRow(C)],[fe.AppendRow,C=>new MenuAppendRow(C)],[fe.AddRow,C=>new MenuAddRow(C)],[fe.AddTop,C=>new MenuAddTop(C)],[fe.DeleteRow,C=>new MenuDeleteRow(C)],[fe.Column,C=>new MenuColumn(C)],[fe.Edit,C=>new MenuEdit(C)],[fe.Cancel,C=>new MenuCancel(C)],[fe.Excel,C=>new MenuExcel(C)]]);class MenuFactory{static create(C,I){if("string"!=typeof I)return this.craeteCutomMenu(C,I);if(pe.has(I))return pe.get(I)(C);throw`unknown menu ${I}`}static craeteCutomMenu(C,I){return new MenuCustom(C,I)}}I.MenuFactory=MenuFactory;I.GridMenuParser=class GridMenuParser{static parse(C,I){const B=[];if("boolean"==typeof C){if(0==C)return!1;for(const C of null!=I?I:[])0!=pe.has(C)&&B.push(C)}else for(const I of C){const C="string"==typeof I?se.Convert.parseEnum(fe,I):this.parseMenuItem(I);B.push(C)}return B}static parseMenuItem(C){return{enabled:null==C?void 0:C.enabled,item:null==C?void 0:C.item,icon:null==C?void 0:C.icon,label:null==C?void 0:C.label,click:null==C?void 0:C.click,subMenus:null==C?void 0:C.subMenus}}};class GridMenu extends Q.Publisher{constructor(C,I,B,z){super(C),this.column=B,this.rowItem=z,this._menuItems=I,this._grid=C}get grid(){return this._grid}get menus(){var C;return null!==(C=this._menus)&&void 0!==C?C:this._menus=this.ensureMenus()}ensureMenus(){const C=[];for(const I of this._menuItems){const B=MenuFactory.create(this,I);C.push(B)}return C}captionMenuClear(){this.grid.container.find(`.${ne.SbCss.menu_group}`).remove(),this.grid.container.find(`.${ne.SbCss.context_menu}`).remove()}render(C,I,B){let z=se.JqUtils.adjustElement(C,`> span#${this.name}`,`<span class='${ne.SbCss.menu}' id='${this.name}'>${this.name}</span>`);z.text("");for(const C of this.menus)C.render(z,I,B)}}I.GridMenu=GridMenu;class MenuItem extends q.Observer{constructor(C,I){super(C,I),this._menuItem=I,this.gridMenu=C}get resourceManager(){return this.gridMenu.grid.dataSource.resourceManager}get subMenuItems(){}get enabled(){return!0}get grid(){return this.gridMenu.grid}get menuItem(){return this._menuItem}get column(){return this.gridMenu.column}get rowItem(){return this.gridMenu.rowItem}get icon(){return""}get subIcon(){return""}get label(){return this.menuItem}render(C,I,B){let z,q=this.enabled;const Q=this.icon;z=se.JqUtils.adjustElement(C,`> span#${this.name}`,`<span  class='${ne.SbCss.item} ${ne.SbCss.toClass(this.menuItem)} ${q?"":ne.SbCss.disabled}' id='${this.name}'></span>`);const ee=se.Convert.isEmpty(Q)?"":`<span class='${ne.SbCss.icon} ${Q}'></span>`,te=se.Convert.isEmpty(this.label)?"":`<span class='${ne.SbCss.title}'>${this.label}</span>`,ie=se.Convert.isEmpty(this.label)?"":`<span class='${ne.SbCss.icon} ${this.subIcon}'></span>`;z.html(ee+te+ie),q&&(this.grid.config.popupType==oe.PopupType.Hover?this.name==fe.Column||this.name==fe.FixedCol?z.on("mouseenter",(C=>{this.onItemClick(C,I,B)})):this.grid.setEvent("ItemClick","click",this.name,(C=>this.onItemClick(C,I,B)),z):this.grid.config.popupType==oe.PopupType.Click&&this.grid.setEvent("ItemClick","click",this.name,(C=>this.onItemClick(C,I,B)),z),this.grid.setEvent("MenuGridEsc","keydown",this.name,(C=>this.onEscClick(C)),this.grid.container))}onEscClick(C){return z(this,void 0,void 0,(function*(){(C.key==ce.Esc||ce.Escape)&&this.grid.scrollPanel.removeMenu()}))}onMouseOut(C){return z(this,void 0,void 0,(function*(){this.grid.container.focus()&&this.grid.scrollPanel.removeMenu()}))}onItemClick(C,I,B){var q;return z(this,void 0,void 0,(function*(){switch(this.command.command!=ae.Commands.MoveToPart&&this.command.command!=ae.Commands.ColumnVisible&&this.gridMenu.captionMenuClear(),this.command.command){case ae.Commands.SortAsc:case ae.Commands.SortDesc:case ae.Commands.SortReset:this.captionSort();break;case ae.Commands.ColumnVisible:this.popColumn(C,I,B);break;case ae.Commands.MoveToPart:this.popChildren(C,I);break;case ae.Commands.Sticky:this.stickyRowSet();break;case ae.Commands.Excel:this.exportExcel();break;default:yield this.fireCommandAsync(this,this.command)}const z=new ue.GridMenuCommand(this.menuItem,null===(q=this.rowItem)||void 0===q?void 0:q.key,this.column);return this.grid.doGridCommand(z),!1}))}onSubItemClick(C,I){var B;return z(this,void 0,void 0,(function*(){if(I.command.command===ae.Commands.MoveToPart)this.fireCommandAsync(this,I.command);else yield this.fireCommandAsync(void 0,I.command);this.gridMenu.captionMenuClear();const C=new ue.GridMenuCommand(this.menuItem,null===(B=this.rowItem)||void 0===B?void 0:B.key,this.column);return this.grid.doGridCommand(C),!1}))}stickyRowSet(){var C;this.grid.toggleStickyRow(null===(C=this.rowItem)||void 0===C?void 0:C.key)}exportExcel(){re.SBGrid3.excelExport(this.grid)}captionSort(){var C;let I=(null!==(C=this.grid.dataConfig.orders)&&void 0!==C?C:[]).find((C=>C.field==this.column.field));const B=this.name==fe.Asc?ie.SortDir.Asc:ie.SortDir.Desc;this.name==fe.Asc||this.name==fe.Desc?null==I?this.grid.toggleSort(this.column.field,!0,B):I.dir!=B&&this.grid.toggleSort(this.column.field,!1,B):this.name==fe.Reset&&null!=I&&this.grid.toggleSort(this.column.field,!0,void 0)}popChildren(C,I){let B="";I==he.CaptionMenu?B=ne.SbCss.menu_group:I==he.ContextMenu&&(B=ne.SbCss.context_menu),this.grid.container.find(`.${B}.${ne.SbCss.col}-1-${this.column.index}.popup`).remove();const z=this.grid.container.find(`.${B}`),q=se.JqUtils.adjustElement(z,`>div.${B}.${ne.SbCss.col}-1-${this.column.index} popup`,`<div class='${B} ${ne.SbCss.col}-1-${this.column.index} popup'></span>`),Q=se.JqUtils.adjustElement(q,`> span#${this.name}`,`<span class='${ne.SbCss.menu} popup' id='${this.name}'></span>`),ee=z.children().css("overflow-y");this.grid.container.width()<this.grid.container.find(z).offset().left+z.width()+this.grid.container.find(q).width()?this.grid.container.find(q).css("left",-this.grid.container.find(q).width()):"scroll"==ee?this.grid.container.find(q).css("left",this.grid.container.find(z).width()+20):this.grid.container.find(q).css("left",this.grid.container.find(z).width()),this.grid.container.find(q).css("top",re.SBGrid3.$(C.target).offset().top-z.offset().top);for(const C of this.subMenuItems){const I=C.enabled,B=se.JqUtils.adjustElement(q,`> span#${C.name}`,`<span class='${ne.SbCss.item} ${ne.SbCss.toClass(C.menuItem)} ${I?"":ne.SbCss.disabled}' id='${C.name}'></span>`),z=se.Convert.isEmpty(C.icon)?"":`<span class='${ne.SbCss.icon} ${C.icon}'></span>`,ee=se.Convert.isEmpty(C.label)?"":`<span class='${ne.SbCss.title}'>${C.label}</span>`;B.html(z+ee),I&&this.grid.setEvent("SubItemClick","click",C.name,(I=>this.onSubItemClick(I,C)),B),this.grid.container.find(Q).append(B)}this.grid.container.find(q).append(Q)}findColumn(C){se.Arrays.dfsAction(C,(C=>(undefined.push(C),C.columns)))}treeAllColumns(){let C=[],I=this.grid.columns;return se.Arrays.dfsAction(I,(I=>(C.push(I),I.columns))),C}childTreeColumn(C,I){if(C.push(I),I.columns.length>0)for(const B of I.columns)this.childTreeColumn(C,B)}treeColumns(){let C=[];return this.grid.columns.forEach((I=>{if(I.part!=le.PartType.Fixed)if(C.push(I),I.type==de.ColumnTypes.Multi);else if(I.columns.length>0)for(const B of I.columns)this.childTreeColumn(C,B)})),C}popColumn(C,I,B){let z="";I==he.CaptionMenu?z=ne.SbCss.menu_group:I==he.ContextMenu&&(z=ne.SbCss.context_menu),this.grid.container.find(`.${z}.${ne.SbCss.col}-1-${this.column.index}.popup`).remove();const q=this.grid.container.find(`.${z}`),Q=se.JqUtils.adjustElement(q,`>div.${z}.${ne.SbCss.col}-1-${this.column.index} popup`,`<div class='${z} ${ne.SbCss.col}-1-${this.column.index} popup'></span>`),ee=se.JqUtils.adjustElement(Q,`> span#${this.name}`,`<span class='${ne.SbCss.column} ${ne.SbCss.menu} popup' id='${this.name}' ></span>`),te=se.JqUtils.adjustElement(ee,`>.${ne.SbCss.values}`,`<span class='${ne.SbCss.values}'></span>`),ie=se.JqUtils.adjustElement(te,`>span.${ne.SbCss.value}.${ne.SbCss.value}_1`,`<span class = '${ne.SbCss.value} ${ne.SbCss.value}_1'></span>`),re=se.JqUtils.adjustElement(ee,`>.${ne.SbCss.confirm}`,`<div class='${ne.SbCss.confirm}'></div>`),oe=se.JqUtils.adjustElement(re,`>.${ne.SbCss.submit}`,`<button class='${ne.SbCss.submit}' type='button'></button><button class='${ne.SbCss.cancel}' type='button'></button>`);oe.get(0).textContent=this.resourceManager.resource.menu_submit_button,oe.get(1).textContent=this.resourceManager.resource.menu_cancel_button;const ae=q.children().css("overflow-y");this.grid.container.width()<this.grid.container.find(Q).offset().left+q.width()+this.grid.container.find(Q).width()?this.grid.container.find(Q).css("left",-this.grid.container.find(Q).width()):"scroll"==ae?this.grid.container.find(Q).css("left",this.grid.container.find(q).width()+21):this.grid.container.find(Q).css("left",this.grid.container.find(q).width()),this.grid.container.find(Q).css("top",this.grid.container.find(Q).offset().top-Q.offset().top);const le=se.JqUtils.adjustElement(ie,">ul","<ul></ul)");let ue=this.treeColumns();for(const C of ue){const I=C!=this.column,B=C.config.visible?"checked":"",z=se.JqUtils.adjustElement(le,`>li[value='${C.field}']`,`<li value='${C.index}' class='${I?"":ne.SbCss.disabled}'></li>`);let q="",Q="";if(C.level>1)for(let I=1;I<C.level;I++)q+="<span class='empty-space'></span>";if(C.type==de.ColumnTypes.Multi){if(C.captions.length>0){let z=0;for(const q of C.captions){z++;for(let C=1;C<z-1;C++)Q+="<span class='empty-space'></span>";const ee=q.filter(((C,I)=>q.indexOf(C)===I));if(1==z){const z=se.JqUtils.adjustElement(le,`>li[value='${C.field}']`,`<li value='${C.index}' class='${I?"":ne.SbCss.disabled}'></li>`);se.JqUtils.adjustElement(z,">input[type=checkbox]",`${Q}<input type='checkbox'  name='${C.config.caption}' value='${C.field}' ${I?"":"disabled"} ${B}></input>`),se.JqUtils.adjustElement(z,">label",`<label>${ee}</label>`)}else{const I=se.JqUtils.adjustElement(le,`>li[value='${C.field}']`,`<li value='${C.index}' class='${ne.SbCss.disabled}'></li>`);se.JqUtils.adjustElement(I,">input[type=checkbox]",`${Q}`),se.JqUtils.adjustElement(I,">label",`<label>${ee}</label>`)}}}}else se.JqUtils.adjustElement(z,">input[type=checkbox]",`${q}<input type='checkbox'  name='${C.config.caption}' value='${C.field}' ${I?"":"disabled"} ${B}></input>`),se.JqUtils.adjustElement(z,">label",`<label>${C.config.caption}</label>`)}this.grid.setEvent("columnButton","click","columnButton",(C=>this.setColumnVisible(le,C,B)),oe)}setColumnVisible(C,I,B){const z=this.grid.topRow,q=re.SBGrid3.$(I.target),Q=[];if(q.hasClass(ne.SbCss.submit)){const I=[];C.find("input").each((function(){let C={caption:this.name,field:this.value,value:this.checked};I.push(C)}));const B=this.treeColumns();for(let C=0;C<B.length;C++)Q.push({column:B[C],visible:I[C].value})}else if(q.hasClass(ne.SbCss.cancel)){const C=this.treeColumns();for(let I=0;I<this.treeColumns().length;I++)Q.push({column:C[I],visible:!0})}if(this.gridMenu.captionMenuClear(),this.fireCommandAsync(this,new te.ColumnVisibleCommand(Q)),this.grid.config.virtualRow){const C=(this.grid.serverPaging,1);setTimeout((()=>{this.grid.topRow=z}),C)}}}I.MenuItem=MenuItem;class MenuSeparator extends MenuItem{constructor(C){super(C,fe.Separator)}render(C){C.append(`<span class='${ne.SbCss.item} ${ne.SbCss.menu_seperator}' ></span>`)}get enabled(){return!0}get command(){}}I.MenuSeparator=MenuSeparator;class MenuSet extends MenuItem{get command(){}constructor(C,I){super(C,I)}get menus(){var C;return null!==(C=this._menus)&&void 0!==C?C:this._menus=this.ensureMenus()}render(C,I,B){for(const z of this.menus)z.render(C,I,B)}ensureMenus(){return[]}}I.MenuSet=MenuSet;class MenuSort extends MenuSet{constructor(C){super(C,fe.Sort)}get command(){}ensureMenus(){const C=[];return C.push(new MenuSortAsc(this.gridMenu)),C.push(new MenuSortDesc(this.gridMenu)),C.push(new MenuSortReset(this.gridMenu)),C}}I.MenuSort=MenuSort;class MenuSortAsc extends MenuItem{constructor(C){super(C,fe.Asc)}get icon(){return ne.SbCss.toClass("arrow-up")}get enabled(){var C;const I=this.grid.config.sortable!=oe.SortMode.None&&this.column.sortable!=oe.SortMode.None,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get command(){return new te.AscCommand(this.column)}get label(){return this.resourceManager.resource.menu_asc}}I.MenuSortAsc=MenuSortAsc;class MenuSortDesc extends MenuItem{constructor(C){super(C,fe.Desc)}get icon(){return ne.SbCss.toClass("arrow-down")}get enabled(){var C;const I=this.grid.config.sortable!=oe.SortMode.None&&this.column.sortable!=oe.SortMode.None,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get command(){return new te.DescCommand(this.column)}get label(){return this.resourceManager.resource.menu_desc}}I.MenuSortDesc=MenuSortDesc;class MenuSortReset extends MenuItem{constructor(C){super(C,fe.Reset)}get icon(){return ne.SbCss.toClass("reset")}get enabled(){var C;const I=this.grid.config.sortable!=oe.SortMode.None&&this.column.sortable!=oe.SortMode.None,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get command(){return new te.ResetCommand(this.column)}get label(){return this.resourceManager.resource.menu_reset}}I.MenuSortReset=MenuSortReset;class MenuClipboard extends MenuSet{constructor(C){super(C,fe.Clipboard)}ensureMenus(){const C=[];return C.push(new MenuCopy(this.gridMenu)),C.push(new MenuCut(this.gridMenu)),C.push(new MenuPaste(this.gridMenu)),C}}I.MenuClipboard=MenuClipboard;class MenuCopy extends MenuItem{constructor(C){super(C,fe.Copy)}get enabled(){var C;let I=this.grid.canCommand(this,new ee.CopyCommand)&&se.Convert.isValue(this.rowItem);const B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("copy")}get command(){return new ee.CopyCommand}get label(){return this.resourceManager.resource.menu_copy}}I.MenuCopy=MenuCopy;class MenuCut extends MenuItem{constructor(C){super(C,fe.Cut)}get enabled(){var C;const I=this.grid.canCommand(this,new ee.CopyCommand)&&se.Convert.isValue(this.rowItem),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("cut")}get command(){return new ee.CutCommand}get label(){return this.resourceManager.resource.menu_cut}}I.MenuCut=MenuCut;class MenuPaste extends MenuItem{constructor(C){super(C,fe.Paste)}get enabled(){var C;const I=!!se.Convert.isValue(this.rowItem),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("paste")}get command(){return new ee.PasteCommand}get label(){return this.resourceManager.resource.menu_paste}}I.MenuPaste=MenuPaste;class MenuUndo extends MenuItem{constructor(C){super(C,fe.Undo)}get icon(){return ne.SbCss.toClass("undo")}get enabled(){var C;const I=this.grid.canCommand(this,new ee.UndoCommand),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get command(){return new ee.UndoCommand}get label(){return this.resourceManager.resource.menu_undo}}I.MenuUndo=MenuUndo;class MenuRedo extends MenuItem{constructor(C){super(C,fe.Redo)}get enabled(){var C;const I=this.grid.canCommand(this,new ee.RedoCommand),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("redo")}get command(){return new ee.RedoCommand}get label(){return this.resourceManager.resource.menu_redo}}I.MenuRedo=MenuRedo;class MenuSticky extends MenuItem{constructor(C){super(C,fe.Sticky)}get enabled(){var C;const I=!(!this.grid.config.stickyRow||!se.Convert.isValue(this.rowItem)),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return se.Convert.isValue(this.rowItem)&&this.rowItem.isSticky?ne.SbCss.toClass("sticky")+" "+ne.SbCss.toClass("pined"):ne.SbCss.toClass("sticky")}get command(){return new te.StickyCommand(this.column,this.rowItem)}get label(){return se.Convert.isValue(this.rowItem)&&this.rowItem.isSticky?this.resourceManager.resource.menu_sticky_cancel:this.resourceManager.resource.menu_sticky}}I.MenuSticky=MenuSticky;class MenuFixedCol extends MenuItem{constructor(C){super(C,fe.FixedCol)}get subMenuItems(){const C=[];return C.push(new MenuFixedHead(this.gridMenu)),C.push(new MenuFixedBody(this.gridMenu)),C.push(new MenuFixedSticky(this.gridMenu)),C.push(new MenuFixedTail(this.gridMenu)),C}get enabled(){var C,I,B;if(se.Convert.isNull(null===(I=null===(C=this.column)||void 0===C?void 0:C.config)||void 0===I?void 0:I.part))return!1;const z=this.column.config.part!=le.PartType.Fixed,q=new ue.GridMenuCommand(this.menuItem,null===(B=this.rowItem)||void 0===B?void 0:B.key,this.column);return z&&this.grid.canGridCommand(q)}get icon(){return ne.SbCss.toClass("fixedCol")}get subIcon(){return se.Convert.isValue(this.subMenuItems)?ne.SbCss.toClass("subIcon"):void 0}get command(){return new te.MoveToPartCommand(this.column,le.PartType.Fixed)}get label(){return this.resourceManager.resource.menu_fiexCol}}I.MenuFixedCol=MenuFixedCol;class MenuFixedHead extends MenuItem{constructor(C){super(C,fe.HeadPart)}get enabled(){var C;const I=this.column.config.part!=fe.HeadPart,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("sticky-head")}get command(){return new te.MoveToPartCommand(this.column,le.PartType.Head)}get label(){return this.resourceManager.resource.menu_header}}I.MenuFixedHead=MenuFixedHead;class MenuFixedBody extends MenuItem{constructor(C){super(C,fe.BodyPart)}get enabled(){var C;const I=this.column.config.part!=fe.BodyPart,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("sticky-body")}get command(){return new te.MoveToPartCommand(this.column,le.PartType.Body)}get label(){return this.resourceManager.resource.menu_body}}I.MenuFixedBody=MenuFixedBody;class MenuFixedSticky extends MenuItem{constructor(C){super(C,fe.Sticky)}get enabled(){var C;const I=this.column.config.part!=fe.Sticky,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("sticky")}get command(){return new te.MoveToPartCommand(this.column,le.PartType.Sticky)}get label(){return this.resourceManager.resource.menu_columnSticky}}I.MenuFixedSticky=MenuFixedSticky;class MenuFixedTail extends MenuItem{constructor(C){super(C,fe.TailPart)}get enabled(){var C;const I=this.column.config.part!=fe.TailPart,B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass("sticky-tail")}get command(){return new te.MoveToPartCommand(this.column,le.PartType.Tail)}get label(){return this.resourceManager.resource.menu_tail}}I.MenuFixedTail=MenuFixedTail;class EditableMenuItem extends MenuItem{get enabled(){var C;let I;return I=se.Convert.isValue(this.rowItem)?new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column):new ue.GridMenuCommand(this.menuItem,void 0,void 0),this.grid.canGridCommand(I)}}I.EditableMenuItem=EditableMenuItem;class MenuInsertRow extends EditableMenuItem{constructor(C){super(C,fe.InsertRow)}get enabled(){if(se.Convert.isValue(this.rowItem))return!0}get icon(){return ne.SbCss.toClass("InsertRow")}get command(){var C,I;return new te.InsertRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(I=this.rowItem)||void 0===I?void 0:I.data:{})}get label(){return this.resourceManager.resource.menu_insertRow}}I.MenuInsertRow=MenuInsertRow;class MenuAppendRow extends EditableMenuItem{constructor(C){super(C,fe.AppendRow)}get enabled(){if(se.Convert.isValue(this.rowItem))return!0}get icon(){return ne.SbCss.toClass("AppendRow")}get command(){var C,I;return new te.AppendRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(I=this.rowItem)||void 0===I?void 0:I.data:{})}get label(){return this.resourceManager.resource.menu_appendRow}}I.MenuAppendRow=MenuAppendRow;class MenuAddRow extends EditableMenuItem{constructor(C){super(C,fe.AddRow)}get icon(){return ne.SbCss.toClass("addRow")}get enabled(){return!0}get command(){var C,I;return new te.AddRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(I=this.rowItem)||void 0===I?void 0:I.data:{})}get label(){return this.resourceManager.resource.menu_addRow}}I.MenuAddRow=MenuAddRow;class MenuAddTop extends EditableMenuItem{constructor(C){super(C,fe.AddTop)}get icon(){return ne.SbCss.toClass("addRow")}get enabled(){return!0}get command(){var C,I;return new te.AddTopCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(I=this.rowItem)||void 0===I?void 0:I.data:{})}get label(){return this.resourceManager.resource.menu_addTop}}I.MenuAddTop=MenuAddTop;class MenuDeleteRow extends EditableMenuItem{constructor(C){super(C,fe.DeleteRow)}get enabled(){if(se.Convert.isValue(this.rowItem))return!0}get icon(){return ne.SbCss.toClass("deleteRow")}get command(){var C;return new te.DeleteRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key)}get label(){return this.resourceManager.resource.menu_deleteRow}}I.MenuDeleteRow=MenuDeleteRow;class MenuColumn extends MenuItem{constructor(C){super(C,fe.Column)}get icon(){return ne.SbCss.toClass("column")}get enabled(){var C;const I=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return this.grid.canGridCommand(I)}get subIcon(){return ne.SbCss.toClass("subIcon")}get command(){return new te.ColumnCheckCommand(this.column)}get label(){return this.resourceManager.resource.menu_column}}I.MenuColumn=MenuColumn;class MenuEdit extends MenuItem{constructor(C){super(C,fe.Edit)}get icon(){return ne.SbCss.toClass("edit")}get enabled(){var C;let I;se.Convert.isValue(this.column)&&(I=!(!(this.grid.config.editable&&this.column.editable(this.rowItem)&&se.Convert.isValue(this.rowItem))||this.column.isEdit(this.rowItem)));const B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get command(){return new te.EditCommand(oe.EditMode.inline,this.rowItem,this.column)}get label(){return this.resourceManager.resource.menu_edit}}I.MenuEdit=MenuEdit;class MenuCancel extends MenuItem{constructor(C){super(C,fe.Cancel)}get icon(){return ne.SbCss.toClass("escape")}get enabled(){var C;if(se.Convert.isValue(this.rowItem)){const I=!!(se.Convert.isValue(this.rowItem)&&this.column.editable(this.rowItem)&&this.column.isEdit(this.rowItem)),B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}}get command(){return new te.EscapeCommand}get label(){return this.resourceManager.resource.menu_cancel}}I.MenuCancel=MenuCancel;class MenuExcel extends MenuItem{constructor(C){super(C,fe.Excel)}get icon(){return ne.SbCss.toClass("excel")}get enabled(){if(se.Convert.isValue(this.grid))return!0}get command(){return new te.ExcelCommand}get label(){return this.resourceManager.resource.menu_excel}}I.MenuExcel=MenuExcel;class MenuCustom extends MenuItem{get command(){}get customMenuItem(){return this._customMenuItem}get enabled(){var C;let I=!0;if(se.Convert.isValue(this.customMenuItem.enabled))return"boolean"==typeof this.customMenuItem.enabled?I=this.customMenuItem.enabled:"function"==typeof this.customMenuItem.enabled&&(I=this.customMenuItem.enabled(this.grid,this.column,this.rowItem)),I;const B=new ue.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return I&&this.grid.canGridCommand(B)}get icon(){return ne.SbCss.toClass(this.customMenuItem.icon)}get subIcon(){return se.Convert.isValue(this.customMenuItem.subMenus)?ne.SbCss.toClass("subIcon"):""}get label(){return this.customMenuItem.label}constructor(C,I){super(C,fe.Custom),this._customMenuItem=I,this._menuItem=fe.Custom}render(C,I,B){let z="";I==he.CaptionMenu?z=ne.SbCss.menu_group:I==he.ContextMenu&&(z=ne.SbCss.context_menu);const q=this.enabled,Q=se.JqUtils.adjustElement(C,`> span#${this.customMenuItem.label}`,`<span class='${ne.SbCss.item} ${ne.SbCss.toClass(this.customMenuItem.label)} ${q?"":ne.SbCss.disabled}' id='${this.customMenuItem.label}' ></span>`),ee=se.Convert.isEmpty(this.icon)?`<span class='${ne.SbCss.icon} ${ne.SbCss.none}'></span>`:`<span class='${ne.SbCss.icon} ${ne.SbCss.toClass(this.customMenuItem.icon)}'></span>`,te=se.Convert.isEmpty(this.label)?"":`<span class='${ne.SbCss.title}'>${this.label}</span>`,ie=se.Convert.isEmpty(this.subIcon)?"":`<span class='${ne.SbCss.icon} ${this.subIcon}'></span>`;Q.html(ee+te+ie),q&&(se.Convert.isValue(this.customMenuItem.click)?this.grid.setEvent("ItemClick","click",this.customMenuItem.item,(()=>{var z;return se.Convert.isValue(this.customMenuItem.click)&&this.customMenuItem.click(this.grid,this.column,null!==(z=this.rowItem)&&void 0!==z?z:void 0),se.Convert.isValue(this.customMenuItem.subMenus)?this.renderChild(C,I,B,this.customMenuItem.item,this.customMenuItem.subMenus,1):this.gridMenu.captionMenuClear(),!1}),Q):this.grid.config.popupType==oe.PopupType.Hover?re.SBGrid3.$(Q).on("mouseenter",(()=>{se.Convert.isValue(this.customMenuItem.subMenus)&&this.renderChild(C,I,B,this.customMenuItem.item,this.customMenuItem.subMenus,1)})):this.grid.config.popupType==oe.PopupType.Click&&this.grid.setEvent("CustomItemClick","click",this.customMenuItem.item,(()=>(se.Convert.isValue(this.customMenuItem.subMenus)?this.renderChild(C,I,B,this.customMenuItem.item,this.customMenuItem.subMenus,1):this.gridMenu.captionMenuClear(),!1)),Q))}renderChild(C,I,B,z,q,Q){let ee="";I==he.CaptionMenu?ee=ne.SbCss.menu_group:I==he.ContextMenu&&(ee=ne.SbCss.context_menu),this.grid.container.find(`.${ee}.${ne.SbCss.col}-1-${this.column.index}.popup.level${Q}`).remove();const te=this.grid.container.find(`.${ee}`),ie=se.JqUtils.adjustElement(te,`>div.${ee}.${ne.SbCss.col}-1-${this.column.index}.popup.level${Q}.${z}`,`<div class='${ee} ${ne.SbCss.col}-1-${this.column.index} popup level${Q} ${z}'></span>`),ae=se.JqUtils.adjustElement(ie,`> span#${this.name}`,`<span class='${ne.SbCss.menu} popup' id='${this.name}'></span>`);this.grid.container.width()<re.SBGrid3.$(te).offset().left+te.width()+this.grid.container.find(ie).width()?this.grid.container.find(ie).css("left",-this.grid.container.find(ie).width()):this.grid.container.find(ie).css("left",te.width()),this.grid.container.find(ie).css("top",re.SBGrid3.$(event.target).offset().top-ie.offset().top),Q++;for(const z of q){const q=se.JqUtils.adjustElement(C,`> span#${z.label}`,`<span class='${ne.SbCss.item} ${ne.SbCss.toClass(z.label)}' id='${z.label}' ></span>`),ee=se.Convert.isEmpty(z.icon)?`<span class='${ne.SbCss.icon} ${ne.SbCss.none}'></span>`:`<span class='${ne.SbCss.icon} ${ne.SbCss.toClass(z.icon)}'></span>`,te=se.Convert.isEmpty(z.label)?"":`<span class='${ne.SbCss.title}'>${z.label}</span>`,ie=se.Convert.isValue(z.subMenus)?`<span class='${ne.SbCss.icon} ${this.subIcon}'></span>`:"";q.html(ee+te+ie),z.enabled&&(se.Convert.isValue(z.click)?this.grid.setEvent("ItemChildClick","click",z.item,(()=>{var q;return se.Convert.isValue(this.customMenuItem.click)&&this.customMenuItem.click(this.grid,this.column,null!==(q=this.rowItem)&&void 0!==q?q:void 0),se.Convert.isValue(z.subMenus)?this.renderChild(C,I,B,z.item,z.subMenus,Q):this.gridMenu.captionMenuClear(),!1}),q):this.grid.config.popupType==oe.PopupType.Hover?re.SBGrid3.$(q).on("mouseenter",(()=>{se.Convert.isValue(z.subMenus)&&this.renderChild(C,I,B,z.item,z.subMenus,Q)})):this.grid.config.popupType==oe.PopupType.Click&&this.grid.setEvent("CustomItemClick","click",z.item,(()=>{se.Convert.isValue(z.subMenus)?this.renderChild(C,I,B,z.item,z.subMenus,Q):this.gridMenu.captionMenuClear()}),q)),re.SBGrid3.$(ae).append(q)}re.SBGrid3.$(ie).append(ae)}}I.MenuCustom=MenuCustom},3119:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.ToolPageSizeSelect=I.PagerItemRenderer=I.ToolPagerCombo=I.ToolSearch=I.ToolExcelImport=I.ToolExcelExport=I.ToolCsvExport=I.ToolReload=I.ToolRefresh=I.ToolStatus=I.ToolRedo=I.ToolUndo=I.ToolGroup=I.ToolUndelete=I.ToolDelete=I.ToolCancel=I.ToolAppendRow=I.ToolInsertRow=I.ToolAddTop=I.ToolAddRow=I.ToolSave=I.ToolPager=I.PagerMode=I.ToolTitle=I.ToolCustom=I.GridTool=void 0;const q=B(273),Q=B(2663),ee=B(5369),te=B(5165),ie=B(7392),re=B(103),ne=B(7721),se=B(8964),oe=B(6312),ae=B(7078),le=B(5260),ue=B(1163),de=B(5177),ce=B(247),he=B(6936),fe=B(4507),pe=B(7152),me=B(8956),ge=B(289),ve=B(6252);class GridTool extends q.Observer{get clazz(){var C;return null!==(C=this._clazz)&&void 0!==C?C:this._clazz=""}get grid(){return this._grid}get resource(){return this.grid.resource}get template(){return ue.Convert.isValue(this._template)?this._template:this.clazz.startsWith("#")?(this._template=ue.Utils.createTemplate(this.clazz),this._template):void 0}constructor(C,I){super(C),this._clazz=I,this._grid=C}render(C){return z(this,void 0,void 0,(function*(){if(ue.Convert.isValue(this.template))return void C.html(this.template(this.grid));ue.JqUtils.adjustElement(C,`> span#${this.name}`,`<span class='${this.clazz}' id='${this.name}'></span>`).text(this.label())}))}label(){switch(this.clazz){case de.GridTools.Save:return this.resource.tool_save;case de.GridTools.Add:return this.resource.tool_add;case de.GridTools.AddRow:return this.resource.tool_addRow;case de.GridTools.AddTop:return this.resource.tool_addTop;case de.GridTools.Insert:return this.resource.tool_insertRow;case de.GridTools.Append:return this.resource.tool_appendRow;case de.GridTools.Cancel:return this.resource.tool_cancel;case de.GridTools.Undo:return this.resource.tool_undo;case de.GridTools.Redo:return this.resource.tool_redo;case de.GridTools.Delete:return this.resource.tool_deleteRow;case de.GridTools.Undelete:return this.resource.tool_undeleteRow;case de.GridTools.Refresh:return this.resource.tool_refresh;case de.GridTools.Excel:return this.resource.tool_excel;case de.GridTools.Csv:return this.resource.tool_csv;case de.GridTools.Search:return this.resource.tool_search;case de.GridTools.Reload:return this.resource.tool_reload;default:return`${this.clazz}`}}}I.GridTool=GridTool;I.ToolCustom=class ToolCustom extends GridTool{constructor(C,I){super(C,ae.SbCss.custom),this._render=I}render(C){return z(this,void 0,void 0,(function*(){C.empty(),this._render(C.get(0))}))}};var ye;I.ToolTitle=class ToolTitle extends GridTool{constructor(C){super(C,ae.SbCss.title)}},function(C){C.Row="row",C.Page="page"}(ye||(I.PagerMode=ye={}));class ToolPager extends GridTool{get pagerCommon(){var C;return null!==(C=this._pagerCommon)&&void 0!==C?C:this._pagerCommon=this.grid.pagerCommon}get pageCount(){var C;return null===(C=this.config)||void 0===C?void 0:C.buttonCount}get pages(){if(ue.Convert.isNull(this._pages)){const C=[];for(let I=1;I<=this.pageCount;I++)C.push(I);this._pages=C}return this._pages}get config(){var C,I;return null!==(C=this._config)&&void 0!==C?C:this._config=null===(I=this.grid.config.pageable)||void 0===I?void 0:I.pager}get total(){return this.pagerCommon.total}get pageSize(){return this.pagerCommon.pageSize}constructor(C,I=ae.SbCss.pager){super(C,I)}render(C){var I,B,q,Q,ee,te;return z(this,void 0,void 0,(function*(){let ie=ue.JqUtils.adjustElement(C,`> div.${ae.SbCss.tool}.${this.clazz}`,`<div class='${ae.SbCss.tool} ${this.clazz}'></div>`);const re=yield this.pagerCommon.getCurrentPage();if(null!==(B=null===(I=this.config)||void 0===I?void 0:I.previousNext)&&void 0!==B&&B){let C=ue.JqUtils.adjustElement(ie,`> span.${ae.SbCss.first}`,`<span class='${ae.SbCss.first} ${ae.SbCss.icon}'></span>`),I=ue.JqUtils.adjustElement(ie,`> span.${ae.SbCss.prev}`,`<span class='${ae.SbCss.prev} ${ae.SbCss.icon}'></span>`);this.grid.setEvent(this.name,"click","prev",(()=>re>1&&this.paging(re-1)),I),this.grid.setEvent(this.name,"click","first",(()=>this.paging(1)),C)}if((null===(q=this.config)||void 0===q?void 0:q.numeric)&&(null===(Q=this.config)||void 0===Q?void 0:Q.buttonCount)>1){let C=ue.JqUtils.adjustElement(ie,`>div.${this.clazz}`,`<div class='${this.clazz}'></div>`);this.renderPages(C,yield this.range(re)),this.changeCss(C,re)}if(null!==(te=null===(ee=this.config)||void 0===ee?void 0:ee.previousNext)&&void 0!==te&&te){let C=ue.JqUtils.adjustElement(ie,`> span.${ae.SbCss.next}`,`<span class='${ae.SbCss.next} ${ae.SbCss.icon}'></span>`),I=ue.JqUtils.adjustElement(ie,`> span.${ae.SbCss.last}`,`<span class='${ae.SbCss.last} ${ae.SbCss.icon}'></span>`);this.grid.setEvent(this.name,"click","next",(()=>z(this,void 0,void 0,(function*(){return re<(yield this.pagerCommon.getLastPage())&&this.paging(re+1)}))),C),this.grid.setEvent(this.name,"click","last",(()=>z(this,void 0,void 0,(function*(){const C=yield this.pagerCommon.getLastPage();this.paging(C)}))),I)}this.checkDisabled(ie,re)}))}renderPages(C,I){I.forEach(((I,B)=>{let z=ue.JqUtils.adjustElement(C,`> span.${ae.SbCss.page}.${ae.SbCss.page}-${B}`,`<span class='${ae.SbCss.page} ${ae.SbCss.page}-${B}'></span>`);ue.JqUtils.adjustElement(z,"> a","<a></a>").text(I),this.grid.setEvent(this.name,"click","page"+B,(()=>this.paging(I)),z)})),C.find(`.${ae.SbCss.page}>a`).each(((C,B)=>{0==I.includes(Number.parseInt(B.textContent))&&oe.SBGrid3.$(B).parent().remove()}))}changeCss(C,I){C.find(`span.${ae.SbCss.page}.${ae.SbCss.current}`).removeClass(ae.SbCss.current),C.find(`span.${ae.SbCss.page}.${ae.SbCss.page}-${(I-1)%this.pageCount}`).addClass(ae.SbCss.current)}checkDisabled(C,I){return z(this,void 0,void 0,(function*(){const B=yield this.pagerCommon.getLastPage();I-1<1?oe.SBGrid3.$(`>span.${ae.SbCss.prev}`,C).addClass(ae.SbCss.disabled):oe.SBGrid3.$(`>span.${ae.SbCss.prev}`,C).removeClass(ae.SbCss.disabled),I+1>B?oe.SBGrid3.$(`>span.${ae.SbCss.next}`,C).addClass(ae.SbCss.disabled):oe.SBGrid3.$(`>span.${ae.SbCss.next}`,C).removeClass(ae.SbCss.disabled),I<=1?oe.SBGrid3.$(`>span.${ae.SbCss.first}`,C).addClass(ae.SbCss.disabled):oe.SBGrid3.$(`>span.${ae.SbCss.first}`,C).removeClass(ae.SbCss.disabled),I>=B?oe.SBGrid3.$(`>span.${ae.SbCss.last}`,C).addClass(ae.SbCss.disabled):oe.SBGrid3.$(`>span.${ae.SbCss.last}`,C).removeClass(ae.SbCss.disabled)}))}paging(C){this.grid.changePage(C-1)}range(C){return z(this,void 0,void 0,(function*(){const I=yield this.pagerCommon.getLastPage();if(I<=1)return[1];let B=Math.ceil(C/this.pageCount);return this.pages.map((C=>C+(B-1)*this.pageCount)).filter((C=>C<=I))}))}}I.ToolPager=ToolPager;I.ToolSave=class ToolSave extends GridTool{constructor(C){super(C,de.GridTools.Save),this.onClickButton=()=>{le.Log.debug((()=>"fire save command")),this.fireCommandAsync(this,new ee.SaveCommand)}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.save}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.save}'>`);I.val(this.label()),this.grid.setEvent("ToolSaveClick","click",this.name,this.onClickButton,I)}))}};I.ToolAddRow=class ToolAddRow extends GridTool{constructor(C){super(C,de.GridTools.AddRow),this.onClickButton=()=>{var C;le.Log.debug((()=>"add row command"));const I=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem,B=null==I?void 0:I.key,z=this.grid.copyInsert?ue.Convert.cloneData(null==I?void 0:I.data):{};this.grid.fireCommandAsync(this,new te.AddRowCommand(B,z))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.add}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.add}'>`);I.val(this.label()),this.grid.setEvent("ToolAddRowClick","click",this.name,this.onClickButton,I)}))}};I.ToolAddTop=class ToolAddTop extends GridTool{constructor(C){super(C,de.GridTools.AddTop),this.onClickButton=()=>{var C;le.Log.debug((()=>"add row at top command"));const I=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem,B=null==I?void 0:I.key,z=this.grid.copyInsert?ue.Convert.cloneData(null==I?void 0:I.data):{};this.grid.fireCommandAsync(this,new te.AddTopCommand(B,z))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.addTop}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.addTop}'>`);I.val(this.label()),this.grid.setEvent("ToolAddTopClick","click",this.name,this.onClickButton,I)}))}};I.ToolInsertRow=class ToolInsertRow extends GridTool{constructor(C){super(C,de.GridTools.Insert),this.onClickButton=()=>{var C,I;const B=null!==(I=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem)&&void 0!==I?I:this.grid.rows[0],z=null==B?void 0:B.parent,q=(null==z||z.key,null==B?void 0:B.key),Q=this.grid.copyInsert?ue.Convert.cloneData(null==B?void 0:B.data):{};le.Log.debug((()=>"insert row command")),this.grid.fireCommandAsync(this,new te.InsertRowCommand(q,Q))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.insert}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.insert}'>`);I.val(this.label()),this.grid.setEvent("ToolInsertRowClick","click",this.name,this.onClickButton,I)}))}};I.ToolAppendRow=class ToolAppendRow extends GridTool{constructor(C){super(C,de.GridTools.Append),this.onClickButton=()=>{var C;const I=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem,B=null==I?void 0:I.parent,z=(null==B||B.key,null==I?void 0:I.key),q=this.grid.copyInsert?ue.Convert.cloneData(null==I?void 0:I.data):{};le.Log.debug((()=>"append row command")),this.grid.fireCommandAsync(this,new te.AppendRowCommand(z,q))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.append}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.append}'>`);I.val(this.label()),this.grid.setEvent("ToolAppendRowClick","click",this.name,this.onClickButton,I)}))}};I.ToolCancel=class ToolCancel extends GridTool{constructor(C){super(C,de.GridTools.Cancel),this.onCancelClick=()=>{this.fireCommandAsync(this,new ee.CancelCommand)}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.cancel}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.cancel}'>`);I.val(this.label()),this.grid.setEvent("ToolCancelClick","click",this.name,this.onCancelClick,I)}))}};I.ToolDelete=class ToolDelete extends GridTool{constructor(C){super(C,de.GridTools.Delete),this.onDeleteClick=()=>{var C;let I=this.grid.selectManager.getSelectedRows();ue.Convert.isEmpty(I)&&(I=[null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem.key]);let B=I.map((C=>{let I=this.grid.view.keyMap.get(C);return{rowIndex:null==I?void 0:I.index,key:null==I?void 0:I.key}}));B.length>0&&this.fireCommandAsync(this,new ee.DeleteCommand(B))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.delete}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.delete}'>`);I.val(this.label()),this.grid.setEvent("ToolDeleteClick","click",this.name,this.onDeleteClick,I)}))}};I.ToolUndelete=class ToolUndelete extends GridTool{constructor(C){super(C,de.GridTools.Undelete),this.onUndeleteClick=()=>{var C;let I=this.grid.selectManager.getSelectedRows();ue.Convert.isEmpty(I)&&(I=[null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem.key]);let B=I.map((C=>{let I=this.grid.view.keyMap.get(C);return{rowIndex:null==I?void 0:I.index,key:null==I?void 0:I.key}}));B.length>0&&this.fireCommandAsync(this,new ee.UndeleteCommand(B))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.undelete}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.undelete}'>`);I.val(this.label()),this.grid.setEvent("ToolUndeleteClick","click",this.name,this.onUndeleteClick,I)}))}};I.ToolGroup=class ToolGroup extends GridTool{constructor(C){super(C,ae.SbCss.group),this.groupingMap=new Map}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>div.${ae.SbCss.tool}.${this.clazz}`,`<div class='${ae.SbCss.tool} ${this.clazz}'></div>`);this.addDroppableHandler(I),this.renderGroupElements(I)}))}static addDraggableHandler(C,I){const B=I.getColumn(C);ue.Convert.isNull(B)||B.part===ne.PartType.Fixed||B instanceof se.GroupColumn||C.draggable({helper:(C,B)=>{let z=oe.SBGrid3.$(C.target).closest(`.${ae.SbCss.col}`);if(z.length<=0)return;const q=ue.JqUtils.adjustElement(z.closest(`div.${ae.SbCss.panel}.${ae.SbCss.caption}`),`>span.${ae.SbCss.draggable_helper}.${ae.SbCss.col}`,`<span class='${ae.SbCss.draggable_helper} ${ae.SbCss.col}'>${z.text()}</span>`);ue.JqUtils.adjustElement(q,`>span.${ae.SbCss.icon}`,`<span class='${ae.SbCss.icon}'></span>`);const Q=I.getColumn(z);return q.data("column",Q),q},cursorAt:{top:15,left:25},containment:I.container})}renderGroupElements(C){let I=this.grid.dataConfig.groups;if(ue.Convert.isValue(I)){const B=ue.Arrays.from(this.groupingMap.keys());I.forEach((I=>{let z=this.grid.getColumnByField(I.field);ue.Convert.isValue(z)&&(this.createSortable(C,I.dir,z),B.splice(B.indexOf(z.name),1))})),ue.Convert.isValue(B)&&B.forEach((C=>{this.groupingMap.get(C).remove(),this.groupingMap.delete(C)})),C.find(`>span.${ae.SbCss.caption}`).remove()}else C.empty(),this.groupingMap.clear(),ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.caption}`,`<span class = '${ae.SbCss.caption}'>${this.grid.resource.group_groupZone}</span>`)}addDroppableHandler(C){C.sortable({connectWith:`span.${ae.SbCss.grouping}`,axis:"x",opacity:.5,distance:10,update:()=>{this.changeOrder()}}).disableSelection(),C.droppable({drop:(C,I)=>{let B=oe.SBGrid3.$(C.target),z=I.helper.data("column");if(void 0!==z){if(this.groupingMap.has(z.name))return;let C=I.helper.find(`.${ae.SbCss.icon}`);if(null==C?void 0:C.hasClass(ae.SbCss.cancel_red))return;this.createSortable(B,ie.SortDir.Asc,z),this.grid.addGroupColumn(z)}},over:(C,I)=>{let B=I.helper.data("column");if(B&&(0==B.config.groupable||ue.Convert.isEmpty(B.field)||this.groupingMap.has(B.name))){I.helper.find(`.${ae.SbCss.icon}`).addClass(ae.SbCss.cancel_red)}},out:(C,I)=>{I.helper.find(`.${ae.SbCss.icon}`).removeClass(ae.SbCss.cancel_red)}}),this.grid.setEvent("cancelCaptionDrag","keydown","cancelCaptionDrag",(C=>z(this,void 0,void 0,(function*(){switch(C.key){case"Escape":case"Esc":const C=this.grid.container.find(`.${ae.SbCss.panel}.${ae.SbCss.caption}`).find(`>span.${ae.SbCss.draggable_helper}`);if(C.length<1)return;C.remove()}}))),this.grid.container[0])}createSortable(C,I,B,z){let q=ue.JqUtils.adjustElement(C,`>.${ae.SbCss.grouping}.${B.field}`,`<span class='${ae.SbCss.grouping} ${B.field}'></span>`);const Q=ae.SbCss.toClass(I);let ee=q.find(`span.${ae.SbCss.icon}.${Q}`);ee.length<=0&&(ee=q.find(`span.${ae.SbCss.icon}.${ae.SbCss.sort}.${Q==ae.SbCss.asc?ae.SbCss.desc:ae.SbCss.asc}`),ee.length>0&&ue.JqUtils.changeClass(ee,`${ae.SbCss.icon} ${ae.SbCss.sort} ${Q}`)),ee.length<=0&&(ee=ue.JqUtils.adjustElement(q,`span.${ae.SbCss.icon}.${Q}`,`<span class='${ae.SbCss.icon} ${ae.SbCss.sort} ${Q}'></span>`)),ue.JqUtils.adjustElement(q,`>span.${ae.SbCss.caption}`,`<span class=${ae.SbCss.caption}>${B.config.caption}</span>`);let te=ue.JqUtils.adjustElement(q,`span.${ae.SbCss.icon}.${ae.SbCss.delete}`,`<span class='${ae.SbCss.icon} ${ae.SbCss.delete}'></span>`);0==this.groupingMap.has(B.name)&&this.groupingMap.set(B.name,q),q.data("info",B),this.grid.setEvent("grouping","click",B._name+"_dir",(C=>this.dirClick(C)),ee),this.grid.setEvent("grouping","click",B._name+"_delete",(C=>this.deleteClick(C)),te)}dirClick(C){var I;let B=oe.SBGrid3.$(C.target),z=null===(I=B.parent().data("info"))||void 0===I?void 0:I.config.field,q=this.grid.dataConfig.groups.find((C=>C.field===z)),Q=q.dir;this.grid.toggleSort(z,!1),B.removeClass(Q).addClass(q.dir)}deleteClick(C){let I=oe.SBGrid3.$(C.target).parent(),B=I.data("info"),z=B.name;I.remove(),this.groupingMap.delete(z),this.grid.removeGroupColumn(B)}changeOrder(){let C=this.grid.container.find(`.${ae.SbCss.tool}.${ae.SbCss.group}>span.${ae.SbCss.grouping}:not(.ui-sortable-placeholder)`),I=[];C.each(((C,B)=>{let z=oe.SBGrid3.$(B).data("info");I.push(z)})),this.grid.setGroupColumns(I)}};I.ToolUndo=class ToolUndo extends GridTool{constructor(C){super(C,de.GridTools.Undo),this.onClick=()=>{this.fireCommandAsync(this,new ee.UndoCommand)}}render(C){var I;return z(this,void 0,void 0,(function*(){const B=this.grid.canCommand(this,Q.Commands.Undo),z=`${ae.SbCss.tool} ${ae.SbCss.undo} ${B?"":ae.SbCss.disabled}`;let q=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.undo}`,`<input type='button' class='${z}'>`);q.val(this.label()),q.attr("title",null===(I=this.grid.undoManager.undoStack.peek())||void 0===I?void 0:I.constructor.name),ue.JqUtils.changeClass(q,z),q.prop("disabled",!B),this.grid.setEvent("UndoClick","click",this.name,this.onClick,q)}))}};I.ToolRedo=class ToolRedo extends GridTool{constructor(C){super(C,de.GridTools.Redo),this.onClick=()=>{this.fireCommandAsync(this,new ee.RedoCommand)}}render(C){var I;return z(this,void 0,void 0,(function*(){const B=this.grid.canCommand(this,Q.Commands.Redo),z=`${ae.SbCss.tool} ${ae.SbCss.redo} ${B?"":ae.SbCss.disabled}`;let q=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.redo}`,`<input type='button' class='${z}'>`);q.val(this.label()),q.attr("title",null===(I=this.grid.undoManager.redoStack.peek())||void 0===I?void 0:I.constructor.name),ue.JqUtils.changeClass(q,z),q.prop("disabled",!B),this.grid.setEvent("RedoClick","click",this.name,this.onClick,q)}))}};I.ToolStatus=class ToolStatus extends GridTool{get columnRenderer(){var C;return null!==(C=this._columnRenderer)&&void 0!==C?C:this._columnRenderer=new re.ColumnRender(this.columnTemplate,void 0)}constructor(C,I){super(C,de.GridTools.Status),this.columnTemplate=I}render(C){return z(this,void 0,void 0,(function*(){ue.JqUtils.adjustElement(C,`>#${this.name}.${ae.SbCss.tool}.${ae.SbCss.status}`,`<span id='${this.name}' class= '${ae.SbCss.tool} ${ae.SbCss.status}' ></span>`)}))}makeAggregateData(C){let I=this.columnTemplate.aggregates instanceof Array?this.columnTemplate.aggregates:[this.columnTemplate.aggregates];I=I.filter((C=>ue.Convert.isValue(C)));const B=re.GridColumn.getAggregateMap(C),z=re.GridColumn.getAggregateMap(I),q={};for(const C of z.keys())if(B.has(C)){const I=z.get(C);I.value=B.get(C).value,ue.Convert.isValue(I.field)&&(q[I.field]=I.value),ue.Convert.isValue(I.payload)?q[I.func+"_"+I.payload]=I.value:"string"==typeof I.func&&(q[I.func]=I.value)}return q}updateStatus(C){const I=this.makeAggregateData(C),B=this.grid.container.find(`span#${this.name}.${ae.SbCss.tool}.${ae.SbCss.status}`);if(B.length<1)return;const z=Object.values(I).every((C=>ue.Convert.isNull(C)))?"":this.columnRenderer.render(I);B.text(z);const q=this.columnTemplate.cssClass,Q="function"==typeof q?q(I):q;null==Q||Q.split(" ").forEach((C=>ue.JqUtils.addClass(B,C)))}};I.ToolRefresh=class ToolRefresh extends GridTool{constructor(C){super(C,de.GridTools.Refresh),this.onRefreshClick=()=>{this.fireCommandAsync(this,new te.RefreshCommand)}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.refresh}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.refresh}'>`);I.val(this.label()),I.off("click").on("click",(()=>this.onRefreshClick()))}))}};I.ToolReload=class ToolReload extends GridTool{constructor(C){super(C,de.GridTools.Reload),this.onReloadClick=()=>{this.fireCommandAsync(this,new ee.ReloadCommand(!1))}}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.reload}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.reload}'>`);I.val(this.label()),I.off("click").on("click",(()=>this.onReloadClick()))}))}};I.ToolCsvExport=class ToolCsvExport extends GridTool{constructor(C){super(C,de.GridTools.Csv),this.onCsvExport=()=>z(this,void 0,void 0,(function*(){const C=new ce.CsvExport(this.grid),I=new ue.default,B=ue.Utils.ensureName("csv");this.grid.setEvent("csv","keydown",B,(C=>{"Escape"===C.key&&I.cancel()}),this.grid.container),yield C.export(I.token),this.grid.setEvent("csv","keydown",B,void 0,this.grid.container)}))}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.csv}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.csv}'>`);I.val(this.label()),I.off("click").on("click",(()=>this.onCsvExport()))}))}};I.ToolExcelExport=class ToolExcelExport extends GridTool{constructor(C){super(C,de.GridTools.Excel),this.onExcelExport=()=>z(this,void 0,void 0,(function*(){const C=new he.ExcelExport(this.grid),I=new ue.default,B=ue.Utils.ensureName("excel");this.grid.setEvent("excel","keydown",B,(C=>{"Escape"===C.key&&I.cancel()}),this.grid.container),yield C.export(I.token),this.grid.setEvent("excel","keydown",B,void 0,this.grid.container)}))}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.excel}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.excel}'>`);I.val(this.label()),I.off("click").on("click",(()=>this.onExcelExport()))}))}};I.ToolExcelImport=class ToolExcelImport extends GridTool{constructor(C){super(C,de.GridTools.ExcelImport),this.onExcelImport=C=>z(this,void 0,void 0,(function*(){if(ue.Convert.isNull(C))return;let I;switch(C.name.split(".").at(-1)){case"csv":I=new pe.CsvImport(this.grid);break;case"xlsx":I=new fe.ExcelImport(this.grid)}if(!ue.Convert.isValue(I))throw"not supported file "+C.name;I.excelImport(C)}))}render(C){return z(this,void 0,void 0,(function*(){ue.JqUtils.adjustElement(C,`>input[type='file'].${ae.SbCss.tool}.${ae.SbCss.excel}`,`<input type='file' class='${ae.SbCss.tool} ${ae.SbCss.excel}'>`).off("change").on("change",(C=>this.onExcelImport(C.target.files[0])))}))}};I.ToolSearch=class ToolSearch extends GridTool{get gridSearch(){var C,I;return null!==(C=this._gridSearch)&&void 0!==C?C:this._gridSearch=null!==(I=this.grid.focusManager.gridSearch)&&void 0!==I?I:this.grid.focusManager.gridSearch=new me.GridSearch(this.grid)}constructor(C){super(C,de.GridTools.Search)}render(C){return z(this,void 0,void 0,(function*(){let I=ue.JqUtils.adjustElement(C,`>input[type='button'].${ae.SbCss.tool}.${ae.SbCss.search}`,`<input type='button' class='${ae.SbCss.tool} ${ae.SbCss.search}'>`);I.val(this.label()),this.grid.setEvent("ToolSearch","click","search",(()=>{const C=this.gridSearch.render(!0);this.gridSearch.move(C)}),I)}))}};I.ToolPagerCombo=class ToolPagerCombo extends ToolPager{get popupRenderer(){var C;return null!==(C=this._popupRenderer)&&void 0!==C?C:this._popupRenderer=new PopupRenderer(this.grid)}get option(){var C,I;return null!==(C=this._option)&&void 0!==C?C:this._option=null===(I=this.grid.config.pageable)||void 0===I?void 0:I.pagerCombo}get pagerItemRenderer(){var C;return null!==(C=this._pagerItemRenderer)&&void 0!==C?C:this._pagerItemRenderer=new PagerItemRenderer(this.grid,this)}constructor(C){super(C,ae.SbCss.pager_combo)}render(C){return z(this,void 0,void 0,(function*(){if(ue.Convert.isNull(this.option))return;const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.pager_combo}.${ae.SbCss.pager}`,`<span class='${ae.SbCss.pager_combo} ${ae.SbCss.pager}'></span>`),B=ue.JqUtils.adjustElement(I,`span.${ae.SbCss.combobox}`,`<span class=${ae.SbCss.combobox}></span>`).attr("tabindex",0),z=yield this.renderText(B);if(this.grid.setEvent("pager","keydown",this.name+"pagerKeyDown",(C=>this.handleKeyDown(C)),z),ue.Convert.asNumber(this.option.listCount)>0){const C=this.renderButton(B);this.grid.setEvent("pager","click",this.name+"pagerDropDownOpen",(()=>this.handleClick(B)),C),this.grid.setEvent("pager","focusout",this.name+"pagerDropDownClose",(C=>this.handleFocusOut(C)),B)}this.popupRenderer.hidePopup()}))}renderText(C){return z(this,void 0,void 0,(function*(){const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.comboInner}`,`<span class='${ae.SbCss.comboInner}'></span>`),B=ue.JqUtils.adjustElement(I,`>input.${ae.SbCss.comboValueText}`,`<input type='text' class='${ae.SbCss.comboValueText}'/>`),z=yield this.pagerCommon.getCurrentPage();return B.val(z),this.renderLastPage(I),B}))}renderButton(C){const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.comboButton}`,`<span class='${ae.SbCss.comboButton}'></span>`);return ue.JqUtils.adjustElement(I,`>span.${ae.SbCss.comboButton}.${ae.SbCss.icon}`,`<span class='${ae.SbCss.comboButton} ${ae.SbCss.icon} ${ae.SbCss.angleBottom}'></span>`),I}handleFocusOut(C){const I=C.relatedTarget;if(ue.Convert.isValue(I)){if(oe.SBGrid3.$(I).is(`.${ae.SbCss.comboPopup}.${ae.SbCss.pager}`))return}this.popupRenderer.hidePopup()}handleKeyDown(C){return z(this,void 0,void 0,(function*(){if("Enter"===C.key){const I=C.target.value,B=yield this.pagerCommon.getLastPage();if(isNaN(I)||I<1||I>B)return alert(`${this.resource.tool_pagerCombo_alert}`),C.target.value=this.pagerCommon.getCurrentPage(),!1;const z=parseInt(I);z!==I&&(C.target.value=z),this.paging(z)}return!1}))}handleClick(C){const I=this.popupRenderer.render(C,this.pagerItemRenderer.render);this.addEventToPopup(I)}addEventToPopup(C){this.grid.setEvent("pager","mousedown",this.name+"pagerDropDownFocus",(I=>{const B=oe.SBGrid3.$(I.target).closest(`.${ae.SbCss.comboPopupItem}`);if(B.length<=0)return C[0].focus(),!1;this.selectPage(B)}),C)}renderLastPage(C){return z(this,void 0,void 0,(function*(){const I=yield this.pagerCommon.getLastPage();ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.delimiter}`,`<span class = '${ae.SbCss.delimiter}'>${this.resource.tool_pagerCombo_delimiter}</span>`);ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.last}`,`<span class = '${ae.SbCss.last}'>/</span>`).html(`${I}`)}))}selectPage(C){const I=C.attr("data-item");this.paging(parseInt(I))}};class PopupRenderer{constructor(C){this.grid=C,this.name=ue.Utils.ensureName("PagerComboPopup")}hidePopup(){this.grid.container.find(`>div#${this.name}_popup`).addClass(ae.SbCss.hidden)}render(C,I){const B=ue.JqUtils.adjustElement(this.grid.container,`>div#${this.name}_popup`,`<div id='${this.name}_popup' class='${ae.SbCss.comboPopup} ${ae.SbCss.pager} ${ae.SbCss.hidden}' tabindex=0></div>`);return I(ue.JqUtils.adjustElement(B,`>div.${ae.SbCss.wrapPopup}`,`<div class='${ae.SbCss.wrapPopup}'></div>`)),this.setPosition(C,B,ge.PopupPositionType.Auto),B}setPosition(C,I,B){const z=this.grid.container.offset(),q=C.get(0).getBoundingClientRect().bottom,{width:Q,left:ee}=C.get(0).getBoundingClientRect();let te,ie=ee-z.left-2;switch(B){case ge.PopupPositionType.Top:te=this.positionTop(I,C);break;case ge.PopupPositionType.Bottom:te=this.positionBottom(I,C);break;case ge.PopupPositionType.Auto:I.height(),I.height(),z.top,this.grid.height;te=q+I.height()-z.top<this.grid.height?this.positionBottom(I,C):this.positionTop(I,C);break;default:te=0}I.css({width:Q,left:ie,top:te})}positionBottom(C,I){return new ve.PopupPosition(this.grid.container).positionBottom(C,I),C.data("position",ge.PopupPositionType.Bottom),ue.Convert.asFloat(C.css("top"))-2}positionTop(C,I){return new ve.PopupPosition(this.grid.container).positionTop(C,I),C.data("position",ge.PopupPositionType.Top),ue.Convert.asFloat(C.css("top"))}}class PagerItemRenderer{get total(){return this.pager.total}get config(){var C,I;return null!==(C=this._config)&&void 0!==C?C:this._config=null===(I=this.grid.config.pageable)||void 0===I?void 0:I.pagerCombo}constructor(C,I){this.render=C=>z(this,void 0,void 0,(function*(){const I=ue.JqUtils.adjustElement(C,`>ul.${ae.SbCss.comboPopupItems}`,`<ul class='${ae.SbCss.comboPopupItems}'></ul>`);I.empty(),this.renderItem(I),I.css("height",24*ue.Convert.asNumber(this.config.listCount)),C.parent().toggleClass(ae.SbCss.hidden);const B=yield this.grid.pagerCommon.getCurrentPage();return C.scrollTop(24*(B-1)),I})),this.grid=C,this.pager=I}renderItem(C){return z(this,void 0,void 0,(function*(){const I=yield this.grid.pagerCommon.getCurrentPage(),B=yield this.grid.pagerCommon.getLastPage();for(let z=1;z<=B;z++){const B=z,q=z,Q=ue.JqUtils.adjustElement(C,`>li#${ae.SbCss.comboPopupItem}-${q}`,`<li id='${ae.SbCss.comboPopupItem}-${q}' class='${ae.SbCss.comboPopupItem}'></li>`).attr("data-item",B);B===I?Q.addClass(ae.SbCss.comboItemSelected):Q.removeClass(ae.SbCss.comboItemSelected);const ee=ue.JqUtils.adjustElement(Q,`>span.${ae.SbCss.text}`,`<span class='${ae.SbCss.text}'></span>`);this.renderItemLabel(ee,B)}}))}renderItemLabel(C,I){C.append(I+"")}}I.PagerItemRenderer=PagerItemRenderer;I.ToolPageSizeSelect=class ToolPageSizeSelect extends GridTool{constructor(C){super(C,ae.SbCss.page_size)}get option(){var C,I;return null!==(C=this._option)&&void 0!==C?C:this._option=null===(I=this.grid.config.pageable)||void 0===I?void 0:I.pageSizes}get popupRenderer(){var C;return null!==(C=this._popupRenderer)&&void 0!==C?C:this._popupRenderer=new PopupRenderer(this.grid)}render(C){return z(this,void 0,void 0,(function*(){if(ue.Convert.isNull(this.option))return;const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.pager_combo}.${ae.SbCss.page_size}`,`<span class='${ae.SbCss.pager_combo} ${ae.SbCss.page_size}'></span>`),B=ue.JqUtils.adjustElement(I,`span.${ae.SbCss.combobox}`,`<span class=${ae.SbCss.combobox}></span>`).attr("tabindex",0);this.renderPageSize(B),this.renderButton(B);this.grid.setEvent("pager","click",this.name+"pagerDropDownOpen",(()=>this.handleClick(B)),B),this.grid.setEvent("pager","focusout",this.name+"pagerDropDownClose",(C=>this.handleFocusout(C)),B),this.renderText(I),this.popupRenderer.hidePopup()}))}handleFocusout(C){const I=C.relatedTarget;if(ue.Convert.isValue(I)){if(oe.SBGrid3.$(I).is(`.${ae.SbCss.comboPopup}.${ae.SbCss.pager}`))return}this.popupRenderer.hidePopup()}handleClick(C){const I=this.popupRenderer.render(C,(C=>this.renderPageSizes(C)));this.addEventToPopup(I)}addEventToPopup(C){C.toggleClass(ae.SbCss.hidden),this.grid.setEvent("pager","mousedown",this.name+"pagerDropDownFocus",(I=>{const B=oe.SBGrid3.$(I.target).closest(`.${ae.SbCss.comboPopupItem}`);if(B.length<=0)return C[0].focus(),!1;this.changePageSize(B)}),C)}renderPageSizes(C){var I;const B=this.grid.pageSize;let z=null===(I=!1===this.option.includes(B)?[B].concat(this.option):this.option)||void 0===I?void 0:I.sort(((C,I)=>C-I));const q=ue.JqUtils.adjustElement(C,`>ul.${ae.SbCss.comboPopupItems}`,`<ul class='${ae.SbCss.comboPopupItems}'></ul>`);return q.empty(),z.forEach((C=>{const I=ue.JqUtils.adjustElement(q,`>li#${ae.SbCss.comboPopupItem}-${C}`,`<li id='${ae.SbCss.comboPopupItem}-${C}' class='${ae.SbCss.comboPopupItem}'></li>`).attr("data-item",C);C===B?I.addClass(ae.SbCss.comboItemSelected):I.removeClass(ae.SbCss.comboItemSelected);ue.JqUtils.adjustElement(I,`>span.${ae.SbCss.text}`,`<span class='${ae.SbCss.text}'></span>`).text(C)})),q}renderText(C){ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.text}`,`<span class='${ae.SbCss.text}'>${this.resource.tool_pagerSizes}</span>`)}changePageSize(C){const I=C.attr("data-item");this.grid.pageSize=parseInt(I)}renderPageSize(C){const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.comboInner}`,`<span class='${ae.SbCss.comboInner}'></span>`),B=ue.JqUtils.adjustElement(I,`>span.${ae.SbCss.comboValueText}`,`<span class='${ae.SbCss.comboValueText}'></span>`);return B.text(this.grid.pageSize),B}renderButton(C){const I=ue.JqUtils.adjustElement(C,`>span.${ae.SbCss.comboButton}`,`<span class='${ae.SbCss.comboButton}'></span>`);return ue.JqUtils.adjustElement(I,`>span.${ae.SbCss.comboButton}.${ae.SbCss.icon}`,`<span class='${ae.SbCss.comboButton} ${ae.SbCss.icon} ${ae.SbCss.angleBottom}'></span>`),I}}},3580:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PersonalStorage=void 0;const z=B(7721),q=B(5260),Q=B(1163);class Storage{constructor(C=()=>window.localStorage){this.storage=C()}getOriginKey(C){return`${C}`}get(C){return this.storage.getItem(this.getOriginKey(C))}set(C,I){this.storage.setItem(this.getOriginKey(C),I)}clearItem(C){this.storage.removeItem(this.getOriginKey(C))}clearItems(C){C.forEach((C=>this.clearItem(this.getOriginKey(C))))}}I.default=Storage;class PersonalStorage extends Storage{get grid(){return this._grid}get key(){return this._key}set key(C){this._key=C}constructor(C){super(),this._grid=C,this.key=C.config.personalizationKey+"_"+C.config.personalizationVersion}getPersonalizationData(){const C=this.get(this.key);if(this.hasPersonlizationKey(this.grid))return C?JSON.parse(C):null}listPersonalization(C=!1){const I=[],{personalizationKey:B}=this.grid.config;if(this.hasPersonlizationKey(this.grid)){for(let z=0;z<localStorage.length;z++){let q=localStorage.key(z);(C?q===B||q.startsWith(`${B}_`):q===this.key||q.startsWith(`${this.key}_`))&&I.push(q)}return I}}savePersonalizationByAll(C){if(this.hasPersonlizationKey(this.grid)){const I={columns:this.grid.columns.map((C=>{let I=C.config;return I.columns=[],PersonalStorage.getChildColumn(C.columns,I.columns),I})),groups:this.grid.dataSource.config.groups,orders:this.grid.dataSource.config.orders,filters:this.grid.dataSource.config.filters};Q.Convert.isValue(C)?this.set(this.key+"_"+C,JSON.stringify(I)):this.set(this.key,JSON.stringify(I))}}static getPersnalConfig(C){const I=C.columns.filter((C=>C.part!=z.PartType.Fixed)).map((C=>{const I={caption:Q.Convert.isValue(C.config.caption)?C.config.caption:void 0,field:Q.Convert.isValue(C.config.field)?C.config.field:void 0,width:Q.Convert.isValue(C.config.width)?C.config.width:void 0,visible:Q.Convert.isValue(C.config.visible)?C.config.visible:void 0,part:Q.Convert.isValue(C.config.part)?C.config.part:void 0,columns:[]=[]};return this.getChildColumn(C.columns,I.columns),I})),{groups:B,orders:q,filters:ee}=C.dataSource.config;return{columns:I,groups:B,orders:q,filters:ee}}savePersonalization(C){if(this.hasPersonlizationKey(this.grid)){const I=PersonalStorage.getPersnalConfig(this.grid);Q.Convert.isValue(C)?this.set(this.key+"_"+C,JSON.stringify(I)):this.set(this.key,JSON.stringify(I))}}static getChildColumn(C,I){for(const B of C){const C={caption:Q.Convert.isValue(B.config.caption)?B.config.caption:void 0,field:Q.Convert.isValue(B.config.field)?B.config.field:void 0,width:Q.Convert.isValue(B.config.width)?B.config.width:void 0,visible:Q.Convert.isValue(B.config.visible)?B.config.visible:void 0,part:Q.Convert.isValue(B.config.part)?B.config.part:void 0,columns:[]=[]};this.getChildColumn(B.columns,C.columns),I.push(C)}return I}stringifyWithFunctions(C){return JSON.stringify(C,(function(C,I){return"function"==typeof I?"function"+I.toString():I}))}jsonParseWithFunctions(C){this.grid;return JSON.parse(C,(function(C,I){if("string"==typeof C&&/^function\s*\(/.test(I)){I.replace(/^function\s*\(/,"(")}return I}))}removePersonalization(C){this.hasPersonlizationKey(this.grid)&&(this.clearItem(C),this.grid.rebuild())}setPersonalization(C){if(this.hasPersonlizationKey(this.grid)){const I=localStorage.getItem(C);this.set(this.key,I),this.grid.rebuild()}}hasPersonlizationKey(C){let I=!0;return 0==Q.Convert.isValue(C.config.personalizationKey)&&(q.Log.error((()=>["grid.config.personalizationKey",C.config.personalizationKey])),I=!1),0==Q.Convert.isValue(C.config.personalizationVersion)&&(q.Log.error((()=>["grid.config.personalizationVersion",C.config.personalizationVersion])),I=!1),I}}I.PersonalStorage=PersonalStorage},5177:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ToolFactory=I.GridTools=void 0;const z=B(3119);var q;!function(C){C.Title="title",C.Save="save",C.Cancel="cancel",C.Search="search",C.Pager="pager",C.Refresh="refresh",C.Csv="csv",C.Excel="excel",C.ExcelImport="excelImport",C.Pdf="pdf",C.ScrollBar="scrollbar",C.ScrollVert="scrollvert",C.ScrollHorz="scrollhorz",C.Add="add",C.AddRow="addRow",C.AddTop="addTop",C.Insert="insert",C.Append="append",C.Delete="delete",C.Undelete="undelete",C.Group="group",C.Reload="reload",C.Undo="undo",C.Redo="redo",C.Status="status",C.PagerCombo="pagerCombo",C.PageSizes="pageSizes"}(q||(I.GridTools=q={}));I.ToolFactory=class ToolFactory{static create(C,I){switch(I){case q.Title:return new z.ToolTitle(C);case q.Save:return new z.ToolSave(C);case q.Pager:return new z.ToolPager(C);case q.Cancel:return new z.ToolCancel(C);case q.Add:case q.AddRow:return new z.ToolAddRow(C);case q.AddTop:return new z.ToolAddTop(C);case q.Insert:return new z.ToolInsertRow(C);case q.Append:return new z.ToolAppendRow(C);case q.Delete:return new z.ToolDelete(C);case q.Undelete:return new z.ToolUndelete(C);case q.Group:return new z.ToolGroup(C);case q.Undo:return new z.ToolUndo(C);case q.Redo:return new z.ToolRedo(C);case q.Refresh:return new z.ToolRefresh(C);case q.Csv:return new z.ToolCsvExport(C);case q.Excel:return new z.ToolExcelExport(C);case q.ExcelImport:return new z.ToolExcelImport(C);case q.Search:return new z.ToolSearch(C);case q.PagerCombo:return new z.ToolPagerCombo(C);case q.PageSizes:return new z.ToolPageSizeSelect(C);case q.Reload:return new z.ToolReload(C);default:return new z.GridTool(C,I)}}}},2224:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CopyMode=I.CopyOptionParser=I.Clipboard=void 0;const q=B(5369),Q=B(1163),ee=B(860),te=B(5565),ie=B(5774),re=B(8788),ne=B(5260),se=B(6312);I.Clipboard=class Clipboard{constructor(C){this.grid=C}copy(C){const I=this.unionRanges(C),B=this.parseArray(I),z=this.makeString(B),q=this.parseJSonArray(I),Q=JSON.stringify(q);this.setClipboard(z,Q)}paste(C){return z(this,void 0,void 0,(function*(){let I=yield this.getClipboard();if(Q.Convert.isNull(I))return;const B="string"==typeof I?this.parseArray(I):I.map((C=>Object.values(C)));Q.Convert.isValue(C)&&1===C.length&&C[0].rowStart===C[0].rowEnd&&C[0].colStart===C[0].colEnd&&(C=yield this.spreadRange(C[0],B));yield this.makeEditDatas(B,C)}))}fillCells(C,I){return z(this,void 0,void 0,(function*(){yield this._makeEditData(C,I)}))}unionRanges(C){let I;for(const B of C)if(Q.Convert.isNull(I))I={type:B.type,cellMap:new Map(B.cellMap)};else{const C=B.cellMap,z=I.cellMap;C.forEach(((C,I)=>{if(z.has(I)){const B=z.get(I);z.set(I,new Set([...B,...C]))}else z.set(I,C)}))}return I}getColumns(C=void 0){let I=[];const B=this.grid;if(void 0===C){C=[];const z=[].concat(B.headColumns).concat(B.viewportColumns).concat(B.tailColumns);Q.Arrays.dfsAction(z,(C=>(I.push(C),C.columns)))}else C.forEach((C=>I.push(Q.Arrays.dfsSearch(this.grid.visibleColumns,(I=>I.name===C||I.columns)))));return I}makeString(C){const I=null==C?void 0:C.map((C=>C.join("\t")));return null==I?void 0:I.join("\n")}setClipboard(C,I){return z(this,void 0,void 0,(function*(){if(Q.Convert.isNull(navigator.clipboard)){var B=document.createElement("textarea");B.style.position="fixed",B.style.opacity="0",B.style.width="0",B.style.height="0",B.textContent=C,document.body.appendChild(B),B.select(),document.execCommand("copy"),document.body.removeChild(B)}else{const B=new Blob([C],{type:"text/plain"}),q=new Blob([I],{type:"web application/json"}),Q=new ClipboardItem({"text/plain":B,"web application/json":q}),ee="clipboard-write";navigator.permissions.query({name:ee}).then((C=>z(this,void 0,void 0,(function*(){"granted"==C.state?navigator.clipboard.write([Q]).then((()=>z(this,void 0,void 0,(function*(){ne.Log.debug("JSON data copied to clipboard successfully")})))).catch((C=>{ne.Log.debug(["Unable to copy data to clipboard",C])})):"prompt"==C.state||ne.Log.debug(["clipboard-write permission denied."])}))))}}))}getClipboard(){return z(this,void 0,void 0,(function*(){const C=yield navigator.clipboard.read();for(const I of C){const C=I.types.includes("web application/json")?"web application/json":I.types.includes("text/plain")?"text/plain":void 0;if(Q.Convert.isNull(C))continue;const B=yield I.getType(C),z=yield B.text();if("web application/json"===C){let C=JSON.parse(z),I=0;for(;I++<5&&"string"==typeof C;)C=JSON.parse(C);return"string"==typeof C?z:C}return z}}))}parseArray(C){if(!Q.Convert.isNull(C))return"string"==typeof C?this.parseTextToArray(C):this.parseRangeToArray(C)}parseTextToArray(C){return C.split("\r\n").filter((C=>Q.Convert.isValue(C))).map((C=>{if(!Q.Convert.isEmpty(C))return C.split("\t")}))}parseRangeToArray(C){const I=C.cellMap,B=[...C.cellMap.keys()];let z=te.CopyRange.sortRows(B,this.grid);return z.every((C=>Q.Convert.isNull(C)))&&(z=B),z.map((B=>{const z="string"==typeof B,q=z?B:B.key,Q=I.get(q);return(C.type===te.SelectType.Row?this.getColumns():te.CopyRange.sortColumns([...Q],this.grid)).filter((C=>C.config.type!==ie.ColumnTypes.Frozen)).map((C=>{var I,Q,te;if(z){if(q===ee.PanelType.Header)return null===(I=C.getHeaderValue(void 0))||void 0===I?void 0:I.toString();if(q===ee.PanelType.Footer)return null===(Q=C.getFooterValue(void 0))||void 0===Q?void 0:Q.toString()}else{switch(null===(te=this.grid.config.copyable)||void 0===te?void 0:te.textCopyMode){case oe.Label:return C.getCellLabel(B);case oe.Value:return C.getCellValue(B);case oe.Text:return C.getCellText(B)}}}))}))}parseJSonArray(C){const I=C.cellMap,B=[...C.cellMap.keys()];let z=te.CopyRange.sortRows(B,this.grid);return z.every((C=>Q.Convert.isNull(C)))&&(z=B),z.map((B=>{const z="string"==typeof B,q=z?B:B.key,re=I.get(q),ne=C.type===te.SelectType.Row?this.getColumns():te.CopyRange.sortColumns([...re],this.grid);let se={};return ne.filter((C=>C.config.type!==ie.ColumnTypes.Frozen)).forEach((C=>{var I,te;let ie;z?q===ee.PanelType.Header?ie=null===(I=C.getHeaderValue(void 0))||void 0===I?void 0:I.toString():q===ee.PanelType.Footer&&(ie=null===(te=C.getFooterValue(void 0))||void 0===te?void 0:te.toString()):(ie=C.getRawValue(B),ie=Q.Convert.isNull(ie)?"":ie),se[C.name]=ie})),se}))}makeEditDatas(C,I){var B,q,ee;return z(this,void 0,void 0,(function*(){const z=new Map;for(const ee of I){let I=te.CopyRange.sortRows([...ee.cellMap.keys()],this.grid),re=C.slice();for(let ne=0;ne<I.length;ne++){const se=I[ne],oe=ee.cellMap.get(se.key);let ae=Q.Convert.isNull(oe)?this.getColumns():te.CopyRange.sortColumns([...oe],this.grid).filter((C=>C.visible));ae=ae.filter((C=>C.config.type!==ie.ColumnTypes.Frozen));let le=re[ne>C.length-1?ne%C.length:ne];for(let C=0;C<ae.length;C++){const I=ae[C];if(!1===(null===(B=I.config)||void 0===B?void 0:B.skipPaste)&&!0===I.editable(se)){const B=le[C>le.length-1?C%le.length:C];this.update(se,I,B);const Q=null!==(q=z.get(se.key))&&void 0!==q?q:new Set;Q.add(I.name),z.set(se.key,Q)}}}}return this.grid.selectManager.clear(),null===(ee=this.grid.selectManager)||void 0===ee||ee.selectCells(z,!0),[]}))}spreadRange(C,I){var B,q,ee;return z(this,void 0,void 0,(function*(){const z=C.rowStart;let re=this.grid.view.keyMap.get(z);const ne=C.colStart,se=Q.Arrays.dfsSearch(this.grid.columns,(C=>C.name===ne||C.columns)),oe=this.getColumns();let ae,le=re.rowIndex,ue=le+I.length,de=oe.findIndex((C=>C===se)),ce=0;const he=new Map;for(let C=le;C<ue&&(re=yield this.grid.view.getRow(C),!Q.Convert.isNull(re));C++){const C=null!==(q=null===(B=null==ae?void 0:ae.cellMap)||void 0===B?void 0:B.get(re.key))&&void 0!==q?q:new Set;let z=de+I[ce++].length;for(let I=de;I<z;I++){const B=oe[I];if(Q.Convert.isNull(B))break;(null==B?void 0:B.config.type)!==ie.ColumnTypes.Frozen&&!1!==B.visible?C.add(B.name):z++}const ne=null!==(ee=null==ae?void 0:ae.cellMap)&&void 0!==ee?ee:new Map;ne.set(re.key,C),ae={cellMap:ne,type:te.SelectType.Cell},he.set(re.key,new Set(C))}return[ae]}))}intersectRange(C,I){const B=new Map;return C.cellMap.forEach(((z,q)=>{if(I.cellMap.has(q))if(C.type===te.SelectType.Row)B.set(q,void 0);else{const C=I.cellMap.get(q),Q=[...z].filter((I=>C.has(I)));Q.length>0&&B.set(q,new Set(Q))}})),B}subtractRange(C,I){const B=new Map;return C.cellMap.forEach(((z,q)=>{if(I.cellMap.has(q)){if(C.type===te.SelectType.Row)return!1;const Q=I.cellMap.get(q),ee=[...z].filter((C=>!Q.has(C)));ee.length>0&&B.set(q,new Set(ee))}else B.set(q,z)})),B}mergeEditData(C,I,B,q){return z(this,void 0,void 0,(function*(){const z=I.key;let ee=C.find((C=>C.key===z&&C.field==B.field));Q.Convert.isNull(ee)?C.push({key:null==I?void 0:I.key,field:B.field,value:q}):ee.value=q}))}update(C,I,B){return z(this,void 0,void 0,(function*(){const z={key:null==C?void 0:C.key,field:I.field,value:B};this.grid.fireCommandAsync(this.grid,new q.UpdateCommand([z],I))}))}_makeEditData(C,I){return z(this,void 0,void 0,(function*(){const B={row:C.rowStart!=I.rowStart,col:C.colStart!=I.colStart};let z=this.toArray(C,B),q=this.toArray(I,B),Q=!1;if(this.isNarrowed(z,q)){let C=z;z=q,q=C,q.forEach((C=>C.forEach((C=>C.value="")))),Q=!0}return z=z.map((C=>C.filter((C=>C.column instanceof re.FrozenColumn==0)))),yield this.__makeEditData(z,q,Q)}))}isNarrowed(C,I){return C.length>I.length||C.length>0&&I.length>0&&C[0].length>I[0].length}__makeEditData(C,I,B=!1){var q,ee,te;return z(this,void 0,void 0,(function*(){const z=this.grid.selectManager;z.clear();for(const ie in I){const ne=I[ie],se=Number.parseInt(ie);let oe=0;for(const I in ne){const ie=ne[I],ae=se>C.length-1?se%C.length:se,le=oe>C[ae].length-1?oe%C[ae].length:oe,ue=C[ae][le];let de=!0;if(ue.rowItem!=ie.rowItem||ue.column!=ie.column)if(ie.column instanceof re.FrozenColumn==0){if(!1===(null===(ee=null===(q=null==ie?void 0:ie.column)||void 0===q?void 0:q.config)||void 0===ee?void 0:ee.skipPaste)&&(null===(te=null==ie?void 0:ie.column)||void 0===te?void 0:te.selectable(null==ie?void 0:ie.rowItem))){const C=Q.Convert.isNull(ie.value)?ue.column.getRawValue(ue.rowItem):ie.value;this.update(ie.rowItem,ie.column,C),de=!B}}else oe--,B&&(de=ue.rowItem==ie.rowItem);de&&z.addSelectedCell(ie.rowItem.key,ie.column.name),oe++}}return[]}))}toArray(C,I){const B=C.cellMap,z=[];B.forEach(((C,I)=>{const B=this.grid.view.keyMap.get(I);z.push(B)}));const q=z.sort(((C,I)=>{const B=null==C?void 0:C.rowIndex,z=null==I?void 0:I.rowIndex;return B<z?-1:B==z?0:1}));I.row&&q.reverse();const ee=[];for(const C in q){const z=q[C],ie=B.get(z.key),re=Q.Convert.isValue(ie)?[...ie]:void 0;let ne=this.getColumns(re);ne=te.CopyRange.sortColumns(ne,this.grid),I.col&&ne.reverse();const se=ne.map(((C,I)=>({rowItem:z,column:C})));ee.push(se)}return ee}};class CopyOptionParser{static parseCopyable(C){var I;const B=null===(I=se.SBGrid3.default)||void 0===I?void 0:I.defaultCopyable;return!1===C?void 0:!0===C?B:CopyOptionParser._parseCopyable(C)}static _parseCopyable(C){var I,B;const z=null===(I=se.SBGrid3.default)||void 0===I?void 0:I.defaultCopyable;return{fill:Q.Convert.default(C.fill,null!==(B=null==z?void 0:z.fill)&&void 0!==B&&B),textCopyMode:Q.Convert.default(C.textCopyMode,null==z?void 0:z.textCopyMode,(C=>Q.Convert.parseEnum(oe,C)))}}}var oe;I.CopyOptionParser=CopyOptionParser,function(C){C.Value="value",C.Label="label",C.Text="text"}(oe||(I.CopyMode=oe={}))},7136:function(C,I,B){"use strict";var z=B(4692),q=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.DropPoint=I.GridDroppable=I.GridDraggable=void 0;const Q=B(5369),ee=B(5165),te=B(194),ie=B(1163),re=B(6409),ne=B(7078),se=B(6312),oe=B(7721),ae=B(8964),le=B(5774);I.GridDraggable=class GridDraggable{constructor(C){this._fillHandleMove=!1,this.grid=C}addGridDraggable(C){C.draggable({helper:(I,B)=>{const q=I.originalEvent;return this.dragHandler=this.getDragHandler(q,C),ie.Convert.isValue(this.dragHandler)?this.dragHandler.helper(q,B):z("<span></span>")},start:(C,I)=>{var B;if(ie.Convert.isNull(this.dragHandler))return!1;null===(B=this.dragHandler)||void 0===B||B.start(C.originalEvent,I)},drag:(C,I)=>{var B;if(ie.Convert.isNull(this.dragHandler))return!1;null===(B=this.dragHandler)||void 0===B||B.drag(C.originalEvent,I)},stop:(C,I)=>{var B;if(ie.Convert.isNull(this.dragHandler))return!1;null===(B=this.dragHandler)||void 0===B||B.stop(C.originalEvent,I)},cursorAt:{top:-2,left:-2}})}getDragHandler(C,I){if(this.fromCol=se.SBGrid3.$(C.target).closest(`.${ne.SbCss.col}`),this.fromCol.length<=0)return;const B=this.grid.getColumn(this.fromCol),z=this.grid.getRowItem(this.fromCol);if(ie.Convert.isNull(B)&&ie.Convert.isNull(z))return;const q=this.grid.config.dataDraggable,Q=this.fromCol.hasClass(ne.SbCss.rowreorder),ee=(null==q?void 0:q.srcType)===re.DataDraggableSrcType.cell||(null==q?void 0:q.srcType)===re.DataDraggableSrcType.all,te=this.grid.selectManager.isSelectedCell(null==z?void 0:z.key,B.name);switch(Q?"row":te&&ee?"cell":"none"){case"row":return new RowMoveDragHandler(this.grid,I);case"cell":return new CellMoveDragHandler(this.grid,I);default:return}}static parseDataDraggable(C){if(!0===C)return this.parseDataDraggable({mode:re.DataDraggableMode.move});if(!1!==C)if("string"==typeof C)this.parseDataDraggable({mode:ie.Convert.parseEnum(re.DataDraggableMode,C)});else if(Object.prototype.hasOwnProperty.call(C,"mode"))return{mode:ie.Convert.default(C.mode,re.DataDraggableMode.move,(()=>"string"==typeof C.mode?ie.Convert.parseEnum(re.DataDraggableMode,C.mode):C.mode)),target:ie.Convert.default(C.target,void 0,(()=>this.parseSelectorToElementArray(C.target))),srcType:ie.Convert.default(C.srcType,re.DataDraggableSrcType.row,(()=>"string"==typeof C.srcType?ie.Convert.parseEnum(re.DataDraggableSrcType,C.srcType):C.srcType))}}static parseSelectorToElementArray(C){return"string"==typeof C?[se.SBGrid3.$(C)[0]]:C instanceof HTMLElement?[C]:C instanceof Array?C.map((C=>"string"==typeof C?se.SBGrid3.$(C)[0]:C)):void 0}};class RowMoveDragHandler{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.row}constructor(C,I){this.grid=C,this.container=I,this.bodyOffset={width:this.container.outerWidth(),height:this.container.outerHeight(),top:this.container.offset().top,left:this.container.offset().left}}start(C,I){this.addMovingClassToTarget(this.fromCol)}drag(C,I){}stop(C,I){this.removeMovingClassToTarget(this.fromCol)}helper(C,I){const B=se.SBGrid3.$(C.target).closest(`.${ne.SbCss.col}`);this.fromCol=B;const z=this.container;this.indicator=ie.JqUtils.adjustElement(z,`>div.${ne.SbCss.reorder_indicator}.${ne.SbCss.row}`,`<div class='${ne.SbCss.reorder_indicator} ${ne.SbCss.row}'></div>`),this.indicator.width(null==z?void 0:z.outerWidth()),this.fromRowItem=this.grid.getRowItem(B);const q=se.SBGrid3.$(`<div class='${ne.SbCss.draggable_helper} ${ne.SbCss.rowreorder}'></div>`),Q=ie.JqUtils.adjustElement(q,">div","<div></div>"),ee=(ie.JqUtils.adjustElement(Q,`>span.${ne.SbCss.icon}.${ne.SbCss.rowreorder}`,`<span class='${ne.SbCss.icon} ${ne.SbCss.rowreorder}'></span>`),B.closest(`.${ne.SbCss.row}`).data("selector")),te=z.find(`.${ne.SbCss.part}.${ne.SbCss.head} .${ee},.${ne.SbCss.part}.${ne.SbCss.body} .${ee}`).clone();return Q.append(te),ie.Convert.isNull(this.fromRowItem),this.initDataDraggable(q),q}initDataDraggable(C){var I;const B=(null===(I=this.fromRowItem)||void 0===I?void 0:I.isCheck)?this.grid.view.rows.filter((C=>C.isCheck&&C.visible)).map((C=>C.key)):[this.fromRowItem.key];C.data(ue.Row,B),C.data(ue.Grid,this.grid),C.data(ue.AfterRowDrop,((C,I)=>q(this,void 0,void 0,(function*(){if(ie.Convert.isNull(I))return!1;const B=this.grid.config.dataDraggable;return(!ie.Convert.isValue(B.target)||0!=this.checkTargetGrid(I,B.target))&&(ie.Convert.isValue(C)&&B.mode===re.DataDraggableMode.move&&this.deleteRows(C),!0)}))))}checkTargetGrid(C,I){const B=se.SBGrid3.$(`#${C}`);return!(B.length<=0)&&I.some((C=>B.is(C)||B.closest(C).length>0))}deleteRows(C){C.forEach((C=>this.grid.deleteRowCommand(new ee.DeleteRowCommand(C)))),this.grid.fireCommandAsync(this.grid,new ee.RefreshCommand)}getTargetRow(C,I,B,z){const q=document.elementFromPoint(B-10,I+z),Q=null==q?void 0:q.closest(`.${ne.SbCss.row}`);return ie.Convert.isValue(Q)?se.SBGrid3.$(Q):void 0}addMovingClassToTarget(C){const I=C.closest(`.${ne.SbCss.row}`).data("selector");this.grid.container.find(`.${ne.SbCss.body}.${ne.SbCss.panel}`).find(`.${ne.SbCss.row}.${I}`).addClass(ne.SbCss.moving)}removeMovingClassToTarget(C){const I=C.closest(`.${ne.SbCss.row}`).data("selector");this.grid.container.find(`.${ne.SbCss.body}.${ne.SbCss.panel}`).find(`.${ne.SbCss.row}.${I}`).removeClass(ne.SbCss.moving)}isOver(C,I,B){const z=this.bodyOffset,q=z.left+z.width,Q=z.top+z.height;return!(z.left<=C&&C<=q&&z.top-B<=I&&I<=Q)}}class CellMoveDragHandler{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.row}constructor(C,I){this.grid=C,this.container=I,this.bodyOffset={width:this.container.outerWidth(),height:this.container.outerHeight(),top:this.container.offset().top,left:this.container.offset().left}}get tempCells(){return this.grid.selectManager.tempCells}helper(C,I){const B=this.container,z=se.SBGrid3.$(C.target).closest(`.${ne.SbCss.col}`);this.jqFromCol=z,ie.Convert.isNull(z);const q=se.SBGrid3.$(`<div class='${ne.SbCss.draggable_helper}'></div>`),Q=ie.JqUtils.adjustElement(q,">div","<div></div>"),ee=ne.SbCss.selected,te=B.find(`.${ne.SbCss.part}.${ne.SbCss.body} .${ee},.${ne.SbCss.part}.${ne.SbCss.body} .${ee},.${ne.SbCss.part}.${ne.SbCss.tail} .${ee}`),re=te.length>1?te.length:"",oe=z.clone(),ae=ie.JqUtils.adjustElement(Q,`>span.${ne.SbCss.icon}`,`<span class='${ne.SbCss.icon}'>${re}</span>`);return Q.append(oe).append(ae),this.initDataDraggable(q),q}start(C,I){this.addMovingClassToTarget(this.jqFromCol)}drag(C,I){}stop(C,I){this.removeMovingClassToTarget(this.jqFromCol)}initDataDraggable(C){C.data(ue.Row,this.grid.getRangedKeys()),C.data(ue.Grid,this.grid)}addMovingClassToTarget(C){C.addClass(ne.SbCss.moving)}removeMovingClassToTarget(C){C.removeClass(ne.SbCss.moving)}isOver(C,I,B){const z=this.bodyOffset,q=z.left+z.width,Q=z.top+z.height;return!(z.left<=C&&C<=q&&z.top-B<=I&&I<=Q)}}I.GridDroppable=class GridDroppable{constructor(C){this.grid=C}addGridDroppable(C){C.droppable({over:(I,B)=>{var z;const q=B.helper;this.dropHandler=this.getDroppable(q,C),null===(z=this.dropHandler)||void 0===z||z.over(I.originalEvent,B)},drop:(C,I)=>{var B;null===(B=this.dropHandler)||void 0===B||B.drop(C.originalEvent,I)},out:(C,I)=>{var B;null===(B=this.dropHandler)||void 0===B||B.out(C.originalEvent,I)}})}getDroppable(C,I){const B=C.data(ue.Grid);if(ie.Convert.isNull(B))return;const z=B.name==this.grid.name;switch(C.hasClass(ne.SbCss.rowreorder)?re.DataDraggableSrcType.row:re.DataDraggableSrcType.cell){case re.DataDraggableSrcType.row:return z?new RowMoveDropHandler(this.grid,I):new GridRowMoveDropHandler(this.grid,I);case re.DataDraggableSrcType.cell:return z?new CellMoveDropHandler(this.grid,I):new GridCellMoveDropHandler(this.grid,I);default:return}}static parseDataDroppable(C){return!0===C?this.parseDataDroppable({accept:void 0}):!1===C?void 0:{accept:C.accept,afterCellDrop:C.afterCellDrop,afterRowDrop:C.afterRowDrop}}};class RowMoveDropHandler{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.row}constructor(C,I){this.grid=C,this.container=I}get indicator(){return this._indicator}get jqScrollBody(){var C;return null!==(C=this._jqScroll)&&void 0!==C?C:this._jqScroll=this.container.closest(`.${ne.SbCss.scroll_body}`)}get containerInfo(){if(ie.Convert.isNull(this._containerInfo)){const C=this.container.get(0).getBoundingClientRect(),I=window.scrollX,B=window.scrollY;this._containerInfo={top:C.top+I,left:C.left+B,right:C.right+I,bottom:C.bottom+B,height:C.height,width:C.width}}return this._containerInfo}over(C,I){this.grid.setEvent("dataDroppable","mousemove","data-mousemove",(C=>{this.drag(I,C)}),this.jqScrollBody),this._indicator=ie.JqUtils.adjustElement(this.container,`>div.${ne.SbCss.reorder_indicator}.${ne.SbCss.row}`,`<div class='${ne.SbCss.reorder_indicator} ${ne.SbCss.row}'></div>`)}drop(C,I){const B=I.helper.data(ue.Row).map((C=>this.grid.view.keyMap.get(C)));this.moveRow(B),this.clearEvent()}out(C,I){this.clearEvent()}moveRow(C){if(ie.Convert.isNull(this.targetRow)||ie.Convert.isEmpty(C))return;const I=this.grid.getRowItem(this.targetRow);let B=this.isUpper;C.forEach(((C,z)=>{B=!(z>0)&&B,this.grid.moveToRow(C,I,B)}))}drag(C,I){this.moveIndicator(C.helper,I),this.setMoveTopRowTimer(C.helper,this.container)}isOverDroppableZone(C){const{top:I,left:B,height:z,width:q,right:Q,bottom:ee}=this.containerInfo,te=C.offset();return!1==(te.left>B&&te.left<Q&&te.top+C.height()>I&&te.top<ee)}moveIndicator(C,I){return q(this,void 0,void 0,(function*(){const B=this.getTargetRow(I.clientX,I.clientY);if(ie.Convert.isNull(B))return;this.targetRow=B;const z=C.offset().top,q=this.targetRow.offset(),Q=this.targetRow.outerHeight(),ee=q.top-1,te=this.grid.container.offset().top;this.isUpper=this.isBefore(z,te,this.targetRow);const re=this.isUpper?ee-te:ee+Q-te;this.indicator.css({top:re}),0===this.indicator.width()&&this.indicator.width(this.container.outerWidth()),this.toggleIndicator(1)}))}isBefore(C,I,B){const z=B.offset(),q=B.outerHeight()/2;return C-I<z.top-I+q/2}toggleIndicator(C){var I;null===(I=this.indicator)||void 0===I||I.css("opacity",C)}getTargetRow(C,I){const B=document.elementFromPoint(C,I),z=null==B?void 0:B.closest(`.${ne.SbCss.row}[role="row"]`);return ie.Convert.isValue(z)?se.SBGrid3.$(z):void 0}setMoveTopRowTimer(C,I){return q(this,void 0,void 0,(function*(){const B=yield this.isHoverBodyEdge(C,I);if(ie.Convert.isNull(B))return ie.Convert.isValue(this.moveTopRowTimer)&&clearTimeout(this.moveTopRowTimer),void(this.moveTopRowTimer=void 0);ie.Convert.isNull(this.moveTopRowTimer)&&(this.interval=B.interval,this.moveTopRowTimer=setInterval((()=>{const B=this.isHoverBodyEdge(C,I);if(ie.Convert.isNull(B))return clearTimeout(this.moveTopRowTimer),void(this.moveTopRowTimer=void 0);this.interval!==B.interval?(clearInterval(this.moveTopRowTimer),this.moveTopRowTimer=void 0,this.setMoveTopRowTimer(C,I)):this.changeTopRow(B.state)}),this.interval))}))}isHoverBodyEdge(C,I){var B,z;const q=I.offset().top,Q=I.offset().top+I.outerHeight(),ee=C.offset().top,te=C.offset().top+C.outerHeight()/2,ie=C.offset().top+C.outerHeight();let re;const ne=null!==(z=null===(B=this.option)||void 0===B?void 0:B.scrollInterval)&&void 0!==z?z:120;return ee<q&&q<te?re={state:-1,interval:ne}:te<q&&q<ie&&(re={state:-1,interval:.45*ne}),te<Q&&Q<ie?re={state:1,interval:ne}:ee<Q&&Q<te&&(re={state:1,interval:.45*ne}),re}changeTopRow(C){return q(this,void 0,void 0,(function*(){const I=this.grid.topRow;if(-1===C&&0===I)return;const B=yield this.grid.viewport.calcRows(I,!0,!1);if(1===C){const C=this.grid.adjustedTotal-1,I=B.currRows.find((I=>I.rowIndex===C));(ie.Convert.isNull(I)||B.scrollHeight<I.top+I.rowHeight.height)&&(this.grid.topRow+=1)}else if(-1===C){const C=B.currRows.find((C=>0===C.rowIndex));ie.Convert.isNull(C)&&(this.grid.topRow+=-1)}}))}clearEvent(){this.toggleIndicator(0),this.grid.setEvent("dataDroppable","mousemove","data-mousemove",void 0,this.jqScrollBody),this.grid.selectManager.hideHover()}}class CellMoveDropHandler{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.row}constructor(C,I){this.grid=C,this.container=I}get indicator(){return this._indicator}over(C,I){this.grid.setEvent("dataDroppable","mousemove","data-mousemove",(C=>{this.drag(C,I)}),this.container)}drop(C,I){var B;if(!this.jqTargetCol)return;const z=I.helper.data(ue.Row),q=this.jqTargetCol.closest(`.${ne.SbCss.row}`),Q=this.grid.getRowItem(q),ee=z.map((C=>se.SBGrid3.getRangedColumns(this.grid,C))).map((C=>C.map((C=>C.field)))),te=z.map(((C,I)=>{const B={};return ee[I].forEach((I=>{B[I]=se.SBGrid3.getValue(this.grid,C,I)})),B})),re={rowkey:Q.key,field:this.grid.getColumn(this.jqTargetCol).field},oe=null===(B=this.grid.config.dataDroppable)||void 0===B?void 0:B.afterCellDrop;ie.Convert.isValue(oe)&&"function"==typeof oe&&oe(te,re,this.dropPoint),this.clearEvent()}out(C,I){this.clearEvent()}drag(C,I){let B=se.SBGrid3.$(C.target).closest(`.${ne.SbCss.col}`);const z=this.grid.getColumn(B);ie.Convert.isNull(z)||z.part===oe.PartType.Fixed||z.config.type===le.ColumnTypes.Frozen||z instanceof ae.GroupColumn||(this.dropPoint=this.calculateDropPoint(B,C.pageX),this.dropPoint&&(this.moveIndicator(B),this.setMoveTopRowTimer(I.helper,this.container)))}calculateDropPoint(C,I){let B=C.offset(),z=C.outerWidth(),q=B.left+.3*z,Q=B.left+.7*z;return I<q?de.Left:I>Q?de.Right:de.Center}moveIndicator(C){return q(this,void 0,void 0,(function*(){this.updateIndicatorClass(C),this.jqTargetCol=C}))}updateIndicatorClass(C){switch(this.jqTargetCol&&this.clearIndicatorClass(),this.dropPoint){case de.Left:C.addClass(ne.SbCss.cellIndicator_left);break;case de.Right:C.addClass(ne.SbCss.cellIndicator_right);break;case de.Center:C.addClass(ne.SbCss.cellIndicator)}}clearIndicatorClass(){this.jqTargetCol&&this.jqTargetCol.removeClass(`${ne.SbCss.cellIndicator} ${ne.SbCss.cellIndicator_left} ${ne.SbCss.cellIndicator_right}`)}isBefore(C,I,B){const z=B.offset(),q=B.outerHeight()/2;return C-I<z.top-I+q/2}toggleIndicator(C){this.indicator.css("opacity",C)}setMoveTopRowTimer(C,I){return q(this,void 0,void 0,(function*(){const B=yield this.isHoverBodyEdge(C,I);if(ie.Convert.isNull(B))return ie.Convert.isValue(this.moveTopRowTimer)&&clearTimeout(this.moveTopRowTimer),void(this.moveTopRowTimer=void 0);ie.Convert.isNull(this.moveTopRowTimer)&&(this.interval=B.interval,this.moveTopRowTimer=setInterval((()=>{const B=this.isHoverBodyEdge(C,I);ie.Convert.isNull(B)||(this.interval!==B.interval?(clearInterval(this.moveTopRowTimer),this.moveTopRowTimer=void 0,this.setMoveTopRowTimer(C,I)):this.changeTopRow(B.state))}),this.interval))}))}isHoverBodyEdge(C,I){var B,z;const q=I.offset().top,Q=I.offset().top+I.outerHeight(),ee=C.offset().top,te=C.offset().top+C.outerHeight()/2,ie=C.offset().top+C.outerHeight();let re;const ne=null!==(z=null===(B=this.option)||void 0===B?void 0:B.scrollInterval)&&void 0!==z?z:120;return ee<q&&q<te?re={state:-1,interval:ne}:te<q&&q<ie&&(re={state:-1,interval:.45*ne}),te<Q&&Q<ie?re={state:1,interval:ne}:ee<Q&&Q<te&&(re={state:1,interval:.45*ne}),re}changeTopRow(C){return q(this,void 0,void 0,(function*(){const I=this.grid.topRow;if(-1===C&&0===I)return;const B=yield this.grid.viewport.calcRows(I,!0,!1);if(1===C){const C=this.grid.adjustedTotal-1,I=B.currRows.find((I=>I.rowIndex===C));(ie.Convert.isNull(I)||B.scrollHeight<I.top+I.rowHeight.height)&&(this.grid.topRow+=1)}else if(-1===C){const C=B.currRows.find((C=>0===C.rowIndex));ie.Convert.isNull(C)&&(this.grid.topRow+=-1)}}))}clearEvent(){this.clearIndicatorClass(),this.grid.setEvent("dataDroppable","mousemove","data-mousemove",void 0,this.container),this.grid.selectManager.hideHover()}}class GridRowMoveDropHandler extends RowMoveDropHandler{over(C,I){const B=I.helper.data(ue.Grid).config.dataDraggable;let z=!0;if(ie.Convert.isValue(B.target)){z=B.target.some((C=>this.grid.container.is(C)||this.grid.container.closest(C).length>0))}z&&super.over(C,I)}drop(C,I){const B=I.helper,z=I.helper.data(ue.Grid),q=B.data(ue.Row),Q=q.map((C=>se.SBGrid3.getRowData(z,C)));let ee=I.helper.data(ue.AfterRowDrop)(q,this.grid.name);ee instanceof Promise?ee.then((C=>{C&&(this.appendData(Q),this.clearEvent())})):(this.appendData(Q),this.clearEvent())}appendData(C){return q(this,void 0,void 0,(function*(){let I;const B=this.grid.config.dataDroppable;if(ie.Convert.isValue(B)){if(ie.Convert.isEmpty(C))return;I=yield this.insert(C)}return I}))}insert(C){return q(this,void 0,void 0,(function*(){let I,B=this.isUpper;for(let z=0;z<C.length;z++){const q=C[z],Q=this.grid.dataSource.keyMaker(q);if(this.isAcceptable(q)){if(!this.duplecatedRow(Q)){if(ie.Convert.isNull(this.targetRow))yield this.grid.insertRowItem(void 0,void 0,q,te.InsertTo.Last);else{let C=this.grid.getRowItem(this.targetRow);B?yield this.grid.insertRowItem(void 0,C.key,q,te.InsertTo.Before):yield this.grid.insertRowItem(void 0,C.key,q,te.InsertTo.After)}B=!1}}else(null!=I?I:I=[]).push(q)}return I}))}isAcceptable(C){var I;const B=null===(I=this.grid.config.dataDroppable)||void 0===I?void 0:I.accept;return!ie.Convert.isValue(B)||"function"!=typeof B||B(C)}duplecatedRow(C){if(this.grid.view.keyMap.has(C)){const I=this.grid.view.keyMap.get(C);if(I.status===te.DataStatus.Delete){const C=new Q.UndeleteCommand([{key:I.key}]);this.grid.fireCommandAsync(this.grid,C)}return!0}return!1}}class GridCellMoveDropHandler extends CellMoveDropHandler{drop(C,I){var B;const z=I.helper.data(ue.Row),q=this.jqTargetCol.closest(`.${ne.SbCss.row}`);let Q=this.grid.getRowItem(q);se.SBGrid3.getValue(this.grid,Q.key,this.grid.getColumn(this.jqTargetCol).field);const ee=z.map((C=>se.SBGrid3.getRangedColumns(this.grid,C))).map((C=>C.map((C=>C.field)))),te={rowkey:Q.key,field:this.grid.getColumn(this.jqTargetCol).field},re=z.map(((C,I)=>{const B={};return ee[I].forEach((I=>{B[I]=se.SBGrid3.getValue(this.grid,C,I)})),B})),oe=null===(B=this.grid.config.dataDroppable)||void 0===B?void 0:B.afterCellDrop;ie.Convert.isValue(oe)&&"function"==typeof oe&&oe(re,te,this.dropPoint),this.clearEvent()}appendData(C){return q(this,void 0,void 0,(function*(){let I;const B=this.grid.config.dataDroppable;if(ie.Convert.isValue(B)){if(ie.Convert.isEmpty(C))return;I=yield this.insert(C)}return I}))}insert(C){return q(this,void 0,void 0,(function*(){let I,B=this.isUpper;for(let z=0;z<C.length;z++){const q=C[z],Q=this.grid.dataSource.keyMaker(q);if(this.isAcceptable(q)){if(!this.duplecatedRow(Q)){if(ie.Convert.isNull(this.targetRow))yield this.grid.insertRowItem(void 0,void 0,q,te.InsertTo.First);else{let C=this.grid.getRowItem(this.targetRow);B?yield this.grid.insertRowItem(void 0,C.key,q,te.InsertTo.Before):yield this.grid.insertRowItem(void 0,C.key,q,te.InsertTo.After)}B=!1}}else(null!=I?I:I=[]).push(q)}return I}))}isAcceptable(C){var I;const B=null===(I=this.grid.config.dataDroppable)||void 0===I?void 0:I.accept;return!ie.Convert.isValue(B)||"function"!=typeof B||B(C)}duplecatedRow(C){if(this.grid.view.keyMap.has(C)){const I=this.grid.view.keyMap.get(C);if(I.status===te.DataStatus.Delete){const C=new Q.UndeleteCommand([{key:I.key}]);this.grid.fireCommandAsync(this.grid,C)}return!0}return!1}}var ue,de;!function(C){C.Grid="grid",C.Row="row",C.Col="Col",C.DraggableCallback="callback",C.AfterCellDrop="afterCellDrop",C.AfterRowDrop="afterRowDrop"}(ue||(ue={})),function(C){C.Left="left",C.Center="center",C.Right="right"}(de||(I.DropPoint=de={}))},1415:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.EventManager=I.EventHandler=void 0;const q=B(5260),Q=B(1163),ee=B(2208),te=B(6312),ie=B(7078);class EventHandler{constructor(C,I,B,z,q){this._handlerName=C,this._eventType=I,this._eventKey=B,this._eventHander=z,this.addTarget(q)}get handlerName(){return this._handlerName}set handlerName(C){this._handlerName=C}get eventType(){return this._eventType}set eventType(C){this._eventType=C}get eventKey(){return this._eventKey}set eventKey(C){this._eventKey=C}get eventHander(){return this._eventHander}set eventHander(C){this._eventHander=C}get eventTargets(){var C;return null!==(C=this._eventTargets)&&void 0!==C?C:this._eventTargets=new Set}checkTarget(C){return this.eventTargets.has(C)}addTarget(C){if(C instanceof HTMLElement)this.eventTargets.add(C);else for(let I of C)this.eventTargets.add(I);for(let C of this.eventTargets.values())0==C.isConnected&&this.eventTargets.delete(C)}}I.EventHandler=EventHandler;I.EventManager=class EventManager{constructor(C){this._doing=!1,this.eventHandler=C=>{if("mousemove"!=C.type&&"mouseout"!=C.type&&C.type,Q.Convert.isEmpty(this.handlerMap))return;if(0==this.handlerMap.has(C.type))return;if(this.grid.hasDetail){const I=C.composedPath();for(const C of I)if(C instanceof HTMLElement&&C.className.split(" ").indexOf(ie.SbCss.grid)>=0){if(C.id==this.grid.name)break;return}}const I=C.composedPath();this.lock.critical((()=>z(this,void 0,void 0,(function*(){0!=this.handlerMap.has(C.type)&&(yield this.processEvent(C,this.handlerMap.get(C.type),I))}))))},this._grid=C}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new Q.Lock}get grid(){return this._grid}get handlerMap(){var C;return null!==(C=this._handlerMap)&&void 0!==C?C:this._handlerMap=new Map}get doing(){return this._doing}setHandler(C,I,B,z=void 0,q=void 0,ee=!1){if(Q.Convert.isEmpty(I))return;0==this.handlerMap.has(I)&&this.handlerMap.set(I,[]);const te=this.handlerMap.get(I),findPredicate=I=>I.handlerName===C&&I.eventKey===B;if(Q.Convert.isNull(z)||Q.Convert.isEmpty(q)){const C=te.findIndex(findPredicate);return void(C>=0&&te.splice(C,1))}const ie=te.findIndex(findPredicate);let re;ie>=0&&(re=te[ie],te.splice(ie,1),re.eventHander==z?re.addTarget(q):re=void 0),Q.Convert.isNull(re)&&(re=new EventHandler(C,I,B,z,q)),te.push(re);const ne={capture:!1,passive:!1};"wheel"!=I&&"scroll"!=I||(ne.capture=!0),ee?q instanceof Array?q.forEach((C=>{C.removeEventListener(I,this.eventHandler),C.addEventListener(I,this.eventHandler,ne)})):(q.removeEventListener(I,this.eventHandler),q.addEventListener(I,this.eventHandler,ne)):(this.grid.container[0].removeEventListener(I,this.eventHandler),this.grid.container[0].addEventListener(I,this.eventHandler,ne))}cloneEvent(C,I){let B=C;return B.currentTarget=I,B}processEvent(C,I,B){return z(this,void 0,void 0,(function*(){if(Q.Convert.isNull(I))return;if(Q.Convert.isEmpty(B))return;let z=!1,ie=te.SBGrid3.$.event.fix(C);const re=this.grid.wrapper[0];try{this._doing=!0;for(const C of B){if(C==re)break;if(C instanceof HTMLElement==0)continue;const B=C;ie=this.cloneEvent(ie,B);for(let C of I)if(C.checkTarget(B)){const I=C.eventHander(ie);if(z=I instanceof Promise?!1===(yield I):!1===I,z)return}}}catch(z){throw q.Log.warn(["EventManager.processEvent",{event:C,handlers:I,eventPath:B}]),z}finally{if(z&&(C.stopPropagation(),C.stopImmediatePropagation()),this._doing=!1,Q.Convert.isValue(this.grid.refreshingCommands)){const C=ee.Grid.mergeRefreshCommand(this.grid.refreshingCommands.splice(0));this.grid.fireCommandAsync(this.grid,C)}}}))}disconnect(){this.clear()}clear(){this.handlerMap.clear()}}},7443:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.Direction=I.KeyboardShortCut=I.KeyboardEventHandler=I.FocusEvent=I.FocusManager=void 0;const q=B(273),Q=B(2663),ee=B(5369),te=B(5165),ie=B(3354),re=B(5260),ne=B(1163),se=B(6258),oe=B(6938),ae=B(8964),le=B(860),ue=B(6312),de=B(7078),ce=B(3419),he=B(8788),fe=B(373),pe=B(7721),me=B(5774),ge=B(8956),ve=B(289);class FocusManager extends q.Observer{get grid(){return this._grid}set grid(C){this._grid=C}get focus(){return this._focus}set focus(C){this.moveFocus(C)}get layouts(){return this.grid.layouts}get keyboardEventHandler(){var C;return null!==(C=this._keyboardEventHandler)&&void 0!==C?C:this._keyboardEventHandler=new KeyboardEventHandler(this.grid)}get editConfig(){var C;return null!==(C=this._editConfig)&&void 0!==C?C:this._editConfig=ne.Convert.isValue(this.grid.config.editable)?this.grid.config.editable:void 0}set gridSearch(C){this._gridSearch=C}get gridSearch(){var C;return null!==(C=this._gridSearch)&&void 0!==C?C:this._gridSearch=this.grid.config.search?new ge.GridSearch(this.grid):void 0}constructor(C){super(C),this.koreanKeyEditType=[me.ColumnTypes.Text,me.ColumnTypes.MultiText],this._grid=C}initFocusManager(C){this.addEventListner(C),this.keyboardEventHandler.addEventListner(C),this.initFocus()}addEventListner(C){const I=C.get(0);let B=this.grid.editConfig;this.grid.setEvent("FocuseManager","mousedown","Focus",(C=>this.handleMouseDown(C)),I),this.grid.setEvent("FocusManager","focusout","Focusout",(C=>{this.handleFocusOut(this.grid.container.get(0),C)}),this.grid.container),ne.Convert.isValue(B)&&this.grid.setEvent("FocuseManager",B.eventType,"Edit",(C=>this.handleEdit(C)),I)}handleEdit(C){1==C.which&&this.enableEdit(C)}handleFocusOut(C,I){if(this.grid.view.editKeyMap.size<=0)return;const B=I.relatedTarget,z=ne.Convert.isNull(B)||!C.contains(B),q=C.contains(I.target);z&&q&&setTimeout((()=>{const B=document.activeElement;0==C.contains(B)&&(re.Log.debug(["focus out occured.",I]),this.cancelEdit(!1))}),0)}initFocus(){return z(this,void 0,void 0,(function*(){const C=this.focus;ne.Convert.isNull(C)||this.adjustFocus()}))}adjustFocus(){var C,I,B,z,q;const Q=null===(C=this.focus)||void 0===C?void 0:C.rowItem,ee=null===(I=this.focus)||void 0===I?void 0:I.column,ie=null===(B=this.focus)||void 0===B?void 0:B.panelType;let re=null===(z=this.focus)||void 0===z?void 0:z.cell;if(ie===le.PanelType.Body&&0==this.grid.view.keyMap.has(Q.key))return void(this._focus=void 0);this.checkRowChanged();const se=FocusManager.getLayout(this.layouts,ie,Q);let oe=FocusManager.findCellFromColumn(se,ee,null==re?void 0:re.row);oe=ne.Convert.isNull(oe)?FocusManager.findCellFromColumn(se,ee):oe,ne.Convert.isNull(oe)||re.col!=(null==oe?void 0:oe.col)&&(this.focus.cell=oe,null===(q=this._keyboardEventHandler)||void 0===q||q.focusMoved(),this.fireCommandAsync(this,new te.RefreshCommand))}static findCellFromColumn(C,I,B){var z;let q=0,Q=C.rows.length;ne.Convert.isValue(B)&&(q=B,Q=B+1);for(let B=q;B<Q;B++){const q=C.rows[B];let Q=null!==(z=null==q?void 0:q.cells)&&void 0!==z?z:[];for(const C of Q)if(I==(null==C?void 0:C.column))return C}}static getLayout(C,I,B){switch(I){case le.PanelType.Caption:return C.captionLayout;case le.PanelType.Body:{const I=null==B?void 0:B.node,z=I instanceof ie.GroupNode,q=I instanceof ie.FooterNode;if(z||q){const B=z?I:I.parent;if(B instanceof ie.TreeNode)return C.treeFooterLayout;const q=C.groupLayout(B.igroup.field);return z?q.header:q.footer}return C.rowLayout}case le.PanelType.Header:return C.headerLayout;case le.PanelType.Footer:return C.footerLayout;case le.PanelType.Filter:return C.filterLayout}}initEditEvent(C){let I=this.grid.editConfig;ne.Convert.isValue(I)&&this.grid.setEvent("FocuseManager",I.eventType,"Edit",(C=>{1==C.which&&this.enableEdit(C)}),C)}handleMouseDown(C){return z(this,void 0,void 0,(function*(){const I=ue.SBGrid3.$(C.target).closest(`.${de.SbCss.col}`),B=I.data("cell");if(ne.Convert.isNull(B))return;const z={rowItem:yield this.grid.getRowItem(I),column:B.column,cell:B,panelType:this.getPanelType(I),eventType:ye.mousedown};yield this.moveFocus(z)}))}moveFocus(C){var I,B,q,Q,ee,te,ie,se,oe,ae,ue,de;return z(this,void 0,void 0,(function*(){if(this.isValidFocus(C))return;const z=null==C?void 0:C.rowItem,ce=null==C?void 0:C.column,he=null!==(I=C.cell)&&void 0!==I?I:C.cell=(null==C?void 0:C.panelType)===le.PanelType.Body?ne.Utils.findCellFromColumn(this.layouts.rowLayout,ce):void 0,pe=null==C?void 0:C.panelType;let me=ne.Convert.isEmpty(this.focus)||!this.isFocused(z,ce,pe,he);const ge=null===(B=this.focus)||void 0===B?void 0:B.rowItem,ve=null===(q=this.focus)||void 0===q?void 0:q.column;if(me)try{if(ne.Convert.isValue(null==z?void 0:z.key)&&!1===this.canGridCommand(new fe.GridFocusCommand(null==z?void 0:z.key,ce,ge,ve)))return!1;if(0==this.update(z,ce))return!1;(yield this._moveFocus(C))&&(this.grid.doGridCommand(new fe.GridFocusCommand(null==z?void 0:z.key,ce,null==ge?void 0:ge.key,ve)),yield this.scrollIntoView(null===(Q=this.focus)||void 0===Q?void 0:Q.rowItem,null===(ee=this.focus)||void 0===ee?void 0:ee.cell,FocusManager.getLayout(this.layouts,null===(te=this.focus)||void 0===te?void 0:te.panelType,null===(ie=this.focus)||void 0===ie?void 0:ie.rowItem)),this.doSelect())}catch(C){return re.Log.debug(["focus change fail",C]),!1}else yield this.scrollIntoView(null===(se=this.focus)||void 0===se?void 0:se.rowItem,null===(oe=this.focus)||void 0===oe?void 0:oe.cell,FocusManager.getLayout(this.layouts,null===(ae=this.focus)||void 0===ae?void 0:ae.panelType,null===(ue=this.focus)||void 0===ue?void 0:ue.rowItem));null===(de=this._keyboardEventHandler)||void 0===de||de.focusMoved()}))}focusKeyEditElement(){var C,I,B,z;if(!1===(null===(C=this.grid.editConfig)||void 0===C?void 0:C.keyEdit))return;if(this.grid.view.editKeyMap.size>0)return;if((null===(I=this.focus)||void 0===I?void 0:I.panelType)!==le.PanelType.Body)return;const q=this.grid.container.find(`.${de.SbCss.panel}.${de.SbCss.hidden}`),Q=ne.JqUtils.adjustElement(q,`input[type=text].${de.SbCss.input}.${de.SbCss.keyedit}`,`<input type="text" class="${de.SbCss.input} ${de.SbCss.keyedit}"/>`),ee=document.activeElement;(ee.isSameNode(this.grid.container.get(0))||ee.isSameNode(Q.get(0)))&&this.koreanKeyEditType.includes(null===(z=null===(B=this.focus)||void 0===B?void 0:B.column)||void 0===z?void 0:z.type)?!Q.is(document.activeElement)&&this.focusToElement(Q.get(0),!0):Q.is(document.activeElement)&&this.focusToElement(this.grid.container.get(0),!0)}isValidFocus(C){if((null==C?void 0:C.panelType)===le.PanelType.Body){if(ne.Convert.isNull(null==C?void 0:C.rowItem))return!0;if(ne.Convert.isNull(null==C?void 0:C.column))return!0}return!1}doSelect(){var C,I;if(this.focus.eventType===ye.mousedown)return;const B=new te.SelectCommand;B.start={rowItem:null===(C=this.focus)||void 0===C?void 0:C.rowItem,column:null===(I=this.focus)||void 0===I?void 0:I.column},B.end=B.start,this.fireCommandAsync(this,B)}_moveFocus(C){var I;return z(this,void 0,void 0,(function*(){const B=this.focus;this._focus=C;const z=new te.FocusedCommand(this.focus,B,this.focus.eventType),q=null===(I=yield this.fireCommandAsync(this,z))||void 0===I||I;return q?(ne.Convert.isValue(B)&&this.fireCommandAsync(this,this.makeRefreshCommand(B)),this.fireCommandAsync(this,this.makeRefreshCommand(this.focus)),this.setRowItemFocus(this._focus,B)):this._focus=B,q}))}setRowItemFocus(C,I){(null==C?void 0:C.rowItem)!=(null==I?void 0:I.rowItem)&&(ne.Convert.isValue(null==C?void 0:C.rowItem)&&(C.rowItem.isFocus=!0),ne.Convert.isValue(null==I?void 0:I.rowItem)&&(I.rowItem.isFocus=!1))}changeTop(C){var I,B,q,Q,ee;return z(this,void 0,void 0,(function*(){let z=this.grid.topRow;if(ne.Convert.isValue(this.focus.rowItem)){let Q=(null===(I=null==C?void 0:C.rowItem)||void 0===I?void 0:I.rowIndex)<(null===(q=null===(B=this.focus)||void 0===B?void 0:B.rowItem)||void 0===q?void 0:q.rowIndex)?1:-1;const ee=yield this.getTopRow(this.focus.rowItem,Q,z);z!=ee&&(this.grid.topRow=ee,re.Log.debug(["topRow Changed !!",z,"--\x3e",ee]))}const te=this.grid.topCol;let ie=(null===(Q=this.focus)||void 0===Q?void 0:Q.column.index)>(null===(ee=null==C?void 0:C.column)||void 0===ee?void 0:ee.index)?1:-1,se=yield this.getTopCol(te,ie,this.focus.column.index);ne.Convert.isNull(null==se?void 0:se.nextTopCol)&&(se=yield this.getTopCol(te,-1*ie,this.focus.column.index)),ne.Convert.isValue(null==se?void 0:se.nextTopCol)&&te!=(null==se?void 0:se.nextTopCol)&&(this.grid.topCol=null==se?void 0:se.nextTopCol,re.Log.debug(["topCol Changed !!",te,"--\x3e",null==se?void 0:se.nextTopCol]))}))}getTopRow(C,I,B){var q;return z(this,void 0,void 0,(function*(){const z=(this.grid.scrollWhole?yield this.grid.viewport.calcRows(B,!0,!1):this.grid.rowsView).currRows;for(-1===I&&(ne.Convert.isEmpty(z)||(null===(q=z[z.length-1])||void 0===q?void 0:q.rowIndex)<(null==C?void 0:C.rowIndex))&&(I=1);(yield this.needReload(C,I,B))&&!((B+=I)<0||B>this.grid.rowCount););return B}))}needReload(C,I,B){var q,Q;return z(this,void 0,void 0,(function*(){const z=this.grid.scrollWhole?yield this.grid.viewport.calcRows(B,!0,!1):this.grid.rowsView,ee=z.currRows,te=ee.findIndex((I=>{var B;return(null===(B=I.rowItem)||void 0===B?void 0:B.rowIndex)===C.rowIndex}));let re=te<0;if(!re&&1===I){const C=ee[te];ee[te+I];let B,ne=ee[ee.length-1];if(ne.rowItem.isSticky){B=z.scrollHeight;let C=ee.length-1;for(;null===(q=null==ne?void 0:ne.rowItem)||void 0===q?void 0:q.isSticky;)B-=ne.rowHeight.height,ne=ee[--C]}else B=(null===(Q=null==ne?void 0:ne.rowItem)||void 0===Q?void 0:Q.node)instanceof ie.FooterNode||z.scrollHeight<ne.top?z.scrollHeight-ne.rowHeight.height:ne.top;B<C.top+C.rowHeight.height&&(re=!0)}return re}))}getTopCol(C,I,B,q){return z(this,void 0,void 0,(function*(){const z=yield this.grid.viewport.calcCols(C,!0);if(C<0||C>z.lastCol)return;const q=z.fullCells,Q=q.findIndex((C=>C.column.index===B)),ee=q[Q];if(ne.Convert.isNull(ee)){if(ne.Convert.isEmpty(z.bodyCells))return;return I>0&&C>B&&(I=-1),I<0&&C<B&&(I=1),yield this.getTopCol(C+I,I,B)}return ee.outOfView,{nextTopCol:C,nextCell:ee}}))}canGridCommand(C){return this.grid.canGridCommand(C)}makeRefreshCommand(C,I=!0){var B,z,q,Q;let ee;return ee={rowStart:null===(B=null==C?void 0:C.rowItem)||void 0===B?void 0:B.rowIndex,rowEnd:null===(z=null==C?void 0:C.rowItem)||void 0===z?void 0:z.rowIndex,colStart:null===(q=null==C?void 0:C.column)||void 0===q?void 0:q.index,colEnd:null===(Q=null==C?void 0:C.column)||void 0===Q?void 0:Q.index,onlyLayout:I},new te.RefreshCommand(ee)}update(C,I){const B=this.focus;if(ne.Convert.isValue(C)){this.directApplyEdit(null==B?void 0:B.column,I);if(!this.hasUpdate(C,I))return!0}const z=this.validationCkeck(null==B?void 0:B.column);if(!z)throw re.Log.debug(["validatation check fail!"]),this.fireCommandAsync(this,new te.RefreshCommand({rowStart:B.rowItem.rowIndex,rowEnd:B.rowItem.rowIndex,colStart:B.column.index,colEnd:B.column.index})),"validatation check fail!";return this._update(null==B?void 0:B.column),z}directApplyEdit(C,I){(null==C?void 0:C.directApplyEdit)&&0==(null==I?void 0:I.directApplyEdit)&&this.focusToGridContainer()}focusToGridContainer(){this.focusToElement(this.grid.container.get(0),!0)}focusToElement(C,I=!0){C.focus({preventScroll:I})}validationCkeck(C){var I;const B=null===(I=this.editConfig)||void 0===I?void 0:I.mode;let z=!0;const q=B===se.EditMode.incell?[C]:[].concat(this.grid.headColumns).concat(this.grid.scrollColumns).concat(this.grid.tailColumns);return[...this.grid.view.editKeyMap.keys()].forEach((C=>{const I=this.grid.view.keyMap.get(C);ne.Arrays.bfsAction(q,(C=>{if(!1===C.editable(I)||ne.Convert.isNull(C.config.validators))return C.columns;return C.isValid(I).state!==ce.ValidationState.Valid&&(z=!1),C.columns}))})),z}_update(C){var I;const B=[...this.grid.view.editKeyMap.keys()],z=(null===(I=this.editConfig)||void 0===I?void 0:I.mode)==se.EditMode.incell;B.forEach((I=>{const B=this.grid.view.keyMap.get(I),q=z?this.incellUpdate(B,C):this.inlineUpdate(B,C);ne.Convert.isValue(q)&&this.fireCommandAsync(this,new ee.UpdatedCommand(q)),this.grid.doGridCommand(new fe.GridEditCommand(B.key,C,!1)),this.fireCommandAsync(this,new te.RefreshCommand({rowStart:B.rowIndex,rowEnd:B.rowIndex,onlyLayout:!1}))})),this.focusToGridContainer(),this.grid.view.clearEdit()}incellUpdate(C,I,B=!0){var z;if(!I.editable(C)||I.config.directApplyValue)return;const q=null!==(z=C.columnTemps[I.name])&&void 0!==z?z:C.data[I.field],Q=C.data[I.field];return I.setValueDirect(C,q,I.field),B&&this.detailComboUpdate(C,I),[{key:C.key,value:q,field:I.field,oldValue:Q,editable:I.editable(C)}]}detailComboUpdate(C,I){I instanceof ve.ComboColumn&&this.grid.columns.forEach((I=>{if(I instanceof ve.ComboColumn){if(ne.Convert.isNull(I.config.masterField))return;const B=C.temp[I.field];I.setValueDirect(C,B,I.field)}}))}inlineUpdate(C,I){const B=C.temp,z=[].concat(this.grid.headColumns).concat(this.grid.scrollColumns).concat(this.grid.tailColumns),q=Object.keys(B),Q=[];return ne.Arrays.dfsAction(z,(I=>{const B=this.incellUpdate(C,I,!1);return ne.Convert.isValue(B)&&Q.push(...B),I.columns})),(ne.Convert.isEmpty(q)||q.length<2)&&this.fireCommandAsync(this,new te.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})),Q}hasUpdate(C,I){var B;const z=this.focus,q=null===(B=this.grid.editConfig)||void 0===B?void 0:B.mode;if(ne.Convert.isNull(q))return!1;const Q=this.grid.view.editKeyMap;let ee=!1;switch(q){case se.EditMode.incell:ee=(null==Q?void 0:Q.size)>0&&((null==z?void 0:z.rowItem)!==C||(null==z?void 0:z.column)!=I);break;case se.EditMode.inline:ee=(null==Q?void 0:Q.size)>0&&(null==z?void 0:z.rowItem)!==C}return ee}enableEdit(C){var I,B;return z(this,void 0,void 0,(function*(){if(ne.Convert.isNull(this.grid.config.editable))return;const C=null===(I=this.focus)||void 0===I?void 0:I.column,z=null===(B=this.focus)||void 0===B?void 0:B.rowItem;ne.Convert.isNull(z)||ne.Convert.isNull(C)||this._enableEdit(z,C)}))}_enableEdit(C,I){var B,z;((null===(B=this.editConfig)||void 0===B?void 0:B.mode)!==se.EditMode.incell||I.editable(C))&&(null===(z=this.editConfig)||void 0===z?void 0:z.mode)!==se.EditMode.none&&(C.node instanceof ie.GroupNode||ne.Convert.isEmpty(this.grid.view.editKeyMap)&&this.fireCommandAsync(this,new te.EditCommand("",C,I)))}cancelEdit(C=!0){if(ne.Convert.isValue(this.grid.view.editKeyMap)){const I=new fe.GridEditCommand(this.focus.rowItem.key,this.focus.column,!1);if(!this.canGridCommand(I))return;this.grid.view.clearEdit(),this.grid.doGridCommand(I),this.fireCommand(this,new te.RefreshCommand({rowStart:this.focus.rowItem.rowIndex,rowEnd:this.focus.rowItem.rowIndex})),C&&this.focusToGridContainer()}}doCommand(C,I){switch(I.command){case Q.Commands.Cancel:case Q.Commands.Escape:this.doEscapeCommand(I);break;case Q.Commands.Edit:this.doEditCommand(I);break;default:return super.doCommand(C,I)}return!0}getPanelType(C){const I=C.closest(`.${de.SbCss.panel}`);return I.length<1?void 0:I.hasClass(de.SbCss.body)?le.PanelType.Body:I.hasClass(de.SbCss.header)?le.PanelType.Header:I.hasClass(de.SbCss.footer)?le.PanelType.Footer:I.hasClass(de.SbCss.caption)?le.PanelType.Caption:I.hasClass(de.SbCss.filter)?le.PanelType.Filter:void 0}doEscapeCommand(C){var I;(null===(I=this.focus)||void 0===I?void 0:I.panelType)!==le.PanelType.Body||this.cancelEdit()}doEditCommand(C){this.focus.column,ae.GroupColumn}isFocused(C,I,B,z){var q,Q,ee,te;const ie=this.focus;return ne.Convert.isNull(z)&&B==le.PanelType.Body&&(z=ne.Utils.findCellFromColumn(this.layouts.rowLayout,I)),(null==ie?void 0:ie.panelType)===B&&(null===(q=null==ie?void 0:ie.rowItem)||void 0===q?void 0:q.key)===(null==C?void 0:C.key)&&(null===(Q=null==ie?void 0:ie.column)||void 0===Q?void 0:Q.name)===(null==I?void 0:I.name)&&(null===(ee=null==ie?void 0:ie.cell)||void 0===ee?void 0:ee.row)==(null==z?void 0:z.row)&&(null===(te=null==ie?void 0:ie.cell)||void 0===te?void 0:te.col)==(null==z?void 0:z.col)}doTabNextFocusFilter(){this.keyboardEventHandler.keyboardNavigation.doTabNextFocusFilter()}disconnect(){var C;null===(C=this.gridSearch)||void 0===C||C.cancel()}clear(){this._focus=void 0,this.disconnect()}scrollIntoView(C,I,B){var q,Q;return z(this,void 0,void 0,(function*(){if(0==this.grid.visible)return;if(yield FocusManager.scrollIntoRowView(this.grid,C),ne.Convert.isNull(I))return;if(I.isSticky&&0==B.stickyOverflow)return;if(I.part==pe.PartType.Fixed||I.part==pe.PartType.Head||I.part==pe.PartType.Tail)return;let z=1;const ee=yield this.grid.viewport.calcCols(this.grid.topCol,!0,B),te=B.stickyOverflow?null===(q=ee.bodyCells[0])||void 0===q?void 0:q.col:null===(Q=ee.bodyCells.find((C=>C.part==pe.PartType.Body)))||void 0===Q?void 0:Q.col,ie=ee.bodyCells.find((C=>C.col==I.col&&C.row==I.row));if(I.col<=te)z=-1;else if(ne.Convert.isValue(ie)&&ie.outOfView==oe.OutOfView.Visible)return ie;yield FocusManager.scrollIntoColView(this.grid,z,I,B)}))}static scrollIntoRowView(C,I){var B;return z(this,void 0,void 0,(function*(){if(ne.Convert.isNull(I))return;if(I.isSticky)return;const z=I.rowIndex;let q=C.topRow;const Q=yield C.viewport.calcRows(q,!0,!1),ee=Q.currRows;if(ne.Convert.isEmpty(ee))return;const te=null===(B=ee[ee.length-1])||void 0===B?void 0:B.rowIndex;if(ee.some((C=>C.rowIndex==z))&&(Q.scrollHeight>=Q.rowHeights||te!=z))C.topRow=q;else if(z<q)C.topRow=z;else if(te==z)C.topRow+=1;else if(te<z){for(q+=z-te+1;!(q>=C.rowCount);){let I=(yield C.viewport.calcRows(q,!0,!1)).currRows;if(I.some((C=>C.rowIndex==z))){I[I.length-1].rowIndex==z&&q++;break}q++}C.topRow=q}else C.topRow=z}))}static scrollIntoColView(C,I,B,q){return z(this,void 0,void 0,(function*(){if(B.part==pe.PartType.Fixed||B.part==pe.PartType.Head||B.part==pe.PartType.Tail)return B;if(0==q.stickyOverflow&&B.part==pe.PartType.Sticky)return B;let Q=C.topCol;if(Q===B.col)return C.topCol!=Q&&re.Log.debug(["topCol Changed ",C.topCol,"--\x3e",Q]),void(C.topCol=Q);return 0==(yield calcTopCol(C,Q,I,q))&&(yield calcTopCol(C,Q,-I,q)),B;function calcTopCol(C,I,q,Q){var ee;return z(this,void 0,void 0,(function*(){for(;;){const z=yield C.viewport.calcCols(I,!0,Q);if(z.bodyCells.findIndex((C=>C.col==B.col&&C.row==B.row&&C.outOfView===oe.OutOfView.Visible))>=0)return C.topCol!=I&&(re.Log.debug(["topCol Changed ",C.topCol,"---\x3e",I]),C.topCol=I),!0;if((I+=q)<0||(null!==(ee=z.lastCol)&&void 0!==ee?ee:0)<I)break}return!1}))}}))}getNextFocus(C,I,B,q=le.PanelType.Body){var Q,ee;return z(this,void 0,void 0,(function*(){const z={column:I,rowItem:B,panelType:q,cell:q===le.PanelType.Body?ne.Utils.findCellFromColumn(this.layouts.rowLayout,I):void 0};return null===(ee=null===(Q=this.keyboardEventHandler)||void 0===Q?void 0:Q.keyboardNavigation)||void 0===ee?void 0:ee.getNextFocus(C,z)}))}checkRowChanged(){var C,I;const B=null===(C=this.focus)||void 0===C?void 0:C.rowItem;if(ne.Convert.isNull(B))return;const z=B.rowIndex,q=null===(I=this.grid.view)||void 0===I?void 0:I.map(B.key);ne.Convert.isValue(q)&&z!==q.rowIndex&&(this.focus.rowItem=q)}}var ye,be,Ce;I.FocusManager=FocusManager,function(C){C.keydown="keydown",C.mousedown="mousedown"}(ye||(I.FocusEvent=ye={}));class KeyboardEventHandler extends q.Observer{get keyboardNavigation(){return this._keyboardNavigation}set keyboardNavigation(C){this._keyboardNavigation=C}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.navigatable}constructor(C){super(C),this.grid=C,this.grid.config.navigatable&&(this.keyboardNavigation=new KeyboardNavigation(this.grid))}getCommand(C,I){var B;const z=null!==(B=this.commands)&&void 0!==B?B:this.commands=new Map;let q;return z.has(C)?q=z.get(C):(q=Q.CommandFactory.create(C,...I),this.commands.set(C,q)),q}addEventListner(C){this.grid.setEvent("FocusManager","keydown","KeyboardEventHandler",(C=>(C.ctrlKey||C.metaKey?this.ctrlKeyEventOccured(C):C.shiftKey?this.shiftKeyEventOccured(C):this.keyEventOccured(C),!0)),this.grid.container[0])}keyEventOccured(C){var I,B,z,q,Q,ee,ie;const re=this.grid.focusManager.focus;let se,oe;if(ne.Convert.isNull(re))return!0;switch(C.key){case be.ArrowDown:case be.ArrowLeft:case be.ArrowRight:case be.ArrowUp:return oe=this.isFilterEdit(re),void(oe||(C.preventDefault(),null===(I=this.keyboardNavigation)||void 0===I||I.naviNextFocus(C.key)));case be.Tab:return oe=this.isFilterEdit(re),C.preventDefault(),void(null===(B=this.keyboardNavigation)||void 0===B||B.doTabNextFocus());case be.Home:return C.preventDefault(),void(null===(z=this.keyboardNavigation)||void 0===z||z.naviFirstCell(re.rowItem,re.panelType));case be.End:return C.preventDefault(),void(null===(q=this.keyboardNavigation)||void 0===q||q.naviLastCell(re.rowItem,re.panelType));case be.PageUp:return C.preventDefault(),void(null===(Q=this.keyboardNavigation)||void 0===Q||Q.doPageChange(-1));case be.PageDown:return C.preventDefault(),void(null===(ee=this.keyboardNavigation)||void 0===ee||ee.doPageChange(1));case be.Esc:case be.Escape:se=new te.EscapeCommand;break;case be.Enter:se=(null==re?void 0:re.panelType)===le.PanelType.Filter?new te.EditFilterCommand(C,re):this.doEnter(re,C);break;default:if(null===(ie=this.grid.focusManager.editConfig)||void 0===ie?void 0:ie.keyEdit){const I=this.checkKeyCode(C.key,C.keyCode);if(!1===I)return;this.keyEdit(I)}}ne.Convert.isValue(se)&&this.fireCommandAsync(this,se)}isFilterEdit(C){return(null==C?void 0:C.panelType)===le.PanelType.Filter&&this.grid.scrollPanel.filterPanel.isEdit}doEnter(C,I){var B,z,q;const ee=C.column;let te;return(null===(B=this.option)||void 0===B?void 0:B.enterToNext)?te=this.enterToNext(C):ee.editable(null==C?void 0:C.rowItem)&&ee.isEdit(C.rowItem)?this.doUpdate():ne.Convert.isValue(null===(z=this.grid.config)||void 0===z?void 0:z.editable)&&ee.editable(null==C?void 0:C.rowItem)&&(te=Q.CommandFactory.create(Q.Commands.Edit,null===(q=this.grid.editConfig)||void 0===q?void 0:q.mode,C.rowItem,C.column)),te}enterToNext(C){var I,B;const z=null==C?void 0:C.column,q=null==C?void 0:C.rowItem;if((null==z?void 0:z.editable(q))&&!z.isEdit(q))return Q.CommandFactory.create(Q.Commands.Edit,null===(I=this.grid.editConfig)||void 0===I?void 0:I.mode,q,z);null===(B=this.keyboardNavigation)||void 0===B||B.enterToNext()}doUpdate(){try{this.grid.focusManager.update()}catch(C){re.Log.debug(C)}}keyEdit(C){var I;if(this.grid.config.editable){const B=this.grid.focusManager.focus,z=null==B?void 0:B.rowItem,q=null==B?void 0:B.column;if(ne.Convert.isNull(z)||ne.Convert.isNull(q))return;if(!1===(null==q?void 0:q.editable(z)))return;if(null==q?void 0:q.isEdit(z))return;const ee=Q.CommandFactory.create(Q.Commands.Edit,null===(I=this.grid.editConfig)||void 0===I?void 0:I.mode,z,q);this.fireCommand(this,ee)&&!ne.Convert.isNull(C)&&q._setTemp(B.rowItem,C)}}checkKeyCode(C,I){if([8,18,20,21,,25,45,46,91,93,112,114,115,116,117,118,119,120,121,122,123,144,145,255].includes(I))return!1;return[13,20,23,91,93,229].includes(I)?"":113!==I?C:void 0}shiftKeyEventOccured(C){var I,B,q;return z(this,void 0,void 0,(function*(){let z;const Q=this.grid.focusManager.focus;switch(C.key){case be.ArrowLeft:case be.ArrowRight:case be.ArrowDown:case be.ArrowUp:z=(null===(I=this.grid.focusManager.focus)||void 0===I?void 0:I.panelType)==le.PanelType.Body?new te.SelectCommand(void 0,void 0,C.key):void 0;break;case be.Tab:this.isFilterEdit(Q)&&this.grid.container.get(0).focus(),C.preventDefault(),(null===(q=null===(B=this.keyboardNavigation)||void 0===B?void 0:B.naviConfig)||void 0===q?void 0:q.tabToNextCell)&&this.keyboardNavigation.doTabPrevFocus()}ne.Convert.isValue(z)&&this.fireCommandAsync(this,z)}))}ctrlKeyEventOccured(C){switch(C.key.toLowerCase()){case"z":C.shiftKey?this.fireCommandAsync(this,new ee.RedoCommand):this.fireCommandAsync(this,new ee.UndoCommand);break;case"y":this.fireCommandAsync(this,new ee.RedoCommand);break;case"c":this.fireCommandAsync(this,new ee.CopyCommand);break;case"v":this.fireCommandAsync(this,new ee.PasteCommand);break;case"a":C.preventDefault(),this.fireCommandAsync(this,new te.SelectCommand);break;case"f":C.preventDefault(),this.searchCommand();break;default:C.preventDefault()}}searchCommand(){if(this.grid.config.search){const C=this.grid.focusManager.gridSearch,I=null==C?void 0:C.render(!0);null==C||C.move(I)}}focusMoved(){var C;null===(C=this.keyboardNavigation)||void 0===C||C.setCellInfo()}}I.KeyboardEventHandler=KeyboardEventHandler;class KeyboardNavigation extends q.Observer{get focus(){return this.focusManager.focus}get focusManager(){var C;return null!==(C=this._focusManager)&&void 0!==C?C:this._focusManager=this.grid.focusManager}get row(){return this._row}set row(C){this._row=C}get col(){return this._col}set col(C){this._col=C}get naviConfig(){var C;return null!==(C=this._naviConfig)&&void 0!==C?C:this._naviConfig=this.grid.config.navigatable}get tabConfig(){var C,I,B;return null!==(C=this._tabConfig)&&void 0!==C?C:this._tabConfig=ne.Convert.isValue(null===(I=this.naviConfig)||void 0===I?void 0:I.tabToNextCell)?null===(B=this.naviConfig)||void 0===B?void 0:B.tabToNextCell:void 0}get enterConfig(){var C,I,B;return null!==(C=this._enterConfig)&&void 0!==C?C:this._enterConfig=ne.Convert.isValue(null===(I=this.naviConfig)||void 0===I?void 0:I.enterToNext)?null===(B=this.naviConfig)||void 0===B?void 0:B.enterToNext:void 0}constructor(C){super(C),this.grid=C}setCellInfo(){var C,I;const B=this.focus;ne.Convert.isValue(null==B?void 0:B.cell)&&(this.row=null===(C=null==B?void 0:B.cell)||void 0===C?void 0:C.row,this.col=null===(I=null==B?void 0:B.cell)||void 0===I?void 0:I.col)}naviNextFocus(C){return z(this,void 0,void 0,(function*(){const I=this.focus,B={rowItem:null==I?void 0:I.rowItem,column:null==I?void 0:I.column,cell:null==I?void 0:I.cell,panelType:null==I?void 0:I.panelType,eventType:null==I?void 0:I.eventType};return yield this._naviNextFocus(C,B)}))}_naviNextFocus(C,I,B=!1){return z(this,void 0,void 0,(function*(){const{rowItem:z,column:q,cell:Q,panelType:ee}=I,te=yield this.getNextFocus(C,I,B);if(ne.Convert.isNull(te)){if(C==be.ArrowLeft||C==be.ArrowRight)return;const B=C===be.ArrowDown?1:-1,z=this.getNextPanel(ee,B);return ne.Convert.isNull(z)?-1:(I.rowItem=void 0,I.panelType=z,void this._naviNextFocus(C,I,!0))}ee==le.PanelType.Body&&(ne.Convert.isNull(te.rowItem)||ne.Convert.isNull(te.column))||(te.eventType=ye.keydown,this.moveFocus(te))}))}moveFocus(C){this.grid.focusManager.focus=C}get panelTypes(){var C;return ne.Convert.isNull(this._panelTypes)&&(this._panelTypes=[],this.grid.config.captionVisible&&this._panelTypes.push(le.PanelType.Caption),"row"===this.grid.config.filterable&&this._panelTypes.push(le.PanelType.Filter),this.grid.hasHeader&&this._panelTypes.push(le.PanelType.Header),(null===(C=this.grid.scrollPanel)||void 0===C?void 0:C.bodyPanel)&&this._panelTypes.push(le.PanelType.Body),this.grid.hasFooter&&this._panelTypes.push(le.PanelType.Footer)),this._panelTypes}getNextPanel(C,I){const B=this.panelTypes,z=B.findIndex((I=>I==C));if(-1===z)return;const q=z+I;return q<0||q>B.length-1?void 0:B[q]}getNextFocus(C,I,B=!1){var q;return z(this,void 0,void 0,(function*(){const{rowItem:z,column:Q,cell:ee,panelType:te}=I,ie=null===(q=FocusManager.getLayout(this.layouts,te,z))||void 0===q?void 0:q.toMatrix();let re,se=z;switch(C){case be.ArrowRight:re=yield this.getBesideColumn(1,ee,ie,te);break;case be.ArrowLeft:re=yield this.getBesideColumn(-1,ee,ie,te);break;case be.ArrowDown:const C=te!==le.PanelType.Body?this.getGroupItem(ee,ie,1,B):yield this.getBelowCoord(ee,se,ie,B);se=null==C?void 0:C.rowItem,re=null==C?void 0:C.cell;break;case be.ArrowUp:const I=te!==le.PanelType.Body?this.getGroupItem(ee,ie,-1,B):yield this.getAboveCoord(ee,se,ie,B);se=null==I?void 0:I.rowItem,re=null==I?void 0:I.cell}return ne.Convert.isNull(re)?void 0:{rowItem:se,column:re.column,cell:re,panelType:te}}))}isGroupHeaderFooter(C){const I=null==C?void 0:C.node;return I instanceof ie.GroupNode||I instanceof ie.FooterNode}get layouts(){return this.grid.layouts}getMatrix(C,I){switch(C){case le.PanelType.Body:return ne.Convert.isValue(I)&&(I instanceof ie.GroupNode||I instanceof ie.FooterNode)?this.getGroupMatrix(I):this.layouts.rowMatrix;case le.PanelType.Caption:return this.layouts.captionMatrix;case le.PanelType.Header:return this.layouts.headerMatrix;case le.PanelType.Filter:return this.layouts.filterMatrix;case le.PanelType.Footer:return this.layouts.footerMatrix}}getGroupMatrix(C){const I=C instanceof ie.GroupNode,B=C instanceof ie.FooterNode;if(I||B){const B=I?C:C.parent;if(B instanceof ie.TreeNode)return this.layouts.treeFooterLayout.toMatrix();const z=this.layouts.groupLayout(B.igroup.field);return I?z.header.toMatrix():z.footer.toMatrix()}}getBesideColumn(C,I,B,q){return z(this,void 0,void 0,(function*(){return yield this.getBesideColumn_new(C,I,B,q)}))}getBesideColumn_new(C,I,B,q){var Q;return z(this,void 0,void 0,(function*(){let z=I.col,q=null!==(Q=this.row)&&void 0!==Q?Q:0,ee=I,te=I.colSpan;for(;z+=C>0?te:-1,ee=B.matrix[q][z],!ne.Convert.isNull(ee)&&(te=ee.colSpan,ee.column instanceof he.FrozenColumn||ee.column instanceof ae.GroupColumn);)ee=void 0;if(!ne.Convert.isNull(ee))return I=ee,FocusManager.scrollIntoColView(this.grid,C,ee,B.layout),this.col=I.col,ee}))}getBesideColumn_old(C,I,B,q){var Q,ee;return z(this,void 0,void 0,(function*(){const z=this.grid.topCol,te=yield this.grid.viewport.calcCols(z,!0);let ie=C>0?(null===(Q=null==I?void 0:I.column)||void 0===Q?void 0:Q.index)+(null==I?void 0:I.colSpan):null===(ee=B.getCell(this.row,I.col+C))||void 0===ee?void 0:ee.column.index;if(ie<0||ie>te.lastCol)return;let se=yield this.focusManager.getTopCol(z,C,ie,this.row);if(ne.Convert.isNull(se)){if(I.column.type===me.ColumnTypes.Frozen)se=yield this.focusManager.getTopCol(z,-1*C,ie);else{const I=ne.Arrays.bfsSearch(this.grid.wholeColumns,(C=>C.index===ie||C.columns));if(!(null==I?void 0:I.visible))for(;ie>=0&&ie<this.grid.rowCount&&ne.Convert.isNull(se);)ie+=C,se=yield this.focusManager.getTopCol(z,C,ie)}if(ne.Convert.isNull(se))return}const{nextTopCol:oe,nextCell:ae}=se;z!==oe&&(this.grid.topCol=oe,re.Log.debug(["FocusManager","naviBeside topCol changed",z,"->",this.grid.topCol]),B=this.getMatrix(q));const le=B.matrix;let ue,de=this.row;for(;ne.Convert.isNull(ue)&&de<le.length;){const C=le[de];ue=null==C?void 0:C.find((C=>(null==C?void 0:C.column.index)==(null==ae?void 0:ae.column.index))),de++}const ce=null==ue?void 0:ue.col;return I=B.getCell(this.row,ce),ne.Convert.isNull(I)||((null==I?void 0:I.column)instanceof he.FrozenColumn&&(I=yield this.getBesideColumn_old(C,I,B,q)),ne.Convert.isNull(I))?void 0:(this.col=I.col,I)}))}getBelowCoord(C,I,B,q=!1){var Q;return z(this,void 0,void 0,(function*(){let z=C.row+C.rowSpan;if(0==this.grid.scrollWhole){const C=0,B=this.grid.rows.length-1,z=(null==I?void 0:I.rowIndex)+1;if(z<C||B<z)return}if(q){I=yield this.grid.view.getRow(this.grid.topRow,0==this.grid.scrollWhole);const C=this.isGroupHeaderFooter(I)?I.node:void 0;B=this.getMatrix(le.PanelType.Body,C),z=0}if(z>B.matrix.length-1){const C=I.rowIndex+1;if(C>this.grid.rowCount-1)return;I=yield this.grid.view.getRow(C,0==this.grid.scrollWhole);const q=this.isGroupHeaderFooter(I)?I.node:void 0;B=this.getMatrix(le.PanelType.Body,q),z=0}if(ne.Convert.isValue(I)&&!1===I.visible)return this.getBelowCoord(C,I,B);const ee=this.grid.topRow,te=(null!==(Q=null==I?void 0:I.rowIndex)&&void 0!==Q?Q:0)<ee?-1:1,ie=yield this.getTopRow(I,te,ee);return ee!==ie&&(this.grid.topRow=ie,re.Log.debug(["topRow Changed !!",ee,"--\x3e",ie])),C=B.getCell(z,this.col),this.row=C.row,{rowItem:I,cell:C}}))}getGroupItem(C,I,B,z=!1){const q=I.matrix,Q=z?1===B?0:q.length-1:1===B?C.row+C.rowSpan:C.row+B,ee=Q>q.length-1||Q<0?void 0:I.getCell(Q,this.col);return ne.Convert.isValue(ee)&&(this.row=Q),{rowItem:void 0,cell:ee}}getAboveCoord(C,I,B,q=!1){return z(this,void 0,void 0,(function*(){let z=C.row-1;if(q){const C=yield this.grid.viewport.calcRows(this.grid.topRow,!0,!1);I=C.currRows[C.currRows.length-1].rowItem;const q=this.isGroupHeaderFooter(I)?I.node:void 0;z=(B=this.getMatrix(le.PanelType.Body,q)).matrix.length-1}if(z<0){const C=I.rowIndex-1;if(C<0)return;I=yield this.grid.view.getRow(C,0==this.grid.scrollWhole);const q=this.isGroupHeaderFooter(I)?I.node:void 0;z=(B=this.getMatrix(le.PanelType.Body,q)).matrix.length-1}if(ne.Convert.isValue(I)&&!1===I.visible)return this.getAboveCoord(C,I,B);const Q=this.grid.topRow,ee=yield this.getTopRow(I,-1,Q);return Q!==ee&&(this.grid.topRow=ee,re.Log.debug(["topRow Changed !!",Q,"--\x3e",ee])),C=B.getCell(z,this.col),this.row=C.row,{rowItem:I,cell:C}}))}getTopRow(C,I,B){return z(this,void 0,void 0,(function*(){return yield FocusManager.scrollIntoRowView(this.grid,C),this.grid.topRow}))}doTabNextFocus(){var C,I,B;return z(this,void 0,void 0,(function*(){if(ne.Convert.isNull(this.tabConfig))return;const z=this.getKeyboardShortCut(this.tabConfig.dir);if(ne.Convert.isNull(z))return;let q;switch(z){case be.ArrowDown:case be.ArrowUp:q=yield this.naviNextFocus(z);break;case be.ArrowLeft:case be.ArrowRight:yield this._doTabNextFocus(this.focus,z)}if(this.grid.config.editable&&this.tabConfig.edit)if(ne.Convert.isValue(q)&&q<0&&(null===(C=this.focus.column)||void 0===C?void 0:C.isEdit(this.focus.rowItem)))this.grid.focusManager.update();else{if(!1===(null===(I=this.focus)||void 0===I?void 0:I.column.editable(null===(B=this.focus)||void 0===B?void 0:B.rowItem)))return;const C=new te.EditCommand("",this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,C)}}))}doTabPrevFocus(){return z(this,void 0,void 0,(function*(){const C=this.getKeyboardShortCut(this.tabConfig.dir);if(!ne.Convert.isNull(C)){switch(C){case be.ArrowDown:yield this.naviNextFocus(be.ArrowUp);break;case be.ArrowUp:yield this.naviNextFocus(be.ArrowDown);break;case be.ArrowLeft:yield this._doTabNextFocus(this.focus,be.ArrowRight);break;case be.ArrowRight:yield this._doTabNextFocus(this.focus,be.ArrowLeft)}if(this.grid.config.editable&&this.tabConfig.edit){const C=new te.EditCommand("",this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,C)}}}))}doTabNextFocusFilter(){return z(this,void 0,void 0,(function*(){ue.SBGrid3.$(document.activeElement);yield this._doTabNextFocus(this.focus,be.ArrowRight)}))}_doTabNextFocus(C,I){var B;return z(this,void 0,void 0,(function*(){let z=yield this.getNextFocus(I,{rowItem:C.rowItem,column:C.column,panelType:C.panelType,cell:C.cell});if(ne.Convert.isNull(z)){null===(B=this.getLastColumn(C.rowItem,C.panelType))||void 0===B||B.column,this.grid.dataConfig.clientPaging||this.grid.dataConfig.serverPaging?this.grid.rows.length:this.grid.visibleCount;I==be.ArrowRight?yield this.tabFirstCell(C.rowItem,C.panelType):yield this.tabLastCell(C.rowItem,C.panelType)}else z.panelType==le.PanelType.Body&&(ne.Convert.isNull(z.rowItem)||ne.Convert.isNull(z.column))||(z.eventType=ye.keydown,this.moveFocus(z))}))}tabFirstCell(C,I){return z(this,void 0,void 0,(function*(){yield this.naviFirstCell(C,I),yield this._naviNextFocus(be.ArrowDown,this.focusManager.focus)}))}tabLastCell(C,I){return z(this,void 0,void 0,(function*(){yield this.naviLastCell(C,I),yield this._naviNextFocus(be.ArrowUp,this.focusManager.focus)}))}getLastColumn(C,I){const B=(this.isGroupHeaderFooter(C)?this.getMatrix(I,C.node):this.getMatrix(I)).matrix,z=B[B.length-1];let q,Q,ee=-1;for(;ne.Convert.isNull(q)||q instanceof he.FrozenColumn;)Q=z[z.length+ee],this.col=Q.col,q=Q.column,ee--;return Q}naviFirstCell(C,I){var B;return z(this,void 0,void 0,(function*(){this.grid.topCol=0;const z=yield this.grid.viewport.calcCols(0,!0,null===(B=this.getMatrix(I,null==C?void 0:C.node))||void 0===B?void 0:B.layout);let q=z.fullCells.find((C=>0===C.col&&C.row===this.row)),Q=q.col+1;for(;(null==q?void 0:q.column)instanceof he.FrozenColumn;)q=z.fullCells.find((C=>C.col===Q&&C.row===this.row)),Q++;const ee={rowItem:C,column:null==q?void 0:q.column,cell:q,panelType:I};this.col=q.col,this.moveFocus(ee)}))}naviLastCell_old(C,I){var B;return z(this,void 0,void 0,(function*(){const z=null===(B=this.getMatrix(I,null==C?void 0:C.node))||void 0===B?void 0:B.layout,q=this.grid.layouts.defaultLayout.rows[0].cells,Q=q[q.length-1],ee=(null==Q||Q.column,yield this.grid.viewport.calcCols(null==Q?void 0:Q.col,!0,z));this.grid.topCol=ee.lastCol;let te=ee.fullCells.find((C=>C.col===ee.lastCol&&C.row===this.row)),ie=te.col-1;for(;(null==te?void 0:te.column)instanceof he.FrozenColumn;)te=ee.fullCells.find((C=>C.col===ie&&C.row===this.row)),ie--;const re={rowItem:C,column:null==te?void 0:te.column,cell:te,panelType:I};this.col=te.col,this.moveFocus(re)}))}naviLastCell(C,I){return z(this,void 0,void 0,(function*(){const B=this.grid.layouts.defaultLayout.rows[0].cells,z=B[B.length-1];this.grid.topCol=z.col;let q=B.find((C=>C.col===z.col&&C.row===this.row)),Q=q.col-1;for(;(null==q?void 0:q.column)instanceof he.FrozenColumn;)q=B.find((C=>C.col===Q&&C.row===this.row)),Q--;const ee={rowItem:C,column:null==q?void 0:q.column,cell:q,panelType:I};this.col=q.col,this.moveFocus(ee)}))}getLastColumnByColumns(){const C=this.grid.columns;let I=this.grid.columns.length-1,B=C[I--];for(;!B.visible;)B=C[I--];return B}doPageChange(C){var I,B;return z(this,void 0,void 0,(function*(){if((null===(I=this.focus)||void 0===I?void 0:I.panelType)==le.PanelType.Body){let I=this.grid.topRow,z=I+C*this.grid.dataSource.pageSize;z=z<0?0:z>this.grid.adjustedTotal-1?yield this.getLastTopRow(C,I):z,I!=z&&(re.Log.debug(["topRow changed",I,"->",z]),this.grid.topRow=z);let q=z+(this.focus.rowItem.rowIndex-I);q>this.grid.adjustedTotal-1&&(q=this.grid.adjustedTotal-1);const Q=yield this.grid.view.getRow(q),ee=this.isGroupHeaderFooter(Q)?this.getMatrix(le.PanelType.Body,Q.node):this.getMatrix(le.PanelType.Body),te=null===(B=this.focus.cell)||void 0===B?void 0:B.col;this.moveFocus({rowItem:Q,column:this.focus.column,cell:ee.getCell(0,te),panelType:le.PanelType.Body})}}))}getLastTopRow(C,I){return z(this,void 0,void 0,(function*(){const B=yield this.grid.view.getRow(this.grid.adjustedTotal-1);return yield this.getTopRow(B,C,I)}))}bodyFirstCell(){return z(this,void 0,void 0,(function*(){const C=yield this.grid.view.getRow(this.grid.topRow);this.naviFirstCell(C,le.PanelType.Body)}))}getLayout(C){switch(C){case le.PanelType.Caption:return this.grid.captionLayout;case le.PanelType.Body:return this.grid.rowLayout;case le.PanelType.Header:return this.grid.headerLayout;case le.PanelType.Footer:return this.grid.footerLayout;case le.PanelType.Filter:return this.grid.filterLayout}}enterToNext(){var C;return z(this,void 0,void 0,(function*(){const I=this.enterConfig,B=this.getKeyboardShortCut(I.dir);if(ne.Convert.isNull(B))return;let z;switch(B){case be.ArrowDown:case be.ArrowUp:z=yield this.naviNextFocus(B);break;case be.ArrowLeft:case be.ArrowRight:yield this._doTabNextFocus(this.focus,B)}if(this.grid.config.editable&&(null==I?void 0:I.edit)){if(this.focus.panelType!==le.PanelType.Body)return;if(ne.Convert.isValue(z)&&z<0&&this.focus.column.isEdit(this.focus.rowItem))this.grid.focusManager.update();else{const I=Q.CommandFactory.create(Q.Commands.Edit,null===(C=this.grid.editConfig)||void 0===C?void 0:C.mode,this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,I)}}}))}getKeyboardShortCut(C){switch(C){case Ce.Down:return be.ArrowDown;case Ce.Left:return be.ArrowLeft;case Ce.Right:return be.ArrowRight;case Ce.Up:return be.ArrowUp}}}!function(C){C.Esc="Esc",C.Escape="Escape",C.ArrowDown="ArrowDown",C.ArrowLeft="ArrowLeft",C.ArrowRight="ArrowRight",C.ArrowUp="ArrowUp",C.Enter="Enter",C.Space=" ",C.Tab="Tab",C.Home="Home",C.End="End",C.PageUp="PageUp",C.PageDown="PageDown"}(be||(I.KeyboardShortCut=be={})),function(C){C.Up="up",C.Down="down",C.Right="right",C.Left="left"}(Ce||(I.Direction=Ce={}))},2208:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GridStyle=I.Grid=void 0;const q=B(2663),Q=B(4407),ee=B(9797),te=B(6258),ie=B(194),re=B(7721),ne=B(1009),se=B(1163),oe=B(3568),ae=B(860),le=B(5260),ue=B(6312),de=B(7078),ce=B(7392),he=B(5165),fe=B(8788),pe=B(8964),me=B(6105),ge=B(3354),ve=B(8788),ye=B(5565),be=B(6938),Ce=B(1415),we=B(5774),_e=B(1355),Se=B(503),xe=B(2562),ke=B(7443),Te=B(121),Me=B(6409),Re=B(5060),Ee=B(3580),Pe=B(373),Ie=B(2351),Ne=B(6140),Ae=B(6252),De=B(636);class Grid extends Q.Publisher{constructor(C){let I=new ee.GridView(C);if(super(I),this._columnIndexed=!1,this._refreshCommands=[],this._refreshingCommands=[],this._minStickyLenth=0,this._maxStickyLenth=0,this._pageLoading=!1,this.onResize=C=>{const I=this;se.Convert.isValue(this.resizeTimer)&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){return z(this,void 0,void 0,(function*(){try{if(yield I.lock.acquire(),I.clearLayout(),0==I.virtualColumn)I.scrollPanel.scrollLeft=I.scrollPanel.scrollLeft;else{if(ue.SBGrid3.$(`>.${de.SbCss.scroll}>.${de.SbCss.scrollh}`,I.container).scrollLeft()>0){const C=I.minTopCol;I.topCol>C&&(I.topCol=C)}}I.fireCommandAsync(this,new he.RefreshCommand),this.resizeTimer=void 0}finally{yield I.lock.release()}}))}),0)},this.refreshing=!1,this._visible=!1,this._originConfig=C,this._gridView=I,this.personalSetting(),se.Convert.isValue(this.wrapper.data("grid"))){this.wrapper.data("grid").cleanup()}this.wrapper.data("grid",this),this.initControls()}cleanup(){this.container.remove(),this.clearColumns(),this.clearRows(!0),this.clearStyle(),this.resetManager()}setConfig(C){this.view.setConfig(te.GridParser.parseConfig(C)),this.initControls()}setSize(C,I){se.Convert.isValue(C)&&(this.config.width=C),se.Convert.isValue(I)&&(this.config.height=I),this.clearLayout(),this.refresh()}initControls(C=!0){this.container.empty(),this.resetManager(),this.createPanels(this.config.panels),this.clearColumns(),this.clearRows(C)}sortColumns(C){C.sort(((C,I)=>C.index-I.index)),C.forEach((C=>se.Convert.isValue(C.columns)&&this.sortColumns(C.columns)))}resetManager(){var C,I,B,z,q;null===(C=this._eventManager)||void 0===C||C.disconnect(),null===(I=this._selectManager)||void 0===I||I.disconnect(),null===(B=this._focusManager)||void 0===B||B.disconnect(),null===(z=this._viewport)||void 0===z||z.disconnect(),null===(q=this._filterManager)||void 0===q||q.disconnect(),this._eventManager=void 0,this._viewport=void 0}createEventManager(){const C=new Ce.EventManager(this);return C.setHandler("GridClick","click",this.name,(C=>Grid.gridEvent(this,C)),this.container.get(0)),C.setHandler("GridDblClick","dblclick",this.name,(C=>Grid.gridEvent(this,C)),this.container.get(0)),C.setHandler("GridKeydown","keydown",this.name,(C=>Grid.gridKeyDown(this,C)),this.container.get(0)),C}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new se.Lock}get resourceManager(){return this.dataSource.resourceManager}get resource(){return this.dataSource.resource}get exporting(){var C;return null!==(C=this._exporting)&&void 0!==C?C:this._exporting=!1}set exporting(C){this._exporting=C}get theme(){return this.config.theme}set theme(C){this.setTheme(C)}get isMobile(){var C;return null!==(C=this._isMobile)&&void 0!==C?C:this._isMobile=/iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson|Mobile/i.test(navigator.userAgent)}set isMobile(C){this._isMobile!==C&&(this._isMobile=C,this.clearLayout(),this.refresh())}static gridKeyDown(C,I){var B;const z=C.focusManager.focus;if(se.Convert.isValue(z)){const q=new Pe.GridEventCommand(I.originalEvent,null===(B=z.rowItem)||void 0===B?void 0:B.key,z.column);C.doGridCommand(q)}return!0}static gridEvent(C,I){const B=ue.SBGrid3.$(I.target),z=C.getRowItem(B),q=C.getColumn(B),Q=new Pe.GridEventCommand(I.originalEvent,null==z?void 0:z.key,q);return C.doGridCommand(Q),!0}get touch(){return this._touch}set touch(C){this._touch=C}static gridTouchStart(C,I){"none"!==I.currentTarget.style.touchAction&&(I.currentTarget.style.touchAction="none");const B=I.targetTouches[0];return se.Convert.isValue(C.touchTimer)&&(clearTimeout(C.touchTimer),C.touchTimer=void 0,C.diffX=void 0,C.diffY=void 0),C.touch={clientX:B.clientX,clientY:B.clientY,startX:B.clientX,startY:B.clientY,topCol:C.topCol,topRow:C.topRow},!1}static gridTouchMove(C,I){return z(this,void 0,void 0,(function*(){if(I.cancelable&&I.preventDefault(),C.isLoading)return;I.target.closest(`.${de.SbCss.row}`);const B=I.targetTouches[0];let z=C.touch.clientX-B.clientX,q=C.touch.clientY-B.clientY;const Q=Math.abs(z),ee=Math.abs(q);return Q>ee&&(q=0),Q<=ee&&(z=0),se.Convert.isValue(B)&&(yield C._touchMove(B.clientX,B.clientY,z,q)),!1}))}_touchMove(C,I,B,q){return z(this,void 0,void 0,(function*(){const z=yield this.touchMove(B,q);return this.diffX=B,this.diffY=q,this.touch.clientY=I,this.touch.clientX=C,z}))}touchMove(C,I){var B,q,Q,ee,te;return z(this,void 0,void 0,(function*(){if(0==this.virtualColumn){const I=Math.max(0,this.scrollPanel.scrollLeft+C);this.scrollPanel.scrollLeft=I,this.scrollPanel.setScrollPos(I,void 0)}else if(C>0){const I=this.maxTopCol-this.minTopCol;C=Math.trunc((this.touch.startX-C-this.touch.clientX)/I),this.topCol=this.touch.topCol+C}if(0==this.virtualRow){let C=this.scrollPanel.scrollTop+I;if(I<0&&this.scrollPanel.scrollTop<=0)return!1;if(I<0&&C<0&&(C=0),I>0&&Math.round(this.scrollPanel.scrollTop+this.scrollPanel.viewportHeight)>=this.scrollPanel.scrollHeight)return!1;this.scrollPanel.scrollTop=C,this.scrollPanel.setScrollPos(void 0,C)}else{const C=null!==(ee=null===(Q=null===(q=null===(B=this.focusManager)||void 0===B?void 0:B.focus)||void 0===q?void 0:q.rowItem)||void 0===Q?void 0:Q.rowHeight)&&void 0!==ee?ee:this.rowHeights,I=Math.trunc((this.touch.startY-this.touch.clientY)/C),z=0==(null!==(te=this._maxTopRow)&&void 0!==te?te:0)?yield this.getMaxTopRow():this._maxTopRow;if(I<0&&0==this.topRow)return!1;if(I>0&&this.topRow==z)return!1;let ie=this.touch.topRow+I;ie<0&&(ie=0),ie>z&&(ie=z),this.topRow!=ie&&(this.topRow=ie)}return!0}))}static gridTouchEnd(C,I){se.Convert.isValue(C.touchTimer)&&clearTimeout(C.touchTimer);let B=C.diffX,z=C.diffY;if(0!=se.Convert.isValue(B)||0!=se.Convert.isValue(z))return Math.abs(B)>Math.abs(z)?z=0:Math.abs(z)>=Math.abs(B)&&(B=0),z*=5,B*=5,C.runTouchTimer(B,z),!1}runTouchTimer(C,I){this.touchTimer&&cancelAnimationFrame(this.touchTimer),this.touchTimer=window.setTimeout((()=>z(this,void 0,void 0,(function*(){se.Convert.isNull(this.touchTimer)||this.moveTouchTimer(C,I)}))),100)}moveTouchTimer(C,I){return z(this,void 0,void 0,(function*(){const B=.9*(null!=C?C:C=this.diffX>0?150:-150),z=.9*(null!=I?I:I=this.diffY>0?150:-150);if(isNaN(B)||isNaN(z))return;if(0==I&&0==C||0!==I&&Math.abs(I)<.6||0!==C&&Math.abs(C)<.6)clearTimeout(this.touchTimer),this.touchTimer=void 0;else{if(0==(yield this.touchMove(C,I)))return;this.touch.clientX-=B,this.touch.clientY-=z,this.runTouchTimer(B,z)}}))}get view(){return this._gridView}get loader(){return this.dataSource.loader}get columns(){if(se.Convert.isEmpty(this._columns)){const C=[];this.createColumns(C,se.Arrays.asArray(this.config.columns)),this._columns=C}return this._columns}get nodes(){var C;return null===(C=this.loader)||void 0===C?void 0:C.nodes}get boxes(){return this.dataSource.getBoxes()}get map(){return this.dataSource.getPageMap()}get mergeMap(){var C;return null!==(C=this._mergeMap)&&void 0!==C?C:this._mergeMap=this.ensureMergeMap()}get panels(){var C;return null!==(C=this._panels)&&void 0!==C?C:this._panels=new Array}get refreshCommands(){return this._refreshCommands}get refreshingCommands(){return this._refreshingCommands}get scrollPanel(){return this._scrollPanel}set scrollPanel(C){this._scrollPanel=C}get hiddenPanel(){return this._hiddenPanel}set hiddenPanel(C){this._hiddenPanel=C}get loadingPanel(){return this._loadingPanel}set loadingPanel(C){this._loadingPanel=C}get scrollTop(){return this.scrollPanel.scrollTop}get config(){return this.view.config}get originConfig(){return this._originConfig}get dataSource(){return this.view.config.dataSource}get dataConfig(){return this.dataSource.config}get wrapper(){return this.config.container}set wrapper(C){this.config.container=C,this._container=void 0,this.refresh()}get rootClass(){const C=se.Convert.isValue(this.theme)?`${de.SbCss.toClass("theme",this.theme)}`:"";return`${de.SbCss.grid} ${C}`}get container(){return se.Convert.isNull(this._container)&&(this._container=se.JqUtils.adjustElement(this.wrapper,`>div#${this.name}`,`<div class='${this.rootClass}' id='${this.name}' role='treegrid' tabindex='0'></div>`),this._container.get(0).focus({preventScroll:!0}),this.respondToVisibility(),this.resizeObserve()),this._container}get jqScrollBody(){if(se.Convert.isNull(this._jqScrollBody)||0==this._jqScrollBody.length){const C=`>.${de.SbCss.scroll}.${de.SbCss.panel}>.${de.SbCss.scroll_body}`;this._jqScrollBody=ue.SBGrid3.$(C,this.container)}return this._jqScrollBody}get jqScrollPart(){if(se.Convert.isNull(this._jqScrollPart)||0==this._jqScrollPart.length){const C=`>.${de.SbCss.scroll}.${de.SbCss.panel}>.${de.SbCss.scroll_body}>.${de.SbCss.panel}.${de.SbCss.body}>.${de.SbCss.tbody}>.${de.SbCss.body}`;this._jqScrollPart=ue.SBGrid3.$(C,this.container)}return this._jqScrollPart}get trashCan(){var C;return null!==(C=this._trashCan)&&void 0!==C?C:this._trashCan=[]}get selectManager(){var C;return null!==(C=this._selectManager)&&void 0!==C?C:this._selectManager=new ye.SelectManager(this)}get eventManager(){var C;return null!==(C=this._eventManager)&&void 0!==C?C:this._eventManager=this.createEventManager()}get undoManager(){var C;return null!==(C=this._undoManager)&&void 0!==C?C:this._undoManager=new Se.UndoManager(this)}get viewport(){var C;return null!==(C=this._viewport)&&void 0!==C?C:this._viewport=new xe.Viewport(this)}get focusManager(){var C;return null!==(C=this._focusManager)&&void 0!==C?C:this._focusManager=new ke.FocusManager(this)}get tooltip(){var C;return null!==(C=this._tooltip)&&void 0!==C?C:this._tooltip=se.Convert.isValue(se.Arrays.dfsSearch(this.columns,(C=>!!C.config.tooltip||C.columns)))?new Te.Tooltip(this):void 0}get style(){var C;return null!==(C=this._style)&&void 0!==C?C:this._style=new GridStyle(this)}get styleScroll(){var C;return null!==(C=this._scrollStyle)&&void 0!==C?C:this._scrollStyle=new GridStyle(this)}canGridCommand(C){var I,B,z,q,Q,ee,te,ie;if(se.Convert.isEmpty(null===(I=this.config)||void 0===I?void 0:I.canCommand))return!0;const re=null===(B=this.config)||void 0===B?void 0:B.canCommand,ne="function"==typeof re,oe="function"==typeof re?I=>!1!==re(I,C.command,C):void 0;switch(C.command){case Pe.GridCommands.Edit:return ne?null==oe?void 0:oe(this):!1!==(null===(z=re.edit)||void 0===z?void 0:z.call(re,this,C));case Pe.GridCommands.Focus:return ne?null==oe?void 0:oe(this):!1!==(null===(q=re.focus)||void 0===q?void 0:q.call(re,this,C));case Pe.GridCommands.Select:return ne?null==oe?void 0:oe(this):!1!==(null===(Q=re.select)||void 0===Q?void 0:Q.call(re,this,C));case Pe.GridCommands.Menu:return ne?null==oe?void 0:oe(this):!1!==(null===(ee=re.menu)||void 0===ee?void 0:ee.call(re,this,C));case Pe.GridCommands.CaptionCheck:return ne?null==oe?void 0:oe(this):!1!==(null===(te=re.captionCheck)||void 0===te?void 0:te.call(re,this,C));case Pe.GridCommands.PagerClick:return ne?null==oe?void 0:oe(this):!1!==(null===(ie=re.pagerClick)||void 0===ie?void 0:ie.call(re,this,C));default:le.Log.warn((()=>`canGridCommand [${null==C?void 0:C.command}] is not supported`))}return!0}doGridCommand(C){var I,B,z,q,Q,ee,te,ie,re,ne,oe,ae;if(se.Convert.isEmpty(null===(I=this.config)||void 0===I?void 0:I.doCommand))return;const ue=null===(B=this.config)||void 0===B?void 0:B.doCommand,de="function"==typeof ue,ce="function"==typeof ue?I=>ue(I,C.command,C):void 0;switch(C.command){case Pe.GridCommands.Event:return de?null==ce?void 0:ce(this):null===(z=ue.event)||void 0===z?void 0:z.call(ue,this,C);case Pe.GridCommands.Updated:return de?null==ce?void 0:ce(this):null===(q=ue.updated)||void 0===q?void 0:q.call(ue,this,C);case Pe.GridCommands.Edit:return de?null==ce?void 0:ce(this):null===(Q=ue.edit)||void 0===Q?void 0:Q.call(ue,this,C);case Pe.GridCommands.Focus:return de?null==ce?void 0:ce(this):null===(ee=ue.focus)||void 0===ee?void 0:ee.call(ue,this,C);case Pe.GridCommands.Menu:return de?null==ce?void 0:ce(this):null===(te=ue.menu)||void 0===te?void 0:te.call(ue,this,C);case Pe.GridCommands.CaptionCheck:return de?null==ce?void 0:ce(this):null===(ie=ue.captionCheck)||void 0===ie?void 0:ie.call(ue,this,C);case Pe.GridCommands.Value:return de?ce(this):null===(re=ue.value)||void 0===re?void 0:re.call(ue,this,C);case Pe.GridCommands.Add:return de?ce(this):null===(ne=ue.add)||void 0===ne?void 0:ne.call(ue,this,C);case Pe.GridCommands.Remove:return de?ce(this):null===(oe=ue.remove)||void 0===oe?void 0:oe.call(ue,this,C);case Pe.GridCommands.Loaded:return de?ce(this):null===(ae=ue.loaded)||void 0===ae?void 0:ae.call(ue,this,C);default:le.Log.warn((()=>`doGridCommand [${null==C?void 0:C.command}] is not supported`))}}get rows(){return this.view.rows}get rowCount(){return this.view.rowCount}get visibleCount(){return this.view.visibleCount}get viewportHeight(){return this.scrollPanel.viewportHeight}get boxMap(){return this.dataSource.boxMap}get total(){return this.view.total}get adjustedTotal(){return this.dataSource.adjustedTotal}get pagerMode(){return this.view.pagerMode}get listMode(){return this.view.listMode}get rowHeight(){return this.layouts.rowHeight}get rowHeights(){return this.layouts.rowHeights}get groupHeight(){return this.config.groupHeight}get captionHeight(){return this.layouts.captionHeight}get headerHeight(){return this.layouts.headerHeight}get footerHeight(){return this.layouts.footerHeight}get fixedRows(){return this.config.fixedRows}get mergeRow(){return this.config.mergeRow}set mergeRow(C){this.config.mergeRow!=C&&(this.config.mergeRow=C,this.removeMergeCell(de.SbCss.merge_row))}get mergeColumn(){return this.config.mergeColumn}set mergeColumn(C){this.config.mergeColumn!=C&&(this.config.mergeColumn=C,this.removeMergeCell(de.SbCss.merge_col))}removeMergeCell(C){const I=`>.${de.SbCss.panel}.${de.SbCss.scroll}>.${de.SbCss.scroll_body}>.${de.SbCss.panel}.${de.SbCss.body}>.${de.SbCss.area}>.${de.SbCss.part}>.${de.SbCss.scroll}>.${de.SbCss.row}>.${de.SbCss.col}.${de.SbCss.merge}.${C}`;ue.SBGrid3.$(I,this.container).remove()}get contextMenu(){return this.config.contextMenu}get alternateCss(){return this.config.alternateCss}get topRow(){return this.view.topRow}set topRow(C){this.setTopRow(C)}get minTopCol(){var C;return this.fixedColumns.length+this.headColumns.length+(null!==(C=this._minStickyLenth)&&void 0!==C?C:0)}get maxTopCol(){var C;return null!==(C=this._maxTopCol)&&void 0!==C?C:this._maxTopCol=this.calcMaxTopCol()}get topCol(){return Math.max(this.view.topCol,this.minTopCol)}set topCol(C){const I=this.topCol;if(this.virtualColumn){if(C<this.minTopCol&&(C=this.minTopCol),I==(C=this.adjustTopColVirtual(C)))return;this.view.topCol=C,this.scrollPanel.setScrollPos(C,void 0),this.fireCommandAsync(this,new he.RefreshCommand)}else{if(this.view.topCol=C,C<=this.minTopCol)return this.scrollPanel.scrollLeft=0,void this.scrollPanel.setScrollPos(0,void 0);{let I=0,B=0;const z=this.defaultLayout.stickyOverflow;for(const q of this.defaultLayout.rows)for(const Q in q.cells){const ee=q.cells[Q];ee.col<C&&(z||ee.part!=re.PartType.Sticky)&&(B+=ee.width),ee.part!=re.PartType.Head&&ee.part!=re.PartType.Fixed||(I+=ee.width)}if(se.Convert.isValue(B>=0)){const C=Math.max(B-I,0);this.scrollPanel.scrollLeft=C,this.scrollPanel.setScrollPos(C,void 0)}}}}calcMaxTopCol(){var C;const I=this.viewportWidth;let B=this.hasStickyColumn?this.stickyColumns.reduce(((C,I)=>C+(I.visible?I.width:0)),0):0;const z=null===(C=this.defaultLayout.rows[0].cells)||void 0===C?void 0:C.reverse();let q;for(let C=0;C<z.length;C++){const Q=z[C];if(0!=Q.visible){if(Q.part==re.PartType.Body&&(B+=Q.width),B>I){se.Convert.isNull(q)&&(q=Q.column.index);break}q=Math.min(null!=q?q:Q.column.index,Q.column.index)}}return q}adjustTopColVirtual(C){return this.maxTopCol<C?this.maxTopCol:C<this.minTopCol?this.minTopCol:C}get rowsView(){return this.scrollPanel.rowsView}get width(){return this.container.width()}get height(){return this.container.height()}get minHeight(){return parseFloat(this.container.css("min-height"))}get maxHeight(){return parseFloat(this.container.css("max-height"))}get editConfig(){var C;return null===(C=this.config)||void 0===C?void 0:C.editable}get pageable(){return this.config.pageable}get virtualRow(){return this.view.virtualRow}set virtualRow(C){this.view.virtualRow=C,this.scrollPanel.scrollTop=0,this.refresh()}get autoHeight(){return this.config.autoHeight}get scrollRange(){return this.view.scrollRange}get scrollPage(){return this.view.scrollPage}get scrollWhole(){return this.view.scrollWhole}get virtualColumn(){return this.config.virtualColumn}get detailInit(){var C;return null!==(C=this._detailInit)&&void 0!==C?C:this._detailInit=this.config.detailInit}set detailInit(C){this._detailInit=C}get pageSize(){return this.view.pageSize}set pageSize(C){0==this.listMode&&this.scrollWhole?this.refresh():(this.scrollPanel.scrollTop=0,this.topRow=0,this.clearHeightInfo(!0),this.view.pageSize=C)}get serverPaging(){return this.view.serverPaging}get pageNo(){return this.view.pageNo}set pageNo(C){this.setPageNo(C)}get refreshCommand(){return Grid.mergeRefreshCommand(this._refreshCommands)}get reorderable(){var C;return null!==(C=this.config.reorderable)&&void 0!==C?C:{}}get showColMove(){var C;return null!==(C=this.config.freezable)&&void 0!==C&&C}get showRowMove(){var C;const I=this.config.dataDraggable,B=se.Convert.isValue(this.reorderable.row),z=se.Convert.isValue(I)&&I.srcType!==Me.DataDraggableSrcType.cell;return null!==(C=B||z)&&void 0!==C&&C}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyInsert(){return this.config.stickyInsert}get stickyUpdate(){return this.config.stickyUpdate}get stickyDelete(){return this.config.stickyDelete}get stickyEdit(){return this.config.stickyEdit}get fixedColumns(){var C,I,B,z,q,Q,ee,ie,ne,oe,ae,le,ue,de;if(se.Convert.isNull(this._fixedColumns)){this._columnIndexed=!1;let ce=[];const he=[].concat(this.columns.filter((C=>C.config.part==re.PartType.Fixed)));for(const pe of this.config.rowHeaders){if("function"==typeof pe){ce.push(new fe.CustomColumn(this,{width:50,part:re.PartType.Fixed},pe));continue}let me;switch(pe){case te.RowHeaders.RowNo:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.RowNo)),this.config.showRowNo&&ce.push(null!=me?me:new fe.RowNoColumn(this,{width:null!==(I=null===(C=re.GridColumnParser.getMasterColumn("fixed.rowno",this.config.masterColumns))||void 0===C?void 0:C.width)&&void 0!==I?I:50,part:re.PartType.Fixed,type:we.ColumnTypes.RowNo,masterColumn:"fixed.rowno"}));break;case te.RowHeaders.Status:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.Status)),this.config.showStatus&&ce.push(null!=me?me:new fe.StatusColumn(this,{width:null!==(z=null===(B=re.GridColumnParser.getMasterColumn("fixed.status",this.config.masterColumns))||void 0===B?void 0:B.width)&&void 0!==z?z:25,part:re.PartType.Fixed,type:we.ColumnTypes.Status,masterColumn:"fixed.status"}));break;case te.RowHeaders.Sticky:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.Sticky)),this.config.showSticky&&ce.push(null!=me?me:new fe.StickyColumn(this,{width:null!==(Q=null===(q=re.GridColumnParser.getMasterColumn("fixed.sticky",this.config.masterColumns))||void 0===q?void 0:q.width)&&void 0!==Q?Q:25,part:re.PartType.Fixed,type:we.ColumnTypes.Sticky,masterColumn:"fixed.sticky"}));break;case te.RowHeaders.Check:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.RowCheck)),(this.config.checkable||this.config.showCheck)&&ce.push(null!=me?me:new ve.RowCheckColumn(this,{width:null!==(ie=null===(ee=re.GridColumnParser.getMasterColumn("fixed.check",this.config.masterColumns))||void 0===ee?void 0:ee.width)&&void 0!==ie?ie:25,part:re.PartType.Fixed,type:we.ColumnTypes.RowCheck,masterColumn:"fixed.check",captionCheck:!0}));break;case te.RowHeaders.Radio:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.RowRadio)),this.config.showRadio&&ce.push(null!=me?me:new fe.RowRadioColumn(this,{width:null!==(oe=null===(ne=re.GridColumnParser.getMasterColumn("fixed.radio",this.config.masterColumns))||void 0===ne?void 0:ne.width)&&void 0!==oe?oe:25,part:re.PartType.Fixed,type:we.ColumnTypes.RowRadio,masterColumn:"fixed.radio",captionCheck:!1}));break;case te.RowHeaders.Detail:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.Detail)),se.Convert.isValue(this.detailTemplate)&&!0===this.config.showDetail&&ce.push(null!=me?me:new fe.DetailClickColumn(this,{width:null!==(le=null===(ae=re.GridColumnParser.getMasterColumn("fixed.detail",this.config.masterColumns))||void 0===ae?void 0:ae.width)&&void 0!==le?le:25,part:re.PartType.Fixed,type:we.ColumnTypes.Detail,masterColumn:"fixed.detail"}));break;case te.RowHeaders.Reorder:me=this.extractFixedColumn(he,(C=>C.config.type==we.ColumnTypes.RowReorder)),this.showRowMove&&ce.push(null!=me?me:new fe.RowReorderColumn(this,{width:null!==(de=null===(ue=re.GridColumnParser.getMasterColumn("fixed.reorder",this.config.masterColumns))||void 0===ue?void 0:ue.width)&&void 0!==de?de:25,part:re.PartType.Fixed,type:we.ColumnTypes.RowReorder,masterColumn:"fixed.reorder"}))}}ce=ce.concat(he),this._fixedColumns=ce}return this._fixedColumns}get filterManager(){var C;return null!==(C=this._filterManager)&&void 0!==C?C:this._filterManager=new Ae.FilterManager(this)}extractFixedColumn(C,I){const B=C.findIndex((C=>I(C)));if(B>=0){const I=C[B];return C.splice(B,1),I}}get groupColumns(){var C,I;if(se.Convert.isNull(this._groupColumns)||this.dataConfig.groups.length!=this._groupColumns.length){this._columnIndexed=!1;let B=[],z=this.dataConfig.groups;if(0==se.Convert.isNull(z)&&z.length>0){let q=0;for(const Q of z){const z=se.Arrays.bfsSearch(this.columns,(C=>C.config.field==Q.field||C.columns));if(se.Convert.isNull(z))continue;if(0==(null===(I=null===(C=z.config.groupTitle)||void 0===C?void 0:C.visible)||void 0===I||I))continue;let ee=new pe.GroupColumn(this,{field:Q.field,width:25});ee.groupColumn=z,ee.groupLevel=q++,B.push(ee)}}this._groupColumns=B}return this._groupColumns}get headColumns(){return se.Convert.isNull(this._headColumns)&&(this._columnIndexed=!1,this._headColumns=[].concat(this.columns.filter((C=>C.config.part==re.PartType.Head))),this._headColumns.length>0&&(0!=this._headColumns.length||!this.showColMove)&&(this.groupColumns.forEach((C=>C.config.part=re.PartType.Head)),this._headColumns=this.groupColumns.concat(this._headColumns)),this.showColMove&&(this._headColumns=this._headColumns.concat(new fe.FrozenColumn(this,{width:0,part:re.PartType.Head,type:we.ColumnTypes.Frozen,field:"_frozen_"})))),this._headColumns}get scrollColumns(){return se.Convert.isNull(this._scrollColumns)&&(this._columnIndexed=!1,this._scrollColumns=[].concat(this.columns.filter((C=>Grid._bodyTypes.includes(C.config.part)))),(0==this.headColumns.length||1==this.headColumns.length&&se.Convert.isValue(this.reorderable))&&(this.groupColumns.forEach((C=>C.config.part=re.PartType.Body)),this._scrollColumns=this.groupColumns.concat(this._scrollColumns))),this._scrollColumns}get viewportColumns(){return this.layouts.colsView(this.topCol).fullCells.filter((C=>C.part==re.PartType.Body||C.part==re.PartType.Sticky)).map((C=>C.column))}get tailColumns(){return se.Convert.isNull(this._tailColumns)&&(this._columnIndexed=!1,this._tailColumns=[],this.showColMove&&(this._tailColumns=this._tailColumns.concat(new fe.FrozenColumn(this,{width:0,part:re.PartType.Tail,type:we.ColumnTypes.Frozen,field:"_frozen_"}))),this._tailColumns=this._tailColumns.concat(this.columns.filter((C=>C.config.part==re.PartType.Tail)))),this._tailColumns}get mobileColumns(){var C;if(se.Convert.isNull(this._mobileColumns)){const I=null!==(C=this.config.mobile)&&void 0!==C?C:{},B=[];if(se.Convert.isValue(I.columns)&&(se.Convert.isValue(I.captions)||se.Convert.isValue(I.rows))){const C={type:we.ColumnTypes.Multi,captions:I.captions,rows:I.rows,headers:I.headers,footers:I.footers,filters:I.filters,columns:I.columns};this.createColumns(B,[C])}this._mobileColumns=B}return this._mobileColumns}get visibleColumns(){const C=[].concat(this.fixedColumns).concat(this.headColumns).concat(this.viewportColumns).concat(this.tailColumns);return 0==this._columnIndexed&&this.wholeColumns,C}get wholeColumns(){const C=[].concat(this.fixedColumns).concat(this.headColumns).concat(this.scrollColumns).concat(this.tailColumns);return 0==this._columnIndexed&&(this.setColumnIndex(C),this._columnIndexed=!0),C}get columnsMap(){if(se.Convert.isNull(this._columnsMap)){const C=new Map;se.Arrays.bfsAction(this.columns,(I=>(se.Convert.isValue(I.field)&&0==C.has(I.field)&&C.set(I.field,I),I.columns))),this._columnsMap=C}return this._columnsMap}get stickyColumns(){var C;return null!==(C=this._stickyColumns)&&void 0!==C?C:this._stickyColumns=[]}get hasHeader(){var C,I;return null!==(C=this._hasHeader)&&void 0!==C?C:this._hasHeader=(null===(I=this.config.showHeader)||void 0===I||I)&&null!=se.Arrays.bfsSearch(this.columns,(C=>C.hasHeader||C.columns))}get hasFooter(){var C,I;return null!==(C=this._hasFooter)&&void 0!==C?C:this._hasFooter=(null===(I=this.config.showFooter)||void 0===I||I)&&null!=se.Arrays.bfsSearch(this.columns,(C=>C.hasFooter||C.columns))}get hasStickyColumn(){return se.Convert.isNull(this._hasStickyColumn)&&(this.adjustColumns(this.columns),se.Convert.isNull(se.Convert.isNull(this._hasStickyColumn))&&(this._hasStickyColumn=!1)),this._hasStickyColumn}get hasFractionColumn(){return se.Convert.isNull(this._hasFractionColumn)&&(this.adjustColumns(this.columns),se.Convert.isNull(this._hasFractionColumn)&&(this._hasFractionColumn=!1)),this._hasFractionColumn}get hasGroupColumn(){var C;return null!==(C=this._hasGroupColumn)&&void 0!==C?C:this._hasGroupColumn=se.Convert.isValue(this.dataConfig.groups)}getNode(C){let I=this.loader.nodeMap.get(C);return se.Convert.isValue(I)?I:this.listMode?void 0:(I=se.Arrays.bfsSearch(this.loader.nodes,(I=>I.key==C||I.nodes)),I)}getItemHeight(C){return this.viewport.getItemHeight(C)}setRowHeight(C,I,B){this.viewport.setRowHeight(C,I,B)&&(this._maxTopRow=void 0)}calcRowHeights(){this.viewport.calcRowHeights(),this.scrollPanel.adjustScrollSize()}scrollIntoView(C,I){return z(this,void 0,void 0,(function*(){const{layout:B,isGroupHeader:z,isGroupFooter:q,isTreeFooter:Q}=this.scrollPanel.bodyPanel.rowsPanel.getLayout(C),ee=B.findCell(I);this.focusManager.scrollIntoView(C,ee,B)}))}scrollIntoView_old(C,I){return z(this,void 0,void 0,(function*(){if(se.Convert.isNull(C))return void le.Log.warn((()=>"scrollIntoView : rowItem is null"));const B=this.rowsView,z=B.currRows.find((I=>I.rowItem==C))||B.headers.find((I=>I.rowItem==C))||B.footers.find((I=>I.rowItem==C));if(se.Convert.isNull(z)&&(this.topRow=C.rowIndex),se.Convert.isValue(I)){I.index;const B=yield this.viewport.calcCols(this.topCol);if(B.headCells.some((C=>C.column==I))||B.tailCells.some((C=>C.column==I))||B.bodyCells.some((C=>C.column==I)))return void this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:I.index,colEnd:I.index}));this.topCol=I.index}this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:I.index,colEnd:I.index}))}))}get scrollbarSize(){return this.config.scrollBarSize}set scrollbarSize(C){this.config.scrollBarSize=C}get fixedWidth(){return this.defaultLayout.fixedWidth}get headWidth(){return this.defaultLayout.headWidth}get tailWidth(){return this.defaultLayout.tailWidth}get scrollWidth(){return this.defaultLayout.scrollWidth}get viewportWidth(){const C=`>.${de.SbCss.scroll}>.${de.SbCss.scroll_body}>.${de.SbCss.body}>.${de.SbCss.tbody}>.${de.SbCss.body}`;let I=se.JqUtils.findElement(this.container,C).innerWidth();return se.Convert.isValue(I)&&0!=I?I:se.Convert.isValue(this.config.innerWidth)&&0!=this.config.innerWidth?this.config.innerWidth:this.bodyWidth-(this.fixedWidth+this.headWidth+this.tailWidth)}get bodyWidth(){let C=this.jqScrollBody.width();return se.Convert.isEmpty(C)&&(C=this.container.width()-this.scrollbarSize),C}get isPaging(){return this.dataSource.isPaging}get mobile(){return this.config.mobile}get layouts(){return this.isMobile?(se.Convert.isNull(this._mobileLayouts)&&(this._mobileLayouts=new be.GridLayouts(this,this.mobile,this.mobileColumns)),this._mobileLayouts):(se.Convert.isNull(this._layouts)&&(this._layouts=new be.GridLayouts(this,void 0,this.wholeColumns)),this._layouts)}get captionDepth(){return this.captionLayout.rows.length}get defaultLayout(){return this.layouts.defaultLayout}get captionLayout(){return this.layouts.captionLayout}get captionMatrix(){return this.layouts.captionMatrix}get filterLayout(){return this.layouts.filterLayout}get headerLayout(){return this.layouts.headerLayout}get headerDepth(){return this.layouts.headerDepth}get footerLayout(){return this.layouts.footerLayout}get footerDepth(){return this.layouts.footerDepth}get rowLayout(){return this.layouts.rowLayout}get rowDepth(){return this.layouts.rowDepth}get treeFooterLayout(){return this.layouts.treeFooterLayout}get treeFooterDepth(){return this.layouts.treeFooterDepth}get detailLayout(){return this.layouts.detailLayout}get detailHeight(){return this.config.detailHeight}groupLayout(C){return this.layouts.groupLayout(C)}get hasDetail(){return se.Convert.isValue(this.detailTemplate)}get detailTemplate(){var C;return null!==(C=this._detailTemplate)&&void 0!==C?C:se.Convert.isEmpty(this.config.detailTemplate)?void 0:this._detailTemplate=se.Utils.createTemplate(this.config.detailTemplate)}setDetailTemplate(C){C!=this.config.detailTemplate&&(this._detailTemplate=se.Utils.createTemplate(C))}get emptyTemplate(){var C;return se.Convert.isEmpty(this.config.emptyTemplate)?void 0:null!==(C=this._emptyTemplate)&&void 0!==C?C:this._emptyTemplate=se.Utils.createTemplate(this.config.emptyTemplate)}get loadingTemplate(){var C;return se.Convert.isEmpty(this.config.loadingTemplate)?void 0:null!==(C=this._loadingTemplate)&&void 0!==C?C:this._loadingTemplate=se.Utils.createTemplate(this.config.loadingTemplate)}get emptyMessage(){return this.resource.emptyMessage}get rowMatrix(){return this.layouts.rowMatrix}get headerMatrix(){return this.layouts.headerMatrix}get footerMatrix(){return this.layouts.footerMatrix}get filterMatrix(){return this.layouts.filterMatrix}get copyInsert(){var C;return null!==(C=this.config.copyInsert)&&void 0!==C&&C}get detailContainerMap(){var C;return null!==(C=this._detailContainers)&&void 0!==C?C:this._detailContainers=new Map}detailContainer(C,I){return se.Convert.isNull(I)?this.detailContainerMap.get(C):(this.detailContainerMap.set(C,I),I)}editable(C){this.config.editable=te.GridParser.parseEditable(C),this.view.editKeyMap.clear(),this._focusManager=void 0,this.refresh()}get maxTopRow(){return this._maxTopRow}clearHeightInfo(C){this._oldVisibleCount=void 0,this._oldViewportHeight=void 0,this._maxTopRow=void 0,this.scrollPanel.bodyPanel.bodyHeight=void 0,C&&this.view.clearRowHeight(!1),this.clearViewCache()}clearViewCache(){var C,I,B,z;this._mergeMap=void 0,null===(C=this._viewport)||void 0===C||C.rowsViewMap.clear(),null===(B=null===(I=this.rowsView)||void 0===I?void 0:I.currRows)||void 0===B||B.splice(0),null===(z=this._layouts)||void 0===z||z.rowsViewMap.clear()}getMaxTopRow(){var C;return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(this._maxTopRow)&&!this.hasDetail&&this._oldVisibleCount==this.visibleCount&&this._oldViewportHeight==this.viewportHeight)return this._maxTopRow;this._oldViewportHeight=this.viewportHeight;let I=this.scrollWhole?(null!==(C=this.rowCount)&&void 0!==C?C:1)-1:this.rowCount-1,B=yield this.viewport.calcRows(I,this.virtualRow,!0);return({rowsView:B,topRow:I}=yield this.viewport.adjustMaxTopRow(B,I)),le.Log.debug((()=>["getMaxTopRow.adjustMaxTopRow",{rowIndex:I,_oldViewportHeight:this._oldViewportHeight,drowHeights:B.rowHeights,rowsView:B}])),this._maxTopRow=I,this._oldVisibleCount=this.visibleCount,I}))}getMinTopRow(){return z(this,void 0,void 0,(function*(){let C=0;return C=yield this.viewport.adjustMinTopRow(),le.Log.debug((()=>["getMinTopRow.adjustMinTopRow",C])),this._minTopRow=C,C}))}setTopRow(C){var I,B;return z(this,void 0,void 0,(function*(){try{if(this.virtualRow){if(C=Math.max(0,C),this._pageLoading)return;if(this.view.topRow==C)return;const z=this.view.topRow;this.view.topRow=C;let q=yield this.viewport.calcRows(C,!0,!0);if(({rowsView:q,topRow:C}=yield this.viewport.adjustMaxTopRow(q,C)),this.mergeRow){const C=[];for(const I of this.visibleColumns)I.mergeRow&&C.push(I.index);this.fireCommandAsync(this,new he.RefreshCommand({cols:C}))}else if(z>C)this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C,rowEnd:z-1}));else{const C=this.scrollPanel.rowsView.currRows,z=null===(B=null===(I=C[C.length-1])||void 0===I?void 0:I.rowItem)||void 0===B?void 0:B.rowIndex;this.fireCommandAsync(this,new he.RefreshCommand({rowStart:z+1}))}this.scrollPanel.setScrollPos(void 0,C),this.scrollPanel.removeComboPopupScrolling()}else{let I=this.viewport.getScrollHeight(C);const B=this.view.topRow,z=C;if(this.view.topRow=C,B==z)return;this.viewport.calcRows(C,!0,!1).then((q=>{I-=q.headerHeight,this.scrollPanel.setScrollPos(void 0,I),this.scrollPanel.scrollTop=I,B-B%this.dataConfig.pageSize!=z-z%this.dataConfig.pageSize&&this.fireCommandAsync(this,new he.RefreshCommand({rowStart:C}))}))}}finally{}}))}get pagerCommon(){var C;return null!==(C=this._pagerCommon)&&void 0!==C?C:this._pagerCommon=new De.PagerCommon(this)}clearLayout(){var C,I;this._maxTopRow=void 0,this._minTopRow=void 0,null===(I=null===(C=this._layouts)||void 0===C?void 0:C.colsViewMap)||void 0===I||I.clear(),this._layouts=void 0,this._mobileLayouts=void 0,this._maxTopCol=void 0,this._jqScrollBody=void 0,this.resetManager(),this.clearHeightInfo(!0)}clearColumns(){this._fixedColumns=void 0,this._groupColumns=void 0,this._headColumns=void 0,this._tailColumns=void 0,this._scrollColumns=void 0,this._columnsMap=void 0,this._stickyColumns=void 0,this._mobileColumns=void 0,this._hasFractionColumn=void 0,this._hasStickyColumn=void 0,this._hasGroupColumn=void 0,this.view.clearRowHeight(!0),this.clearLayout()}refreshColumns(C){var I;se.Arrays.bfsAction(null!==(I=this._columns)&&void 0!==I?I:[],(C=>(C.captionChecked=!1,C.columns))),0==C&&(this._fixedColumns=void 0,this._groupColumns=void 0,this._headColumns=void 0,this._tailColumns=void 0,this._scrollColumns=void 0,this._columnsMap=void 0,this._maxTopCol=void 0)}static getColumnWidth(C){let I=0;return se.Convert.isEmpty(C)||se.Arrays.bfsAction(C,(C=>{var B,z,q,Q;return 0==(null!==(z=null===(B=C.columns)||void 0===B?void 0:B.length)&&void 0!==z?z:0)&&(I+=C.config.visible?C.unit==re.Unit.Pixel?null!==(q=C.width)&&void 0!==q?q:0:null!==(Q=C.minWidth)&&void 0!==Q?Q:0:0),C.columns})),I}setColumnIndex(C,I=void 0,B=1,z=0,q=1){const Q=new Map;for(const ee of C){ee.index=z,ee.colIndex=q,ee.level=B,ee.parent=I,q++;if(ee.type==we.ColumnTypes.Multi||se.Convert.isValue(ee.captions)){const C=new be.GridLayout(this);z+=be.GridLayout.createMultiCell(C,ee,ee.captions,z,B),this.ensureColumnMap(Q,C);for(const C of ee.columns){if(0==Q.has(C))continue;const I=Q.get(C);C.index=I.col,C.colIndex=q,C.level=I.row,q++}}else if(se.Convert.isValue(ee.columns)){const C=this.setColumnIndex(ee.columns,ee,B+1,z,q);z=C.index,q=C.colIndex}else z++}return{index:z,colIndex:q}}ensureColumnMap(C,I){for(const B of I.rows)if(!se.Convert.isNull(B))for(const I of B.cells)se.Convert.isNull(I)||C.set(I.column,I)}ensureMergeMap(){var C;const I=[];for(const B in this.view.rows){const z=this.view.rows[B];if(se.Convert.isNull(z)||z.constructor.name!=ee.RowItem.name)break;if(0==(null===(C=z.visible)||void 0===C||C))continue;const q={rowItem:z,rowIndex:z.rowIndex};I.push(q)}return xe.Viewport.makeMergeRow(I,this.rowLayout),I}doCommand(C,I){switch(I.command){case q.Commands.Refresh:this.refresh(I);break;case q.Commands.RowChange:this.rowChange(I);break;case q.Commands.Loaded:this.loaded(I);break;case q.Commands.Reload:this.reload(I);break;case q.Commands.Import:this.importData(I);break;case q.Commands.Insert:this.insertData(I);break;case q.Commands.Update:this.updateData(I);break;case q.Commands.Delete:this.deleteData(I);break;case q.Commands.Undelete:this.undeleteData(I);break;case q.Commands.Pager:this.loadPage(I.pageNo);break;case q.Commands.Undo:this.undo();break;case q.Commands.Redo:this.redo();break;case q.Commands.Copy:this.selectManager.copy();break;case q.Commands.Paste:this.selectManager.paste();break;case q.Commands.Rebuild:this.rebuild(I);break;case q.Commands.Edit:this.edit(I);break;case q.Commands.AddRow:this.addRowCommand(I);break;case q.Commands.AddTop:this.addTopCommand(I);break;case q.Commands.InsertRow:this.insertRowCommand(I);break;case q.Commands.AppendRow:this.appendRowCommand(I);break;case q.Commands.DeleteRow:this.deleteRowCommand(I);break;case q.Commands.DeleteRow:this.undeleteRowCommand(I);break;case q.Commands.Save:this.save();break;case q.Commands.Scroll:return this.scrollPanel.doScroll(I),!1;case q.Commands.ColumnVisible:this.columnVisible(I.visible);break;case q.Commands.MoveToPart:this.moveToPartCommand(I);break;case q.Commands.ToogleRow:this.toggleRowCommand(I);break;case q.Commands.OpenRow:this.openRowCommand(I);break;case q.Commands.CloseRow:this.closeRowCommand(I);break;case q.Commands.Loading:this.loadingCommand(I);break;default:return super.doCommand(C,I)}return!0}rowChange(C){this.clearHeightInfo(0==C.onlyCalc),this.scrollPanel.adjustScrollSize()}canCommand(C,I){switch("object"==typeof I?I.command:I){case q.Commands.Refresh:return!0;case q.Commands.Undo:return this.undoManager.undoStack.any();case q.Commands.Redo:return this.undoManager.redoStack.any();case q.Commands.Select:case q.Commands.Selected:case q.Commands.Scroll:return!0;case q.Commands.Copy:return this.selectManager.canCopy()}return super.canCommand(C,I)}rebuild(C){var I;le.Log.debug((()=>[this.name+".rebuild"])),this.setConfig(this._originConfig),this.personalSetting(),null===(I=this._columns)||void 0===I||I.splice(0),this.fireCommandAsync(this,new he.RefreshCommand)}reload(C){var I,B,q;return z(this,void 0,void 0,(function*(){le.Log.debug((()=>[this.name+".reload","reset : "+(null==C?void 0:C.reset)])),this.refreshColumns(!1),this.clearLayout(),null===(I=this._eventManager)||void 0===I||I.clear(),this._eventManager=void 0,null===(B=this._selectManager)||void 0===B||B.clear(!0),null===(q=this._focusManager)||void 0===q||q.clear(),yield this.view.reload(C),this.scrollPanel.adjustScrollSize(),this.scrollWhole?this.scrollPanel.setScrollPos(void 0,this.view.topRow):(this.scrollPanel.internalScrollTop=0,this.scrollPanel.setScrollPos(void 0,0)),this.clearSaveData(),this.clearHeightInfo(!0),this.refresh()}))}loaded(C){return z(this,void 0,void 0,(function*(){le.Log.info((()=>[this.name+".loaded",C])),this.doGridCommand(new Pe.GridLoadedCommand(C.request,C.pageNo,C.data)),se.Convert.isEmpty(this.columns)&&(yield this.rebuildColumns(),this.initControls(!1)),this.scrollWhole?this.scrollPanel.setScrollPos(void 0,this.view.topRow):(this.scrollPanel.internalScrollTop=0,this.scrollPanel.setScrollPos(void 0,0)),this.clearHeightInfo(!0),this.fireCommandAsync(this,new he.RefreshCommand)}))}setPageNo(C){var I;return z(this,void 0,void 0,(function*(){if(C<0&&(C=Math.ceil((null!==(I=this.total)&&void 0!==I?I:0)/this.pageSize)+C),this.view.pageNo==C){const I=C*this.pageSize;if(this.view.topRow==I)return}yield this.view.setPageNo(C),this.scrollWhole?this.scrollPanel.setScrollPos(void 0,this.view.topRow):(this.scrollPanel.internalScrollTop=0,this.scrollPanel.setScrollPos(void 0,0)),this.fireCommandAsync(this,new he.RefreshCommand)}))}loadPage(C){return z(this,void 0,void 0,(function*(){this.undoManager.add((()=>new Se.UndoPaging(this.pageNo,C))),yield this.setPageNo(C),this.scrollPage&&(this.clearHeightInfo(!0),this.refreshColumns(!0)),this.fireCommandAsync(this,new he.RefreshCommand)}))}save(){return z(this,void 0,void 0,(function*(){yield this.view.save(),this.undoManager.clear(),this.refresh()}))}clearSaveData(){this.dataSource.clearSaveData(),this.undoManager.clear(),this.refresh()}adjustColumns(C){if(!se.Convert.isNull(C))for(const I of C){if(I.part==re.PartType.Sticky&&(this.stickyColumns.findIndex((C=>C==I))<0&&this.stickyColumns.push(I),this._hasStickyColumn=!0),I.unit!=re.Unit.Pixel&&(this._hasFractionColumn=!0),!0===this._hasStickyColumn&&!0===this._hasFractionColumn)return;se.Convert.isValue(I.columns)&&this.adjustColumns(I.columns)}}createColumns(C,I,B){var z,q,Q;if(se.Convert.isNull(I))return;se.Arrays.bfsAction(C,(C=>(C.disconnect(),C.columns))),C.splice(0);let ee=0;this.stickyColumns.splice(0);let te=null!==(z=null==B?void 0:B.index)&&void 0!==z?z:0;for(const z of I){const I=ne.ColumnFactory.create(this,z);if(I.parent=B,I.index=te,se.Convert.isNull(B)?(I.level=0,I.config.part=z.part):(I.level=B.level+1,I.config.part=B.part),I.part==re.PartType.Sticky&&(this.stickyColumns.findIndex((C=>C==I))<0&&this.stickyColumns.push(I),this._hasStickyColumn=!0),I.unit!=re.Unit.Pixel&&(this._hasFractionColumn=!0),C.push(I),(null!==(Q=null===(q=z.columns)||void 0===q?void 0:q.length)&&void 0!==Q?Q:0)>0){const C=this.createColumns(I.columns,z.columns,I);I.width=I.columns.reduce(((C,I)=>C+I.width),0),I.colSpan=C,ee+=C,te+=C}else I.width=I.config.width,ee++,te++}return se.Convert.isNull(this._hasStickyColumn)&&(this._hasStickyColumn=!1),se.Convert.isNull(this._hasFractionColumn)&&(this._hasFractionColumn=!1),this._layouts=void 0,ee}createPanels(C){if(!se.Convert.isNull(C)){this.panels.forEach((C=>C.disconnect())),this.panels.splice(0),this.scrollPanel=void 0,this.hiddenPanel=void 0,this.loadingPanel=void 0;for(const I of C){const C=ae.PanelFactory.create(this,I);this.panels.push(C),C instanceof _e.ScrollPanel?this.scrollPanel=C:C instanceof oe.HiddenPanel?this.hiddenPanel=C:C instanceof oe.LoadingPanel&&(this.loadingPanel=C)}se.Convert.isNull(this.hiddenPanel)&&(this.hiddenPanel=ae.PanelFactory.create(this,ae.PanelType.Hidden),this.panels.splice(0,0,this.hiddenPanel)),se.Convert.isNull(this.loadingPanel)&&(this.loadingPanel=new oe.LoadingPanel(this),this.panels.push(this.loadingPanel))}}edit(C){var I;switch(C.type){case te.EditMode.incell:case te.EditMode.inline:break;case te.EditMode.none:return;case te.EditMode.popup:throw"popup mode is not implemented!"}if(se.Convert.isValue(C.rowItem)){if(C.rowItem.isEdit)return;C.rowItem.isEdit=!0,C.column.editable(C.rowItem)&&this.doGridCommand(new Pe.GridEditCommand(null===(I=null==C?void 0:C.rowItem)||void 0===I?void 0:I.key,null==C?void 0:C.column)),this.refresh(new he.RefreshCommand({rowStart:C.rowItem.rowIndex,rowEnd:C.rowItem.rowIndex}))}}get stopRender(){return se.Convert.isValue(this.refreshingCommands)}lazyRender(){const C=this;se.Convert.isValue(this.lazyTimer)&&clearTimeout(this.lazyTimer),this.lazyTimer=window.setTimeout((()=>z(this,void 0,void 0,(function*(){try{yield this.scrollPanel.lazyRender(C.container)}finally{clearTimeout(C.lazyTimer),C.lazyTimer=void 0}}))),0)}refresh(C){if(se.Convert.isNull(C)&&(C=new he.RefreshCommand),this.refreshing||this.eventManager.doing)return void this.refreshingCommands.push(C);this.refreshCommands.push(C),se.Convert.isValue(this.refreshTimer)&&cancelAnimationFrame(this.refreshTimer);const I=this;this.refreshTimer=requestAnimationFrame((()=>z(this,void 0,void 0,(function*(){try{I.refreshing=!0,yield I.render(),I.refreshCommands.splice(0),cancelAnimationFrame(this.refreshTimer)}finally{if(I.refreshing=!1,se.Convert.isValue(this.refreshingCommands)){const C=Grid.mergeRefreshCommand(I.refreshingCommands.splice(0));I.fireCommandAsync(I,C)}}}))))}respondToVisibility(){var C;const I=null===(C=this.container)||void 0===C?void 0:C.get(0),B=this;new IntersectionObserver(((C,I)=>{C.forEach((C=>{const I=B.container.is(":visible");le.Log.info((()=>[B.name+" : visible changed",{visible:I,oldVisible:B._visible}])),B._visible!=I&&(B._visible=I,I&&B.fireCommandAsync(B,new he.RefreshCommand))}))}),{}).observe(I)}resizeObserve(){new ResizeObserver((C=>{this.onResize()})).observe(this.container.parent().get(0))}rebuildColumns(){return z(this,void 0,void 0,(function*(){se.Convert.isEmpty(this.config.columns)&&(yield this.view.rebuildColumns())}))}get refreshFull(){return!0}get visible(){return this._visible}render(){var C,I,B,q,Q,ee;return z(this,void 0,void 0,(function*(){if(0!=this.visible)try{le.Log.time(this.name+"_render");const z=this.container,te=this.bodyWidth;0==(null!==(I=null===(C=this.dataSource.getPageMap())||void 0===C?void 0:C.loadSize)&&void 0!==I?I:0)&&this.view.prepareRows(),yield this.createStyle(z);for(const C of this.panels)C.renderable&&(yield C.createStyle(z));if(this.applyStyle(),yield this.createStyle(z),this.refreshFull){for(const C of this.panels)if(0!=C.renderable){if(this.stopRender)break;C!=this.scrollPanel?yield C.render(z):yield this.scrollPanel.layoutPanel(z),yield C.createStyle(z)}0==this.stopRender&&(yield this.scrollPanel.render(z),yield this.scrollPanel.createStyle(z))}else yield this.scrollPanel.render(z);this.applyStyle(),se.JqUtils.emptyTrash(this.trashCan),null===(B=this.tooltip)||void 0===B||B.renderValidationTooltip(),this.scrollPanel.adjustScrollSize(),null===(ee=null===(Q=null===(q=this.scrollPanel)||void 0===q?void 0:q.captionPanel)||void 0===Q?void 0:Q.columnReorder)||void 0===ee||ee.initReorderIndicator(),te!=this.bodyWidth&&(this._layouts=void 0)}finally{le.Log.timeEnd(this.name+"_render")}}))}clearStyle(){let C=`style_${this.name}`,I=`style_${this.name}_scroll`,B=ue.SBGrid3.$(`head > style#${C}`),z=ue.SBGrid3.$(`head > style#${I}`);B.remove(),z.remove()}createStyle(C){return z(this,void 0,void 0,(function*(){const C={display:"flex","flex-direction":"column"};se.Convert.isValue(this.config.width)&&(C.width=this.config.width),se.Convert.isValue(this.config.height)&&(C.height=this.config.height),0==this.config.autoHeight&&se.Convert.isValue(this.config.height)&&(C.height=this.config.height),se.Convert.isValue(this.config.minHeight)&&(C["min-height"]=this.config.minHeight),se.Convert.isValue(this.config.maxHeight)&&(C["max-height"]=this.config.maxHeight),this.style.set("",C)}))}applyStyle(){let C,I=`style_${this.name}`,B=`style_${this.name}_scroll`,z=ue.SBGrid3.$(`head > style#${I}`),q=ue.SBGrid3.$(`head > style#${B}`);0==z.length?ue.SBGrid3.$("head").append(`<style type='text/css' id='${I}'>${this.style}</style>`):z.text()!=(C=this.style.toString())&&z.text(C),0==q.length?ue.SBGrid3.$("head").append(`<style type='text/css' id='${B}'>${this.styleScroll}</style>`):q.text()!=(C=this.styleScroll.toString())&&q.text(C)}setTheme(C){this.config.theme=C,se.JqUtils.changeClass(this.container,this.rootClass)}addGroupColumn(C){const I=C.config.field;if(se.Convert.isEmpty(I))return!1;const B=[];for(const C of this.dataConfig.groups){if(C.field==I)return!1;B.push(C)}let z={field:I,dir:ce.SortDir.Asc,isOpen:this.config.groupAutoOpen};return B.push(z),this.setGroup(B),!0}removeGroupColumn(C){const I=C.config.field,B=[];for(const C of this.dataConfig.groups)C.field!=I&&B.push(C);return this.dataConfig.groups.length!=B.length&&(this.setGroup(B),!0)}setGroupColumns(C){var I,B,z;const q=[],Q=null!==(I=this.dataConfig.groups)&&void 0!==I?I:[];for(const I of C){const C=I.config.field,ee=null!==(z=null===(B=Q.find((I=>I.field==C)))||void 0===B?void 0:B.dir)&&void 0!==z?z:ce.SortDir.Asc,te={field:C,dir:ee,isOpen:this.config.groupAutoOpen};q.push(te)}this.setGroup(q)}isGroupColumn(C){const I=C.config.field;return 0==C.config.groupable||this.dataConfig.groups.some((C=>C.field==I))}getColumnByField(C){return se.Arrays.bfsSearch(this.columns,(I=>{let B=I.config.field==C;return!B&&I.columns?I.columns:B}))}setSort(C=[]){this.undoManager.add((()=>new Se.UndoSort([].concat(this.dataConfig.groups).concat(this.dataConfig.orders),C)));for(const I of this.dataConfig.groups){const B=C.findIndex((C=>C.field===I.field));B<0||(I.dir=C[B].dir,C.splice(B,1))}let I;if(C.forEach((C=>{C.field==ge.FixedFields.status&&(C.sort=this.statusSort,I=C)})),se.Convert.isValue(I)){const B=C.findIndex((C=>C==I));B>0&&(C.splice(B,1),C.splice(0,0,I))}this.dataConfig.orders=ce.DataSourceParser.parseOrders(C),this.search()}search(){return z(this,void 0,void 0,(function*(){this.view.beginUpdate(),this.clearHeightInfo(!0),this.view.topRow=0,yield this.view.search(),yield this.scrollPanel.setScrollPos(void 0,this.topRow),this.view.endUpdate()}))}static statusToNumber(C){switch(C){case ie.DataStatus.None:case ie.DataStatus.Normal:return 0;case ie.DataStatus.Update:return 1;case ie.DataStatus.Delete:return 2;case ie.DataStatus.Insert:return 3;default:return 0}}statusSort(C,I,B){return B==ce.SortDir.Asc?Grid.statusToNumber(I.status)-Grid.statusToNumber(C.status):Grid.statusToNumber(C.status)-Grid.statusToNumber(I.status)}toggleStickyRow(C,I=void 0){if(se.Convert.isValue(I)){const B=this.view.map(C);if(se.Convert.isNull(B)||B.isSticky===I)return I}this.undoManager.add((()=>new Se.UndoStickyRow(C)));const B=this.view.toggleStickyRow(C);return this.fireCommandAsync(this,new he.RefreshCommand({})),B}toggleStickyRows(C,I=void 0){if(se.Convert.isValue(I)){const B=[];for(const z of C){const C=this.view.map(z);se.Convert.isNull(C)||C.isSticky===I||B.push(z)}C=B}return this.undoManager.add((()=>new Se.UndoStickyRows(C,I))),this.view.toggleStickyRows(C,I),this.fireCommandAsync(this,new he.RefreshCommand({})),C}toggleCheckRow(C,I=void 0){const B=this.view.map(C);if(!se.Convert.isNull(B))return se.Convert.isValue(I)&&B.isCheck===I?I:(this.undoManager.add((()=>new Se.UndoCheckRow(C))),B.check=!B.isCheck,this.fireCommandAsync(this,new he.RefreshCommand({rowStart:B.rowIndex,rowEnd:B.rowIndex})),!0)}toggleCheckRows(C,I=void 0){if(se.Convert.isValue(I)){const B=[];for(const z of C){const C=this.view.map(z);se.Convert.isNull(C)||C.isCheck===I||B.push(z)}C=B}for(const B of C){const C=this.view.map(B);se.Convert.isNull(C)||C.isCheck===I||(C.check=null!=I?I:!C.isCheck)}return this.undoManager.add((()=>new Se.UndoCheckRows(C,I))),this.fireCommandAsync(this,new he.RefreshCommand({})),C}sort(C=[]){let I=[];for(const B of C){let C="string"==typeof B?{field:B,dir:ce.SortDir.Asc}:B;I.push(C)}this.setSort(I)}sortData(C){let I=[{sort:C}];this.setSort(I)}grouping(C=[]){let I=[];for(const B of C){let C="string"==typeof B?{field:B,isOpen:!0}:B;I.push(C)}this.setGroup(I)}setGroup(C=[]){return z(this,void 0,void 0,(function*(){let I=[];for(const B of C)if("string"==typeof B){let C={field:B,dir:ce.SortDir.Asc,isOpen:this.config.groupAutoOpen};I.push(C)}else I.push(B);this.undoManager.add((()=>new Se.UndoGroup(this.dataConfig.groups,I))),le.Log.debug((()=>["before Group",this.rows.length])),this._gridView.clearEdit(),this.dataConfig.groups=ce.DataSourceParser.parseGroups(I),yield this.search(),this.clearColumns(),this.fireCommandAsync(this,new he.RefreshCommand),le.Log.debug((()=>["after Group",this.rows.length]))}))}filter(C=[]){this.dataConfig.filters=C instanceof Array?ce.DataSourceParser.parseFilters(C):ce.DataSourceParser.parseFilters([ce.DataSourceParser.parseFilter(C)]),this.search()}sortGroupColumn(C,I){const B=C.config.field;if(se.Convert.isEmpty(B))return!1;let z=!1;for(const C of this.dataConfig.groups)if(C.field==B)if(se.Convert.isNull(I)){switch(C.dir){case ce.SortDir.Asc:C.dir=ce.SortDir.Desc;break;case ce.SortDir.Desc:C.dir=ce.SortDir.Asc}z=!0}else z=C.dir!=I,C.dir=I;return z&&this.search(),z}toggleSort(C,I,B=void 0){var q;return z(this,void 0,void 0,(function*(){le.Log.debug((()=>["toggleSort",C,I]));let z=!1,Q=[];if((null!==(q=this.dataConfig.groups)&&void 0!==q?q:[]).length>0)for(let I of this.dataConfig.groups)if(I=ce.DataSourceParser.parseGroup(I),Q.push(I),I.field==C){switch(I.dir){case ce.SortDir.Asc:I.dir=ce.SortDir.Desc;break;case ce.SortDir.Desc:I.dir=ce.SortDir.Asc}z=!0}if(0==z)if(ce.DataSourceParser.parseOrders(this.dataConfig.orders).forEach((C=>Q.push(C))),this.config.multiSort)if(I){const I=(null!=Q?Q:[]).findIndex((I=>I.field==C));if(I>=0)Q.splice(I,1);else{const I={field:C,dir:null!=B?B:ce.SortDir.Asc};se.Convert.isNull(Q)?Q=[I]:Q.push(I)}}else{let I=(null!=Q?Q:[]).find((I=>I.field==C));if(!se.Convert.isValue(I))return;switch(I.dir){case ce.SortDir.Asc:I.dir=ce.SortDir.Desc;break;case ce.SortDir.Desc:I.dir=ce.SortDir.Asc}}else{let z=(null!=Q?Q:[]).find((I=>I.field==C));if(I)Q=se.Convert.isValue(z)?[]:[{field:C,dir:null!=B?B:ce.SortDir.Asc}];else{if(!se.Convert.isValue(z))return;switch(z.dir){case ce.SortDir.Asc:z.dir=ce.SortDir.Desc;break;case ce.SortDir.Desc:z.dir=ce.SortDir.Asc}}}this.setSort(Q)}))}expandAllTree(C,I){return z(this,void 0,void 0,(function*(){try{this.isLoading=!0,yield this.view.expandAllTree(C,I),this.clearHeightInfo(!0)}finally{this.isLoading=!1,this.fireCommandAsync(this,new he.RefreshCommand)}}))}collapseAllTree(C,I){return z(this,void 0,void 0,(function*(){try{this.isLoading=!0,yield this.view.collapseAllTree(C,I),this.clearHeightInfo(!0)}finally{this.isLoading=!1,this.fireCommandAsync(this,new he.RefreshCommand)}}))}toggleRowCommand(C){return z(this,void 0,void 0,(function*(){yield this.toggleRow(C.key)}))}openRowCommand(C){return z(this,void 0,void 0,(function*(){yield this.toggleRow(C.key,!0)}))}closeRowCommand(C){return z(this,void 0,void 0,(function*(){yield this.toggleRow(C.key,!1)}))}toggleRow(C,I){return z(this,void 0,void 0,(function*(){se.Convert.isNull(I)?this.undoManager.add((()=>new Se.UndoToggleRow(C))):I?this.undoManager.add((()=>new Se.UndoOpenRow(C))):this.undoManager.add((()=>new Se.UndoCloseRow(C)));const B=yield this.view.toggleRow(C,I);return this.clearHeightInfo(!0),this.clearLayout(),B}))}toggleDetail(C,I){return z(this,void 0,void 0,(function*(){return se.Convert.isNull(I)?this.undoManager.add((()=>new Se.UndoToggleDetail(C))):I?this.undoManager.add((()=>new Se.UndoOpenDetail(C))):this.undoManager.add((()=>new Se.UndoCloseDetail(C))),yield this.view.toggleDetail(C,I)}))}setEvent(C,I,B,z=void 0,q=void 0,Q=!1){q instanceof HTMLElement?this.eventManager.setHandler(C,I,B,z,q,Q):q&&this.eventManager.setHandler(C,I,B,z,q.toArray(),Q)}static getValue(C,I){return se.Convert.isValue(I)?C.node.value(I):C.node.data}_setColumnSize(C,I,B){if(!(se.Convert.isEmpty(I)||I<=0))if(le.Log.debug((()=>["_setColumnSize",C,I,B])),0==B){const B=se.Utils.findCellFromColumn(this.captionLayout,C);if(se.Convert.isNull(B))return;if(se.Convert.isValue(C.columns)){const z=B.width,q=I/z;let Q=0;const ee=C.columns[C.columns.length-1];for(const B of C.columns)B===ee?this._setColumnSize(B,I-Q,!1):this._setColumnSize(B,B.width*q,!1),Q+=B.width;I=Q}if(C.unit==re.Unit.Pixel)C.config.width=I;else{const z=0==I||0==B.width?0:I/B.width,q=C.config.width,Q=q*z;C.config.width=Q;const ee=B.col;this._setFractionSize(ee,q,Q)}B.width=I,C.width=I}else if(0==se.Convert.isNull(C.parent)){const B=C.parent;let z=0;for(const C of B.columns)z+=C.width;B.width=z,B.config.width=I,this._setColumnSize(B,z,!0)}}_setFractionSize(C,I,B){let z=0;for(const I of this.defaultLayout.rows)if(!se.Convert.isNull(I))for(const B of I.cells)se.Convert.isNull(null==B?void 0:B.column)||B.unit!=re.Unit.Pixel&&B.col!=C&&(z+=B.column.config.width);const q=(z-(B-I))/z;for(const I of this.defaultLayout.rows)if(!se.Convert.isNull(I))for(const B of I.cells){if(se.Convert.isNull(null==B?void 0:B.column))continue;if(B.unit==re.Unit.Pixel)continue;if(B.col==C)continue;const I=B.column.config.width*q;B.column.config.width=I}}setColumnSize(C,I,B=!1){var z,q;se.Convert.isValue(C.config.maxWidth)&&(I=Math.min(I,C.config.maxWidth)),se.Convert.isValue(C.config.minWidth)&&(I=Math.max(I,C.config.minWidth)),le.Log.debug((()=>["setColumnSize",C,I]));const Q=null===(z=se.Utils.findCellFromColumn(this.captionLayout,C))||void 0===z?void 0:z.width;if(this._setColumnSize(C,I,!1),this._setColumnSize(C,I,!0),B){const B=Grid.findRightColumn(C,this.wholeColumns);if(se.Convert.isValue(B)){const C=(null===(q=se.Utils.findCellFromColumn(this.captionLayout,B))||void 0===q?void 0:q.width)-(I-Q);this._setColumnSize(B,C,!1),this._setColumnSize(B,C,!0)}}this.undoManager.add((()=>new Se.UndoColWidth(C,Q,I,B))),this.clearLayout(),this.fireCommandAsync(this,new he.RefreshCommand)}static findRightColumn(C,I){const B=se.Convert.isNull(C.parent)?I:C.parent.columns;let z=C.index;return B.find((C=>!(C.index<=z||0==C.visible||C instanceof fe.FrozenColumn)))}static findLeftColumn(C,I){const B=se.Convert.isNull(C.parent)?I:C.parent.columns;let z=C.index;return[].concat(B).reverse().find((C=>!(C.index>=z||0==C.visible||C instanceof fe.FrozenColumn)))}static _moveToColumn(C,I,B,z){var q,Q,ee,te;le.Log.debug({f:"_moveToColumn",sourceColumn:C,targetColumn:I});const ie=null!==(Q=null===(q=C.parent)||void 0===q?void 0:q.columns)&&void 0!==Q?Q:B,ne=null!==(te=null===(ee=I.parent)||void 0===ee?void 0:ee.columns)&&void 0!==te?te:B;if(se.Convert.isNull(z)){const B=ie.findIndex((I=>I==C));return B>=0&&ie.splice(B,1),void I.columns.push(C)}const oe=C instanceof fe.FrozenColumn,ae=I instanceof fe.FrozenColumn;if(oe&&ae)return;let ue=oe?-1:ie.indexOf(C),de=ae?-1:ne.indexOf(I);if(oe){if(se.Convert.isValue(I.parent))throw"targetColumn은 반드시 top level column 이어야 합니다.";const q=de+(z?0:1);let Q=0;if(C.part==re.PartType.Head)for(const C of B){if(Q<q)C.part===re.PartType.Body&&this._setColumnsPart(C,re.PartType.Head);else if(C.part==re.PartType.Head)this._setColumnsPart(C,re.PartType.Body);else if(C.part==re.PartType.Body||C.part==re.PartType.Sticky)break;Q++}else if(C.part==re.PartType.Tail)for(const C of B)q<=Q?C.part!=re.PartType.Tail&&this._setColumnsPart(C,re.PartType.Tail):C.part==re.PartType.Tail&&this._setColumnsPart(C,re.PartType.Body),Q++}else{if(ue>=0){if(ie.splice(ue,1),de=ae?-1:ne.indexOf(I),de<0)switch(I.part){case re.PartType.Head:ne.forEach(((C,I)=>C.part==re.PartType.Head&&(de=I))),z=!1,de<0&&(de=0);break;case re.PartType.Tail:de=ne.findIndex((C=>C.part==re.PartType.Tail)),z=!0,de<0&&(de=ne.length)}de>=0&&(z?ne.splice(de,0,C):ne.splice(de+1,0,C))}if(I.part!=C.part)switch(I.part){case re.PartType.Head:Grid._setColumnsPart(C,re.PartType.Head);break;case re.PartType.Tail:Grid._setColumnsPart(C,re.PartType.Tail);break;case re.PartType.Body:case re.PartType.Sticky:C.part!=re.PartType.Head&&C.part!=re.PartType.Tail||Grid._setColumnsPart(C,re.PartType.Body)}}}static _setColumnsPart(C,I){var B;C.config.part=I;for(const z of null!==(B=C.columns)&&void 0!==B?B:[])this._setColumnsPart(z,I)}moveToColumn(C,I,B){return z(this,void 0,void 0,(function*(){if(se.Convert.isNull(C))throw"moveToColumn : sourceColumn is null";se.Convert.isNull(I)&&(I=this.findPrevNextColumn(C,B),se.Convert.isNull(I))||C!==I&&(this.undoManager.add((()=>new Se.UndoMoveColumn(this.wholeColumns,C,I,B))),Grid._moveToColumn(C,I,this.columns,B),this.clearColumns(),this.fireCommandAsync(this,new he.RefreshCommand),this.scrollPanel.removeMenu(),this.scrollPanel.removeComboPopupScrolling())}))}findPrevNextColumn(C,I){var B;return null===(B=this.captionLayout.findCell(C,I))||void 0===B?void 0:B.column}moveToRow(C,I,B=!0){return z(this,void 0,void 0,(function*(){if(se.Convert.isNull(C)||se.Convert.isNull(I))throw"moveToRow : sourceRow or targetRow is null";yield this.undoManager.addScope((()=>new Se.UndoMoveRow(C,I,B)),(()=>z(this,void 0,void 0,(function*(){yield this.view.moveToRow(C,I,B),this.fireCommandAsync(this,new he.RefreshCommand)}))))}))}clearRows(C){C&&(this.dataSource.clearRows(),this.view.clearRows(),this.undoManager.clear()),this.clearLayout(),this.scrollPanel.internalScrollTop=0,this.scrollPanel.internalScrollLeft=0}rowEditable(C){return"function"!=typeof this.config.rowEditable||this.config.rowEditable(null==C?void 0:C.data,C)}static mergeRefreshCommand(C){let I;if(se.Convert.isValue(C)){const B=C[0];I=new he.RefreshCommand(B),I.onlyLayout=C.filter((C=>1==C.onlyLayout)).length==C.length;for(const B of C){if(se.Convert.isNull(B)){I=new he.RefreshCommand;break}I.colStart=se.Convert.isNull(I.colStart)?I.colStart:se.Convert.isNull(B.colStart)?B.colStart:Math.min(I.colStart,B.colStart),I.colEnd=se.Convert.isNull(I.colEnd)?I.colEnd:se.Convert.isNull(B.colEnd)?B.colEnd:Math.max(I.colEnd,B.colEnd),I.rowStart=se.Convert.isNull(I.rowStart)?I.rowStart:se.Convert.isNull(B.rowStart)?B.rowStart:Math.min(I.rowStart,B.rowStart),I.rowEnd=se.Convert.isNull(I.rowEnd)?I.rowEnd:se.Convert.isNull(B.rowEnd)?B.rowEnd:Math.max(I.rowEnd,B.rowEnd),I.cols=se.Convert.isNull(I.cols)?I.cols:se.Convert.isNull(B.cols)?B.cols:se.Convert.mergeArray(I.cols,B.cols)}return I}return I=new he.RefreshCommand,I}getValue(C,I=void 0){return this.view.getValue(C,I)}setValueCommand(C){var I;if(se.Convert.isValue(C.info.field)){const B=C.info.field,z=null!==(I=C.column)&&void 0!==I?I:this.columnsMap.get(B);if(se.Convert.isNull(z))return;let q=C.info.value;const Q=this.view.map(C.info.key);if(se.Convert.isValue(z.config.setValue))C.info.value=z.config.setValue(q,B,Q);else{const I={key:C.info.key,field:C.info.field,value:C.info.value,oldValue:ue.SBGrid3.getValue(this,C.info.key,C.info.field)};this.doGridCommand(new Pe.GridValueCommand(I,C.column)),C.info.value=I.value}}}setValues(C,I,B=!1,z=!1){if(!se.Convert.isValue(C))return!1;C.forEach((C=>C.oldValue=ue.SBGrid3.getValue(this,C.key,C.field))),C.forEach((C=>{const B=new Pe.GridValueCommand({key:C.key,value:C.value,oldValue:C.oldValue,field:C.field},I);this.setValueCommand(B),C.value=B.info.value}));const q=this.view.setValues(C);if(se.Convert.isValue(q)&&(this.clearViewCache(),0==this.fixedRows&&q.forEach((C=>{const I=this.view.getRowHeights(C.key);I.rowFix=!1,I.detailFix=!1})),0==B&&this.undoManager.add((()=>new Se.UndoUpdate(q))),0==z)){const C=q.map((C=>({value:C.redoValue,oldValue:C.undoValue,key:C.key,field:C.field}))),I=this.dataSource.getSaveData(!0,!0,!0),B=new Pe.GridUpdatedCommand(I,C);this.doGridCommand(B)}return this.fireCommandAsync(this,new he.RefreshCommand(this.adjustRefreshRange(C))),q.length>0}insertValues(C,I){return z(this,void 0,void 0,(function*(){if(se.Convert.isEmpty(C)&&this.loader instanceof Re.ListLoader==0)return void le.Log.warn((()=>"선택된 셀이 없으면, 리스트모드에서만 insert가 가능합니다."));const B=yield this.view.insertValues(C,I);return se.Convert.isValue(B)&&(this.fireCommandAsync(this,new he.RowChangeCommand),this.undoManager.add((()=>new Se.UndoInsert(C,B)))),this.fireCommandAsync(this,new he.RefreshCommand(this.adjustRefreshRange(B))),B.length>0}))}importValues(C){return z(this,void 0,void 0,(function*(){const I=C.map((C=>C.value));this.clearRows(!0),this.dataSource.importData(I),yield this.view.ensureRows(!0),this.refresh()}))}adjustRefreshRange(C){let I={};return this.config.mergeRow||this.dataSource.hasCalcRows||(C.forEach((C=>{var B,z;const q=this._gridView.keyMap.get(C.key);se.Convert.isNull(q)||(I.rowStart=Math.min(null!==(B=I.rowStart)&&void 0!==B?B:q.rowIndex,q.rowIndex),I.rowEnd=Math.max(null!==(z=I.rowEnd)&&void 0!==z?z:q.rowIndex,q.rowIndex))})),I.onlyLayout=!1),I}addRowCommand(C){var I,B;return z(this,void 0,void 0,(function*(){const z=null!==(I=C.rowData)&&void 0!==I?I:{};if(this.loader instanceof Ne.TreeLoader){let I=this.loader.nodeMap.get(C.key);const B=new se.Stack;for(I=null==I?void 0:I.parent;se.Convert.isValue(I);)B.push(I.key),I=I.parent;let z;for(;se.Convert.isValue(z=B.pop());)yield this.toggleRow(z,!0)}if(se.Convert.isEmpty(C.key)||this.view.hasKey(C.key)){const I=this.view.map(C.key);(null==I?void 0:I.node)instanceof ge.ParentNode?this.insertRowItem(C.key,void 0,z,ie.InsertTo.Child):this.insertRowItem(null===(B=null==I?void 0:I.parent)||void 0===B?void 0:B.key,C.key,z,ie.InsertTo.Last)}}))}addRowsCommand(C){var I;return z(this,void 0,void 0,(function*(){const B=this.view.map(C.key),z=(null!==(I=C.list)&&void 0!==I?I:[]).map((C=>({parentKey:void 0,targetKey:void 0,data:C,undoKey:void 0})));(null==B?void 0:B.node)instanceof ge.ParentNode?yield this.insertRowItems(z,ie.InsertTo.Child):yield this.insertRowItems(z,ie.InsertTo.Last)}))}addTopCommand(C){var I,B;return z(this,void 0,void 0,(function*(){const z=this.view.map(C.key),q=null!==(I=C.rowData)&&void 0!==I?I:{};(null==z?void 0:z.node)instanceof ge.ParentNode?this.insertRowItem(C.key,void 0,q,ie.InsertTo.First):this.insertRowItem(null===(B=null==z?void 0:z.parent)||void 0===B?void 0:B.key,C.key,q,ie.InsertTo.First)}))}insertRowCommand(C){var I,B,q,Q,ee,te,re;return z(this,void 0,void 0,(function*(){const z=null!==(I=C.rowData)&&void 0!==I?I:{};C.key=null!==(te=null!==(B=C.key)&&void 0!==B?B:null===(ee=null===(Q=null===(q=this.focusManager)||void 0===q?void 0:q.focus)||void 0===Q?void 0:Q.rowItem)||void 0===ee?void 0:ee.key)&&void 0!==te?te:null===(re=this.rows[0])||void 0===re?void 0:re.key,this.insertRowItem(void 0,C.key,z,se.Convert.isEmpty(C.key)?ie.InsertTo.First:ie.InsertTo.Before)}))}appendRowCommand(C){var I,B,q,Q,ee;return z(this,void 0,void 0,(function*(){const z=null!==(I=C.rowData)&&void 0!==I?I:{};C.key=null!==(B=C.key)&&void 0!==B?B:null===(ee=null===(Q=null===(q=this.focusManager)||void 0===q?void 0:q.focus)||void 0===Q?void 0:Q.rowItem)||void 0===ee?void 0:ee.key,this.insertRowItem(void 0,C.key,z,se.Convert.isEmpty(C.key)?ie.InsertTo.Last:ie.InsertTo.After)}))}insertRowItem(C,I,B,q){return z(this,void 0,void 0,(function*(){return yield this.insertRowItems([{parentKey:C,targetKey:I,data:B,undoKey:void 0}],q)}))}insertRowItems(C,I){var B,q,Q,ee,te,re,ne;return z(this,void 0,void 0,(function*(){this.dataConfig.lazyLoading&&this.showLoading(!0);try{const z=[];if(this.listMode&&1==this.scrollWhole&&se.Convert.isNull(C.find((C=>se.Convert.isValue(C.parentKey)))))switch(I){case ie.InsertTo.Last:yield this.view.loadPage(-1,!1);break;case ie.InsertTo.First:yield this.view.loadPage(0,!1)}this.view.beginUpdate();for(const ie of C){const C=null!==(Q=null!==(B=ie.data)&&void 0!==B?B:null===(q=this.view.map(ie.targetKey))||void 0===q?void 0:q.data)&&void 0!==Q?Q:null===(ee=this.dataSource.keyMap.get(ie.targetKey))||void 0===ee?void 0:ee.data;let ne=ie.targetKey;const se=ie.parentKey,oe=new Pe.GridAddCommand(ne,C);if(0==this.canGridCommand(oe))return;const ae=this.adjustInsertTo(I,ne,this.pageNo);I=ae.insertTo;ae.pageNo;ne=ae.targetKey;const le=yield this.view.insertRowItem(se,ne,C,I);z.push({parentKey:null!==(te=ie.parentKey)&&void 0!==te?te:null===(re=null==le?void 0:le.parent)||void 0===re?void 0:re.key,targetKey:ne,data:le.box,undoKey:null==le?void 0:le.key})}if(this.view.clearEdit(),this.undoManager.add((()=>new Se.UndoInsertRows(z,I))),this.fireCommandAsync(this,new he.RowChangeCommand),this.view.endUpdate(),this.scrollPanel.adjustScrollSize(),z.length>0){let C;for(const I of z){const B=I.data;if(C=this.view.map(I.undoKey),se.Convert.isValue(C)){const I=new Pe.GridAddCommand(C.key,B);this.doGridCommand(I)}}if(yield this.scrollIntoView(C,void 0),C.box instanceof ge.DataBox&&0==this.undoManager.doing){const I=se.Convert.isNull(this.headColumns[0])||this.headColumns[0]instanceof fe.FrozenColumn?this.viewportColumns[0]:this.headColumns[0],B={rowItem:C,column:I,panelType:ae.PanelType.Body,eventType:void 0};this.focusManager.focus=B,(null===(ne=this.editConfig)||void 0===ne?void 0:ne.insertEdit)&&I.editable(B.rowItem)&&this.fireCommandAsync(this,new he.EditCommand("",B.rowItem,B.column))}}return this.fireCommandAsync(this,new he.RefreshCommand),z.length>0}finally{this.dataConfig.lazyLoading&&this.showLoading(!1)}}))}adjustInsertTo(C,I,B){var z,q,Q;if(se.Convert.isEmpty(I))switch(C){case ie.InsertTo.Before:C=ie.InsertTo.First;break;case ie.InsertTo.After:C=ie.InsertTo.Last}if(0==this.listMode)return{insertTo:C,pageNo:B,targetKey:I};B=this.scrollPage?B:void 0;const ee=null!==(z=this.dataSource.getPageBoxes(void 0,B))&&void 0!==z?z:[];switch(C){case ie.InsertTo.First:I=null===(q=ee[0])||void 0===q?void 0:q.key,C=ie.InsertTo.Before;break;case ie.InsertTo.Last:I=null===(Q=ee[ee.length-1])||void 0===Q?void 0:Q.key,C=ie.InsertTo.After}return{insertTo:C,pageNo:B,targetKey:I}}removeRowItems(C){var I,B,q;return z(this,void 0,void 0,(function*(){const z=[];for(const q of C){if(this.dataSource.deleteMap.has(q.targetKey))continue;const C=q.targetKey,Q=yield this.view.removeRowItem(q.parentKey,C,q.data,ie.InsertTo.Before);z.push({parentKey:null!==(I=q.parentKey)&&void 0!==I?I:null===(B=null==Q?void 0:Q.parent)||void 0===B?void 0:B.key,targetKey:q.targetKey,undoKey:null==Q?void 0:Q.key,data:q.data})}if(this.fireCommandAsync(this,new he.RowChangeCommand),this.view.calcRowNo(),this.scrollPanel.adjustScrollSize(),!se.Convert.isEmpty(z)){if(this.undoManager.add((()=>new Se.UndoDelete(z))),z.length>0){this.fireCommandAsync(this,new he.RefreshCommand);for(const C of z){const I=this.view.map(C.targetKey);null!==(q=C.data)&&void 0!==q||(C.data=null==I?void 0:I.data);const B=new Pe.GridRemoveCommand(C.targetKey,C.data);this.doGridCommand(B),this.scrollIntoView(this.view.map(C.undoKey),void 0)}}return z.length>0}}))}bulkAppend(C){return z(this,void 0,void 0,(function*(){this.dataSource.appendData(C),this.loader.clearRows(),this.rows.splice(0),this.clearHeightInfo(!0),yield this.view.prepareRows(!0),this.scrollPanel.adjustScrollSize(),this.refresh()}))}insertColumn(C,I=-1){var B;const z=re.GridColumnParser.parseColumn(C,this.config.defaultColumn,this.config.masterColumns,!0),q=se.Arrays.asArray(this.config.columns);return se.Convert.isValue(I)&&I>=0?q.splice(I,0,z):(q.push(z),I=q.length-1),this.config.columns=q,this.initControls(),null===(B=this._columns)||void 0===B||B.splice(0),this.fireCommandAsync(this,new he.RefreshCommand),I}removeColumn(C=-1){var I;se.Convert.isEmpty(C)||C<0||(se.Arrays.asArray(this.config.columns).splice(C,1),this.initControls(),null===(I=this._columns)||void 0===I||I.splice(0),this.fireCommandAsync(this,new he.RefreshCommand))}undo(){this.undoManager.undo().then((C=>this.fireCommandAsync(this,new he.RefreshCommand)))}redo(){this.undoManager.redo().then((C=>this.fireCommandAsync(this,new he.RefreshCommand)))}updateData(C){return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(C.data)){const I=C.data.map((C=>({key:C.key,value:C.value,field:C.field})));this.setValues(I,C.column,C.ignoreUndo,C.ignoreUpdatedCommand)}}))}insertData(C){var I,B,q;return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(C.data)){const z=C.data.map((C=>({key:C.key,value:C.value,field:C.field}))),Q=this.loader instanceof Ie.GroupLoader?null===(I=this.focusManager.focus)||void 0===I?void 0:I.rowItem:void 0;this.insertValues(null!==(q=null===(B=null==Q?void 0:Q.parent)||void 0===B?void 0:B.key)&&void 0!==q?q:null==Q?void 0:Q.key,z)}}))}importData(C){return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(C.data)){this.clearRows(!0);const I=C.data.map((C=>({key:C.key,value:C.value,field:C.field})));yield this.importValues(I),this.undoManager.clear()}}))}deleteData(C){return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(C.data)){let I,B;const z=[];C.data.forEach((C=>{var q;const Q=this.view.map(C.key);se.Convert.isNull(Q)||(I=Math.min(null!=I?I:Q.rowIndex,Q.rowIndex),B=Math.max(null!=B?B:Q.rowIndex,Q.rowIndex),z.push({parentKey:null===(q=Q.parent)||void 0===q?void 0:q.key,targetKey:Q.key,data:Q.box,undoKey:void 0}))})),this.removeRowItems(z),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:I,rowEnd:B}))}}))}undeleteData(C){return z(this,void 0,void 0,(function*(){if(se.Convert.isValue(C.data)){let I,B;const z=[];C.data.forEach((C=>{var q;const Q=this.view.map(C.key);se.Convert.isNull(Q)||Q.status==ie.DataStatus.Delete&&(I=Math.min(null!=I?I:Q.rowIndex,Q.rowIndex),B=Math.max(null!=B?B:Q.rowIndex,Q.rowIndex),z.push({parentKey:null===(q=Q.parent)||void 0===q?void 0:q.key,targetKey:Q.key,data:Q.box,undoKey:void 0}))})),this.insertRowItems(z,ie.InsertTo.Before),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:I,rowEnd:B}))}}))}deleteRowCommand(C){var I;return z(this,void 0,void 0,(function*(){if(se.Convert.isEmpty(C.key))return;const B=[],z=this.view.map(C.key);se.Convert.isNull(z)||(B.push({parentKey:null===(I=z.parent)||void 0===I?void 0:I.key,targetKey:z.key,data:z.box,undoKey:void 0}),yield this.removeRowItems(B),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:z.rowIndex,rowEnd:z.rowIndex})))}))}deleteRowsCommand(C){var I;return z(this,void 0,void 0,(function*(){if(se.Convert.isEmpty(C.keys))return;const B=[];for(const z of C.keys){const C=this.view.map(z);se.Convert.isNull(C)||B.push({parentKey:null===(I=C.parent)||void 0===I?void 0:I.key,targetKey:C.key,data:C.box,undoKey:void 0})}yield this.removeRowItems(B),this.fireCommandAsync(this,new he.RefreshCommand({}))}))}undeleteRowCommand(C){var I;return z(this,void 0,void 0,(function*(){if(se.Convert.isEmpty(C.key))return;const B=[],z=this.view.map(C.key);se.Convert.isNull(z)||(B.push({parentKey:null===(I=z.parent)||void 0===I?void 0:I.key,targetKey:z.key,data:z.box,undoKey:void 0}),yield this.insertRowItems(B,ie.InsertTo.Before),this.fireCommandAsync(this,new he.RefreshCommand({rowStart:z.rowIndex,rowEnd:z.rowIndex})))}))}getContainer(C,I,B=ae.PanelType.Body){var z;return null===(z=this.scrollPanel)||void 0===z?void 0:z.getContainer(C,I,B)}getGroupByField(C,I=!0){return z(this,void 0,void 0,(function*(){return yield this.dataSource.getGroupByField(C,I)}))}getRangedKeys(){return se.Arrays.from(this.selectManager.selectedCells.keys())}getRangedRows(){return this.view.keysToRows(this.selectManager.selectedCells.keys())}getRangedColumns(C){const I=[];return se.Arrays.bfsAction(this.columns,(B=>(B instanceof fe.FrozenColumn==0&&this.selectManager.isSelectedCell(C,B.name)&&I.push(B),B.columns))),I}getRowItem(C){const I=C.closest(`.${de.SbCss.row}`);if(I.length<0)return;return I.data("rowItem")}getColumn(C){const I=C.closest(`.${de.SbCss.col}`);if(I.length<0)return;const B=I.data("cell");return null==B?void 0:B.column}getRowElement(C){ue.SBGrid3.$(`.${de.SbCss.row}-${C.rowIndex}`,this.container)}getColElement(C,I){let B;for(const C of this.rowLayout.rows)if(B=C.cells.find((C=>C.column==I)),se.Convert.isValue(B))break;if(se.Convert.isValue(B)){return ue.SBGrid3.$(`.${de.SbCss.row}-${C.rowIndex} > .${de.SbCss.col}-${B.row+1}-${B.col}`,this.container)}}moveToPartCommand(C){this.moveToPart(C.column,C.part,C.parentColumn,C.columnIndex)}loadingCommand(C){se.Convert.isNull(C)||this.showLoading(C.loading)}showLoading(C){se.Convert.isValue(this.loadingPanel)&&(this.loadingPanel.loading=C)}get isLoading(){var C,I;return null!==(I=null===(C=this.loadingPanel)||void 0===C?void 0:C.loading)&&void 0!==I&&I}set isLoading(C){this.loadingPanel.loading=C}moveToPart(C,I,B,z,q=!1){var Q;if(!se.Convert.isNull(C)&&!se.Convert.isNull(I)){if(q){if(se.Convert.isNull(C.parent)&&se.Convert.isValue(B)){const I=this.columns.findIndex((I=>I==C));I>=0&&this.columns.splice(I,1),B.columns.splice(z,0,C)}}else z=null===(Q=C.parent)||void 0===Q?void 0:Q.columns.findIndex((I=>I==C)),this.undoManager.add((()=>new Se.UndoMoveToPart(C,C.part,I,C.parent,z))),se.Convert.isValue(C.parent)&&(C.parent.columns.splice(z,1),this.columns.push(C),C.parent=void 0,C.level=0);Grid._setColumnsPart(C,I),this.clearColumns(),this.fireCommandAsync(this,new he.RefreshCommand)}}columnVisible(C){if(se.Convert.isEmpty(C))return;const I=[];for(const B of C)se.Convert.isNull(B.column)||(I.push({column:B.column,visible:B.column.visible}),B.column.config.visible=B.visible);this.undoManager.add((()=>new Se.UndoColumnVisible(I,C))),this.clearColumns(),this.fireCommandAsync(this,new he.RefreshCommand)}static mergePersonalConfig(C,I){return C=te.GridParser.parseConfig(C),se.Convert.isValue(I)&&(C.dataSource.config.groups=I.groups,C.dataSource.config.orders=I.orders,C.dataSource.config.filters=I.filters,C.columns=Grid.cloneColumns(I.columns,se.Arrays.asArray(C.columns))),C}personalSetting(){if(se.Convert.isValue(this.config.personalizationKey)){const C=this.personalStorage.getPersonalizationData();if(se.Convert.isValue(C)){this.dataSource.config.groups=C.groups,this.dataSource.config.orders=C.orders,this.dataSource.config.filters=C.filters;this.config.columns=Grid.cloneColumns(C.columns,se.Arrays.asArray(this._originConfig.columns)),this.setConfig(this.config)}}}get personalStorage(){return new Ee.PersonalStorage(this)}static findColumn(C,I){return se.Arrays.bfsSearch(C,(C=>(se.Convert.isNull(C.caption)&&se.Convert.isValue(C.field)&&(C.caption=C.field),se.Convert.asText(I.field)==se.Convert.asText(C.field)&&se.Convert.asText(I.caption)==se.Convert.asText(C.caption)||C.columns)))}existNotColumn(C,I){return se.Arrays.bfsSearch(C,(C=>se.Convert.asText(I.field)!=se.Convert.asText(C.field)&&se.Convert.asText(I.caption)!=se.Convert.asText(C.caption)||C.columns))}static cloneColumns(C,I){let B=[];for(const z of C){const C=Grid.findColumn(I,z);se.Convert.isNull(C)||(this.mergeColumnConfig(C,z),z.columns=this.cloneColumns(z.columns,I),B.push(z))}return B}static mergeColumnConfig(C,I){for(const B in C)I.hasOwnProperty(B)||(I[B]=C[B])}findRows(C,I=void 0,B=!1,q=!1,Q=!1){var ee,te;return z(this,void 0,void 0,(function*(){let z=[];se.Arrays.bfsAction(this.columns,(C=>(z.push(C),C.columns))),Q&&(z=z.reverse());let ie,re=(I={rowIndex:null!==(ee=null==I?void 0:I.rowIndex)&&void 0!==ee?ee:0,column:null!==(te=null==I?void 0:I.column)&&void 0!==te?te:z[0]}).rowIndex,ne=z.findIndex((C=>C==I.column))+1;const oe={operator:q?ce.FilterOperators.EqualTo:ce.FilterOperators.Contains,values:[C],ignoreCase:B};let ae=!1;for(;se.Convert.isValue(ie=yield this.view.getRow(re,!0));){for(;ne<z.length&&!((null==ie?void 0:ie.node)instanceof ge.GroupNode);ne++){const C=z[ne],I=C.getValue(ie);if(!0===me.Filtering.checkFilter(I,oe))return{rowIndex:re,column:C};const B=C.getRawValue(ie);if(!0===me.Filtering.checkFilter(B,oe))return{rowIndex:re,column:C}}if(re+=Q?-1:1,ae&&I.rowIndex==re)break;if(re<0||this.rowCount<=re){if(ae)break;ae=!0,re=re<0?this.rowCount-1:0}ne=0}}))}changePage(C){return z(this,void 0,void 0,(function*(){const I=(yield this.pagerCommon.getLastPage())-1;if(C<0||C>I)return void le.Log.debug("Out of page range."+C);const B=(yield this.pagerCommon.getCurrentPage())-1,z=new Pe.GridPagerClickCommand(C,B);this.canGridCommand(z)&&(yield this.loadPage(C))}))}setClientData(C,I){if(this.dataConfig.data=C,!I)if(this.isPaging&&this.scrollRange===ce.ScrollRange.Page){const I=Math.ceil((null==C?void 0:C.length)/this.pageSize)-1;this.pageNo=Math.min(this.pageNo,I)}else{const I=C.length-1;this.view.topRow=Math.min(this.topRow,I)}}}I.Grid=Grid,Grid._bodyTypes=[re.PartType.Body,re.PartType.Sticky];class GridStyle{constructor(C){this._style={},this._grid=C}get style(){return this._style}clear(){this._style={}}get prefix(){return`#${this._grid.name}.${de.SbCss.grid}`}set(C,I){const B=this.prefix+" "+C;se.Convert.isNull(I)?delete this.style[B]:this.style[B]=I}get(C){return this.style[this.prefix+" "+C]}get keys(){return Object.keys(this.style)}delete(C){delete this.style[C]}toString(){return this.objectToString(this.style,"","{","}")}objectToString(C,I,B,z,q="\n"){let Q=[];for(const q in C)if(Object.prototype.hasOwnProperty.call(C,q)){const ee=C[q];"string"==typeof ee||"number"==typeof ee?Q.push(`${q} ${I} ${B}${ee}${z}`):Q.push(`${q} ${I} ${B}${this.objectToString(ee,":","",";"," ")}${z}`)}return Q.join(q)}}I.GridStyle=GridStyle},6258:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.RowRange=I.EditEvent=I.EditMode=I.GridParser=I.RowHeaders=I.PopupType=I.SortMode=I.ScrollMode=I.DetailContext=void 0;const z=B(194),q=B(2288),Q=B(1163),ee=B(860),te=B(6312),ie=B(5565),re=B(2224),ne=B(2987),se=B(7392),oe=B(3419),ae=B(7721),le=B(6105),ue=B(7443),de=B(6252),ce=B(5882),he=B(5260),fe=B(5774),pe=B(3354),me=B(7136);var ge,ve,ye,be,Ce,we,_e;I.DetailContext=class DetailContext{constructor(C,I,B,z){this.grid=C,this.rowItem=I,this.container=B,this.map=z}},function(C){C.Cell="cell",C.Pixel="pixel"}(ge||(I.ScrollMode=ge={})),function(C){C.None="none",C.Toggle="toggle",C.Rotate="rotate"}(ve||(I.SortMode=ve={})),function(C){C.Hover="hover",C.Click="click"}(ye||(I.PopupType=ye={})),function(C){C.RowNo="rowno",C.Status="status",C.Sticky="sticky",C.Check="check",C.Radio="radio",C.Detail="detail",C.Reorder="reorder"}(be||(I.RowHeaders=be={}));class GridParser{static parseDefaultConfig(C,I=!0){var B,q,ee,oe,le,ue,de,fe,pe,me,ge,ve,ye;he.Log.debug((()=>["parseDefaultConfig",C]));let be={defaultColumn:Q.Convert.default(C.defaultColumn,null===(B=te.SBGrid3.default)||void 0===B?void 0:B.defaultColumn,(I=>ae.GridColumnParser.parseColumn(I,void 0,C.masterColumns,!0))),masterColumns:Q.Convert.default(C.masterColumns,null===(q=te.SBGrid3.default)||void 0===q?void 0:q.masterColumns),defaultPageable:Q.Convert.default(C.defaultPageable,null===(ee=te.SBGrid3.default)||void 0===ee?void 0:ee.defaultPageable,GridParser.parsePageable),defaultSortable:Q.Convert.default(C.defaultSortable,null===(oe=te.SBGrid3.default)||void 0===oe?void 0:oe.defaultSortable,(C=>GridParser.parseSortable(C))),defaultNavigatable:Q.Convert.default(C.defaultNavigatable,null===(le=te.SBGrid3.default)||void 0===le?void 0:le.defaultNavigatable,(C=>GridParser.parseNavigatable(C))),defaultFilterable:Q.Convert.default(C.defaultFilterable,null===(ue=te.SBGrid3.default)||void 0===ue?void 0:ue.defaultFilterable,(C=>GridParser.parseFilterOption(C))),defaultReorderable:Q.Convert.default(C.defaultReorderable,null===(de=te.SBGrid3.default)||void 0===de?void 0:de.defaultReorderable,(C=>GridParser.parseReorderable(C))),defaultResizable:Q.Convert.default(C.defaultResizable,null===(fe=te.SBGrid3.default)||void 0===fe?void 0:fe.defaultResizable,(C=>ne.ResizeOptionParser.parseResizeOption(C))),defaultContextMenu:Q.Convert.default(C.defaultContextMenu,null===(pe=te.SBGrid3.default)||void 0===pe?void 0:pe.defaultContextMenu,(C=>{var I;return ce.GridMenuParser.parse(C,null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultContextMenu)})),defaultSelectable:Q.Convert.default(C.defaultSelectable,null===(me=te.SBGrid3.default)||void 0===me?void 0:me.defaultSelectable,(C=>ie.SelectOptionParser.parseSelectable(C))),defaultEditable:Q.Convert.default(C.defaultEditable,null===(ge=te.SBGrid3.default)||void 0===ge?void 0:ge.defaultEditable,(C=>GridParser.parseEditable(C))),defaultCopyable:Q.Convert.default(C.defaultCopyable,null===(ve=te.SBGrid3.default)||void 0===ve?void 0:ve.defaultCopyable,(C=>re.CopyOptionParser.parseCopyable(C))),defaultDataSource:Q.Convert.default(C.defaultDataSource,null===(ye=te.SBGrid3.default)||void 0===ye?void 0:ye.defaultDataSource,se.DataSourceParser.parseConfig)};return be=Q.Convert.mergeData(be,C),Q.Convert.isValue(be.defaultDataSource)&&(z.DataSource.defaultConfig=be.defaultDataSource),I&&(be=this.parseConfig(be)),be}static parseConfig(C){var I,B,ee,oe,le,ue,de,fe,pe,ge,ve,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ne,Ae,De,Fe,Oe,Be,Le,je,$e,Ve,He,Ge,Ue,ze,qe,We,Ke,Xe,Je,Ye,Ze,Qe,et,tt,it,rt,nt,st,ot,at,ut,dt,ct,ht,pt,mt,vt,yt,bt,Ct,wt,_t,St,xt,kt,Tt,Mt,Rt,Et,Pt,It,Nt,At,Dt,Ft,Ot,Bt,Lt,jt,$t,Vt,Ht,Gt,Ut,zt,qt,Wt,Kt,Xt;he.Log.debug((()=>["parseConfig",C]));const Jt=Q.Convert.default(C.defaultColumn,null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultColumn,(I=>ae.GridColumnParser.parseColumn(I,void 0,C.masterColumns,!0)));let Yt={personalizationKey:Q.Convert.default(C.personalizationKey,void 0),personalizationVersion:Q.Convert.default(C.personalizationVersion,void 0),dataSource:Q.Convert.default(C.dataSource,void 0,GridParser.parseDataSource),defaultColumn:Jt,columns:Q.Convert.default(C.columns,void 0,(I=>ae.GridColumnParser.parseColumns(I,Jt,C.masterColumns))),panels:Q.Convert.default(C.panels,null===(B=te.SBGrid3.default)||void 0===B?void 0:B.panels,GridParser.parsePanels),toolBar:Q.Convert.default(C.toolBar,null===(ee=te.SBGrid3.default)||void 0===ee?void 0:ee.toolBar,GridParser.parsePanelLayout),titleBar:Q.Convert.default(C.titleBar,null===(oe=te.SBGrid3.default)||void 0===oe?void 0:oe.titleBar,GridParser.parsePanelLayout),groupBar:Q.Convert.default(C.groupBar,null===(le=te.SBGrid3.default)||void 0===le?void 0:le.groupBar,GridParser.parsePanelLayout),pagerBar:Q.Convert.default(C.pagerBar,null===(ue=te.SBGrid3.default)||void 0===ue?void 0:ue.pagerBar,GridParser.parsePanelLayout),emptyTemplate:Q.Convert.default(C.emptyTemplate,null===(de=te.SBGrid3.default)||void 0===de?void 0:de.emptyTemplate),loadingTemplate:Q.Convert.default(C.loadingTemplate,null===(fe=te.SBGrid3.default)||void 0===fe?void 0:fe.loadingTemplate),detailTemplate:Q.Convert.default(C.detailTemplate,null===(pe=te.SBGrid3.default)||void 0===pe?void 0:pe.detailTemplate),detailOverflow:Q.Convert.default(C.detailOverflow,null!==(ve=null===(ge=te.SBGrid3.default)||void 0===ge?void 0:ge.detailOverflow)&&void 0!==ve?ve:"auto"),container:Q.Convert.default(C.container,null===(be=te.SBGrid3.default)||void 0===be?void 0:be.container,GridParser.parseContainer),width:Q.Convert.default(C.width,null===(Ce=te.SBGrid3.default)||void 0===Ce?void 0:Ce.width,GridParser.parseUnit),height:Q.Convert.default(C.height,null!==(_e=null===(we=te.SBGrid3.default)||void 0===we?void 0:we.height)&&void 0!==_e?_e:"100vh",GridParser.parseUnit),innerHeight:Q.Convert.default(C.innerHeight,null===(Se=te.SBGrid3.default)||void 0===Se?void 0:Se.innerHeight),innerWidth:Q.Convert.default(C.innerWidth,null===(xe=te.SBGrid3.default)||void 0===xe?void 0:xe.innerWidth),autoHeight:Q.Convert.default(C.autoHeight,null!==(Te=null===(ke=te.SBGrid3.default)||void 0===ke?void 0:ke.autoHeight)&&void 0!==Te&&Te),minHeight:Q.Convert.default(C.minHeight,null===(Me=te.SBGrid3.default)||void 0===Me?void 0:Me.minHeight,GridParser.parseUnit),maxHeight:Q.Convert.default(C.maxHeight,null===(Re=te.SBGrid3.default)||void 0===Re?void 0:Re.maxHeight,GridParser.parseUnit),editable:Q.Convert.default(C.editable,null===(Ee=te.SBGrid3.default)||void 0===Ee?void 0:Ee.editable,GridParser.parseEditable),virtualColumn:Q.Convert.default(C.virtualColumn,null===(Pe=te.SBGrid3.default)||void 0===Pe?void 0:Pe.virtualColumn),virtualRow:Q.Convert.default(C.virtualRow,null===(Ne=null===(Ie=te.SBGrid3.default)||void 0===Ie?void 0:Ie.virtualRow)||void 0===Ne||Ne),scrollRange:Q.Convert.default(C.scrollRange,null!==(De=null===(Ae=te.SBGrid3.default)||void 0===Ae?void 0:Ae.scrollRange)&&void 0!==De?De:se.ScrollRange.Auto,(C=>Q.Convert.parseEnum(se.ScrollRange,C))),rowCss:Q.Convert.default(C.rowCss,null===(Fe=te.SBGrid3.default)||void 0===Fe?void 0:Fe.rowCss),alternateCss:Q.Convert.default(C.alternateCss,null===(Oe=te.SBGrid3.default)||void 0===Oe?void 0:Oe.alternateCss,GridParser.parseAlternate),pageable:Q.Convert.default(C.pageable,null===(Be=te.SBGrid3.default)||void 0===Be?void 0:Be.pageable,GridParser.parsePageable),sortable:Q.Convert.default(C.sortable,null===(Le=te.SBGrid3.default)||void 0===Le?void 0:Le.sortable,GridParser.parseSortable),navigatable:Q.Convert.default(C.navigatable,null===(je=te.SBGrid3.default)||void 0===je?void 0:je.navigatable,GridParser.parseNavigatable),reorderable:Q.Convert.default(C.reorderable,null===($e=te.SBGrid3.default)||void 0===$e?void 0:$e.reorderable,GridParser.parseReorderable),groupable:Q.Convert.default(C.groupable,null===(Ve=te.SBGrid3.default)||void 0===Ve?void 0:Ve.groupable),filterable:Q.Convert.default(C.filterable,null===(He=te.SBGrid3.default)||void 0===He?void 0:He.filterable,(C=>GridParser.parseFilterOption(C))),resizable:Q.Convert.default(C.resizable,null===(Ge=te.SBGrid3.default)||void 0===Ge?void 0:Ge.resizable,ne.ResizeOptionParser.parseResizeOption),undoable:Q.Convert.default(C.undoable,null===(Ue=te.SBGrid3.default)||void 0===Ue?void 0:Ue.undoable),hideDeleted:Q.Convert.default(C.hideDeleted,null===(ze=te.SBGrid3.default)||void 0===ze?void 0:ze.hideDeleted),mergeRow:Q.Convert.default(C.mergeRow,null===(qe=te.SBGrid3.default)||void 0===qe?void 0:qe.mergeRow),mergeColumn:Q.Convert.default(C.mergeColumn,null===(We=te.SBGrid3.default)||void 0===We?void 0:We.mergeColumn),multiSort:Q.Convert.default(C.multiSort,null===(Ke=te.SBGrid3.default)||void 0===Ke?void 0:Ke.multiSort),fixedRows:Q.Convert.default(C.fixedRows,null===(Xe=te.SBGrid3.default)||void 0===Xe?void 0:Xe.fixedRows),captionHeight:Q.Convert.default(C.captionHeight,null===(Je=te.SBGrid3.default)||void 0===Je?void 0:Je.captionHeight),rowHeight:Q.Convert.default(C.rowHeight,null===(Ye=te.SBGrid3.default)||void 0===Ye?void 0:Ye.rowHeight,GridParser.parseHeight),maxRowHeight:Q.Convert.default(C.maxRowHeight,null===(Ze=te.SBGrid3.default)||void 0===Ze?void 0:Ze.maxRowHeight),filterHeight:Q.Convert.default(C.filterHeight,null===(Qe=te.SBGrid3.default)||void 0===Qe?void 0:Qe.filterHeight,GridParser.parseHeight),headerHeight:Q.Convert.default(C.headerHeight,null===(et=te.SBGrid3.default)||void 0===et?void 0:et.headerHeight,GridParser.parseHeight),footerHeight:Q.Convert.default(C.footerHeight,null===(tt=te.SBGrid3.default)||void 0===tt?void 0:tt.footerHeight,GridParser.parseHeight),groupHeight:Q.Convert.default(C.groupHeight,null===(it=te.SBGrid3.default)||void 0===it?void 0:it.groupHeight),detailHeight:Q.Convert.default(C.detailHeight,null===(rt=te.SBGrid3.default)||void 0===rt?void 0:rt.detailHeight),maxDetailHeight:Q.Convert.default(C.maxDetailHeight,null===(nt=te.SBGrid3.default)||void 0===nt?void 0:nt.maxDetailHeight),wheelDelta:Q.Convert.default(C.wheelDelta,null===(st=te.SBGrid3.default)||void 0===st?void 0:st.wheelDelta),detailInit:C.detailInit,stickyHeader:Q.Convert.default(C.stickyHeader,null===(ot=te.SBGrid3.default)||void 0===ot?void 0:ot.stickyHeader),stickyFooter:Q.Convert.default(C.stickyFooter,null===(at=te.SBGrid3.default)||void 0===at?void 0:at.stickyFooter),stickyRow:Q.Convert.default(C.stickyRow,null===(ut=te.SBGrid3.default)||void 0===ut?void 0:ut.stickyRow),stickyEdit:Q.Convert.default(C.stickyEdit,null===(dt=te.SBGrid3.default)||void 0===dt?void 0:dt.stickyEdit),stickyInsert:Q.Convert.default(C.stickyInsert,null===(ct=te.SBGrid3.default)||void 0===ct?void 0:ct.stickyInsert),stickyUpdate:Q.Convert.default(C.stickyUpdate,null===(ht=te.SBGrid3.default)||void 0===ht?void 0:ht.stickyUpdate),stickyDelete:Q.Convert.default(C.stickyDelete,null===(pt=te.SBGrid3.default)||void 0===pt?void 0:pt.stickyDelete),rowHeaders:Q.Convert.default(C.rowHeaders,null===(mt=te.SBGrid3.default)||void 0===mt?void 0:mt.rowHeaders,GridParser.parseRowHeader),showRowNo:Q.Convert.default(C.showRowNo,null===(vt=te.SBGrid3.default)||void 0===vt?void 0:vt.showRowNo),showSticky:Q.Convert.default(C.showSticky,null===(yt=te.SBGrid3.default)||void 0===yt?void 0:yt.showSticky),showRadio:Q.Convert.default(C.showRadio,null===(bt=te.SBGrid3.default)||void 0===bt?void 0:bt.showRadio),showCheck:Q.Convert.default(C.showCheck,null===(Ct=te.SBGrid3.default)||void 0===Ct?void 0:Ct.showCheck),checkable:Q.Convert.default(C.checkable,null===(wt=te.SBGrid3.default)||void 0===wt?void 0:wt.checkable),selectable:Q.Convert.default(C.selectable,null===(_t=te.SBGrid3.default)||void 0===_t?void 0:_t.selectable,ie.SelectOptionParser.parseSelectable),groupAutoOpen:Q.Convert.default(C.groupAutoOpen,null===(St=te.SBGrid3.default)||void 0===St?void 0:St.groupAutoOpen),detailAutoOpen:Q.Convert.default(C.detailAutoOpen,null===(xt=te.SBGrid3.default)||void 0===xt?void 0:xt.detailAutoOpen),showStatus:Q.Convert.default(C.showStatus,null===(kt=te.SBGrid3.default)||void 0===kt?void 0:kt.showStatus),showDetail:Q.Convert.default(C.showDetail,null===(Tt=te.SBGrid3.default)||void 0===Tt?void 0:Tt.showDetail),hover:Q.Convert.default(C.hover,null===(Mt=te.SBGrid3.default)||void 0===Mt?void 0:Mt.hover,(C=>GridParser.parseHover(C))),statusBar:Q.Convert.default(C.statusBar,null===(Rt=te.SBGrid3.default)||void 0===Rt?void 0:Rt.statusBar,(()=>GridParser.parseStatusPanelAlign(C.statusBar))),contextMenu:Q.Convert.default(C.contextMenu,null===(Et=te.SBGrid3.default)||void 0===Et?void 0:Et.contextMenu,(C=>{var I;return ce.GridMenuParser.parse(C,null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultContextMenu)})),copyable:Q.Convert.default(C.copyable,null===(Pt=te.SBGrid3.default)||void 0===Pt?void 0:Pt.copyable,re.CopyOptionParser.parseCopyable),popupType:Q.Convert.default(C.popupType,ye.Click),canCommand:C.canCommand,doCommand:C.doCommand,freezable:Q.Convert.default(C.freezable,null!==(Nt=null===(It=te.SBGrid3.default)||void 0===It?void 0:It.freezable)&&void 0!==Nt&&Nt),copyInsert:Q.Convert.default(C.copyInsert,null!==(Dt=null===(At=te.SBGrid3.default)||void 0===At?void 0:At.copyInsert)&&void 0!==Dt&&Dt),theme:Q.Convert.default(C.theme,null!==(Ot=null===(Ft=te.SBGrid3.default)||void 0===Ft?void 0:Ft.theme)&&void 0!==Ot?Ot:""),search:Q.Convert.default(C.search,null!==(Lt=null===(Bt=te.SBGrid3.default)||void 0===Bt?void 0:Bt.search)&&void 0!==Lt&&Lt),dataDraggable:Q.Convert.default(C.dataDraggable,null===(jt=te.SBGrid3.default)||void 0===jt?void 0:jt.dataDraggable,(()=>me.GridDraggable.parseDataDraggable(C.dataDraggable))),dataDroppable:Q.Convert.default(C.dataDroppable,null===($t=te.SBGrid3.default)||void 0===$t?void 0:$t.dataDroppable,(()=>me.GridDroppable.parseDataDroppable(C.dataDroppable))),captionVisible:Q.Convert.default(C.captionVisible,null===(Ht=null===(Vt=te.SBGrid3.default)||void 0===Vt?void 0:Vt.captionVisible)||void 0===Ht||Ht),showHeader:Q.Convert.default(C.showHeader,null===(Gt=te.SBGrid3.default)||void 0===Gt?void 0:Gt.showHeader),showFooter:Q.Convert.default(C.showFooter,null===(Ut=te.SBGrid3.default)||void 0===Ut?void 0:Ut.showFooter),rowEditable:Q.Convert.default(C.rowEditable,void 0),rowVisible:Q.Convert.default(C.rowVisible,void 0),viewMode:Q.Convert.default(C.viewMode,null===(zt=te.SBGrid3.default)||void 0===zt?void 0:zt.viewMode,(C=>Q.Convert.parseEnum(q.ViewMode,C))),scrollBarSize:Q.Convert.default(C.scrollBarSize,null===(qt=te.SBGrid3.default)||void 0===qt?void 0:qt.scrollBarSize),reverseRowNo:Q.Convert.default(C.reverseRowNo,null!==(Kt=null===(Wt=te.SBGrid3.default)||void 0===Wt?void 0:Wt.reverseRowNo)&&void 0!==Kt&&Kt),accessibility:Q.Convert.default(C.accessibility,null===(Xt=te.SBGrid3.default)||void 0===Xt?void 0:Xt.accessibility,(C=>GridParser.parseAccessbility(C)))};return Yt.mobile=Q.Convert.default(C.mobile,void 0,(I=>GridParser.parseMobile(I,Yt,Q.Arrays.asArray(Yt.columns),Jt,C.masterColumns))),!0===Yt.showSticky&&(Yt.stickyRow=!0),!0===Yt.autoHeight&&(Yt.height=void 0),Q.Convert.isNull(Yt.dataSource)&&(Yt.dataSource=new z.DataSource({})),this.ensureFixedColumns(Yt),GridParser.adjustColumns(Yt),Yt=Q.Convert.mergeData(Yt,C),Yt}static adjustColumns(C){if(Q.Convert.isValue(C.columns)){const I=Q.Arrays.asArray(C.columns);GridParser.applyAggregates(I,C.dataSource.config),GridParser.applyCalculations(I,C.dataSource.config),GridParser.adjustGroups(I),GridParser.adjustValidator(I,C.dataSource.config),GridParser.adjustFields(I,C.dataSource.config),GridParser.adjustContextMenu(I,C.defaultColumn,C)}}static adjustContextMenu(C,I,B){const _adjustContextMenu=(C,I,B)=>{var z,q,ee,ie,re,ne;const se=Q.Convert.isEmpty(C.masterColumn)?I:ae.GridColumnParser.getMasterColumn(C.masterColumn,B.masterColumns),oe=null!==(z=(null==B?void 0:B.contextMenu)?B.contextMenu:void 0)&&void 0!==z?z:(null==se?void 0:se.contextMenu)?null==se?void 0:se.contextMenu:null===(ee=null===(q=te.SBGrid3.default)||void 0===q?void 0:q.defaultColumn)||void 0===ee?void 0:ee.contextMenu,le=null!==(ie=(null==B?void 0:B.contextMenu)?B.contextMenu:void 0)&&void 0!==ie?ie:(null==se?void 0:se.contextMenu)?null==se?void 0:se.contextMenu:null===(ne=null===(re=te.SBGrid3.default)||void 0===re?void 0:re.defaultColumn)||void 0===ne?void 0:ne.defaultContextMenu;C.contextMenu=Q.Convert.default(C.contextMenu,oe,(C=>ce.GridMenuParser.parse(C,le)))};_adjustContextMenu(I,void 0,B);for(const z of C)_adjustContextMenu(z,I,B)}static parseMobile(C,I,B,z,q){var ee,ie,re,ne,se,oe,le,ue,de,ce,he,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ne,Ae,De;null!=C||(C={}),null!=B||(B=[]),Q.Convert.isEmpty(C.columns)&&(1==B.length&&B[0].type==fe.ColumnTypes.Multi&&(B=B[0].columns),C.columns=B);const Fe=null!==(ee=B[0])&&void 0!==ee?ee:{};return{groupHeight:null!==(ie=C.groupHeight)&&void 0!==ie?ie:I.groupHeight,captionHeight:Q.Convert.default(C.captionHeight,null!==(oe=null!==(re=I.captionHeight)&&void 0!==re?re:null===(se=null===(ne=te.SBGrid3.default)||void 0===ne?void 0:ne.mobile)||void 0===se?void 0:se.captionHeight)&&void 0!==oe?oe:null===(le=te.SBGrid3.default)||void 0===le?void 0:le.captionHeight,GridParser.parseHeight),filterHeight:Q.Convert.default(C.filterHeight,null!==(he=null!==(ue=I.filterHeight)&&void 0!==ue?ue:null===(ce=null===(de=te.SBGrid3.default)||void 0===de?void 0:de.mobile)||void 0===ce?void 0:ce.filterHeight)&&void 0!==he?he:null===(pe=te.SBGrid3.default)||void 0===pe?void 0:pe.filterHeight,GridParser.parseHeight),headerHeight:Q.Convert.default(C.headerHeight,null!==(ye=null!==(me=I.headerHeight)&&void 0!==me?me:null===(ve=null===(ge=te.SBGrid3.default)||void 0===ge?void 0:ge.mobile)||void 0===ve?void 0:ve.headerHeight)&&void 0!==ye?ye:null===(be=te.SBGrid3.default)||void 0===be?void 0:be.headerHeight,GridParser.parseHeight),footerHeight:Q.Convert.default(C.footerHeight,null!==(Se=null!==(Ce=I.footerHeight)&&void 0!==Ce?Ce:null===(_e=null===(we=te.SBGrid3.default)||void 0===we?void 0:we.mobile)||void 0===_e?void 0:_e.footerHeight)&&void 0!==Se?Se:null===(xe=te.SBGrid3.default)||void 0===xe?void 0:xe.footerHeight,GridParser.parseHeight),rowHeight:Q.Convert.default(C.rowHeight,null!==(Re=null!==(ke=I.rowHeight)&&void 0!==ke?ke:null===(Me=null===(Te=te.SBGrid3.default)||void 0===Te?void 0:Te.mobile)||void 0===Me?void 0:Me.rowHeight)&&void 0!==Re?Re:null===(Ee=te.SBGrid3.default)||void 0===Ee?void 0:Ee.rowHeight,GridParser.parseHeight),captions:null!==(Pe=C.captions)&&void 0!==Pe?Pe:Fe.captions,filters:null!==(Ie=C.filters)&&void 0!==Ie?Ie:Fe.filters,footers:null!==(Ne=C.footers)&&void 0!==Ne?Ne:Fe.footers,headers:null!==(Ae=C.headers)&&void 0!==Ae?Ae:Fe.headers,rows:null!==(De=C.rows)&&void 0!==De?De:Fe.rows,rowTemplate:C.rowTemplate,captionTemplate:C.captionTemplate,headerTemplate:C.headerTemplate,footerTemplate:C.footerTemplate,columns:Q.Convert.default(C.columns,B,(I=>ae.GridColumnParser.parseColumns(C.columns,z,q)))}}static parseHeight(C){if(!Q.Convert.isNull(C))return C instanceof Array?C.map((C=>Q.Convert.asNumber(C))):[Q.Convert.asNumber(C)]}static extractFixedColumn(C,I){const B=C.findIndex((C=>I(C)));if(B>=0){const I=C[B];return C.splice(B,1),I}}static ensureFixedColumns(C){var I,B,z,q,ee,te,ie,re,ne,se,oe,le,ue,de,ce,he,me,ge;if(Q.Convert.isEmpty(C.columns))return;const ve=[].concat(C.columns.filter((C=>C.part==ae.PartType.Fixed)));let ye=[];const Ce=C.reorderable,we=null!==(I=Q.Convert.isValue(Ce.row))&&void 0!==I&&I;for(const I of C.rowHeaders){let ge;const Ce=`fixed.${I}`,_e=ae.GridColumnParser.getMasterColumn(Ce,C.masterColumns);switch(I){case be.RowNo:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.RowNo)),Q.Convert.isNull(ge)&&C.showRowNo&&ye.push(null!=ge?ge:{width:null!==(B=null==_e?void 0:_e.width)&&void 0!==B?B:50,part:ae.PartType.Fixed,type:fe.ColumnTypes.RowNo,field:pe.FixedFields.rowno,caption:"",masterColumn:Ce,exportVisible:null!==(z=null==_e?void 0:_e.exportVisible)&&void 0!==z&&z});break;case be.Status:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.Status)),Q.Convert.isNull(ge)&&C.showStatus&&ye.push(null!=ge?ge:{width:null!==(q=null==_e?void 0:_e.width)&&void 0!==q?q:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.Status,field:pe.FixedFields.status,masterColumn:Ce,exportVisible:null!==(ee=null==_e?void 0:_e.exportVisible)&&void 0!==ee&&ee});break;case be.Sticky:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.Sticky)),Q.Convert.isNull(ge)&&C.showSticky&&ye.push(null!=ge?ge:{width:null!==(te=null==_e?void 0:_e.width)&&void 0!==te?te:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.Sticky,field:pe.FixedFields.sticky,masterColumn:Ce,exportVisible:null!==(ie=null==_e?void 0:_e.exportVisible)&&void 0!==ie&&ie});break;case be.Check:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.RowCheck)),Q.Convert.isNull(ge)&&(C.checkable||C.showCheck)&&ye.push(null!=ge?ge:{width:null!==(re=null==_e?void 0:_e.width)&&void 0!==re?re:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.RowCheck,field:pe.FixedFields.check,masterColumn:Ce,exportVisible:null!==(ne=null==_e?void 0:_e.exportVisible)&&void 0!==ne&&ne,captionCheck:null===(se=null==_e?void 0:_e.captionCheck)||void 0===se||se});break;case be.Radio:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.RowRadio)),Q.Convert.isNull(ge)&&C.showRadio&&ye.push(null!=ge?ge:{width:null!==(oe=null==_e?void 0:_e.width)&&void 0!==oe?oe:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.RowRadio,field:pe.FixedFields.radio,masterColumn:Ce,exportVisible:null!==(le=null==_e?void 0:_e.exportVisible)&&void 0!==le&&le,captionCheck:null!==(ue=null==_e?void 0:_e.captionCheck)&&void 0!==ue&&ue});break;case be.Detail:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.Detail)),Q.Convert.isNull(ge)&&Q.Convert.isValue(C.detailTemplate)&&!0===C.showDetail&&ye.push(null!=ge?ge:{width:null!==(de=null==_e?void 0:_e.width)&&void 0!==de?de:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.Detail,field:pe.FixedFields.detail,masterColumn:Ce,exportVisible:null!==(ce=null==_e?void 0:_e.exportVisible)&&void 0!==ce&&ce});break;case be.Reorder:ge=this.extractFixedColumn(ve,(C=>C.type==fe.ColumnTypes.RowReorder)),Q.Convert.isNull(ge)&&we&&ye.push(null!=ge?ge:{width:null!==(he=null==_e?void 0:_e.width)&&void 0!==he?he:25,part:ae.PartType.Fixed,type:fe.ColumnTypes.RowReorder,field:pe.FixedFields.reorder,masterColumn:Ce,exportVisible:null!==(me=null==_e?void 0:_e.exportVisible)&&void 0!==me&&me})}}null===(ge=C.columns)||void 0===ge||ge.splice(0,0,...ye)}static parseAlternate(C){const I=[];if("number"==typeof C)for(let B=0;B<C-1;B++)I.push("");else"string"==typeof C?I.push(C):I.push(...C);return I}static parsePageable(C){var I,B,z,q,ee,ie,re;const ne=null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultPageable,se=null===(B=te.SBGrid3.default)||void 0===B?void 0:B.pageable;if(Q.Convert.isNull(C))return se;if(!1!==C){if(!0===C)return ne;if(C.hasOwnProperty("numeric"))return GridParser.parsePageable({pager:C});if(C.hasOwnProperty("listCount"))return GridParser.parsePageable({pagerCombo:C});if(C.hasOwnProperty("pager")||C.hasOwnProperty("pagerCombo")||C.hasOwnProperty("pageSizes")){const I=C,B=I.pager,te=I.pagerCombo,se=I.pageSizes,oe=null==ne?void 0:ne.pager,ae=null==ne?void 0:ne.pagerCombo,le=null==ne?void 0:ne.pageSizes,ue=I.changing,de=I.changed;return{pager:!1===B?void 0:!0===B||Q.Convert.isNull(B)?oe:{numeric:null!==(z=null==B?void 0:B.numeric)&&void 0!==z?z:null==oe?void 0:oe.numeric,previousNext:null!==(q=null==B?void 0:B.previousNext)&&void 0!==q?q:null==oe?void 0:oe.previousNext,buttonCount:null!==(ee=null==B?void 0:B.buttonCount)&&void 0!==ee?ee:null==oe?void 0:oe.buttonCount},pagerCombo:!1===te?void 0:!0===te||Q.Convert.isNull(te)?ae:{listCount:null!==(re=null!==(ie=null==te?void 0:te.listCount)&&void 0!==ie?ie:null==ae?void 0:ae.listCount)&&void 0!==re?re:5},pageSizes:!1===se?void 0:!0===se||Q.Convert.isNull(se)?le:null!=se?se:le,changing:ue,changed:de}}}}static parseSortable(C){var I;return"boolean"==typeof C?C?null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultSortable:ve.None:Q.Convert.parseEnum(ve,C)}static parseRowHeader(C){const I=[];for(const B of C)"function"==typeof B?I.push(B):"row"==B?I.push(be.RowNo):I.push(Q.Convert.parseEnum(be,B));return I}static applyCalculations(C,I){var B,z;const q=null===(B=Q.Arrays.bfsSearchAll((I=>Q.Convert.isNull(I)?C:I.columns),(C=>{var I,B;return Q.Convert.isValue(null===(I=C.calc)||void 0===I?void 0:I.eval)||Q.Convert.isValue(null===(B=C.calc)||void 0===B?void 0:B.rows)})))||void 0===B?void 0:B.map((C=>C.calc));let ee=null!==(z=I.calculations)&&void 0!==z?z:[];for(const C of q)Q.Convert.isValue(ee.find((I=>I.field==C.field)))||ee.push(C);I.calculations=se.DataSourceParser.parseCalculations(ee)}static adjustGroups(C){const I=new Map;!function makeGroupMap(C,I){for(const B of C){if(Q.Convert.isEmpty(B.field))continue;const C=B.groups instanceof Array?B.groups:Q.Convert.isValue(B.groups)?[B.groups]:[];let z=[];for(const q of C)q.field==B.field?z.push(q):Q.Convert.isValue(q.field)&&Q.Convert.isValue(q.field.trim())&&(I.has(q.field)?I.get(q.field).push(q):I.set(q.field,[q]));B.groups=z,Q.Convert.isValue(B.columns)&&makeGroupMap(B.columns,I)}}(C,I),function assignGroupMap(C,I){for(const B of C){if(Q.Convert.isEmpty(B.field))continue;const C=B.groups instanceof Array?B.groups:[B.groups];if(I.has(B.field))for(const z of I.get(B.field))C.push(z);Q.Convert.isValue(B.columns)&&assignGroupMap(B.columns,I)}}(C,I)}static applyAggregates(C,I){var B,z,q,ee;if(Q.Convert.isEmpty(C))return;const te=null!==(B=I.aggregates)&&void 0!==B?B:[],ie=null!==(q=null===(z=I.tree)||void 0===z?void 0:z.aggregates)&&void 0!==q?q:[],re=null===(ee=null==I?void 0:I.schema)||void 0===ee?void 0:ee.fields;function applyAggregates(C,I,B){var z,q;for(const ee of null!=I?I:[])B.some((C=>le.Aggregate.aggregateEquals(C,ee)))||(Q.Convert.isValue(C)&&(Q.Convert.isEmpty(ee.dataType)&&(ee.dataType=Q.Convert.parseEnum(Q.DataType,null===(z=C[Q.Convert.asStringArray(ee.require,void 0)[0]])||void 0===z?void 0:z.dataType)),Q.Convert.isValue(ee.payload)&&Q.Convert.isEmpty(ee.payloadType)&&(ee.payloadType=Q.Convert.parseEnum(Q.DataType,null===(q=C[ee.payload])||void 0===q?void 0:q.dataType))),B.push(ae.GridColumnParser.parseAggregate(ee.require,ee)))}Q.Arrays.bfsAction(C,(C=>{var I,B;if(Q.Convert.isValue(null===(I=C.total)||void 0===I?void 0:I.aggregates)&&applyAggregates(re,C.total.aggregates,te),Q.Convert.isValue(C.groups)&&C.groups instanceof Array)for(const I of C.groups)applyAggregates(re,I.aggregates,[]);return Q.Convert.isValue(null===(B=C.tree)||void 0===B?void 0:B.aggregates)&&applyAggregates(re,C.tree.aggregates,ie),C.columns})),I.aggregates=te,Q.Convert.isValue(ie)&&(Q.Convert.isEmpty(I.tree)&&(I.tree={}),I.tree.aggregates=ie)}static parseUnit(C){return"number"==typeof C?`${C}px`:C}static parseContainer(C){if("string"==typeof C){const I=te.SBGrid3.$(C);return 0==I.length&&he.Log.error((()=>`[${C}] 를 찾을 수 없습니다.`)),I}return C instanceof HTMLElement?te.SBGrid3.$(C):C}static parsePanelLayout(C){return C instanceof Array||"string"==typeof C?{left:GridParser.parseStringArray(C)}:C instanceof Object?{left:GridParser.parseStringArray(C.left),center:GridParser.parseStringArray(C.center),right:GridParser.parseStringArray(C.right),leftFlex:GridParser.parseAlignFlex(C.leftFlex,ae.TextAlign.Left),centerFlex:GridParser.parseAlignFlex(C.centerFlex,ae.TextAlign.Center),rightFlex:GridParser.parseAlignFlex(C.rightFlex,ae.TextAlign.Right)}:void 0}static parseAlignFlex(C,I){var B;return{flexGrow:null==C?void 0:C.flexGrow,flexShrink:null==C?void 0:C.flexShrink,align:null!==(B=null==C?void 0:C.align)&&void 0!==B?B:I}}static parseStringArray(C){if(Q.Convert.isEmpty(C))return[];if(C instanceof Array)return[].concat(C);if("string"==typeof C){return C.split(",").map((C=>C.trim())).filter((C=>0==Q.Convert.isWhite(C)))}return C}static parseEnumArray(C,I){if(Q.Convert.isEmpty(I))return[];if(I instanceof Array){let B=new Array;for(const z of I){let I=Q.Convert.parseEnum(C,z);B.push(I)}return[].concat(I)}if("string"==typeof I){let B=I.split(","),z=new Array;for(const I of B){let B=Q.Convert.parseEnum(C,I.trim());z.push(B)}return z}return I}static parsePanels(C){if(C instanceof Array||"string"==typeof C){return GridParser.parseEnumArray(ee.PanelType,C)}throw"panels must be array or comma seperated string"}static parseDataSource(C){return C instanceof z.DataSource?C:C instanceof Array?new z.DataSource({data:C}):Q.Convert.isValue(C)?new z.DataSource(C):void 0}static adjustFields(C,I){var B,z,q,ee,te;if(0==(null===(z=null===(B=null==I?void 0:I.schema)||void 0===B?void 0:B.autoFields)||void 0===z||z))return;const ie=null===(q=Q.Arrays.bfsSearchAll((I=>Q.Convert.isNull(I)?C:I.columns),(C=>{var I,B,z;return Q.Convert.isValue(C.field)&&!1!==C.editable&&Q.Convert.isNull(null!==(B=null===(I=C.calc)||void 0===I?void 0:I.eval)&&void 0!==B?B:null===(z=C.calc)||void 0===z?void 0:z.rows)&&0==pe.FixedFields.fields.has(C.field)})))||void 0===q?void 0:q.filter((C=>Q.Convert.isValue(C.field))).map((C=>({field:C.field,dataType:C.dataType,default:C.default}))),re=null!==(ee=I.schema.fields)&&void 0!==ee?ee:I.schema.fields={};for(const C of ie){const I=re[C.field];Q.Convert.isNull(I)?re[C.field]={dataType:C.dataType,default:C.default}:(null!==(te=I.dataType)&&void 0!==te||(I.dataType=C.dataType),0==I.hasOwnProperty("default")&&(I.default=C.default))}}static adjustValidator(C,I){var B;const z=null===(B=null==I?void 0:I.schema)||void 0===B?void 0:B.fields;Q.Convert.isNull(z)||C.forEach((C=>{var I;const B=C.validators,q=C.field,ee=z[q];if(C.editable&&!Q.Convert.isNull(B)&&0===B.length){if(Q.Convert.isNull(ee))return;if(Q.Convert.isNull(C.validators))return;const B=ee.dataType,z=ee.nullable,q=null!==(I=C.validators)&&void 0!==I?I:[],te=null==q?void 0:q.find((C=>C.rule===oe.Rules.Type));if(Q.Convert.isNull(te)&&Q.Convert.isValue(B)&&(B===Q.DataType.Date||B===Q.DataType.Number)){const C={rule:oe.Rules.Type,value:B};GridParser._adjustValidator(C),q.unshift(C)}const ie=null==q?void 0:q.find((C=>C.rule===oe.Rules.Required));Q.Convert.isNull(ie)&&0==z&&q.unshift({rule:oe.Rules.Required}),C.validators=q}else null==B||B.forEach((I=>{var B;let z=I.dataType;Q.Convert.isNull(z)&&(z=null!==(B=C.dataType)&&void 0!==B?B:null==ee?void 0:ee.dataType),Q.Convert.isNull(z)&&(I.dataType=Q.Convert.parseEnum(Q.DataType,z)),GridParser._adjustValidator(I)}))}))}static _adjustValidator(C){const I=C.value;switch(C.rule){case oe.Rules.Required:break;case oe.Rules.Between:if(Q.Convert.isEmpty(I)||I instanceof Array==0||I.length<2)throw"validation config error. Between Rule must have array value. The size of the value should be equal to 2  >>>"+C;break;case oe.Rules.Custom:if("function"!=typeof I)throw"validation config error. Custom Rule must have function value.";break;case oe.Rules.Type:C.value=Q.Convert.parseEnum(Q.DataType,I.toString());break;case oe.Rules.Min:case oe.Rules.Max:const B=C.dataType,z=Q.Convert.convertType(I,B);if(B===Q.DataType.Number&&"number"!=typeof z||B===Q.DataType.String&&"string"!=typeof z||B===Q.DataType.Date&&isNaN(z))throw"validation config error. The data type of 'value' must be the same as the type of 'dataType'.";break;case oe.Rules.Pattern:if(I instanceof RegExp)break;if("string"==typeof I)break;throw"validation config error. Pattern Rule must have string or RegExp value. >>>"+C.value;case oe.Rules.MaxLength:case oe.Rules.MinLength:"string"!=typeof I&&C.rule}}static parseStatusPanelAlign(C){let I;if("string"==typeof C)I=GridParser.parseStatusPanelAlign({left:C});else if(C instanceof Array)I=GridParser.parseStatusPanelAlign({left:C});else if(C instanceof Object)if(C.hasOwnProperty("left")||C.hasOwnProperty("center")||C.hasOwnProperty("right")){const B=C;I={left:Q.Convert.default(B.left,void 0,(C=>GridParser.parseStatusTemplates(C))),center:Q.Convert.default(B.center,void 0,(C=>GridParser.parseStatusTemplates(C))),right:Q.Convert.default(B.right,void 0,(C=>GridParser.parseStatusTemplates(C))),leftFlex:B.leftFlex,rightFlex:B.rightFlex,centerFlex:B.centerFlex}}else I=GridParser.parseStatusPanelAlign({left:C});return I}static parseStatusTemplates(C){let I=C instanceof Array?C:[C];const B=new Array;for(let C=0;C<I.length;C++){const z=I[C];if("string"==typeof z||"function"==typeof z){B.push(z);continue}const q=ae.GridColumnParser.parseColumnTemplate(void 0,z),ee=z.aggregates instanceof Array?z.aggregates:[z.aggregates];q.aggregates=Q.Convert.default(z.aggregates,void 0,(C=>ae.GridColumnParser.parseAggregates(void 0,ee))),B.push(q)}return B}static parseFilterOption(C){let I;if(0==C)I=void 0;else if(!0===C)I=Q.Convert.parseEnum(de.FilterMode,te.SBGrid3.default.defaultFilterable);else{if("string"!=typeof C)throw"not supported filter option . "+C;I=Q.Convert.parseEnum(de.FilterMode,C)}return I}static parseEditable(C){var I,B,z,q,ee,ie,re;let ne;if(!1===C)ne=void 0;else if(!0===C)ne=null===(I=te.SBGrid3.default)||void 0===I?void 0:I.defaultEditable;else if("string"==typeof C)ne=GridParser.parseEditable({mode:Q.Convert.parseEnum(Ce,C)});else{const I=null===(B=te.SBGrid3.default)||void 0===B?void 0:B.defaultEditable;ne={mode:Q.Convert.default(C.mode,null!==(z=null==I?void 0:I.mode)&&void 0!==z?z:Ce.incell,(C=>Q.Convert.parseEnum(Ce,C))),eventType:Q.Convert.default(C.eventType,null!==(q=null==I?void 0:I.eventType)&&void 0!==q?q:we.dblclick,(C=>Q.Convert.parseEnum(we,C))),immediateValidationCheck:Q.Convert.default(C.immediateValidationCheck,null!==(ee=null==I?void 0:I.immediateValidationCheck)&&void 0!==ee&&ee),keyEdit:Q.Convert.default(C.keyEdit,null===(ie=null==I?void 0:I.keyEdit)||void 0===ie||ie),insertEdit:Q.Convert.default(C.insertEdit,null!==(re=null==I?void 0:I.insertEdit)&&void 0!==re&&re)}}return ne}static parseNavigatable(C){var I,B,z,q,ee;const ie=null===(I=te.SBGrid3.default)||void 0===I?void 0:I.navigatable,re=null===(B=te.SBGrid3.default)||void 0===B?void 0:B.defaultNavigatable,parseTabToNextCell=C=>{var I,B,z,q;return!1===C?void 0:!0===C?null==re?void 0:re.tabToNextCell:{dir:Q.Convert.default(C.dir,null!==(B=null===(I=null==re?void 0:re.tabToNextCell)||void 0===I?void 0:I.dir)&&void 0!==B?B:ue.Direction.Right,(()=>Q.Convert.parseEnum(ue.Direction,C.dir))),edit:Q.Convert.default(C.edit,null!==(q=null===(z=null==re?void 0:re.tabToNextCell)||void 0===z?void 0:z.edit)&&void 0!==q&&q)}},parseEnterToNext=C=>{var I,B,z,q;return!1===C?void 0:!0===C?null==re?void 0:re.enterToNext:{dir:Q.Convert.default(C.dir,null!==(B=null===(I=re.enterToNext)||void 0===I?void 0:I.dir)&&void 0!==B?B:ue.Direction.Down,(()=>Q.Convert.parseEnum(ue.Direction,C.dir))),edit:Q.Convert.default(C.edit,null!==(q=null===(z=re.enterToNext)||void 0===z?void 0:z.edit)&&void 0!==q&&q)}};let ne;return void 0===C?ie:(ne=!1===C?void 0:!0===C?re:{tabToNextCell:Q.Convert.default(C.tabToNextCell,null!==(z=null==re?void 0:re.tabToNextCell)&&void 0!==z?z:void 0,parseTabToNextCell),syncSelect:Q.Convert.default(C.syncSelect,null!==(q=null==re?void 0:re.syncSelect)&&void 0!==q&&q),enterToNext:Q.Convert.default(C.enterToNext,null!==(ee=null==re?void 0:re.enterToNext)&&void 0!==ee?ee:void 0,parseEnterToNext)},ne)}static parseReorderable(C){return!0===C?te.SBGrid3.default.defaultReorderable:!1===C?GridParser.parseReorderable({row:void 0,column:void 0}):{column:Q.Convert.default(C.column,void 0,(C=>GridParser.parseReorderSlideInterval(C))),row:Q.Convert.default(C.row,void 0,(C=>GridParser.parseReorderSlideInterval(C)))}}static parseReorderSlideInterval(C){return!0===C?{scrollInterval:120}:!1===C?void 0:{scrollInterval:C.scrollInterval}}static parseHover(C){return!0===C?GridParser.parseHover(ie.HoverType.Cell):!1===C?void 0:Q.Convert.parseEnum(ie.HoverType,C)}static parseAccessbility(C){return"string"==typeof C?this.parseAccessbility({title:C}):{title:Q.Convert.default(C.title,void 0),description:Q.Convert.default(C.description,void 0)}}}I.GridParser=GridParser,function(C){C.none="none",C.incell="incell",C.inline="inline",C.popup="popup"}(Ce||(I.EditMode=Ce={})),function(C){C.mouseup="mouseup",C.dblclick="dblclick",C.click="click"}(we||(I.EditEvent=we={})),function(C){C.Page="page",C.Loaded="loaded",C.Whole="whole"}(_e||(I.RowRange=_e={}))},7763:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.GridDefault=void 0;const z=B(6252),q=B(2987),Q=B(7721),ee=B(7443),te=B(6258),ie=B(860),re=B(5565),ne=B(2224),se=B(7392),oe=B(2288);I.GridDefault=class GridDefault{constructor(){this.dataSource={},this.editable=!1,this.defaultEditable={mode:te.EditMode.incell,eventType:te.EditEvent.dblclick,immediateValidationCheck:!1,keyEdit:!0,insertEdit:!1},this.pageable=!1,this.defaultPageable={pager:{numeric:!0,previousNext:!0,buttonCount:10}},this.sortable=te.SortMode.None,this.defaultSortable=te.SortMode.Rotate,this.multiSort=!1,this.navigatable=!1,this.defaultNavigatable={tabToNextCell:{dir:ee.Direction.Right,edit:!1},syncSelect:!1},this.resizable=!1,this.defaultResizable={mode:q.ResizeMode.GuideLine,minWidth:10,autoFit:["caption","data"]},this.reorderable=!1,this.defaultReorderable={row:{scrollInterval:120},column:{scrollInterval:120}},this.groupable=!1,this.filterable=!1,this.defaultFilterable=z.FilterMode.Menu,this.checkable=!1,this.undoable=!0,this.virtualRow=!0,this.virtualColumn=!1,this.fixedRows=!0,this.alternateCss=2,this.panels=ie.PanelFactory.getDefaultPanels(),this.groupBar=te.GridParser.parsePanelLayout(["group"]),this.pagerBar=te.GridParser.parsePanelLayout({left:"pager"}),this.stickyHeader=!1,this.stickyFooter=!1,this.stickyRow=!1,this.stickyEdit=!1,this.stickyInsert=!1,this.stickyUpdate=!1,this.stickyDelete=!1,this.mergeRow=!1,this.mergeColumn=!1,this.selectable=!1,this.defaultSelectable={selectMode:re.SelectMode.Single,rowSelect:!0,columnSelect:!1,cellSelect:re.SelectType.Cell,syncFocus:!0,rowCheckable:!1},this.hover=!1,this.defaultHover=re.HoverType.Cell,this.groupAutoOpen=!1,this.detailAutoOpen=!1,this.rowHeaders=["rowno","sticky","check","radio","reorder","status","detail"],this.showRowNo=!0,this.showSticky=!1,this.showStatus=!1,this.showDetail=!0,this.showCheck=!1,this.showRadio=!1,this.wheelDelta=33,this.contextMenu=!1,this.defaultContextMenu=["clipboard","undo","redo","addRow","addTop"],this.copyable=!1,this.defaultCopyable={fill:!1,textCopyMode:ne.CopyMode.Text},this.freezable=!1,this.captionHeight=30,this.rowHeight=30,this.maxRowHeight=100,this.headerHeight=30,this.footerHeight=30,this.filterHeight=30,this.groupHeight=30,this.detailHeight=60,this.maxDetailHeight=300,this.copyInsert=!1,this.pagerOption={numeric:!0,previousNext:!0,buttonCount:10},this.defaultColumn={align:Q.TextAlign.Center,valign:Q.VertAlign.Center,width:100,minWidth:10,maxWidth:500,sortable:te.SortMode.Rotate,editable:!0,selectable:!0,groupable:!0,visible:!0,captionVisible:!0,exportLabel:!1,skipPaste:!1,directApplyValue:!1,directApplyEdit:!1,captionLayout:{left:["check"],center:["caption","sort","filter"],right:["menu"],rightFlex:{flexGrow:0},leftFlex:{flexGrow:0}},captionMenu:!1,defaultCaptionMenu:["column","fixedCol","sort"],contextMenu:!1,defaultContextMenu:["clipboard","undo","redo","sticky","insertRow","appendrow","addRow","addTop","deleteRow","edit","cancel"],filter:{operator:se.FilterOperators.IsEqualTo}},this.viewMode=oe.ViewMode.Page,this.hideDeleted=!1,this.showFooter=!0,this.showHeader=!0,this.scrollBarSize=19,this.defaultDataSource={batch:!0,fieldsSamples:10,pageSize:20,calculations:[],aggregates:[],filters:[],groups:[],orders:[],removeDeleted:!1,lazyLoading:!1,clientPaging:!1,serverAggregates:!1,serverFiltering:!1,serverGrouping:!1,serverPaging:!1,serverSorting:!1,schema:{autoFields:!0,convertFields:!0,failAs:"origin"}}}}},6938:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.GridLayouts=I.GridMatrix=I.GridCell=I.OutOfView=I.GridRow=I.GridLayout=void 0;const z=B(103),q=B(1163),Q=B(5260),ee=B(7721),te=B(8788),ie=B(8964),re=B(5774),ne=B(3354);class GridLayout{constructor(C){this._grid=C}get rows(){var C;return null!==(C=this._rows)&&void 0!==C?C:this._rows=[]}get grid(){return this._grid}get scrollLeft(){var C;return null!==(C=this._scrollLeft)&&void 0!==C?C:this._scrollLeft=this.grid.viewport.marginCol}get visible(){var C;return null===(C=this._visible)||void 0===C||C}set visible(C){this._visible=C}get partWidthMap(){return this._partWidthMap}get fixedWidth(){var C;return null!==(C=this.partWidthMap.get(ee.PartType.Fixed))&&void 0!==C?C:0}get headWidth(){var C;return null!==(C=this.partWidthMap.get(ee.PartType.Head))&&void 0!==C?C:0}get tailWidth(){var C;return null!==(C=this.partWidthMap.get(ee.PartType.Tail))&&void 0!==C?C:0}get bodyWidth(){var C;return null!==(C=this.partWidthMap.get(ee.PartType.Body))&&void 0!==C?C:0}get stickyWidth(){var C;return null!==(C=this.partWidthMap.get(ee.PartType.Sticky))&&void 0!==C?C:0}get leftWidth(){return this.fixedWidth+this.headWidth}get rightWidth(){return this.tailWidth}get centerWidth(){return this.grid.bodyWidth-this.leftWidth-this.rightWidth}get scrollWidth(){return this.bodyWidth+this.stickyWidth}get stickyOverflow(){return this._stickyOverflow}set stickyOverflow(C){this._stickyOverflow=C}get fractionRatio(){var C;return null!==(C=this._fractionRatio)&&void 0!==C?C:this._fractionRatio=1}set fractionRatio(C){this._fractionRatio=C}toMatrix(){return GridMatrix.toMatrix(this)}toVisibleMatrix(){return GridMatrix.toVisibleMatrix(this)}static makeCaptionLayout(C,I){const B=new GridLayout(C);return this.createCaptionCell(B,I),this.adjustLayout(C,B),B}static adjustLayout(C,I){for(var B,z=0;z<I.rows.length;z++)null!==(B=I.rows[z])&&void 0!==B||I.getRow(z);this.adjustRowSpan(I),this.adjustColSpan(I),this.adjustMatrix(I),this.adjustLeft(I),I.stickyOverflow=I.calcStickyOverflow(C.bodyWidth),C.hasFractionColumn&&this.adjustFractionCells(I),C.hasStickyColumn&&this.adjustStickyCells(I),I._partWidthMap=this.calcPartWidth(I)}static adjustLeft(C){var I;const B=GridLayout.mergeRows(C.rows),z=[];let Q=0;for(const C of B)q.Convert.isNull(C)||(C.left=Q,z[C.col]=Q,Q+=C.width);for(const B of C.rows)for(const C in null!==(I=null==B?void 0:B.cells)&&void 0!==I?I:[]){const I=B.cells[C];I.left=z[I.col]}}static mergeRows(C){var I;const B=[];for(const z of C)for(const C in null!==(I=null==z?void 0:z.cells)&&void 0!==I?I:[]){const I=z.cells[C];if((null==I?void 0:I.constructor.name)!=GridCell.name)continue;const Q=B[I.col];(q.Convert.isNull(Q)||Q.colSpan>I.colSpan)&&(B[I.col]=I)}return B}static calcPartWidth(C){const I=this.mergeRows(C.rows),B=new Map;for(const C in I){const z=I[C];0==B.has(z.part)?B.set(z.part,z.width):B.set(z.part,B.get(z.part)+z.width)}return B}static makeFilterLayout(C,I){const B=new GridLayout(C);return this.createFilterCell(B,I),this.adjustLayout(C,B),B}static makeDefaultLayout(C,I){const B=new GridLayout(C);this.createRowCell(B,I),this.adjustLayout(C,B);const z=GridLayout.mergeRows(B.rows);return B.rows.splice(0),B.getRow(0).cells.splice(0,0,...z),B}static makeColsView(C,I,B,z,q,Q,ee){return this.createColsView(C,I,B,z,q,Q)}static makeRowLayout(C,I){const B=new GridLayout(C);return this.createRowCell(B,I,0),this.adjustLayout(C,B),B}static makeHeaderLayout(C,I){const B=new GridLayout(C);return this.createHeaderCell(B,I,(C=>{var I,B;return null!==(B=null!==(I=C.config.headers)&&void 0!==I?I:C.rows)&&void 0!==B?B:C.captions}),(C=>C.totalHeaders)),this.adjustLayout(C,B),B}static makeFooterLayout(C,I){const B=new GridLayout(C);return this.createHeaderCell(B,I,(C=>{var I,B;return null!==(B=null!==(I=C.config.footers)&&void 0!==I?I:C.rows)&&void 0!==B?B:C.captions}),(C=>C.totalFooters)),this.adjustLayout(C,B),B}static makeTreeFooterLayout(C,I){const B=new GridLayout(C);return this.createHeaderCell(B,I,(C=>{var I,B;return null!==(B=null!==(I=C.config.footers)&&void 0!==I?I:C.rows)&&void 0!==B?B:C.captions}),(C=>C.treeFooters)),this.adjustLayout(C,B),B}static makeGroupLayout(C,I,B){const z=new GridLayout(C),Q=new GridLayout(C);let ee;return q.Convert.isValue(ee=q.Arrays.bfsSearch(I,(C=>C.hasGroupHeader(B)||C.columns)))?this.createGroupCell(z,I,(C=>C.getGroup(B).headers)):this.createDefaultCell(z,I),this.adjustGroupCells(z,C.dataConfig.groups,B),this.adjustLayout(C,z),q.Convert.isValue(q.Arrays.bfsSearch(I,(C=>C.hasGroupFooter(B)||C.columns)))&&(this.createGroupCell(Q,I,(C=>C.getGroup(B).footers)),this.adjustLayout(C,Q)),{header:z,footer:Q}}static makeDetailLayout(C,I){const B=new GridLayout(C);return this.createDetailCell(C,B,I),B}calcStickyOverflow(C){var I,B;let z=!1,Q=0;for(const te of null!==(B=null===(I=this.rows[0])||void 0===I?void 0:I.cells)&&void 0!==B?B:[])if(!q.Convert.isNull(te)){switch(null==te?void 0:te.part){case ee.PartType.Fixed:case ee.PartType.Head:case ee.PartType.Sticky:case ee.PartType.Tail:Q+=te.width;case ee.PartType.Body:}if(z=C<Q,z)return z}return z}static createCell(C,I,B,z,q){const Q=new GridCell(I,C);return Q.col=B,Q.left=z,Q.width=C.config.width,Q.unit=C.unit,Q.part=C.part,Q.renderIndex=q,I.cells[Q.col]=Q,Q}static adjustStickyCells(C,I=0){if(C.rows.length<=I)return;const B=[].concat(C.rows[I].cells);for(let z=I-1;z>=0;z--){const I=C.rows[z].cells;for(const C in I)q.Convert.isNull(B[C])&&(B[C]=I[C])}let z=0;for(const C in B){const I=B[C];(null==I?void 0:I.constructor.name)==GridCell.name&&(I.column.isSticky&&(I.stickyLeft=z,z+=I.width))}let Q=0;const te=[].concat(B).reverse();for(const C in te){const I=te[C];(null==I?void 0:I.constructor.name)==GridCell.name&&(I.column.part==ee.PartType.Sticky&&(I.stickyRight=Q,Q+=I.width))}this.adjustStickyCells(C,I+1)}static adjustGroupCells(C,I,B){var z,Q;const ee=[].concat(C.rows[0].cells),te=I.findIndex((C=>C.field==B)),re=I.length;if(!(te<0))for(const C of ee.keys()){const I=ee[C];if(q.Convert.isNull(I)||q.Convert.isNull(I.column))continue;const ne=I.column;if(ne instanceof ie.GroupColumn&&ne.field==B){I.part;let C=null!==(Q=null===(z=ne.groupColumn.groupTitle)||void 0===z?void 0:z.colSpan)&&void 0!==Q?Q:1;C<=0&&(C=ee.length-I.col);const B=re-te+C;I.colSpan=B;break}}}static adjustFractionCells(C){var I,B;const z=C.rows.reduce(((C,I)=>Math.max(C,I.cells.length)),0),Q=C.rows.length;let te=0,ie=0,re=0;const ne=[];for(let B=0;B<z;B++)for(let z=Q-1;z>=0;z--){const Q=null===(I=C.rows[z])||void 0===I?void 0:I.cells[B];if(!q.Convert.isNull(Q)&&0!=Q.visible){Q.part==ee.PartType.Fixed?ie+=Q.width:Q.unit==ee.Unit.Pixel?te+=Q.width:(re+=Q.width,ne.push(Q));break}}if(0==ne.length)return;const se=C.grid.bodyWidth-te-ie;if(se>0){const I=se/re;for(const C of ne){const B=q.Convert.asInt(C.width*I);C.width=C.minWidth>B?C.minWidth:C.maxWidth<B?C.maxWidth:B,1==C.colSpan&&(C.column.width=C.width)}C.fractionRatio=I}else for(const C of ne)C.width=C.minWidth>0?C.minWidth:0,1==C.colSpan&&(C.column.width=C.width);let oe=0;for(let I=0;I<z;I++){let z;for(let ee=Q-1;ee>=0;ee--){const Q=null===(B=C.rows[ee])||void 0===B?void 0:B.cells[I];q.Convert.isNull(Q)||(q.Convert.isNull(z)&&(z=Q),Q.left=oe)}q.Convert.isValue(z)&&(oe+=z.width)}}static adjustRowSpan(C,I=!1,B=0){var z,ee,ie;if(C.rows.length<=B)return;const re=null!==(ee=null===(z=C.rows[B])||void 0===z?void 0:z.cells)&&void 0!==ee?ee:[];if(q.Convert.isEmpty(re)&&C.rows.length-1==B)return C.rows.splice(B,1),void this.adjustRowSpan(C,I,0);const ne=[].concat(C.rows).splice(B+1);for(const C in re){const z=re[C];if((null==z?void 0:z.constructor.name)==GridCell.name)if(I&&0==B&&z.column instanceof te.FrozenColumn){z.rowSpan=1;for(const I of ne){const B=z.clone(I,z.column);I.cells[C]=B}}else try{null!==(ie=z.rowSpan)&&void 0!==ie||(z.rowSpan=1);let I=z.rowSpan;for(const B of ne)if(!(q.Convert.isNull(B)||(I--,I>0))){if(q.Convert.isValue(B.cells[C]))break;z.rowSpan++}}catch(C){Q.Log.error((()=>[C,[].concat(ne)]))}}this.adjustRowSpan(C,I,B+1)}static adjustColSpan(C){var I,B,z,Q;for(const ee of C.rows)for(const C of[].concat(null!==(I=null==ee?void 0:ee.cells)&&void 0!==I?I:[])){if(q.Convert.isNull(C))continue;let I=null!==(B=C.colSpan)&&void 0!==B?B:C.colSpan=1;if(I>1){let B=null!==(z=C.width)&&void 0!==z?z:C.column.width;for(let z=C.col+1;z<C.col+I;z++){const I=ee.cells[z];if(q.Convert.isValue(I)&&I.part!=C.part){C.colSpan=z-C.col,I.colSpan>1&&(I.colSpan-=z-I.col);break}B+=null!==(Q=null==I?void 0:I.width)&&void 0!==Q?Q:0,delete ee.cells[z]}C.width=B}}}static adjustMatrix(C){const I=C.toMatrix().matrix;for(const C of I)for(const I of C){if(q.Convert.isNull(I))continue;const B=I.colSpan;if(B>1)for(let z=I.col+1;z<I.col+B;z++){const B=C[z];B!=I&&(B.row<I.row&&B.rowSpan>1&&(B.rowSpan=I.row-B.row+1),C[z]=I)}}}static createCaptionCell(C,I){if(q.Convert.isNull(I))return;let B=0,z=0;for(const q of I){if(0==q.visible)continue;const I=this.createTreeCell(C,q,q.captions,(C=>C.config.captionVisible),B,0,z);B+=I,z+=q.width}return B}static createRowCell(C,I,B=0,z=0,Q=0){var ee;if(q.Convert.isEmpty(I))return;let te=0;for(const z of I){if(0==z.visible)continue;const I=this.createTreeCell(C,z,null!==(ee=z.rows)&&void 0!==ee?ee:z.captions,(C=>q.Convert.isValue(C.config.field)||q.Convert.isValue(C.config.cellTemplate)||q.Convert.isEmpty(C.columns)),B,0,Q);te+=I,B+=I,Q+=z.width}return te}static createTreeCell(C,I,B,z,Q=0,ee=0,te=0){var ie,ne,se,oe;if(0==I.visible)return 0;const ae=I.columns.filter((C=>C.visible)),le=0==ae.length;if(le&&(null===(ne=null===(ie=null==I?void 0:I.config)||void 0===ie?void 0:ie.columns)||void 0===ne?void 0:ne.length)>0&&q.Convert.isEmpty(I.config.field)&&q.Convert.isEmpty(I.config.cellTemplate))return 0;const ue=C.getRow(ee),de=I.type==re.ColumnTypes.Multi||q.Convert.isValue(I.captions);let ce=0==de&&(z(I)||le)?this.createCell(I,ue,Q,te,0):void 0,he=0;if(q.Convert.isValue(ce)&&(ce.colSpan=null!==(se=I.config.colSpan)&&void 0!==se?se:1,ce.rowSpan=null!==(oe=I.config.rowSpan)&&void 0!==oe?oe:1,ce.width=ce.colSpan>1?void 0:I.config.width),de)return this.createMultiCell(C,I,B,Q,ee,te);if(q.Convert.isValue(ae)){for(const I of ae){if(0==I.visible)continue;const ie=this.createTreeCell(C,I,B,z,Q,q.Convert.isNull(ce)?ee:ee+ce.rowSpan,te);he+=ie,Q+=ie,te+=I.width}q.Convert.isValue(ce)&&(ce.colSpan=he)}else q.Convert.isValue(ce)&&(he=1);return he}static createMultiCell(C,I,B,z=0,ee=0,te=0){let ie=0;const re=new Map,ne=new Map;return I.columns.forEach((C=>{var I,B;if(0==C.visible)return;let z=null!==(I=C.caption)&&void 0!==I?I:"";re.has(z)||re.set(z,C),z+="."+(null!==(B=C.field)&&void 0!==B?B:""),re.has(z)||re.set(z,C)})),(B=this.adjustMergedVisible(B,I.columns,re,I.captions)).forEach(((I,B)=>{const ee=C.getRow(B);let se=z,oe=te;I.forEach(((C,I)=>{var te;let ae=ne.get(C);if(q.Convert.isNull(ae)){if(!re.has(C))return void Q.Log.warn((()=>`multi-cell : [${C}] 을 찾을 수 없습니다.`));{const q=re.get(C);ae=this.createCell(q,ee,se,oe,B),ae.col=I+z,ae.colSpan=1,ee.cells[I+z]=ae,ne.set(C,ae)}}else ae.row==B&&(ae.colSpan=(null!==(te=ae.colSpan)&&void 0!==te?te:0)+1);se+=1,ie=Math.max(ie,I+1)}))})),ie}static adjustMergedVisible(C,I,B,z){return C=C.map((C=>C.map((C=>C)))),(z=z.map((C=>C.map((C=>B.has(C)?C:void 0))))).forEach((I=>{let B=-1;for(;(B=I.findIndex((C=>q.Convert.isNull(C))))>-1;)z.forEach((C=>C.splice(B,1))),C.forEach((C=>C.splice(B,1)))})),C}static createFilterCell(C,I,B=0,z=0,Q=0){var ee,te,ie,re;if(q.Convert.isEmpty(I))return;let ne=0;for(const z of I){if(0==z.visible)continue;const I=this.createTreeCell(C,z,null!==(re=null!==(ie=null!==(te=null!==(ee=z.filters)&&void 0!==ee?ee:z.headers)&&void 0!==te?te:z.footers)&&void 0!==ie?ie:z.rows)&&void 0!==re?re:z.captions,(C=>q.Convert.isValue(C.config.filter)),B,0,Q);ne+=I,B+=I,Q+=z.width}return ne}getRow(C){return GridLayout.ensureGridRow(this,C)}static ensureGridRow(C,I){var B;const z=null!==(B=C.rows[I])&&void 0!==B?B:C.rows[I]=new GridRow(C);return z.row=I,z}static splitGridCell(C,I,B){if(!q.Convert.isNull(this.ensureGridRow(C,I).cells[B]))for(let z=C.rows.length;z>I;z--){const I=this.ensureGridRow(C,z-1),Q=I.cells[B];if(q.Convert.isValue(Q)){delete I.cells[B];const q=this.ensureGridRow(C,z),ee=Q.clone(q);q.cells[B]=ee}}}static createHeaderCell(C,I,B,z){let Q=0,ee=0,te=0;if(q.Convert.isNull(I)||0==I.length)return Q;for(const z of I){if(0==z.visible)continue;const I=this.createTreeCell(C,z,B(z),(C=>q.Convert.isValue(C.totalHeaders)),ee,0,te);Q+=I,ee+=I,te+=z.width}return GridLayout.createRenderCell(C,z),Q}static createRenderCell(C,I){var B;const z=new Set;for(let Q=0;Q<C.rows.length;Q++){let ee=C.rows[Q];if(!q.Convert.isNull(ee))for(let Q=0;Q<ee.cells.length;Q++){const te=ee.cells[Q];if(q.Convert.isNull(te)||z.has(te))continue;const ie=te.column,re=I(ie);let ne=te.row;const se=te.col;if(q.Convert.isValue(re)){let I=0;for(const Q of re){if(q.Convert.isEmpty(Q))continue;let ee;ee=this.ensureGridRow(C,ne),I>0&&q.Convert.isValue(ee.cells[se])&&this.splitGridCell(C,ne,se);const re=this.createCell(ie,ee,se,te.left,I);re.render=Q,re.colSpan=null!==(B=Q.colSpan)&&void 0!==B?B:te.colSpan,re.rowSpan=Q.rowSpan,z.add(re),ne++,I++}}}}for(let I=0;I<C.rows.length;I++){let B=C.rows[I];if(!q.Convert.isNull(B))for(let I=0;I<B.cells.length;I++){const z=B.cells[I];if(q.Convert.isNull(z))continue;if(q.Convert.isValue(z.render))continue;const Q=C.rows.filter((C=>{var B;return q.Convert.isValue(null===(B=C.cells[I])||void 0===B?void 0:B.render)})).map((C=>C.cells[I]));C.rows.forEach(((C,B)=>{const z=Q[B];if(0==B&&q.Convert.isNull(z))return;q.Convert.isValue(z)&&z.clone(C);q.Convert.isValue(z)?C.cells[I]=z.clone(C):delete C.cells[I]}))}}for(let I=0;I<C.rows.length;I++){let B=C.rows[I];q.Convert.isNull(B)||(q.Convert.isEmpty(B.cells)||q.Convert.isNull(B.cells.find((C=>q.Convert.isValue(C)))))&&(C.rows.splice(I,1),C.rows.forEach(((C,I)=>C.row=I)))}}static createGroupCell(C,I,B){var z,Q;let ee=0,te=0,ie=0;if(q.Convert.isNull(I)||0==I.length)return ee;for(const B of I){if(0==B.visible)continue;const I=this.createTreeCell(C,B,null!==(Q=null!==(z=B.config.headers)&&void 0!==z?z:B.rows)&&void 0!==Q?Q:B.captions,(C=>q.Convert.isValue(C.totalHeaders)),te,0,ie);ee+=I,te+=I,ie+=B.width}return GridLayout.createRenderCell(C,B),ee}static createDefaultCell(C,I,B=0,z=0){var Q;if(q.Convert.isEmpty(I))return;let ee=0;for(const te of I){if(0==te.visible)continue;const I=this.createTreeCell(C,te,null!==(Q=te.rows)&&void 0!==Q?Q:te.captions,(C=>q.Convert.isValue(C.config.field)||q.Convert.isValue(C.config.cellTemplate)||q.Convert.isEmpty(C.columns)),B,0,z);ee+=I,B+=I,z+=te.width}return ee}static createColsView(C,I,B,z,Q,te=!1){q.Convert.isNull(I)&&(I=GridLayout.ensureDefaultLayout(I,C,B)),te=I.stickyOverflow;let ie=[],re=[],ne=[],oe=!1;const ae=this.mergeRows(I.rows);let le=0,ue=I.fixedWidth+I.headWidth,de=I.tailWidth,ce=te?0:I.stickyWidth,he=0;for(const C of ae){if(q.Convert.isNull(C))continue;const B=C.width,ae=C.col;switch(C.outOfView=se.Visible,C.part){case ee.PartType.Fixed:case ee.PartType.Head:this.appendCell(I,C,re,!1);break;case ee.PartType.Tail:this.appendCell(I,C,ne,!1);break;case ee.PartType.Sticky:case ee.PartType.Body:te?ae<z?he+=B:z<=ae&&le+ue+de<=Q&&(this.appendCell(I,C,ie,!0),le+=B):C.part==ee.PartType.Sticky?(ae<z?(this.appendCell(I,C,re,!1),ue+=B):0==oe&&le+ue+de+(ce-B)<=Q?(this.appendCell(I,C,ie,!0),le+=B):(this.appendCell(I,C,ne,!1),de+=B),ce-=B):ae<z?he+=B:(le+ue+de+ce<=Q&&(this.appendCell(I,C,ie,!0),le+=B),le+ue+de+ce>=Q&&(oe=!0))}}le=ue;const fe=he+ue,pe=he+(Q-de);if(ie=GridLayout.adjustColsViewCells(I,ie.filter((C=>q.Convert.isValue(C))),fe,pe),re=GridLayout.adjustColsViewCells(I,re.filter((C=>q.Convert.isValue(C)))),ne=GridLayout.adjustColsViewCells(I,ne.filter((C=>q.Convert.isValue(C)))),0==te){const C=ie.filter((C=>C.part==ee.PartType.Body));1==C.length&&C.forEach((C=>C.outOfView=se.Visible))}const me=[...re,...ie,...ne];return me.sort(((C,I)=>C.col-I.col)),{headCells:re,bodyCells:ie,tailCells:ne,fullCells:me,bodyWidth:Q,scrollWidth:le,tailWidth:de,headWidth:ue,stickyOverflow:te,col:z}}static ensureDefaultLayout(C,I,B){if(q.Convert.isNull(C)){C=new GridLayout(I);let z=0,q=0;for(const I of B){if(0==I.visible)continue;const B=this.createTreeCell(C,I,I.captions,(C=>C.config.captionVisible),q,0,z);q+=B,z+=I.width}this.adjustLayout(I,C)}else C=C.clone();return C}static adjustColsViewCells(C,I,B=void 0,z=void 0){const Q=[];for(const ee of I)if(!q.Convert.isNull(ee))for(let I=ee.col,te=ee.col+ee.colSpan;I<te;I++){C.rows.map((C=>C.cells[I])).filter((C=>q.Convert.isValue(C))).forEach((I=>{Q.push(I);const te=[I];if(I.rowSpan>1)for(let B=I.row+1,z=I.row+I.rowSpan;B<z;B++){const z=I.clone(this.ensureGridRow(C,B));z.left=ee.left,Q.push(z),te.push(z)}q.Convert.isNull(B)||q.Convert.isNull(z)||te.forEach((C=>{if(z<C.left+C.width){const I=z-C.left;I>0?I/C.width<.9&&(C.outOfView=se.Half):C.outOfView=se.Hidden}else if(C.left<B){const I=B-C.left;I>0?I/C.width<.9&&(C.outOfView=se.Half):C.outOfView=se.Hidden}}))}))}return Q}static adjustColsViewCells_old(C,I,B=void 0,z=void 0){let Q=I.map(((C,Q)=>{let ee=1;if(!q.Convert.isNull(C))return I.forEach(((B,z)=>{z<=Q||q.Convert.isNull(B)||C.row==B.row&&C.col==B.col&&C.column.name==B.column.name&&(I[z]=void 0,ee+=1)})),C.colSpan=ee,C.width=C.width*C.colSpan,q.Convert.isNull(B)||q.Convert.isNull(z)||calcOutOfView(C),C}));return Q=Q.filter((C=>q.Convert.isValue(C))),Q;function calcOutOfView(C){if(z<C.left+C.width){const I=z-C.left;I>0?I/C.width<.9&&(C.outOfView=se.Half):C.outOfView=se.Hidden}else if(C.left<B){const I=B-C.left;I>0?I/C.width<.9&&(C.outOfView=se.Half):C.outOfView=se.Hidden}}}clone(){const C=new GridLayout(this.grid);for(const I of this.rows)C.rows.push(I.clone(C));return GridLayout.adjustLayout(this.grid,C),C}static appendCell(C,I,B,z){if(z)B.push(I);else for(const z of C.rows){const C=z.cells[I.col];q.Convert.isNull(C)||B.push(C)}}static createDetailCell(C,I,B,z=0){let Q;this.createDefaultCell(I,B);for(const B of I.rows){const I=B.cells;for(const B in I){const z=I[B];(null==z?void 0:z.constructor.name)==GridCell.name&&(z.part!=ee.PartType.Body&&z.part!=ee.PartType.Sticky||z.column instanceof ie.GroupColumn||(q.Convert.isEmpty(Q)?(Q=z,Q.column=new te.DetailColumn(C,{part:"body"})):(Q.colSpan+=z.colSpan,z.visible=!1)))}}}get findMap(){var C;return null!==(C=this._findMap)&&void 0!==C?C:this._findMap=new Map}findCell(C,I=void 0){if(this.findMap.has(C))return this.findMap.get(C);let B,z=!1;for(const Q of this.rows){const ee=Q.cells;for(const Q in ee){const te=ee[Q];if((null==te?void 0:te.constructor.name)==GridCell.name){if(te.column==C){if(this.findMap.set(C,te),q.Convert.isNull(I))return te;if(I)return B;z=!0}else if(z)return te;B=te}}}}toString(){var C,I,B,z,q,Q,ee,te;let ie=[];for(const re of this.rows){let ne="";for(const ie of re.cells)ne+=`[${null!==(ee=null!==(Q=null!==(z=null!==(I=null===(C=null==ie?void 0:ie.column)||void 0===C?void 0:C.caption)&&void 0!==I?I:null===(B=null==ie?void 0:ie.column)||void 0===B?void 0:B.field)&&void 0!==z?z:null===(q=null==ie?void 0:ie.column)||void 0===q?void 0:q.constructor.name)&&void 0!==Q?Q:null==ie?void 0:ie.constructor.name)&&void 0!==ee?ee:""}, ${null!==(te=null==ie?void 0:ie.renderIndex)&&void 0!==te?te:""}] `;ie.push(ne)}return ie}}I.GridLayout=GridLayout;class GridRow{constructor(C){this._row=0,this._layout=C}clone(C){const I=new GridRow(C);return I._row=this.row,I._cells=this.cells.map((C=>C.clone(I))),I}get cells(){var C;return null!==(C=this._cells)&&void 0!==C?C:this._cells=[]}get row(){return this._row}set row(C){this._row=C}get layout(){return this._layout}get grid(){return this.layout.grid}get fixedWidth(){return this.layout.leftWidth}get scrollLeft(){return this.layout.scrollLeft}get bodyWidth(){return this.layout.bodyWidth}get partMap(){var C;return null!==(C=this._partMap)&&void 0!==C?C:this._partMap=new Map}get colsMap(){var C;return null!==(C=this._colsMap)&&void 0!==C?C:this._colsMap=new Map}getCells(C){let I=[];if(0==this.partMap.has(C)){for(const B in this.cells){const z=this.cells[B];(null==z?void 0:z.constructor.name)==GridCell.name&&((C==ee.PartType.Body?z.part==ee.PartType.Body||z.part==ee.PartType.Sticky:z.part==C)&&(I[B]=z))}this.partMap.set(C,I)}else I=this.partMap.get(C);if(C==ee.PartType.Body&&this.grid.virtualColumn){const C=this.grid.topCol;if(this.colsMap.has(C))I=this.colsMap.get(C);else{I=GridLayout.makeColsView(this.grid,this.layout,this.grid.wholeColumns,C,this.grid.bodyWidth,!1).fullCells.filter((C=>C.part==ee.PartType.Body||C.part==ee.PartType.Sticky)).map(((C,I)=>((C=C.clone()).index=I+1,C))).filter((C=>C.row==this.row)),this.colsMap.set(C,I)}}return I}}var se;I.GridRow=GridRow,function(C){C[C.Visible=0]="Visible",C[C.Half=1]="Half",C[C.Hidden=2]="Hidden"}(se||(I.OutOfView=se={}));class GridCell{constructor(C,I){this._col=0,this._rowSpan=1,this._colSpan=1,this._mergeCol=1,this._mergeRow=1,this._column=I,this._gridRow=C,this._visible=I.visible}clone(C,I){const B=new GridCell(null!=C?C:this.gridRow,null!=I?I:this.column);return B._col=this._col,B._rowSpan=this._rowSpan,B._colSpan=this._colSpan,B._mergeCol=this._mergeCol,B._mergeRow=this._mergeRow,B._width=this._width,B._unit=this._unit,B._left=this._left,B._part=this._part,B._outOfView=this._outOfView,B._stickyLeft=this._stickyLeft,B._stickyRight=this._stickyRight,B._renderIndex=this._renderIndex,B._visible=this._visible,B._render=this._render,B._index=this._index,B}get gridRow(){return this._gridRow}get column(){return this._column}set column(C){this._column=C}get col(){return this._col}set col(C){this._col=C}get row(){return this._gridRow.row}get index(){var C;return null!==(C=this._index)&&void 0!==C?C:this._col}set index(C){this._index=C}get rowSpan(){var C;return null!==(C=this._rowSpan)&&void 0!==C?C:1}set rowSpan(C){this._rowSpan=C}get colSpan(){var C;return null!==(C=this._colSpan)&&void 0!==C?C:1}set colSpan(C){this._colSpan=C}get mergeCol(){return this._mergeCol}set mergeCol(C){this._mergeCol=C}get mergeColumn(){return this._mergeCol}get mergeRow(){return this._mergeRow}set mergeRow(C){this._mergeRow=C}get merge(){return this.mergeRow>1||this.mergeCol>1}get merged(){return 0==this.mergeRow||0==this.mergeCol}get width(){return this._width}set width(C){this._width=C}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get unit(){return this._unit}set unit(C){this._unit=C}get left(){return this._left}set left(C){this._left=C}get part(){return this._part}set part(C){this._part=C}get render(){return this._render}set render(C){this._render=C}get isSticky(){var C,I;return null!==(I=null===(C=this.column)||void 0===C?void 0:C.isSticky)&&void 0!==I&&I}get outOfView(){var C;return null!==(C=this._outOfView)&&void 0!==C?C:this._outOfView=se.Visible}set outOfView(C){this._outOfView=C}get visible(){return this._visible}set visible(C){this._visible=C}get stickyLeft(){return this._stickyLeft}set stickyLeft(C){this._stickyLeft=C}get stickyRight(){return this._stickyRight}set stickyRight(C){this._stickyRight=C}get renderIndex(){var C;return null!==(C=this._renderIndex)&&void 0!==C?C:0}set renderIndex(C){this._renderIndex=C}}I.GridCell=GridCell;class GridMatrix{constructor(C){this._matrix=[],this._layout=C}get grid(){return this._layout.grid}get layout(){return this._layout}get fixedWidth(){return this.layout.fixedWidth}get headWidth(){return this.layout.headWidth}get tailWidth(){return this.layout.tailWidth}get bodyWidth(){return this.layout.bodyWidth}get stickyWidth(){return this.layout.stickyWidth}get leftWidth(){return this.layout.leftWidth}get rightWidth(){return this.layout.rightWidth}get centerWidth(){return this.grid.bodyWidth-this.leftWidth-this.rightWidth}get scrollWidth(){return this.bodyWidth+this.stickyWidth}get marginCol(){return this.grid.scrollPanel.scrollLeft}get matrix(){return this._matrix}getCell(C,I){var B;return null===(B=this._matrix[C])||void 0===B?void 0:B[I]}setCell(C,I,B){return this._matrix[C][I]=B,B}static toMatrix(C){var I;const B=new GridMatrix(C);for(const z of C.rows)for(const C in null!==(I=null==z?void 0:z.cells)&&void 0!==I?I:[]){const I=z.cells[C];if((null==I?void 0:I.constructor.name)==GridCell.name)for(let C=I.row;C<I.row+I.rowSpan;C++)for(let z=I.col;z<I.col+I.colSpan;z++){q.Convert.isNull(B.matrix[C])&&(B.matrix[C]=[]);const Q=B.matrix[C][z];q.Convert.isValue(Q)&&Q.row<I.row&&Q.rowSpan>1&&(Q.rowSpan=I.row-Q.row),B.matrix[C][z]=I}}return B}toString(){var C,I,B,z,q,Q;let ee=[];for(const te of this.matrix){let ie="";for(const ee of te)ie+=`[${null!==(Q=null!==(z=null!==(I=null===(C=null==ee?void 0:ee.column)||void 0===C?void 0:C.caption)&&void 0!==I?I:null===(B=null==ee?void 0:ee.column)||void 0===B?void 0:B.field)&&void 0!==z?z:null===(q=null==ee?void 0:ee.column)||void 0===q?void 0:q.constructor.name)&&void 0!==Q?Q:null==ee?void 0:ee.constructor.name}, ${null==ee?void 0:ee.renderIndex}] `;ee.push(ie)}return ee}static toVisibleMatrix(C){const I=new GridMatrix(C);new Map;return I}}I.GridMatrix=GridMatrix;class GridLayouts{constructor(C,I=void 0,B=void 0){if(this._grid=C,q.Convert.isEmpty(I)){const I=C.config;this._layoutConfig={captionHeight:I.captionHeight,filterHeight:I.filterHeight,rowHeight:I.rowHeight,headerHeight:I.headerHeight,footerHeight:I.footerHeight,groupHeight:I.groupHeight},this._columns=B}else if(this._layoutConfig=I,q.Convert.isEmpty(B)){const q=new z.GridColumn(C,{captions:I.captions,rows:I.rows,headers:I.headers,footers:I.footers,filters:I.filters,columns:I.columns});q.columns.push(...B),this._columns=[q]}else this._columns=B}get grid(){return this._grid}get view(){return this.grid.view}get layoutConfig(){return this._layoutConfig}get rowsViewMap(){var C;return null!==(C=this._rowsViewMap)&&void 0!==C?C:this._rowsViewMap=new Map}get columns(){if(q.Convert.isEmpty(this._columns)){const C=this.grid,I=[].concat(C.fixedColumns).concat(C.headColumns).concat(C.scrollColumns).concat(C.tailColumns);this._columns=I.filter((C=>C.visible))}return this._columns}set columns(C){this._columns=C}groupLayout(C){var I;const B=null!==(I=this._groupLayoutMap)&&void 0!==I?I:this._groupLayoutMap=new Map;if(B.has(C))return B.get(C);const{header:z,footer:q}=GridLayout.makeGroupLayout(this.grid,this.columns,C);return B.set(C,{header:z,footer:q}),{header:z,footer:q}}get colsViewMap(){var C;return null!==(C=this._colsViewMap)&&void 0!==C?C:this._colsViewMap=new Map}colsView(C,I=void 0){const B=GridLayout.makeColsView(this.grid,I,this.columns,C,this.grid.bodyWidth,!1);return this.colsViewMap.set(C,B),B}get defaultLayout(){var C;return null!==(C=this._defaultLayout)&&void 0!==C?C:this._defaultLayout=GridLayout.makeDefaultLayout(this.grid,this.columns)}get captionLayout(){var C;return null!==(C=this._captionLayout)&&void 0!==C?C:this._captionLayout=GridLayout.makeCaptionLayout(this.grid,this.columns)}get captionDepth(){return this.captionLayout.rows.length}get captionMatrix(){var C;return null!==(C=this._captionMatrix)&&void 0!==C?C:this._captionMatrix=GridMatrix.toMatrix(this.captionLayout)}get filterLayout(){var C;return null!==(C=this._filterLayout)&&void 0!==C?C:this._filterLayout=GridLayout.makeFilterLayout(this.grid,this.columns)}get headerLayout(){var C;return null!==(C=this._headerLayout)&&void 0!==C?C:this._headerLayout=GridLayout.makeHeaderLayout(this.grid,this.columns)}get headerDepth(){return this.headerLayout.rows.length}get footerLayout(){var C;return null!==(C=this._footerLayout)&&void 0!==C?C:this._footerLayout=GridLayout.makeFooterLayout(this.grid,this.columns)}get footerDepth(){return this.footerLayout.rows.length}get rowLayout(){var C;return null!==(C=this._rowLayout)&&void 0!==C?C:this._rowLayout=GridLayout.makeRowLayout(this.grid,this.columns)}get rowDepth(){return this.rowLayout.rows.length}get treeFooterLayout(){var C;return null!==(C=this._treeFooterLayout)&&void 0!==C?C:this._treeFooterLayout=GridLayout.makeTreeFooterLayout(this.grid,this.columns)}get treeFooterDepth(){return this.treeFooterLayout.rows.length}get rowMatrix(){var C;return null!==(C=this._rowMatrix)&&void 0!==C?C:this._rowMatrix=GridMatrix.toMatrix(this.rowLayout)}get detailLayout(){var C;return null!==(C=this._detailLayout)&&void 0!==C?C:this._detailLayout=GridLayout.makeDetailLayout(this.grid,this.columns)}get headerMatrix(){var C;return null!==(C=this._headerMatrix)&&void 0!==C?C:this._headerMatrix=GridMatrix.toMatrix(this.headerLayout)}get footerMatrix(){var C;return null!==(C=this._footerMatrix)&&void 0!==C?C:this._footerMatrix=GridMatrix.toMatrix(this.footerLayout)}get filterMatrix(){var C;return null!==(C=this._filterMatrix)&&void 0!==C?C:this._filterMatrix=GridMatrix.toMatrix(this._filterLayout)}adjustArray(C,I){var B;const z=C instanceof Array?C:[C],q=[];for(let C=0;C<I;C++)q.push(null!==(B=z[C])&&void 0!==B?B:z[0]);return q}static sum(C){return C.reduce(((C,I)=>C+I),0)}get rowHeight(){var C;return null!==(C=this._rowHeight)&&void 0!==C?C:this._rowHeight=this.adjustArray(this.layoutConfig.rowHeight,this.rowDepth)}get rowHeights(){var C;return null!==(C=this._rowHeights)&&void 0!==C?C:this._rowHeights=GridLayouts.sum(this.rowHeight)}get captionHeight(){var C;return null!==(C=this._captionHeight)&&void 0!==C?C:this._captionHeight=this.adjustArray(this.layoutConfig.captionHeight,this.captionDepth)}get captionHeights(){var C;return null!==(C=this._captionHeights)&&void 0!==C?C:this._captionHeights=GridLayouts.sum(this.captionHeight)}get headerHeight(){var C;return null!==(C=this._headerHeight)&&void 0!==C?C:this._headerHeight=this.adjustArray(this.layoutConfig.headerHeight,this.headerDepth)}get headerHeights(){var C;return null!==(C=this._headerHeights)&&void 0!==C?C:this._headerHeights=GridLayouts.sum(this.headerHeight)}get footerHeight(){var C;return null!==(C=this._footerHeight)&&void 0!==C?C:this._footerHeight=this.adjustArray(this.layoutConfig.footerHeight,this.footerDepth)}get footerHeights(){var C;return null!==(C=this._footerHeights)&&void 0!==C?C:this._footerHeights=GridLayouts.sum(this.footerHeight)}getLayout(C,I){var B;let z=!1,Q=!1,ee=!1;switch(null==I?void 0:I.node.constructor.name){case ne.ListNode.name:case ne.TreeNode.name:break;case ne.GroupNode.name:{const B=I.node.igroup.field,Q=this.groupLayout(B).header;q.Convert.isValue(Q.rows)&&(C=Q,z=!0);break}case ne.FooterNode.name:switch(null===(B=I.node.parent)||void 0===B?void 0:B.constructor.name){case ne.GroupNode.name:{const B=I.node.parent.igroup.field,z=this.groupLayout(B).footer;q.Convert.isValue(z.rows)&&(C=z,Q=!0);break}case ne.TreeNode.name:{const I=this.treeFooterLayout;q.Convert.isValue(I.rows)&&(C=I,ee=!0);break}}break}return{layout:C,isGroupHeader:z,isGroupFooter:Q,isTreeFooter:ee}}}I.GridLayouts=GridLayouts},3568:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.StatusPanel=I.LoadingPanel=I.HiddenPanel=I.PagerPanel=I.GroupPanel=I.ToolPanel=I.TitlePanel=I.GridPanel=I.ToolAlign=void 0;const q=B(4407),Q=B(1163),ee=B(3119),te=B(860),ie=B(7078),re=B(5260),ne=B(2663),se=B(6105);var oe;!function(C){C.Left="left",C.Center="center",C.Right="right"}(oe||(I.ToolAlign=oe={}));class GridPanel extends q.Publisher{get tools(){return Q.Convert.isNull(this._panelAlign)&&(this._panelAlign=this.getTools()),this._panelAlign}get grid(){return this._grid}get container(){return this._container}set container(C){this._container=C}getTools(){return new te.PanelLayout(this.grid,{})}get renderable(){return!0}constructor(C,I){super(C),this._grid=C,this._class=I}render(C){return z(this,void 0,void 0,(function*(){let I=Q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ie.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.container=I,Q.Convert.isEmpty(this.tools.left)&&Q.Convert.isEmpty(this.tools.center)&&Q.Convert.isEmpty(this.tools.right)?I.css("display","none"):(I.css("display",""),Q.Convert.isValue(this.tools.left)&&(yield this.renderToolAlign(I,this.tools.left,this.tools.leftFlex,"align-left")),Q.Convert.isValue(this.tools.center)&&(yield this.renderToolAlign(I,this.tools.center,this.tools.centerFlex,"align-center")),Q.Convert.isValue(this.tools.right)&&(yield this.renderToolAlign(I,this.tools.right,this.tools.rightFlex,"align-right")),this.grid.setEvent("panelClick","click",this.constructor.name,this.onEvent,I),this.grid.setEvent("panelClick","mousedown",this.constructor.name,this.onEvent,I),this.grid.setEvent("panelClick","mouseup",this.constructor.name,this.onEvent,I))}))}onEvent(C){re.Log.debug((()=>C.type))}renderToolAlign(C,I,B,q){return z(this,void 0,void 0,(function*(){let z=Q.JqUtils.adjustElement(C,`>div#${q}`,`<div id='${q}' class='${ie.SbCss.tools} ${ie.SbCss.align} ${ie.SbCss.toClass(B.align)}'></div>`);if(Q.Convert.isValue(B.flexGrow)||Q.Convert.isValue(B.flexShrink)){const C=`${Q.Convert.isValue(B.flexGrow)?"flex-grow: "+B.flexGrow+"; ":""} ${Q.Convert.isValue(B.flexShrink)?"flex-shrink: "+B.flexShrink+"; ":""}`;Q.JqUtils.changeAttr(z,"style",C)}yield this.renderTools(z,I)}))}renderTools(C,I){return z(this,void 0,void 0,(function*(){if(!Q.Convert.isEmpty(I))for(let B of I){let I=Q.JqUtils.adjustElement(C,`>div#${B.name}`,`<div id='${B.name}' class='${ie.SbCss.tool} ${ie.SbCss.item} ${B.clazz}'></div>`);yield B.render(I)}}))}createStyle(C){return z(this,void 0,void 0,(function*(){}))}}I.GridPanel=GridPanel;I.TitlePanel=class TitlePanel extends GridPanel{constructor(C){super(C,ie.SbCss.title)}getTools(){return new te.PanelLayout(this.grid,this.grid.config.titleBar)}get renderable(){return!0}};I.ToolPanel=class ToolPanel extends GridPanel{constructor(C){super(C,ie.SbCss.tool)}getTools(){return new te.PanelLayout(this.grid,this.grid.config.toolBar)}get renderable(){return Q.Convert.isValue(this.grid.config.toolBar)}};I.GroupPanel=class GroupPanel extends GridPanel{constructor(C){super(C,ie.SbCss.group)}getTools(){return new te.PanelLayout(this.grid,this.grid.config.groupBar)}get renderable(){return this.grid.config.groupable}};I.PagerPanel=class PagerPanel extends GridPanel{constructor(C){super(C,ie.SbCss.pager)}getTools(){return new te.PanelLayout(this.grid,this.grid.config.pagerBar)}get renderable(){return Q.Convert.isValue(this.grid.config.pageable)&&Q.Convert.isValue(this.grid.config.pagerBar)}};I.HiddenPanel=class HiddenPanel extends GridPanel{get waiConfig(){var C;return null!==(C=this._waiConfig)&&void 0!==C?C:this._waiConfig=this.grid.config.accessibility?this.grid.config.accessibility:void 0}constructor(C){super(C,ie.SbCss.hidden)}get renderable(){return!0}render(C){return z(this,void 0,void 0,(function*(){let I=Q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ie.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.container=I,Q.Convert.isValue(this.waiConfig)&&this.renderAcessibility(I)}))}renderAcessibility(C){const I=Q.JqUtils.adjustElement(C,`>div.${ie.SbCss.wai}`,`<div class='${ie.SbCss.wai} ${ie.SbCss.hidden}'></div>`),B=[],renderConfig=(C,z)=>{const q=`${this.grid.name}-${C}`,ee=Q.JqUtils.adjustElement(I,`>.div#${q}`,`<div id='${q}' class= '${C}'></div>`);Q.JqUtils.adjustHtml(ee,z),B.push(q)};Q.Convert.isValue(this.waiConfig.title)&&renderConfig(ie.SbCss.wai_title,this.waiConfig.title),Q.Convert.isValue(this.waiConfig.description)&&renderConfig(ie.SbCss.wai_description,this.waiConfig.description),Q.JqUtils.changeAttr(this.grid.container,"aria-labelledby",`${B.join(" ")}`)}};I.LoadingPanel=class LoadingPanel extends GridPanel{constructor(C){super(C,ie.SbCss.loading),this.onMouseWheel=C=>z(this,void 0,void 0,(function*(){return!1}))}get renderable(){return!0}get loading(){return this._loading}set loading(C){if(this._loading==C)return;if(this._loading=C,Q.Convert.isNull(this.wrapper))return;const I=this;setTimeout((()=>{I.loading?Q.JqUtils.removeClass(this.wrapper,ie.SbCss.hidden):Q.JqUtils.addClass(this.wrapper,ie.SbCss.hidden)}),10)}render(C){let I=Q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ie.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.wrapper=Q.Convert.isNull(this.grid.loadingTemplate)?Q.JqUtils.adjustElement(I,">div.loader-wrap","<div class='loader-wrap'><div class='loader02'></div></div>"):Q.JqUtils.adjustElement(I,">div.loader-wrap",`<div class='loader-wrap'>${this.grid.loadingTemplate(this.grid)}</div>`),this.loading?Q.JqUtils.removeClass(this.wrapper,ie.SbCss.hidden):Q.JqUtils.addClass(this.wrapper,ie.SbCss.hidden),this.grid.setEvent("scrollWheel","wheel",this.constructor.name,this.onMouseWheel,I[0])}};I.StatusPanel=class StatusPanel extends GridPanel{constructor(C){super(C,ie.SbCss.status),this.mergeToolAggregates=C=>{if(Q.Convert.isEmpty(C))return[];if(C instanceof Array){let I=[];for(const B of C){const C=this.mergeToolAggregates(B);Q.Convert.isNull(C)||(I=I.concat(C))}return I}if(C instanceof ee.ToolStatus){const I=C.columnTemplate.aggregates;if(Q.Convert.isEmpty(I))return[];return(I instanceof Array?I:[I]).filter((C=>Q.Convert.isValue(C))).map((C=>(C.value=void 0,C)))}}}get renderable(){return Q.Convert.isValue(this.grid.config.statusBar)}getTools(){var C;return this.panelAlign=null!==(C=this.panelAlign)&&void 0!==C?C:new te.StatusPanelAlign(this.grid),this.panelAlign}doCommand(C,I){if(I.command==ne.Commands.Selected){if(0==this.renderable)return!0;const C=this.aggregate();if(Q.Convert.isNull(C))return;return this.updateToolsStatus(this.panelAlign.left,C),this.updateToolsStatus(this.panelAlign.center,C),this.updateToolsStatus(this.panelAlign.right,C),!0}return super.doCommand(C,I)}updateToolsStatus(C,I){if(!Q.Convert.isNull(C)&&!Q.Convert.isNull(I))for(const B of C)B instanceof ee.ToolStatus&&B.updateStatus(I)}aggregate(){const C=this.makeItem(),I=this.mergeAggregates();return se.Aggregate.aggregates(C,I,!0)}makeItem(){const C=this.grid.selectManager,I=new Map;return C.selectedRows.forEach(((B,z)=>{const q=this.grid.view.keyMap.get(z),ee=Object.assign({},q.data);B.forEach((I=>{var B;if(0==C.isSelectedCell(q.key,I)){const C=Q.Arrays.bfsSearch(this.grid.columns,(C=>C.name==I));Q.Convert.isValue(null===(B=null==C?void 0:C.config)||void 0===B?void 0:B.field)&&delete ee[C.config.field]}})),I.set(q.key,ee)})),C.selectedCells.forEach(((C,B)=>{var z;const q=this.grid.view.keyMap.get(B).data,ee=null!==(z=I.get(B))&&void 0!==z?z:{};C.forEach((C=>{const I=Q.Arrays.bfsSearch(this.grid.columns,(I=>C==I.name));ee[I.config.field]=q[I.config.field]})),I.set(B,ee)})),C.selectedColumns.forEach(((B,z)=>{const q=Q.Arrays.bfsSearch(this.grid.columns,(C=>z==C.name));this.grid.rows.forEach((B=>{var ee;const te=B.key;if(C.isSelectedCell(te,z)){const C=null!==(ee=I.get(te))&&void 0!==ee?ee:{},z=q.config.field;Q.Convert.isValue(z)&&0==C.hasOwnProperty(z)&&(C[z]=q.getValue(B),I.set(te,C))}}))})),Q.Arrays.from(I.values())}mergeAggregates(){const C=this.mergeToolAggregates(this.panelAlign.left),I=this.mergeToolAggregates(this.panelAlign.center),B=this.mergeToolAggregates(this.panelAlign.right);return[].concat(C,I,B)}}},8956:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.GridSearch=I.PopUpContainer=I.Position=void 0;const q=B(1163),Q=B(7078),ee=B(860),te=B(273);var ie;!function(C){C.Left="left",C.Center="center",C.Right="right",C.Top="top",C.Bottom="bottom"}(ie||(I.Position=ie={}));class PopUpContainer{constructor(C){this.grid=C}render(C,I){return q.JqUtils.adjustElement(this.grid.container,`>div.${Q.SbCss.popup}${C}`,`<div class='${Q.SbCss.popup} ${I}'></div>`)}getOffset(C,I){const B=C.offset(),z=C.outerWidth(),q=C.outerHeight(),Q=I.x,ee=I.y;let te,re;switch(Q){case ie.Left:te=B.left;break;case ie.Right:te=B.left+z;break;case ie.Center:te=B.left+z/2}switch(ee){case ie.Top:re=B.top;break;case ie.Bottom:re=B.top+q;break;case ie.Center:re=B.top+q/2}return{left:te,top:re}}move(C,I,B){const z=this.getOffset(B,I.appendToXy);this._move(C,I.popupXy,z)}_move(C,I,B){const z=C.outerWidth(),q=C.outerHeight(),Q=I.x,ee=I.y,te=this.grid.container.offset();let re=B.left-te.left;switch(Q){case ie.Left:break;case ie.Right:re+=z;break;case ie.Center:re-=z/2}let ne=B.top-te.top;switch(ee){case ie.Top:break;case ie.Bottom:ne-=q;break;case ie.Center:ne-=q/2}C.css({top:ne,left:re})}static parsePopupConfig(C){return!0===C?PopUpContainer.parsePopupConfig({popupXy:{x:ie.Center,y:ie.Top},appendToXy:{x:ie.Center,y:ie.Top}}):!1!==C?{popupXy:q.Convert.default(C.popupXy,{x:ie.Center,y:ie.Center},PopUpContainer.parsePosition),appendToXy:q.Convert.default(C.appendToXy,{x:ie.Center,y:ie.Center},PopUpContainer.parsePosition),positionFunc:C.positionFunc}:void 0}static parsePosition(C){return{x:q.Convert.isValue(null==C?void 0:C.x)?q.Convert.parseEnum(ie,C.x):ie.Center,y:q.Convert.isValue(null==C?void 0:C.y)?q.Convert.parseEnum(ie,C.y):ie.Center}}}I.PopUpContainer=PopUpContainer;class GridSearch extends te.Observer{get resource(){var C;return null!==(C=this._resource)&&void 0!==C?C:this._resource=this.grid.resource}get config(){var C;return null!==(C=this._config)&&void 0!==C?C:this._config=PopUpContainer.parsePopupConfig(!0)}get popupContainer(){var C;return null!==(C=this._popupContainer)&&void 0!==C?C:this._popupContainer=new PopUpContainer(this.grid)}constructor(C){super(C),this.isOpen=!1,this.grid=C,this.init()}render(C){if(q.Convert.isValue(C)&&(this.isOpen=C),!this.isOpen)return;const I=this.popupContainer.render(`.${Q.SbCss.search}`,Q.SbCss.search);return this.renderTitle(I),this.renderSearchArea(I),this.renderConditions(I),this.renderButtons(I),this.draggable(I),I}move(C){const I=this.grid.container.find(`.${Q.SbCss.panel}.${Q.SbCss.scroll}`);this.popupContainer.move(C,this.config,I)}renderTitle(C){q.JqUtils.adjustElement(C,`>span.${Q.SbCss.title}`,`<span class='${Q.SbCss.title}'>${this.resource.search_title}</span>`)}draggable(C){C.draggable({})}init(){this.caseSensitive=!1,this.wholeWord=!1,this.isBackward=!1}renderSearchArea(C){const I=q.JqUtils.adjustElement(C,`>div.${Q.SbCss.area}.${Q.SbCss.search}`,`<div class='${Q.SbCss.area} ${Q.SbCss.search}'></div>`),B=(q.JqUtils.adjustElement(I,">span",`<span>${this.resource.search_find}:</span>`),q.JqUtils.adjustElement(I,">input",'<input type="text"/>'));B[0].focus({preventScroll:!0}),this.grid.setEvent("search","keydown","SearchKeyDown",(I=>("ENTER"===I.key.toUpperCase()&&(this._search(),B[0].focus()),"ESCAPE"===I.key.toUpperCase()&&(this.cancel(C),this.returnFocus()),!1)),B),this.jqInput=B}renderConditions(C){const I=q.JqUtils.adjustElement(C,`>div.${Q.SbCss.area}.${Q.SbCss.condition}`,`<div class='${Q.SbCss.area} ${Q.SbCss.condition}'></div>`);let B=q.JqUtils.adjustElement(I,`>div.${Q.SbCss.area}.${Q.SbCss.area}1`,`<div class='${Q.SbCss.area} ${Q.SbCss.area}1'></div>`),z=q.JqUtils.adjustElement(B,">label[for='CheckIgnoreCase']",`<label for='CheckIgnoreCase'>${this.resource.serach_caseSensitive}</label>`),ee=q.JqUtils.adjustElement(B,">#CheckCaseSensitive","<input type='checkbox' id='CheckCaseSensitive'/>");this.grid.setEvent("GridSearch","change","CaseSensitive",(C=>{this.caseSensitive=ee.is(":checked")}),ee),B=q.JqUtils.adjustElement(I,`>div.${Q.SbCss.area}.${Q.SbCss.area}2`,`<div class='${Q.SbCss.area} ${Q.SbCss.area}2'></div>`),z=q.JqUtils.adjustElement(B,">label[for='CheckWholeWord']",`<label for='CheckWholeWord'>${this.resource.search_wholeWord}</label>`);const te=q.JqUtils.adjustElement(B,">#CheckWholeWord","<input type='checkbox' id='CheckWholeWord'/>");this.grid.setEvent("GridSearch","change","WholeWord",(C=>{this.wholeWord=te.is(":checked")}),te),B=q.JqUtils.adjustElement(I,`>div.${Q.SbCss.area}.${Q.SbCss.area}3`,`<div class='${Q.SbCss.area} ${Q.SbCss.area}3'></div>`),z=q.JqUtils.adjustElement(B,">label[for='CheckBackward']",`<label for='CheckBackward'>${this.resource.search_backward}</label>`);const ie=q.JqUtils.adjustElement(B,">#CheckBackward","<input type='checkbox' id='CheckBackward'/>");this.grid.setEvent("GridSearch","change","Backward",(C=>{this.isBackward=ie.is(":checked")}),ie)}renderButtons(C){const I=q.JqUtils.adjustElement(C,`>div.${Q.SbCss.area}.${Q.SbCss.button}`,`<div class='${Q.SbCss.area} ${Q.SbCss.button}'></div>`),B=q.JqUtils.adjustElement(I,`>button.${Q.SbCss.button}.${Q.SbCss.search}`,`<button class='${Q.SbCss.button} ${Q.SbCss.search}' type='button'>${this.resource.search_find}</button>`);this.grid.setEvent("GridSearch","click","searchButton",(()=>{this._search()}),B);const z=q.JqUtils.adjustElement(I,`>button.${Q.SbCss.button}.${Q.SbCss.cancel}`,`<button class='${Q.SbCss.button} ${Q.SbCss.cancel}' type='button'>${this.resource.search_cancel}</button>`);this.grid.setEvent("GridSearch","click","cancelButton",(()=>{this.cancel(C),this.returnFocus()}),z)}cancel(C){(C=null!=C?C:this.grid.container.find(`.${Q.SbCss.popup}.${Q.SbCss.search}`)).remove(),this.isOpen=!1,this.init()}returnFocus(){this.grid.container[0].focus({preventScroll:!0})}_search(){return z(this,void 0,void 0,(function*(){const C=this.jqInput.val().toString();if(q.Convert.isEmpty(C))return;const I={search:C,ignoreCase:!this.caseSensitive,wholeWord:this.wholeWord,backward:this.isBackward};this.search(I,!0)}))}search(C,I=!0){return z(this,void 0,void 0,(function*(){const B=yield this.getFocusInfo();if(q.Convert.isNull(B))return;const z=yield this.grid.findRows(C.search,B,C.ignoreCase,C.wholeWord,C.backward);if(!q.Convert.isNull(z)){if(I){const C=yield this.convertFocus(z);this.moveFocus(C)}return z}}))}moveFocus(C){return z(this,void 0,void 0,(function*(){const I=this.grid.focusManager;yield I.moveFocus(C)}))}_needReload(C,I,B){var q;return z(this,void 0,void 0,(function*(){const z=yield this.grid.viewport.calcRows(B,!0,!1),Q=z.currRows,ee=Q.findIndex((I=>{var B;return(null===(B=I.rowItem)||void 0===B?void 0:B.rowIndex)===C.rowIndex}));let te=ee<0;if(!te&&1===I){const C=Q[ee],B=Q[ee+I];te=(null===(q=null==B?void 0:B.rowItem)||void 0===q?void 0:q.isSticky)||Q[Q.length-1]==B?B.top+B.rowHeight.height>z.scrollHeight:C.top+C.rowHeight.height>z.scrollHeight}return te}))}getFocusInfo(){return z(this,void 0,void 0,(function*(){const C=this.grid.focusManager.focus;return q.Convert.isEmpty(C)||C.panelType!==ee.PanelType.Body?yield this.emptyFocus():{rowIndex:C.rowItem.rowIndex,column:C.column}}))}emptyFocus(){return z(this,void 0,void 0,(function*(){const C=this.grid.topRow,I=this.grid.topCol;return{rowIndex:C,column:q.Arrays.bfsSearch(this.grid.wholeColumns,(C=>C.index===I||C.columns))}}))}convertFocus(C){return z(this,void 0,void 0,(function*(){return{rowItem:yield this.grid.view.getRow(C.rowIndex),column:C.column,panelType:ee.PanelType.Body}}))}getResource(C){const I=this.grid.resource;if(C===I.search_title)return I.search_title}static parseGridSearchOption(C){return"string"==typeof C?GridSearch.parseGridSearchOption({search:C}):{search:q.Convert.default(C.search,void 0),ignoreCase:q.Convert.default(C.ignoreCase,!1),wholeWord:q.Convert.default(C.wholeWord,!1),backward:q.Convert.default(C.backward,!1)}}}I.GridSearch=GridSearch},9797:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.RowItem=I.GridView=void 0;const q=B(194),Q=B(2288),ee=B(2663),te=B(3746),ie=B(1163),re=B(5369),ne=B(3354),se=B(5165),oe=B(5260),ae=B(6258),le=B(6105),ue=B(7392),de=B(5060),ce=B(3119),he=B(5774);class GridView extends te.DataView{constructor(C){(C=ae.GridParser.parseConfig(C)).dataSource instanceof q.DataSource?super(C.dataSource):super(void 0),this._updateIndex=0,this._setConfig(C),this.dataSource.pageOnly=this.pageRow}setConfig(C){(C=ae.GridParser.parseConfig(C)).dataSource instanceof q.DataSource&&(super.publisher=C.dataSource),this._setConfig(C),this.clearRows(),this.dataSource.pageOnly=this.pageRow}_setConfig(C){this._config=C,C.dataSource instanceof q.DataSource?this.dataSource.setConfig(C.dataSource.config):this.dataSource.setConfig(C.dataSource),this.dataSource.onPrepareRequest=(C,I)=>GridView.prepareRequest(this,this.config,C,I),1==this._config.groupable&&ie.Convert.isNull(this.dataConfig.groups)&&(this.dataConfig.groups=[])}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new ie.Lock}static prepareRequest(C,I,B,z){var q,Q;ie.Convert.isValue(null==B?void 0:B.groups)&&B.groups.forEach((C=>{C.showFooter=!1,ie.Arrays.bfsAction(ie.Arrays.asArray(I.columns),(I=>{var B,z;let q;if(I.groups instanceof Array&&(q=C.field==I.field?I.groups:I.groups.filter((I=>{var B;return"*"==I.group||(null===(B=I.group)||void 0===B?void 0:B.split(",").map((C=>C.trim())).indexOf(C.field))>=0}))),(null===(B=I.groupTitle)||void 0===B?void 0:B.aggregates)instanceof Array){const B={group:C.field,field:C.field,aggregates:[].concat(I.groupTitle.aggregates)};q=(null!=q?q:[]).concat(B)}if(ie.Convert.isValue(q)){const I=null!==(z=C.aggregates)&&void 0!==z?z:C.aggregates=[];for(const B of q)if(!ie.Convert.isEmpty(B.aggregates)){for(const C of B.aggregates)I.some((I=>le.Aggregate.aggregateEquals(I,C)))||I.push(C);ie.Convert.isValue(B.footer)&&(C.showFooter=!0)}}return I.columns}))})),0==I.virtualRow&&(z.pageNo=C.pageNo),ie.Convert.isValue(null===(q=B.tree)||void 0===q?void 0:q.parent)&&ie.Convert.isValue(null===(Q=B.tree)||void 0===Q?void 0:Q.master)&&(z.parentField=B.tree.parent)}get config(){return this._config}get dataConfig(){return this.dataSource.config}get pageSize(){return this.dataSource.pageSize}set pageSize(C){this.setPageSize(C)}get viewMode(){return this.scrollWhole?Q.ViewMode.Flow:this.config.viewMode}get topRow(){var C;return null!==(C=this._topRow)&&void 0!==C?C:this._topRow=0}set topRow(C){(this.config.virtualRow||0==this.dataSource.isPaging)&&(C=Math.min(Math.max(C,0),this.rowCount)),ie.Convert.isEmpty(C)||(this._topRow=C,this._pageNo=this.scrollWhole&&this.isPaging?Math.trunc(C/this.dataSource.pageSize):this._pageNo)}get topCol(){var C;return null!==(C=this._topCol)&&void 0!==C?C:this._topCol=0}set topCol(C){C=Math.max(C,0),this._topCol=C}get serverPaging(){return this.dataConfig.serverPaging}get virtualColumn(){return!0===this.config.virtualColumn}get virtualRow(){return!0===this.config.virtualRow}get pageRow(){return!1===this.virtualRow}set virtualRow(C){this.config.virtualRow!=C&&(this.config.virtualRow,this.dataSource.loader.clearRows(),this.clearRows(),this.fireCommandAsync(this,new se.RefreshCommand))}get scrollRange(){return this.virtualRow?this.config.scrollRange==ue.ScrollRange.Page?ue.ScrollRange.Page:ue.ScrollRange.Whole:ue.ScrollRange.Page}get scrollPage(){return this.scrollRange==ue.ScrollRange.Page}get scrollWhole(){return this.scrollRange==ue.ScrollRange.Whole}get pageNo(){var C;return null!==(C=this._pageNo)&&void 0!==C?C:this._pageNo=0}get loader(){return this.dataSource.loader}get rows(){var C;return null!==(C=this._rows)&&void 0!==C?C:this._rows=[]}get openCount(){var C;return null!==(C=this._openCount)&&void 0!==C?C:this._openCount=0}set openCount(C){this._openCount=C}get rowCount(){var C;return this.listMode?this.scrollWhole||0==this.dataSource.isPaging?this.loader.nodeCount:this.dataSource.getPageSize(this.dataSource.request,this.pageNo):(null!==(C=this.openCount)&&void 0!==C?C:0)+this.dataSource.loader.nodeCount}get visibleCount(){var C;return null!==(C=this._visibleCount)&&void 0!==C?C:this.rowCount}get cachePaging(){return this.dataConfig.cachePaging||this.scrollWhole}get total(){return this.dataSource.total}get adjustedTotal(){return this.dataSource.adjustedTotal}get listMode(){var C;return(null===(C=this.loader)||void 0===C?void 0:C.constructor.name)===de.ListLoader.name}get isPaging(){return this.dataSource.isPaging}get pagerMode(){let C=ce.PagerMode.Page;return C=this.scrollWhole?ce.PagerMode.Row:this.isPaging?ce.PagerMode.Page:ce.PagerMode.Row,C}get stickyKeys(){var C;return null!==(C=this._stickyKeys)&&void 0!==C?C:this._stickyKeys=new Set}get checkKeys(){var C;return null!==(C=this._checkKeys)&&void 0!==C?C:this._checkKeys=new Set}get selectKeys(){var C;return null!==(C=this._selectKeys)&&void 0!==C?C:this._selectKeys=new Set}get radioKey(){return this._radioKey}set radioKey(C){this._radioKey=C}get invisibleKeys(){var C;return null!==(C=this._invisibleKeys)&&void 0!==C?C:this._invisibleKeys=new Set}get stickyRowsMap(){var C;return null!==(C=this._stickyRowsMap)&&void 0!==C?C:this._stickyRowsMap=new Map}get editKeyMap(){var C;return null!==(C=this._editKeyMap)&&void 0!==C?C:this._editKeyMap=new Map}get loadingKeys(){var C;return null!==(C=this._loadingKeys)&&void 0!==C?C:this._loadingKeys=new Set}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyInsert(){var C;return null!==(C=this.config.stickyInsert)&&void 0!==C&&C}get stickyUpdate(){var C;return null!==(C=this.config.stickyUpdate)&&void 0!==C&&C}get stickyDelete(){var C;return null!==(C=this.config.stickyDelete)&&void 0!==C&&C}get stickyModify(){var C;return null!==(C=this._stickyModify)&&void 0!==C?C:this._stickyModify=this.stickyInsert||this.stickyDelete||this.stickyUpdate}isEdit(C,I=void 0){return ie.Convert.isNull(C)?(this.editKeyMap.clear(),!1):ie.Convert.isNull(I)?this.editKeyMap.has(C.key):(!0===I?this.editKeyMap.set(C.key,{data:ie.Convert.cloneData(C.data)}):this.editKeyMap.delete(C.key),I)}isVisible(C,I=void 0){return!ie.Convert.isNull(C)&&(ie.Convert.isNull(I)?0==this.invisibleKeys.has(C.key)&&this.rowVisible(C):(!1===I?this.invisibleKeys.add(C.key):this.invisibleKeys.delete(C.key),I))}isLoading(C="",I){if(ie.Convert.isNull(I))return this.loadingKeys.has(C);const B=this.loadingKeys.size;!0===I?this.loadingKeys.add(C):this.loadingKeys.delete(C),B!=this.loadingKeys.size&&this.fireCommandAsync(this,new re.LoadingCommand(this.loadingKeys.size>0))}clearEdit(){this.editKeyMap.clear()}get detailContextMap(){var C;return null!==(C=this._detailContextMap)&&void 0!==C?C:this._detailContextMap=new Map}get detailTemplateMap(){var C;return null!==(C=this._detailTemplateMap)&&void 0!==C?C:this._detailTemplateMap=new Map}get detailInitMap(){var C;return null!==(C=this._detailInitMap)&&void 0!==C?C:this._detailInitMap=new Map}static getSetMap(C,I,B,z){if(z||ie.Convert.isValue(B))ie.Convert.isNull(B)?C.delete(I):C.set(I,B);else if(ie.Convert.isNull(B))return C.get(I);return B}detailContext(C,I,B){return GridView.getSetMap(this.detailContextMap,C,I,B)}detailInit(C,I,B){return GridView.getSetMap(this.detailInitMap,C,I,B)}detailTemplate(C,I,B){const z="string"==typeof I?ie.Utils.createTemplate(I):I;return GridView.getSetMap(this.detailTemplateMap,C,z,B)}getStickyRows(C=!1,I=!1){const B=new Set;if(C)for(const C of this.editKeyMap.keys()){if(this.stickyKeys.has(C))continue;const I=this.map(C);ie.Convert.isNull(I)||B.add(I.key)}if(I){const C=this.dataSource.getModifiedKeys(this.stickyInsert,this.stickyUpdate,this.stickyDelete);for(const I of C){if(this.stickyKeys.has(I))continue;const C=this.map(I);ie.Convert.isNull(C)||B.add(C.key)}}for(const C of this.stickyKeys){const I=this.map(C);ie.Convert.isNull(I)||B.add(I.key)}const z=ie.Arrays.from(B.keys()).map((C=>this.map(C)));return le.Sorting.sort(z,ue.SortDir.Asc,(C=>C.node.treeIndex)),z}isEditRow(C){var I;return null!==(I=this.editKeyMap.has(C))&&void 0!==I&&I}keysToRows(C){const I=[];for(const B of C){const C=this.map(B);ie.Convert.isNull(C)||I.push(C)}return I}getSelectedKeys(){return ie.Arrays.from(this.selectKeys.keys())}getSelectedRows(){return this.keysToRows(this.selectKeys.keys())}getCheckedRows(){return this.keysToRows(this.checkKeys.keys())}getCheckedKeys(){return ie.Arrays.from(this.checkKeys.keys())}isStickyModified(C){if(0==this.stickyModify)return!1;const I=this.dataSource.deleteMap.has(C),B=this.dataSource.insertMap.has(C),z=!!this.stickyUpdate&&this.dataSource.updateMap.has(C);return this.stickyInsert&&B&&!I||this.stickyDelete&&I&&!B||z&&!B&&!I}isStickyRow(C){return this.stickyKeys.has(C)}isCheckRow(C,I=void 0){if(ie.Convert.isNull(I))return this.checkKeys.has(C);const B=this.map(C);1==I?(this.checkKeys.has(C)||this.checkKeys.add(C),B.data[ne.FixedFields.check]=!0):(this.checkKeys.has(C)&&this.checkKeys.delete(C),delete B.data[ne.FixedFields.check])}isSelectRow(C,I=void 0){if(ie.Convert.isNull(I))return this.selectKeys.has(C);1==I?this.selectKeys.has(C)||this.selectKeys.add(C):this.selectKeys.has(C)&&this.selectKeys.delete(C)}isRadioRow(C,I=void 0){if(ie.Convert.isNull(I))return this.radioKey===C;this.radioKey=1==I?C:void 0}addStickyRow(C){const I=C.key;this.stickyKeys.has(I)||this.isStickyModified(I)||(this.stickyKeys.add(C.key),this.addStickyRowsMap(C),this.adjustStickyRows(C))}addStickyRowsMap(C){let I=C.parent;for(;ie.Convert.isValue(I);){const B=I.key;0==this.stickyRowsMap.has(B)&&this.stickyRowsMap.set(B,[]);const z=this.stickyRowsMap.get(B);0==z.some((I=>I.key==C.key))&&z.push(C),I=I.parent}}adjustStickyRows(C){let I=C.parent;for(;ie.Convert.isValue(I);)0==I.isOpen&&(this.rows.splice(I.rowIndex),oe.Log.debug((()=>["adjustStickyRows",I,[].concat(this.rows)]))),I=I.parent}removeStickyRow(C){const I=C.key;if(0==this.stickyKeys.has(I))return;this.stickyKeys.delete(I);let B=C.parent;for(;ie.Convert.isValue(B);){const I=B.key;if(this.stickyRowsMap.has(I)){const B=this.stickyRowsMap.get(I),z=B.indexOf(C);z>=0&&(B.splice(z,1),ie.Convert.isEmpty(B)&&this.stickyRowsMap.delete(I))}B=B.parent}this.adjustStickyRows(C)}get keyMap(){var C;return null!==(C=this._keyMap)&&void 0!==C?C:this._keyMap=new Map}get heightMap(){var C;return null!==(C=this._heightMap)&&void 0!==C?C:this._heightMap=new Map}setRowHeights(C,I){this.heightMap.set(C,I)}getRowHeights(C){return this.heightMap.get(C)}clearRowHeight(C){if(C)this.heightMap.clear();else for(const C of this.heightMap.values())C.rowFix=!1,C.detailFix=!1,C.rendered=!1}map(C,I){if(!ie.Convert.isNull(C))return ie.Convert.isNull(I)?this.keyMap.get(C):(this.keyMap.set(C,I),I)}hasKey(C){return this.keyMap.has(C)}search(){return z(this,void 0,void 0,(function*(){const C=this.dataSource.changeLoader();if(oe.Log.debug((()=>["GridView.search.changeLoader",C])),oe.Log.time("GridView.search"),this.beginUpdate(),yield this.dataSource.search(),C){const C=this.pageOnly&&!this.dataConfig.serverFiltering;this.clearRows(C),yield this.ensureRows(!1)}else ie.Convert.isEmpty(this.loader.nodes)?(this.clearRows(this.pageOnly),yield this.ensureRows(!1)):(this.openCount=GridView.reorderRows(this.rows,0,this.rowCount,this.dataConfig.groups,this.dataConfig.orders,!(this.dataSource.loader instanceof de.ListLoader)),0==this.rows.length&&(yield this.ensureRows(!0)));oe.Log.timeEnd("GridView.search"),this.endUpdate(),this.fireCommandAsync(this,new se.RefreshCommand)}))}setPageNo(C){var I,B;return z(this,void 0,void 0,(function*(){if(this.dataSource.changed&&("function"==typeof(null===(I=this.dataConfig.ajax)||void 0===I?void 0:I.update)||ie.Convert.isValue(null===(B=this.dataConfig.ajax)||void 0===B?void 0:B.update.url))||!this.cachePaging)return yield this.dataSource.save(),this._pageNo=C,void(yield this.reload());this.pageNo==C&&this.topRow==C*this.pageSize||this.pagerMode==ce.PagerMode.Row&&this.scrollWhole&&C*this.pageSize>this.visibleCount||(this._pageNo=C,this.topRow=this.scrollWhole?C*this.pageSize:0,yield this.loadPage(C,0==this.scrollWhole),this.fireCommandAsync(this,new se.RefreshCommand))}))}setPageSize(C){this.pageSize!=C&&(this.dataSource.pageSize=C,this.clearRows(),this.fireCommandAsync(this,new se.RefreshCommand))}loadPage(C,I){var B,q;return z(this,void 0,void 0,(function*(){if(0==I&&0==this.loader.nodeCount||this.isLoading())return;const z=this.topRow;try{this.isLoading("",!0),this.beginUpdate();const ee=this.viewMode;C=this.dataSource.adjustPageNo(C);const te=this.dataSource.hasPage(C),ne=yield this.dataSource.loadView(C,ee,this.scrollRange);{I&&this.clearRows(!0);const ee=this.scrollWhole&&null!==(q=null===(B=this.dataSource.getPageMap())||void 0===B?void 0:B.pageToFromTo(C,Q.ViewMode.Page,this.scrollRange).from)&&void 0!==q?q:0;if(this.assignRows(void 0,ne,ee),0==this.dataConfig.lazyLoading&&this.pageOnly&&0==this.listMode){let C,I=0;const B=ie.Convert.isValue(this.dataConfig.calculations);for(;ie.Convert.isValue(C=yield this.getRow(I++,!0));)B&&this.calcFields(C.box,!1)}this.scrollWhole?this._topRow=z:this.topRow=0,0==this.dataSource.fieldsRebuilded&&ie.Convert.isValue(ne)&&this.dataSource.rebuildFields(ne.map((C=>C.box.originData))),0==te&&this.fireCommandAsync(this,re.LoadedCommand.create(this.dataSource.request,C,[...ne.map((C=>C.box.data))]))}}finally{this.endUpdate(),this.isLoading("",!1)}}))}ensureRowsByKeys(C){return z(this,void 0,void 0,(function*(){if(ie.Convert.isValue(C)){const I=C[C.length-1].key;let B,z=C[0].index,q=-1;for(;ie.Convert.isValue(B=yield this.getRow(z++));)if(B.key==I){if(q=B.node.level,B.node instanceof ne.ParentNode==0)break}else if(0<=q&&q<=B.node.level)break}}))}doCommand(C,I){return I.command===ee.Commands.Rebuild&&this.rebuild(I),super.doCommand(C,I)}rebuild(C){oe.Log.debug((()=>[this.name+".rebuild"]));const I=ae.GridParser.parseConfig(this.config);this._setConfig(I),this.fireCommandAsync(this,new se.RefreshCommand)}rebuildColumns(){var C;return z(this,void 0,void 0,(function*(){0==this.rowCount&&(yield this.prepareRows());const I=null!==(C=ie.Arrays.asArray(this.config.columns))&&void 0!==C?C:[];let B=0;for(const C in this.rows){const z=this.rows[C],Q=null==z?void 0:z.data;for(const C in Q){if(C==q.DataSource._keyName)continue;if(I.some((I=>I.field==C)))continue;const B=Q[C],z={field:C,dataType:typeof B,type:he.ColumnTypes.Text};I.push(z)}if(B++>=10)break}this.config.columns=I}))}save(C){return z(this,void 0,void 0,(function*(){C=null!=C?C:this.dataSource.getSaveData(),ie.Convert.isNull(C)||ie.Convert.isEmpty(C.inserted)&&ie.Convert.isEmpty(C.deleted)&&ie.Convert.isEmpty(C.updated)?oe.Log.info("저장할 데이터가 없습니다."):(yield this.dataSource.save(C),yield this.reload(),this.fireCommandAsync(this,new se.RefreshCommand))}))}clearRows(C=!1){oe.Log.debug((()=>"clearRows")),this.rows.splice(0),this.keyMap.clear(),this.editKeyMap.clear(),this.checkKeys.clear(),this.invisibleKeys.clear(),this.radioKey=void 0,this.detailContextMap.clear(),this.detailTemplateMap.clear(),this.detailInitMap.clear(),this.stickyKeys.clear(),this.stickyRowsMap.clear(),this._openCount=0,0==C&&(this._pageNo=0,this._topRow=0)}reload(C){var I;return z(this,void 0,void 0,(function*(){const B=null!==(I=null==C?void 0:C.reset)&&void 0!==I&&I;this.clearRows(0==B),yield this.dataSource.reload(),yield this.prepareRows(0==B)}))}prepareRows(C=!0){return z(this,void 0,void 0,(function*(){if(C){if(this.rowCount>0&&this.rows.length>0)return;if(ie.Convert.isValue(this.total)&&this.rows.length>0)return}this.beginUpdate(),this.isPaging?yield this.loadPage(this.pageNo,0==C):yield this.getRow(this.topRow,0==C),this.endUpdate()}))}ensureRows(C=!0){return z(this,void 0,void 0,(function*(){if(this.scrollWhole){this.beginUpdate();let C=0;this.pageOnly?this.pageSize:this.rowCount;if(this.listMode)yield this.getRow(C,!0);else for(;ie.Convert.isValue(yield this.getRow(C++,!0)););this.endUpdate()}else yield this.loadPage(this.pageNo,0==C);this.stickyRowsMap.clear(),this.stickyKeys.size>0&&(yield this.ensureStickyRows(this.rows)),this.fireCommandAsync(this,new se.RowChangeCommand)}))}rowEditable(C){var I;return"function"!=typeof this.config.rowEditable||(null===(I=this.config.rowEditable(null==C?void 0:C.data,C))||void 0===I||I)}rowVisible(C){var I;return"function"!=typeof this.config.rowVisible||(null===(I=this.config.rowVisible(null==C?void 0:C.data,C))||void 0===I||I)}ensureStickyRows(C){var I,B;return z(this,void 0,void 0,(function*(){for(const z in C){const q=C[z];if(!(q.node instanceof ne.ParentNode))continue;if((null!==(B=null===(I=q.items)||void 0===I?void 0:I.length)&&void 0!==B?B:0)>0)continue;let Q=yield this.dataSource.loader.getRows(q.node,0,!0,this.viewMode,this.scrollRange);if(!ie.Convert.isEmpty(Q)){for(let C=0,I=Q.length;C<I;C++){if(ie.Convert.isNull(Q[C]))continue;const I=Q[C],B=RowItem.create(this,q,I,C);B.isSticky&&this.addStickyRowsMap(B)}yield this.ensureStickyRows(q.items)}}}))}loadItems(C){for(const I in C){const B=C[I];if(ie.Convert.isEmpty(B.items)){const C=B.node;if(C instanceof ne.ParentNode){const I=[].concat(C.nodes);C.hasFooter&&I.push(C.footer);for(const C of I){const I=RowItem.create(this,B,C,this.rows.length);B.items.push(I)}this.loadItems(B.items)}}}}loadNodes(C,I){oe.Log.debug((()=>[`loadNodes : ${this.rows.length} + ${C.length}`]));let B=C.length;for(let z=0;z<C.length;z++){const q=C[z],Q=RowItem.create(this,I,q,this.rows.length);if(Q.rowIndex=this.rows.length,this.rows.push(Q),q instanceof ne.ParentNode&&q.isOpen){Q.isOpen=!0;const C=[].concat(q.nodes);q.hasFooter&&C.push(q.footer);let I=this.loadNodes(C,Q);Q.internalOpenCount=I,B+=I}}return B}getRow(C,I=!1){return z(this,void 0,void 0,(function*(){yield this.lock.acquire();try{if(null!=C||(C=0),ie.Convert.isValue(this.rowCount)&&C>=this.rowCount&&0!=this.rowCount)return;let B=this.rows[C];if(ie.Convert.isNull(B)){if((ie.Convert.isNull(this.total)||this.total>0)&&(ie.Convert.isEmpty(this.rows)||C<this.rowCount))try{this.isLoading("",!0),B=yield this.findRow(C,I&&ie.Convert.isValue(this.rowCount))}finally{this.isLoading("",!1)}ie.Convert.isValue(B)&&(this.rows[C]=B,yield this.adjustParentNode(B,C),this.map(B.key,B))}else 0==this.dataConfig.lazyLoading&&0==this.listMode&&(yield this.adjustParentNode(B,C));return B}finally{yield this.lock.release()}}))}adjustParentNode(C,I){return z(this,void 0,void 0,(function*(){if((null==C?void 0:C.node)instanceof ne.ParentNode)if(C.level!=C.node.level);else if(C.isParentsOpen&&0==this.dataConfig.lazyLoading&&(C.node.isOpen&&C.isClose||C.isOpen&&0==C.itemCount))C.isOpen=!1,yield this.openRowItem(C);else if(C.isClose&&0==C.openCount){const B=C.stickyRows;B.length>0&&(this.openCount+=B.length,GridView.insertStickyRows(this.rows,C,B,I+1))}}))}findRow(C,I=!1){var B,q;return z(this,void 0,void 0,(function*(){if(ie.Convert.isEmpty(C))return void oe.Log.warn((()=>"rowIndex is empty"));let z=this.findPrevRow(C);if(ie.Convert.isNull(z)){const B=yield this.dataSource.loader.getRows(null==z?void 0:z.node,C,I,this.viewMode,this.scrollRange),q=this.assignRows(z,B,C);return this.fireCommandAsync(this,re.LoadedCommand.create(this.dataSource.request,this.pageNo,[...B.map((C=>C.box.data))])),q}let Q=C-z.rowIndex,ee=Q-1;for(;ie.Convert.isValue(z);){if(z.isOpen){let C=z.itemCount;if(ie.Convert.isNull(C))break;if(C>ee)break;ie.Convert.isValue(z.parent)&&ie.Convert.isValue(z.itemCount)&&z.itemCount!=z.items.length&&(Q-=z.itemCount-z.items.length)}else if(z.isSticky)z.level==z.node.level?null!==(q=null===(B=z.parent)||void 0===B?void 0:B.isClose)&&void 0!==q&&q&&(z=z.parent):z.level<z.node.level&&(z=z.parent);else{const C=z.stickyRows;if(C.length>ee)return C[ee]}ee=z.node.index+Q,z=z.parent}const te=this.dataSource.loader.hasRows(null==z?void 0:z.node,ee),ne=yield this.dataSource.loader.getRows(null==z?void 0:z.node,ee,I,this.viewMode,this.scrollRange),se=this.assignRows(z,ne,C);return 0==te.hasPage&&this.fireCommandAsync(this,re.LoadedCommand.create(this.dataSource.request,te.pageNo,[...ne.map((C=>C.box.data))])),se}))}static insertStickyRows(C,I,B,z){const q=B.length;I.internalOpenCount=q;const Q=C.splice(z);for(let Q=0;Q<q;Q++){const q=B[Q];q.parent=I,q.rowIndex=Q+z,C[Q+z]=q}for(const I in Q){const B=Q[I];B.rowIndex+=q,C[B.rowIndex]=B}}assignRows(C,I,B){this._assignRows(C,I,B),this.adjustOpenCount(),this.calcRows();return this.rows[B]}adjustOpenCount(){let C=0;for(const I of this.rows)ie.Convert.isNull(I)||I.level>0||(C+=I.openCount);this.openCount=C}_assignRows(C,I,B){const z=I.length;let q=B;for(let B=0;B<z;B++){const z=I[B];if(ie.Convert.isNull(z))continue;const Q=RowItem.create(this,C,z,q);if(this.rows[q]=Q,q++,z instanceof ne.ParentNode&&z.isOpen&&z.nodes.length>0){const C=[].concat(z.nodes);z.hasFooter&&C.push(z.footer);const I=this._assignRows(Q,C,q);Q.openCount=I-q,Q.isOpen=!0,q=I}}return q}findPrevRow(C){var I;let B;const z=this.dataConfig.pageSize;for(let I=1;I<z&&!(C-I<0)&&(B=this._rows[C-I],!ie.Convert.isValue(B));I++);if(ie.Convert.isNull(B))for(const z of this.rows.keys()){if(C<z)break;B=null!==(I=this.rows[z])&&void 0!==I?I:B}return B}get toggleRowLock(){var C;return null!==(C=this._toggleRowLock)&&void 0!==C?C:this._toggleRowLock=new ie.Lock}toggleRow(C,I){return z(this,void 0,void 0,(function*(){let B=this.map(C);if(ie.Convert.isNull(B))return!1;try{if(yield this.toggleRowLock.acquire(),B.loading)return!1;B=this.map(C);const z=B.rowIndex;B.loading=!0,null!=I||(I=!B.isOpen);let q=I?yield this.openRowItem(B):yield this.closeRowItem(B);if(B.isOpen){let C=z+1,I=C+B.openCount;for(;ie.Convert.isValue(yield this.getRow(C++))&&C<I;);}return this.fireCommandAsync(this,new se.RowChangeCommand(!0)),q}finally{yield this.toggleRowLock.release(),B=this.map(C),ie.Convert.isValue(B)&&(B.loading=!1),oe.Log.debug((()=>["toggleRow.finish",C,I])),this.fireCommandAsync(this,new se.RefreshCommand)}}))}toggleDetail(C,I){return z(this,void 0,void 0,(function*(){let B=this.map(C);if(ie.Convert.isNull(B))return!1;null!=I||(I=!B.isDetail),B.isDetail=I,B.rowHeights.detailFix=!1,this.fireCommandAsync(this,new se.RowChangeCommand(!0)),this.fireCommandAsync(this,new se.RefreshCommand)}))}toggleStickyRow(C){let I=this.map(C);return!ie.Convert.isNull(I)&&(I.isSticky=!I.isSticky,this.fireCommandAsync(this,new se.RowChangeCommand(!0)),!0)}toggleStickyRows(C,I){for(const B of C){let C=this.map(B);ie.Convert.isNull(C)||(C.isSticky=null!=I?I:!C.isSticky)}return this.fireCommandAsync(this,new se.RowChangeCommand(!0)),I}keyToNode(C){const I=this.loader;return ie.Convert.isValue(C)?C instanceof Array?C.map((C=>this.map(C).node)):[this.map(C).node]:I.nodes}expandAllTree(C,I){return z(this,void 0,void 0,(function*(){this.rows.splice(0),this.openCount=0,this._pageNo=0,this._topRow=0,this._topCol=0;const B=this.loader,q=this.keyToNode(I);yield function expandNodes(I){return z(this,void 0,void 0,(function*(){for(const z of null!=I?I:[]){if(z.isLeaf)continue;if(0==C&&ie.Convert.isEmpty(z.nodes))continue;z.isOpen=!0;const I=ie.Convert.isEmpty(z.nodes)?yield B.getRows(z,0,!1,Q.ViewMode.Flow,ue.ScrollRange.Whole):z.nodes;yield expandNodes(I)}}))}(q),yield this.ensureRows(!0),this.fireCommandAsync(this,new se.RefreshCommand)}))}collapseAllTree(C,I){return z(this,void 0,void 0,(function*(){this.rows.splice(0),this.openCount=0,this._pageNo=0,this._topRow=0,this._topCol=0;this.loader;const B=this.keyToNode(I);yield function collapseNodes(I){return z(this,void 0,void 0,(function*(){for(const B of null!=I?I:[])B.isLeaf||(B.isOpen=!1,0!=C&&ie.Convert.isValue(B.nodes)&&(yield collapseNodes(B.nodes)))}))}(B),yield this.ensureRows(!1),this.fireCommandAsync(this,new se.RefreshCommand)}))}openRow(C){return z(this,void 0,void 0,(function*(){let I=yield this.getRow(C);if(ie.Convert.isNull(I)||I.isOpen)return!1;let B=yield this.openRowItem(I);return this.fireCommandAsync(this,new se.RowChangeCommand(!0)),this.fireCommandAsync(this,new se.RefreshCommand({rowStart:C,rowEnd:!0===B?void 0:C})),B}))}get openRowItemLock(){var C;return null!==(C=this._openRowItemLock)&&void 0!==C?C:this._openRowItemLock=new ie.Lock}openRowItem(C){return z(this,void 0,void 0,(function*(){try{if(yield this.openRowItemLock.acquire(),ie.Convert.isNull(C)||C.isOpen)return!1;if(C.node instanceof ne.ParentNode==0)return!1;if(0==C.isParentsOpen)return!1;let I=C.node;if(ie.Convert.isNull(I))return!1;C.rowIndex;if(C.isOpen=!0,C.openCount>C.stickyRows.length)return;let B=this.openCount,z=yield this.getOpenCount(C);if(0==z)return I.isLeaf=!0,C.isOpen=!1,I.nodeCount=0,!1;if(C.openCount==z)return!1;const q=C.openCount;C.openCount=z,B+=z-q,this.openCount=B;let Q=this.rows.splice(C.rowIndex+1);for(let I in Q){let B=Q[I];ie.Convert.isNull(B)||0<q&&ie.Convert.asInt(I)<q||(B.rowIndex+=z-q,B.rowNo+=z-q-(C.visible?0:1),this.rows[B.rowIndex]=B)}return yield this.getRow(C.rowIndex+1,!1),ie.Convert.isValue(C.items)&&this.setOpenRowItem(C.rowIndex,C.items),this.calcRowNo(),!0}finally{yield this.openRowItemLock.release()}}))}setOpenRowItem(C,I){for(let B=0,z=I.length;B<z&&(C++,!ie.Convert.isValue(this.rows[C]));B++){const z=I[B];this.rows[C]=z,z.rowIndex=C,z.isOpen&&ie.Convert.isValue(z.items)&&(C=this.setOpenRowItem(C,z.items))}return C}get pageOnly(){return this.scrollPage}getOpenNodeCount(C){var I;if(ie.Convert.isEmpty(C))return 0;if(0==C.isOpen)return 0;let B=ie.Convert.isNull(C.nodes)?0:(null===(I=C.nodes)||void 0===I?void 0:I.length)+(C.hasFooter?1:0);if(0==B)return B;for(const I of C.nodes)B+=this.getOpenNodeCount(I);return B}getOpenCount(C){return z(this,void 0,void 0,(function*(){if(C.node instanceof ne.ParentNode){let I=C.itemCount;if(ie.Convert.isNull(I)&&(yield this.dataSource.loader.getRows(C.node,0,!1,this.viewMode,this.scrollRange),I=C.itemCount),C.isOpen)for(const B of C.node.nodes)B instanceof ne.ParentNode&&(I+=this.getOpenNodeCount(B));return I}return 0}))}getOpenCount_old(C){return z(this,void 0,void 0,(function*(){if(C.node instanceof ne.ParentNode){let I=C.itemCount;ie.Convert.isNull(I)&&(yield this.dataSource.loader.getRows(C.node,0,!1,this.viewMode,this.scrollRange),I=C.itemCount);for(const B of C.items.keys()){const z=C.items[B];ie.Convert.isNull(z)||(I+=z.isOpen?yield this.getOpenCount(z):z.openCount)}return I}return 0}))}getOpenRows(C){return z(this,void 0,void 0,(function*(){C.rowIndex;const I=[];return C.node instanceof ne.ParentNode&&ie.Arrays.bfsAction(C.items,(C=>(I.push(C),C.isOpen?C.items:C.stickyRows))),I}))}closeRow(C){return z(this,void 0,void 0,(function*(){let I=yield this.getRow(C),B=yield this.closeRowItem(I);return this.fireCommandAsync(this,new se.RefreshCommand({rowStart:C})),B}))}closeRowItem(C){return z(this,void 0,void 0,(function*(){if(ie.Convert.isNull(C)||C.isClose)return!1;if(C.node instanceof ne.ParentNode==0)return!1;if(0==C.isParentsOpen)return!1;const I=C.rowIndex;let B=C.openCount;const z=C.stickyRows,q=z.length;if(C.isOpen=!1,C.openCount==q)return!1;C.openCount;C.openCount=q;this.rowCount;this.openCount-=B-q;let Q=this.rows.splice(C.rowIndex+1);const ee=I+B;GridView.insertStickyRows(this.rows,C,z,C.rowIndex+1);let te=I+q+1;for(let C in Q){let I=Q[C];if(ie.Convert.isNull(I))continue;if(I.rowIndex<=ee){I.isSticky;continue}const z=te+ie.Convert.asInt(C)-B;I.rowNo+=z-I.rowIndex,I.rowIndex=z,this.rows[I.rowIndex]=I}return this.calcRowNo(),this.fireCommandAsync(this,C.isOpen?new se.OpenCommand(C.rowIndex):new se.CloseCommand(C.rowIndex)),!0}))}loadRows(){return z(this,void 0,void 0,(function*(){oe.Log.time("loadRows");let C=0,I=yield this.getRow(C);for(;ie.Convert.isValue(I);)C++,I=yield this.getRow(C);oe.Log.debug((()=>"loadRows end")),this.fireCommandAsync(this,new se.RefreshCommand),oe.Log.timeEnd("loadRows")}))}static reorderRows(C,I,B,z,q,Q){if(ie.Convert.isNull(C)||0==C.length)return;if(C.length<B)return C.splice(0),0;oe.Log.debug((()=>["reorderRows",[].concat(C)]));const ee=C.filter((C=>ie.Convert.isValue(C)&&ie.Convert.isNull(C.parent)));oe.Log.time("reorderItems"),this.reorderItems(ee,ee.length,z,q),oe.Log.timeEnd("reorderItems"),oe.Log.debug((()=>["sampLevelItems",ee]));let te=-1;C.splice(0);return oe.Log.time("reorderRows"),ie.Arrays.dfsAction(ee,(function reorderRowsTree(I){if(te++,ie.Convert.isNull(I))return C[te]=void 0,[];if(I.rowIndex=te,C[te]=I,I.level==I.node.level&&I.isOpen&&I.itemCount==I.items.length&&I.isParentsOpen)return I.items;if(I.isClose){const B=I.stickyRows;return B.length>0&&(oe.Log.debug((()=>["insertStickyRows",B])),GridView.insertStickyRows(C,I,B,te+1),te+=B.length),[]}return I.items.splice(0),I.internalOpenCount=0,[]})),oe.Log.debug((()=>["reorderRows.after",[].concat(C)])),oe.Log.timeEnd("reorderRows"),Q?this.calcOpenCount(ee)-ee.length:0}static calcOpenCount(C){let I=C.length;for(const B of C)if(!ie.Convert.isNull(B))if(B.isClose){const C=B.stickyRows.length;B.internalOpenCount=C,I+=C}else B.internalOpenCount=this.calcOpenCount(B.items),I+=B.openCount;return I}static reorderItems(C,I,B,z){if(ie.Convert.isNull(C)||0==C.length)return;if(C.length<I)return void C.splice(0);const q={field:"__originIndex__",dir:ue.SortDir.Asc};z=[].concat(z).concat(q),C.sort(((C,I)=>C.node.index-I.node.index));for(const I in C){const q=C[I];ie.Convert.isNull(q)||ie.Convert.isEmpty(q.items)||this.reorderItems(q.items,q.itemCount,B,z)}}static getNode(C){return C.node instanceof ne.FooterNode?C.node.parent:C.node}static getParentNodes(C){const I=[C];let B=C.parent;for(;ie.Convert.isValue(B);)I.push(B),B=B.parent;return I}calcFields(C,I=!1){if(!ie.Convert.isNull(C)&&0!=C.calcFields)for(const B of this.dataConfig.calculations){const z=null==B?void 0:B.field,q=null==B?void 0:B.eval;if(ie.Convert.isEmpty(z)||ie.Convert.isNull(q))continue;if(0==I&&C.calc.hasOwnProperty(z))continue;const Q=le.Aggregate.calcFields(B,C.data);C.data[z]!==Q&&C.setValue(Q,z),C.calc[z]=Q}}calcRows(){return z(this,void 0,void 0,(function*(){this.updateIndex>0||(this.dataSource.loader.calcAggregates(),this.calcRowNo())}))}calcRowNo(){var C,I,B;if(this.config.reverseRowNo)return void this.calcReverseRowNo();let z,q=0,ee=this.isPaging&&0==this.scrollWhole&&this.listMode?null===(I=null===(C=this.dataSource.getPageMap())||void 0===C?void 0:C.pageToFromTo(this.pageNo,Q.ViewMode.Page,this.scrollRange))||void 0===I?void 0:I.from:0;const te=this.scrollPage?this.rows.length:this.rowCount;for(;q<te;)z=this.rows[q],ie.Convert.isValue(z)&&(z.rowIndex=q),(null===(B=null==z?void 0:z.visible)||void 0===B||B)&&this.rowVisible(z)&&(ie.Convert.isValue(z)&&(z.rowNo=ee),ee++),q++;this._visibleCount=ee}calcReverseRowNo(){var C,I,B,z,q,ee;let te,re=0;const ne=this.scrollPage?this.rows.length:this.rowCount;let se=(this.isPaging&&0==this.scrollWhole&&this.listMode?this.adjustedTotal-(null===(I=null===(C=this.dataSource.getPageMap())||void 0===C?void 0:C.pageToFromTo(this.pageNo,Q.ViewMode.Page,this.scrollRange))||void 0===I?void 0:I.from):ne)-1;const oe=null!==(q=null===(z=null===(B=this.rows)||void 0===B?void 0:B.filter((C=>{var I;return 0==(null===(I=C.visible)||void 0===I||I)||0==this.rowVisible(C)})))||void 0===z?void 0:z.length)&&void 0!==q?q:0;se-=oe;let ae=0;for(;re<ne;)te=this.rows[re],ie.Convert.isValue(te)&&(te.rowIndex=re),(null===(ee=null==te?void 0:te.visible)||void 0===ee||ee)&&this.rowVisible(te)&&(ie.Convert.isValue(te)&&(te.rowNo=se),se--,ae++),re++;this._visibleCount=ae}getValue(C,I=void 0){var B;return null===(B=this.rows[C])||void 0===B?void 0:B.getValue(I)}_setValue({key:C,value:I,field:B}){var z;const q=this.dataSource.keyMap.get(C);if(ie.Convert.isNull(q))return;ie.Convert.isEmpty(B)&&(I=ie.Convert.mergeData(I,q.data));const Q=this.sameValue({key:C,value:I,field:B})?void 0:{key:C,undoValue:q.getValue(B),redoValue:I,field:B};if(ie.Convert.isValue(Q)){const Q=this.map(C);(null!==(z=null==Q?void 0:Q.setValue(I,B))&&void 0!==z&&z||q.setValue(I,B))&&this.calcFields(q,!0)}return Q}sameValue(C){var I;const B=null===(I=this.map(C.key))||void 0===I?void 0:I.getValue(C.field);if(ie.Convert.isValue(C.field))return B==C.value;const z=new Set;for(const C in B)z.add(C);for(const I in C.value)z.add(I);for(const I of z.values())if(B[I]!=C.value[I])return!1;return!0}setValue(C){const I=this._setValue(C);return ie.Convert.isValue(I)&&this.calcRows(),I}setValues(C){if(ie.Convert.isEmpty(C))return[];const I=[];for(const B in C){const z=C[B],q=this._setValue(z);ie.Convert.isValue(q)&&I.push(q)}return ie.Convert.isValue(I)&&this.calcRows(),I}insertValues(C,I,B=!1){return z(this,void 0,void 0,(function*(){if(ie.Convert.isEmpty(I))return[];const z=[];this.beginUpdate();for(const Q in I){const ee=I[Q],te=ie.Convert.isValue(C)?q.InsertTo.Child:q.InsertTo.Last,re=yield this.insertRowItem(C,ee.key,ee.value,te,B);B?z.push({key:ee.key,value:ee.value}):z.push({key:re.key,value:re.box})}return this.endUpdate(),z}))}get updateIndex(){return this._updateIndex}beginUpdate(){this._updateIndex++,this.dataSource.beginUpdate()}endUpdate(){this._updateIndex--,this._updateIndex<0&&(this._updateIndex=0),this.dataSource.endUpdate(),this._updateIndex>0||this.calcRows()}insertToRowItem(C,I){switch(C){case q.InsertTo.Before:this.rows.splice(I.rowIndex,0,I),this.adjustRowIndex(I.rowIndex+1);break;case q.InsertTo.After:this.rows.splice(I.rowIndex+1,0,I),this.adjustRowIndex(I.rowIndex+1);break;case q.InsertTo.Last:this.rows[I.rowIndex]=I;break;case q.InsertTo.First:this.rows.splice(0,0,I),I.rowIndex=0,this.adjustRowIndex(1);break;case q.InsertTo.Child:this.rows.splice(I.rowIndex,0,I),this.adjustRowIndex(I.rowIndex+1)}}adjustRowIndex(C){let I;for(;ie.Convert.isValue(I=this.rows[C]);)I.rowIndex=C,C++}ensureRowData(C,I){var B,z;let q;return ie.Convert.isValue(I)?q=I.data:(null==C?void 0:C.node)instanceof ne.ParentNode?q=C.node.nodes[C.node.nodes.length-1]:null===(B=this.rows[this.rows.length-1])||void 0===B||B.data,q=ie.Convert.cloneData(q),(null===(z=this.dataConfig.schema)||void 0===z?void 0:z.add)&&(q=this.dataConfig.schema.add(q)),q}insertRowItem(C,I,B,Q,ee=!1){var te,re,se;return z(this,void 0,void 0,(function*(){if(ee)return yield this.removeRowItem(C,I,B,Q,!1);this.beginUpdate();try{let z=this.map(I),oe=ie.Convert.isEmpty(C)?null==z?void 0:z.parent:this.map(C);const ae=null!==(re=null===(te=null==oe?void 0:oe.node)||void 0===te?void 0:te.nodeCount)&&void 0!==re?re:this.rowCount;let le=(B=null!=B?B:this.ensureRowData(oe,z))instanceof ne.DataBox?B:yield this.dataSource.newBox(null!=B?B:null==z?void 0:z.data);const ue=yield this.dataSource.insertNode(null==oe?void 0:oe.node,null==z?void 0:z.node,le,this.pageNo,Q,ee);if(this.dataSource.loader.calcAggregates(),ie.Convert.isValue(z)&&(this.config.hideDeleted||this.dataSource.removeDeleted)&&(z.visible=!0),0==this.dataSource.insertMap.has(le.key)){const C=this.map(le.key);if(ie.Convert.isValue(C))return C.visible=!0,C}if(ie.Convert.isValue(oe)){if(oe.isClose)yield this.openRowItem(oe);else{const C=oe.openCount,I=yield this.getOpenCount(oe);if(oe.openCount=I,I>C){const B=[];for(let z=C;z<I;z++)B.push(void 0);this.rows.splice(oe.rowIndex,0,...B),oe=yield this.getRow(oe.rowIndex,!0)}}const C=oe.items.find((C=>C.key==ue.key));return this.adjustOpenCount(),C}{let C=null==z?void 0:z.rowIndex;switch(Q){case q.InsertTo.Before:C=null!=C?C:0;break;case q.InsertTo.After:C=ie.Convert.isNull(C)?0:C+(null!==(se=null==z?void 0:z.openCount)&&void 0!==se?se:0);break;case q.InsertTo.First:C=0;break;case q.InsertTo.Child:case q.InsertTo.Last:C=ae+(ie.Convert.isValue(oe)?oe.rowIndex+1:0)}let I=RowItem.create(this,oe,ue,C);return ie.Convert.isValue(oe)&&(oe.items.splice(ue.index,0,I),oe.openCount+=1),this.insertToRowItem(Q,I),I.resetLevel(),I.visible=!0,this.adjustOpenCount(),I}}finally{this.endUpdate()}}))}removeRowItem(C,I,B,q,Q=!1){var ee;return z(this,void 0,void 0,(function*(){if(Q)return yield this.insertRowItem(C,I,null!=B?B:null===(ee=this.map(I))||void 0===ee?void 0:ee.box,q,!1);if(this.dataSource.deleteMap.has(I))return;const z=this.map(I),te=ie.Convert.isEmpty(C)?null==z?void 0:z.parent:this.map(C);if(ie.Convert.isNull(z)&&ie.Convert.isNull(te))return;this.editKeyMap.has(z.key)&&this.editKeyMap.delete(z.key);let re=null!=B?B:null==z?void 0:z.box;if(re instanceof ne.DataBox==0)return;this.beginUpdate();const se=z.rowIndex,oe=this.dataSource.getPageNo(re);yield this.dataSource.removeNode(null==te?void 0:te.node,z.node,re,oe,q,Q);if(this.config.hideDeleted&&(z.visible=!1),0==this.dataSource.removeDeleted&&this.dataSource.deleteMap.has(I)){const C=this.rows[se+1];return this.endUpdate(),C}if(this.keyMap.delete(I),this.rows.splice(se,1),ie.Convert.isValue(z.parent)){const C=z.parent.items.findIndex((C=>C.key==z.key));C>=0&&z.parent.items.splice(C,1),z.parent.openCount--}return this.isStickyModified(I)&&(z.isSticky=!1),this.endUpdate(),this.rows[se]}))}getGroupByField(C,I=!0){return z(this,void 0,void 0,(function*(){return yield this.dataSource.getGroupByField(C,I)}))}moveToRow(C,I,B){return z(this,void 0,void 0,(function*(){if(C.rowIndex==I.rowIndex+(B?0:1))return;this.topRow;this.rows.splice(0),this.dataSource.moveToNode(C.node,I.node,B);this.fireCommandAsync(this,new se.RowChangeCommand),yield this.ensureRows(!0)}))}getGroupColumn(C){const I=this.config.columns instanceof Array?this.config.columns:[this.config.columns];return ie.Arrays.bfsSearch(I,(I=>I.field==C||I.columns))}}I.GridView=GridView;class RowItem{constructor(C,I,B,z){if(this._openCount=0,this.toString=()=>this.constructor.name+": "+(this.node instanceof ne.GroupNode?this.node.data:this.node instanceof ne.FooterNode?this.node.data.data:this.node.data),this._view=C,this._parent=I,this._node=B,this.rowIndex=z,this.isDetail=C.config.detailAutoOpen,ie.Convert.isEmpty(B.key))throw"key is empty";C.map(B.key,this),ie.Convert.isValue(I)&&ie.Convert.isValue(B)&&(I.items[B.index]=this)}static create(C,I,B,z){var q,Q;let ee=new RowItem(C,I,B,z);if(B instanceof ne.GroupNode){const I=B.igroup.field,z=C.getGroupColumn(I),te=null===(Q=null===(q=null==z?void 0:z.groupTitle)||void 0===q?void 0:q.visible)||void 0===Q||Q;ee.visible=te}return C.config.hideDeleted&&C.dataSource.deleteMap.has(B.key)&&(ee.visible=!1),ee}get view(){return this._view}get status(){return this.view.dataSource.getStatus(this.node.box)}get isSelect(){var C;return null===(C=this._view)||void 0===C?void 0:C.isSelectRow(this.key)}set isSelect(C){var I;null===(I=this._view)||void 0===I||I.isSelectRow(this.key,C)}get isOpen(){var C;return this.node instanceof ne.ParentNode&&(null!==(C=this._isOpen)&&void 0!==C?C:this._isOpen=!1)}set isOpen(C){this._isOpen!=C&&(this._isOpen=C,this.node instanceof ne.ParentNode&&(this.node.isOpen=C))}get isParentsOpen(){let C=!0,I=this.parent;for(;C&&ie.Convert.isValue(I);)C=I.isOpen,I=I.parent;return C}get detailContext(){return this.view.detailContext(this.key)}set detailContext(C){this.view.detailContext(this.key,C,!0)}get detailTemplate(){return this.view.detailTemplate(this.key)}set detailTemplate(C){this.view.detailTemplate(this.key,C,!0)}get detailInit(){return this.view.detailInit(this.key)}set detailInit(C){this.view.detailInit(this.key,C,!0)}get isClose(){return!this.isOpen}get isEdit(){return this.view.isEdit(this)}set isEdit(C){this.view.isEdit(this,C)}get isDetail(){var C;return null!==(C=this._isDetail)&&void 0!==C?C:this._isDetail=!1}set isDetail(C){this._isDetail=C}get box(){return this.node.box}get data(){var C;return null===(C=this.node)||void 0===C?void 0:C.data}get originData(){var C;return null===(C=this.node)||void 0===C?void 0:C.originData}get calc(){var C;return null===(C=this.node)||void 0===C?void 0:C.calc}get node(){return this._node}get temp(){var C;return this.isEdit?null===(C=this.view.editKeyMap.get(this.key))||void 0===C?void 0:C.data:void 0}get columnTemps(){var C,I;return this.isEdit?null!==(I=null===(C=this.view.editKeyMap.get(this.key))||void 0===C?void 0:C.columnTemp)&&void 0!==I?I:this.view.editKeyMap.get(this.key).columnTemp={}:void 0}get visible(){return this.view.isVisible(this)}set visible(C){this.view.isVisible(this,C)}get rowIndex(){return this._rowIndex}set rowIndex(C){this._rowIndex=C}get rowNo(){var C;return null!==(C=this._rowNo)&&void 0!==C?C:this._rowIndex}set rowNo(C){this._rowNo=C}get index(){var C;return null===(C=this.node)||void 0===C?void 0:C.index}get key(){var C;return null===(C=this.node)||void 0===C?void 0:C.key}get itemCount(){const C=this.node;return C instanceof ne.ParentNode&&ie.Convert.isValue(C.nodeCount)?C.nodeCount+(C.nodeCount>0&&C.hasFooter?1:0):void 0}get openCount(){var C;return null!==(C=this._openCount)&&void 0!==C?C:this._openCount=0}set openCount(C){var I,B;if(this._openCount==C)return;let z=this.parent;if(this._openCount=C,ie.Convert.isValue(z)){if(z.isClose)return void(z.openCount=z.stickyRows.length);let C=null!==(I=z.itemCount)&&void 0!==I?I:0;for(const I in z.items){const q=z.items[I];C+=null!==(B=null==q?void 0:q.openCount)&&void 0!==B?B:0}z.openCount=C}}get internalOpenCount(){return this._openCount}set internalOpenCount(C){this._openCount=C}get parent(){return this._parent}set parent(C){var I;if(this._parent!=C){if(this===C)throw"parent is this";this._level=(null!==(I=null==C?void 0:C.level)&&void 0!==I?I:-1)+1,this._parent=C}}get items(){var C;return null!==(C=this._items)&&void 0!==C?C:this._items=[]}get level(){var C,I,B;return null!==(C=this._level)&&void 0!==C?C:this._level=(null!==(B=null===(I=this.parent)||void 0===I?void 0:I.level)&&void 0!==B?B:-1)+1}get rowHeights(){return this.view.getRowHeights(this.key)}get rowHeight(){var C,I;return null!==(I=null===(C=this.view.getRowHeights(this.key))||void 0===C?void 0:C.height)&&void 0!==I?I:0}get detailHeight(){var C;return this.isDetail?null===(C=this.view.getRowHeights(this.key))||void 0===C?void 0:C.detail:0}get height(){var C,I;const B=this.view.getRowHeights(this.key);return(null!==(C=null==B?void 0:B.height)&&void 0!==C?C:0)+(this.isDetail&&null!==(I=null==B?void 0:B.detail)&&void 0!==I?I:0)}get reorderable(){return 0==(this.node instanceof ne.GroupNode||this.node instanceof ne.FooterNode)}resetLevel(){this._level=void 0}isDroppable(C){let I=ie.Convert.isValue(C)&&C.node instanceof ne.FooterNode==0;if(I&&C.node instanceof ne.ParentNode){const B=this.node;let z=C.node;for(;ie.Convert.isValue(z=z.parent);)if(z==B){I=!1;break}if(I&&C.node instanceof ne.GroupNode){const B=[].concat(this.view.dataConfig.groups).reverse()[0];I=C.node.igroup.field==B.field}}return I}setHeight(C,I){var B;let z=!1,q=!1;const Q=null!==(B=this.view.getRowHeights(this.key))&&void 0!==B?B:{height:void 0,detail:void 0,total:void 0,rowFix:!1,detailFix:!1,rendered:!1};return ie.Convert.isValue(C)&&(z=Q.height!=C,z&&(Q.height=C)),ie.Convert.isValue(I)&&(q=Q.detail!=I,q&&(Q.detail=I)),this.view.setRowHeights(this.key,Q),z||q}setRowHeights(C){this.view.setRowHeights(this.key,C)}get isSticky(){return this.view.isStickyRow(this.key)||this.view.stickyUpdate&&this.view.dataSource.isUpdated(this.key)||this.view.stickyInsert&&this.view.dataSource.isInserted(this.key)||this.view.stickyDelete&&this.view.dataSource.isDeleted(this.key)}set isSticky(C){1==C?this._view.addStickyRow(this):this._view.removeStickyRow(this)}get isCheck(){var C;return null===(C=this._view)||void 0===C?void 0:C.isCheckRow(this.key)}set check(C){var I;null===(I=this._view)||void 0===I||I.isCheckRow(this.key,C)}get isRadio(){var C;return null===(C=this._view)||void 0===C?void 0:C.isRadioRow(this.key)}set isRadio(C){var I;null===(I=this._view)||void 0===I||I.isRadioRow(this.key,C)}getValue(C=void 0){return this.box.getValue(C)}setValue(C,I=void 0){if(this.view.editKeyMap.has(this.key)){const B=this.view.editKeyMap.get(this.key),z=null==B?void 0:B.data;if(ie.Convert.isEmpty(I))for(const I in null!=C?C:{})z[I]=C[I];else z[I]=C}return this.node.box.setValue(C,I)}get stickyRows(){var C;const I=null!==(C=this._view.stickyRowsMap.get(this.key))&&void 0!==C?C:[];for(const C of[].concat(I)){if(this._view.stickyKeys.has(C.key))continue;const B=I.findIndex((I=>I==C));B>=0&&I.splice(B,1)}return le.Sorting.sort(I,ue.SortDir.Asc,(C=>C.node.treeIndex)),I}get cssClass(){var C;return null!==(C=this._cssClass)&&void 0!==C?C:this._cssClass=[]}setTemp(C,I){0!=this.isEdit&&(this.temp[C]=I)}get loading(){return this.view.isLoading(this.key)}set loading(C){this.view.isLoading(this.key,C)}get isLeaf(){var C;return this.node instanceof ne.TreeNode?null===(C=this.node)||void 0===C?void 0:C.isLeaf:this.node instanceof ne.GroupItem}get isFocus(){var C;return null!==(C=this._isFocus)&&void 0!==C?C:this._isFocus=!1}set isFocus(C){this._isFocus=C}}I.RowItem=RowItem,RowItem._gIndex=0},636:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.PagerCommon=void 0;const q=B(7392),Q=B(3119),ee=B(1163);I.PagerCommon=class PagerCommon{constructor(C){this.grid=C}getLastPage(){return z(this,void 0,void 0,(function*(){let C=Math.ceil(this.total/this.pageSize);return this.grid.scrollWhole?yield this.adjustLastPage(C):C}))}adjustLastPage(C){return z(this,void 0,void 0,(function*(){(ee.Convert.isNull(this._maxTopRow)||this._maxTopRow!==this.grid.maxTopRow)&&(this._maxTopRow=yield this.grid.getMaxTopRow());return this.total-this._maxTopRow>this.pageSize?Math.ceil(this._maxTopRow/this.pageSize)+1:C}))}getCurrentPage(){return z(this,void 0,void 0,(function*(){if(0==this.grid.isPaging)return 1;const C=this.grid.pagerMode==Q.PagerMode.Page?this.grid.view.pageNo+1:Math.ceil((this.grid.view.topRow+1)/this.grid.pageSize),I=yield this.getLastPage();return this.grid.scrollRange==q.ScrollRange.Whole&&this.grid.topRow>=this._maxTopRow?I:C}))}get total(){const C=this.grid,I=C.scrollWhole?C.visibleCount:C.isPaging?C.total:C.visibleCount;return null!=I?I:1}get pageSize(){var C;const I=this.grid,B=I.isPaging?null!==(C=I.pageSize)&&void 0!==C?C:20:I.adjustedTotal;return null!=B?B:1}}},860:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.StatusPanelAlign=I.CaptionRender=I.PanelLayout=I.LayoutFlex=I.PanelFactory=I.getDefaultPanges=I.PanelType=void 0;const q=B(1163),Q=B(7721),ee=B(3568),te=B(1355),ie=B(3119),re=B(5177),ne=B(7078);var se;!function(C){C.Title="title",C.Tool="tool",C.Group="group",C.Pager="pager",C.Scroll="scroll",C.Hidden="hidden",C.Loading="loading",C.Status="status",C.Caption="caption",C.Filter="filter",C.Header="header",C.Body="body",C.Footer="footer"}(se||(I.PanelType=se={}));const oe=[se.Hidden,se.Title,se.Tool,se.Group,se.Scroll,se.Pager,se.Status,se.Loading];I.getDefaultPanges=function getDefaultPanges(){return oe};I.PanelFactory=class PanelFactory{static getDefaultPanels(){return oe}static create(C,I){switch(I){case se.Title:return new ee.TitlePanel(C);case se.Tool:return new ee.ToolPanel(C);case se.Group:return new ee.GroupPanel(C);case se.Scroll:return new te.ScrollPanel(C);case se.Pager:return new ee.PagerPanel(C);case se.Hidden:return new ee.HiddenPanel(C);case se.Status:return new ee.StatusPanel(C);case se.Filter:return new te.FilterPanel(C);case se.Loading:return new ee.LoadingPanel(C);default:return new ee.GridPanel(C,"")}}};class LayoutFlex{get grid(){return this._grid}get leftFlex(){var C,I,B,z;return q.Convert.isNull(this._leftFlex)&&(this._leftFlex={flexGrow:null===(C=this.config.leftFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(I=this.config.leftFlex)||void 0===I?void 0:I.flexShrink,align:null!==(z=null===(B=this.config.leftFlex)||void 0===B?void 0:B.align)&&void 0!==z?z:Q.TextAlign.Left}),this._leftFlex}get centerFlex(){var C,I,B,z;return q.Convert.isNull(this._centerFlex)&&(this._centerFlex={flexGrow:null===(C=this.config.centerFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(I=this.config.centerFlex)||void 0===I?void 0:I.flexShrink,align:null!==(z=null===(B=this.config.centerFlex)||void 0===B?void 0:B.align)&&void 0!==z?z:Q.TextAlign.Center}),this._centerFlex}get rightFlex(){var C,I,B,z;return q.Convert.isNull(this._rightFlex)&&(this._rightFlex={flexGrow:null===(C=this.config.rightFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(I=this.config.rightFlex)||void 0===I?void 0:I.flexShrink,align:null!==(z=null===(B=this.config.rightFlex)||void 0===B?void 0:B.align)&&void 0!==z?z:Q.TextAlign.Right}),this._rightFlex}get config(){var C;return null!==(C=this._config)&&void 0!==C?C:this._config={}}constructor(C,I){this._grid=C,this._config=I}}I.LayoutFlex=LayoutFlex;class PanelLayout extends LayoutFlex{constructor(C,I){super(C,I)}get left(){var C;return null!==(C=this._left)&&void 0!==C?C:this._left=PanelLayout.ensureTools(this.grid,this.config.left)}get center(){var C;return null!==(C=this._center)&&void 0!==C?C:this._center=PanelLayout.ensureTools(this.grid,this.config.center)}get right(){var C;return null!==(C=this._right)&&void 0!==C?C:this._right=PanelLayout.ensureTools(this.grid,this.config.right)}static ensureTools(C,I){const B=new Array;if(0==q.Convert.isNull(I))for(let z of I)"function"==typeof z?B.push(new ie.ToolCustom(C,z)):B.push(re.ToolFactory.create(C,z));return B}}I.PanelLayout=PanelLayout;I.CaptionRender=class CaptionRender extends LayoutFlex{constructor(C,I){super(C,I)}render(C,I){return z(this,void 0,void 0,(function*(){const B=new Set;yield this.renderToolAlign(C,this.config.left,this.config.leftFlex,"align-left",I,B),yield this.renderToolAlign(C,this.config.center,this.config.centerFlex,"align-center",I,B),yield this.renderToolAlign(C,this.config.right,this.config.rightFlex,"align-right",I,B),q.JqUtils.movetoTrash(this.grid.trashCan,C,B)}))}renderToolAlign(C,I,B,Q,ee,te){return z(this,void 0,void 0,(function*(){if(q.Convert.isEmpty(I))return void q.JqUtils.removeElement(C,`>div#${Q}`);let z=q.JqUtils.adjustElement(C,`>div#${Q}`,`<div id='${Q}' class='${ne.SbCss.tools} ${ne.SbCss.align} ${ne.SbCss.toClass(B.align)}'></div>`,void 0,te);if(q.Convert.isValue(B.flexGrow)||q.Convert.isValue(B.flexShrink)){const C=`${q.Convert.isValue(B.flexGrow)?"flex-grow: "+B.flexGrow+"; ":""} ${q.Convert.isValue(B.flexShrink)?"flex-shrink: "+B.flexShrink+"; ":""}`;q.JqUtils.changeAttr(z,"style",C)}const ie=new Set;for(const C of I.keys()){const B=I[C];ee(z,B,C,ie)}q.JqUtils.movetoTrash(this.grid.trashCan,z,ie)}))}};I.StatusPanelAlign=class StatusPanelAlign extends PanelLayout{constructor(C){super(C,void 0),this.__config=this.grid.config.statusBar}get left(){if(q.Convert.isNull(this._left)&&(this._left=new Array,0==q.Convert.isNull(this.__config.left)&&this.__config.left instanceof Array))for(let C of this.__config.left)"string"==typeof C?this._left.push(re.ToolFactory.create(this._grid,C)):this._left.push(new ie.ToolStatus(this._grid,C));return this._left}get center(){if(q.Convert.isNull(this._center)&&(this._center=new Array,0==q.Convert.isNull(this.__config.center)&&this.__config.center instanceof Array))for(let C of this.__config.center)"string"==typeof C?this._center.push(re.ToolFactory.create(this._grid,C)):this._center.push(new ie.ToolStatus(this._grid,C));return this._center}get right(){if(q.Convert.isNull(this._right)&&(this._right=new Array,0==q.Convert.isNull(this.__config.right)&&this.__config.right instanceof Array))for(let C of this.__config.right)"string"==typeof C?this._right.push(re.ToolFactory.create(this._grid,C)):this._right.push(new ie.ToolStatus(this._grid,C));return this._right}}},6409:function(C,I,B){"use strict";var z=B(4692),q=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.DataDraggableMode=I.DataDraggableSrcType=I.ColumnReorder=void 0;const Q=B(5774),ee=B(7721),te=B(8964),ie=B(5260),re=B(1163),ne=B(860),se=B(6312),oe=B(7078),ae=B(8788);var le,ue;I.ColumnReorder=class ColumnReorder{get grid(){return this._grid}get jqTargetCol(){return this._jqTargetCol}set jqTargetCol(C){this._jqTargetCol=C}get jqFromCol(){return this._jqFromCol}set jqFromCol(C){this._jqFromCol=C}get isBefore(){return this._isBefore}set isBefore(C){this._isBefore=C}constructor(C){this._grid=C}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.column}renderReorderIndicator(C){re.JqUtils.adjustElement(C,`>div.${oe.SbCss.reorder_indicator}.${oe.SbCss.col}`,`<div class='${oe.SbCss.reorder_indicator} ${oe.SbCss.col}'></div>`)}renderFrozenIndicator(C){const I=this.grid.container.offset(),B=re.JqUtils.adjustElement(C,`>div.${oe.SbCss.icon}.${oe.SbCss.reorder_head}`,`<div class='${oe.SbCss.icon} ${oe.SbCss.reorder_head}'></div>`);this.moveFrozenColumn(C,B,I);const z=re.JqUtils.adjustElement(C,`>div.${oe.SbCss.icon}.${oe.SbCss.reorder_tail}`,`<div class='${oe.SbCss.icon} ${oe.SbCss.reorder_tail}'></div>`);this.moveFrozenColumn(C,z,I)}addDroppableColumn(C){const I=this.grid.getColumn(C);re.Convert.isNull(I)||I.part===ee.PartType.Fixed||I instanceof te.GroupColumn||C.droppable({over:(C,I)=>{this.over(z(C.target))}})}over(C){const I=this.grid.getColumn(C);re.Convert.isNull(I)||I.part===ee.PartType.Fixed||I instanceof te.GroupColumn||(this.jqTargetCol=C)}drop(){if(re.Convert.isNull(this.jqFromCol)||re.Convert.isNull(this.jqTargetCol))return;const C=this.grid.getColumn(this.jqFromCol),I=this.grid.getColumn(this.jqTargetCol);this.moveColumn(this.getColumn(C),this.getColumn(I),this.isBefore,this.grid.captionLayout),this.clear()}getColumn(C){return this.isMulti(C)?C.parent:C}isOver(C,I,B){const z=C.left+C.width,q=C.top+C.height;return!(C.left<=I&&I<=z&&C.top<=B&&B<=q)}clear(){this.jqFromCol=void 0,this.jqTargetCol=void 0,this.isBefore=void 0}addDraggableColumn(C){const I=this.grid.getColumn(C);if(re.Convert.isNull(I)||I.part===ee.PartType.Fixed||I instanceof te.GroupColumn)return;const B=this.grid.container.find(`.${oe.SbCss.caption}.${oe.SbCss.panel}`),z=B.find(` .${oe.SbCss.reorder_indicator}.${oe.SbCss.col}`),q=this.grid.container.offset();null==C||C.draggable({start:(I,B)=>{let Q=I.pageX;this.dragStart(C,Q,z,q)},drag:(I,Q)=>{if(!re.Convert.isNull(this.jqTargetCol)&&!re.Convert.isNull(this.jqFromCol)&&this.jqTargetCol!=C)if(this.isOver({width:B.outerWidth(),height:B.outerHeight(),top:B.offset().top,left:B.offset().left},I.pageX,I.pageY))z.css("opacity","0");else{if(this.setMoveTopColTimer(Q.helper,B),!this.isDescendant())return this.excludeDroppable()?(this.jqTargetCol=void 0,void z.css("opacity","0")):void this.moveIndicator(this.jqTargetCol,I.pageX,z,q);this.jqTargetCol=void 0}},stop:(C,I)=>{this.isOver({width:B.outerWidth(),height:B.outerHeight(),top:B.offset().top,left:B.offset().left},C.pageX,C.pageY)||this.drop(),z.css("opacity","0"),clearInterval(this.moveTopColTimer)},helper:(I,z)=>{const q=re.JqUtils.adjustElement(B,`>span.${oe.SbCss.draggable_helper}.${oe.SbCss.col}`,`<span class='${oe.SbCss.draggable_helper} ${oe.SbCss.col}'>${null==C?void 0:C.text()}</span>`);return re.JqUtils.adjustElement(q,`>span.${oe.SbCss.icon}`,`<span class='${oe.SbCss.icon}'></span>`),q},cursorAt:{top:15,left:25},refreshPositions:!0,containment:this.grid.container})}isTopColumn(C,I){const B=this.grid.captionLayout;return!(re.Utils.findCellFromColumn(B,C).row>0)}isEdge(C,I,B){var z;const q=I.col+C;if(q<0||q>=B.length-1)return!0;const Q=B[q],ee=null==Q?void 0:Q.column;if(ee instanceof te.GroupColumn||ee instanceof ae.FrozenColumn)return!0;return!re.Convert.isValue(ee)||(null===(z=I.column)||void 0===z?void 0:z.parent)!=ee.parent}getRoot(C){let I=C;for(;null==I?void 0:I.parent;)I=I.parent;return I}isMulti(C){const I=this.getRoot(C);return(null==I?void 0:I.type)==Q.ColumnTypes.Multi||re.Convert.isValue(null==I?void 0:I.captions)}getTargetCol(C,I){return document.elementFromPoint(C,I).closest(`.${oe.SbCss.col}`)}setMoveTopColTimer(C,I){return q(this,void 0,void 0,(function*(){const B=yield this.isHoverFrozen(C,I);if(re.Convert.isNull(B))return re.Convert.isValue(this.moveTopColTimer)&&clearTimeout(this.moveTopColTimer),void(this.moveTopColTimer=void 0);re.Convert.isNull(this.moveTopColTimer)&&(B>0?this.initTailFrozenBefore():this.initHeadFrozenNext(),this.moveTopColTimer=setInterval((()=>{this.isHoverFrozen(C,I)&&this.changeTopCol(B)}),this.option.scrollInterval))}))}isHoverFrozen(C,I){const B=this.getEdgePosition(-1,I),z=this.getEdgePosition(1,I),q=C.offset().left,Q=q+C.outerWidth();let ee;return q<=B.position&&B.position<Q&&(ee=-1),q<=z.position&&z.position<Q&&(ee=1),ee}changeTopCol(C){return q(this,void 0,void 0,(function*(){const I=this.grid.topCol;if(1===C){const C=yield this.findBodyLast(I);(re.Convert.isNull(C)||(null==C?void 0:C.outOfView)>0)&&(this.grid.topCol+=1)}else if(-1===C){const C=yield this.findBodyFirst(I);re.Convert.isNull(C)&&(this.grid.topCol-=1)}}))}initHeadFrozenNext(){const C=this.grid.headColumns.at(-1);this.bodyFirstIndex=C.index+1}initTailFrozenBefore(){const C=this.grid.tailColumns[0];this.bodyLastIndex=C.index-1,this.initHeadFrozenNext();const I=this.grid.topCol;this.bodyFirstIndex>I&&(this.grid.topCol=this.bodyFirstIndex)}findBodyLast(C){return q(this,void 0,void 0,(function*(){return(yield this.grid.viewport.calcCols(C,!0,this.grid.captionLayout)).fullCells.find((C=>(null==C?void 0:C.column.index)==this.bodyLastIndex))}))}findBodyFirst(C){return q(this,void 0,void 0,(function*(){let I=(yield this.grid.viewport.calcCols(C,!0,this.grid.captionLayout)).fullCells.find((C=>(null==C?void 0:C.column.index)==this.bodyFirstIndex));return(null==I?void 0:I.part)===ee.PartType.Sticky&&(this.bodyFirstIndex+=1,I=yield this.findBodyFirst(C)),I}))}getTopCol(C,I,B){return q(this,void 0,void 0,(function*(){const z=yield this.grid.viewport.calcCols(C,!0);if(C<0||C>z.lastCol)return;const q=z.fullCells,Q=q.findIndex((C=>C.column.index===B)),te=q[Q];return re.Convert.isNull(te)?yield this.getTopCol(C+I,I,B):te.column.part===ee.PartType.Sticky?yield this.getTopCol(C,I,B-1):{nextTopCol:C,nextCell:te}}))}getEdgePosition(C,I){var B,z,q;let Q=(null===(B=this.grid.config.reorderable)||void 0===B?void 0:B.column)?this.grid.headColumns.at(-1):this.grid.fixedColumns.at(-1),ee=re.Utils.findCellFromColumn(this.grid.captionLayout,Q);return{position:C>0?(null==ee?void 0:ee.left)+(null===(z=I.offset())||void 0===z?void 0:z.left)+this.grid.viewportWidth:(null==ee?void 0:ee.left)+(null===(q=I.offset())||void 0===q?void 0:q.left),column:Q}}isDescendant(){const C=this.grid.getColumn(this.jqFromCol),I=this.grid.getColumn(this.jqTargetCol),B=re.Arrays.bfsSearch(null==C?void 0:C.columns,(C=>C==I||C.columns));return!!re.Convert.isValue(B)}dragStart(C,I,B,z){const q=this.grid.getColumn(C);this.excludeDraggable(q)?this.jqFromCol=void 0:this.jqFromCol=C}excludeDraggable(C){return!!re.Convert.isNull(C)||!(!this.isMulti(C)||this.isTopColumn(C))}excludeDroppable(){const C=this.grid.getColumn(this.jqTargetCol);if(this.excludeDraggable(C))return!0;const I=this.grid.getColumn(this.jqFromCol);return!(!this.isMulti(I)||this.isTopColumn(C))}moveFrozenColumn(C,I,B){const z=this.initFrozenIndicatorPosition(I,B);let Q,te;I.draggable({axis:"x",start:(C,B)=>{te=I.position(),re.Convert.isNull(Q)&&(Q=this.grid.container.find(`.${oe.SbCss.caption}.${oe.SbCss.panel} .${oe.SbCss.reorder_indicator}.${oe.SbCss.col}`)),Q.css("opacity","1")},drag:(C,z)=>{const q=z.offset;I.css({top:q.top-B.top,left:q.left-B.left});let ee=this.getJqColByIndicatorPosition(I);if((null==ee?void 0:ee.length)<=0&&(ee=this.getJqColByIndicatorPosition(I,!1)),(null==ee?void 0:ee.length)<=0)return;let te=C.pageX;this.moveIndicator(ee,te,Q,B)},stop:(C,B)=>q(this,void 0,void 0,(function*(){let C=this.getJqColByIndicatorPosition(I);if(C.length<=0&&(C=this.getJqColByIndicatorPosition(I,!1)),C.length<=0)return void I.css({left:te.left,top:te.top});if(C.length<=0)return void ie.Log.debug((()=>["Can not find JqCol ",I[0].getBoundingClientRect()]));let B=this.grid.getColumn(C);for(;null==B?void 0:B.parent;)B=B.parent;(I.hasClass(oe.SbCss.reorder_head)&&B.part===ee.PartType.Tail||I.hasClass(oe.SbCss.reorder_tail)&&B.part===ee.PartType.Head)&&(B=I.hasClass(oe.SbCss.reorder_head)?this.grid.viewportColumns[this.grid.viewportColumns.length-1]:this.grid.viewportColumns.length>0?this.grid.viewportColumns[0]:this.grid.headColumns[this.grid.headColumns.length-1]),re.Convert.isNull(B)?I.css({left:te.left,top:te.top}):(yield this.moveColumn(z,B,this.isBefore,this.grid.captionLayout),Q.css("opacity","0"),this.clear())})),helper:(I,B)=>{const z=re.JqUtils.adjustElement(C,`>span.${oe.SbCss.reorder_helper}`,`<span class='${oe.SbCss.reorder_helper}'></span>`),q=this.grid.container.find(`.${oe.SbCss.scroll_body}`);return z.height(q.height()),z}})}initFrozenIndicatorPosition(C,I){let B;if(C.hasClass(oe.SbCss.reorder_head)){const C=this.grid.headColumns;B=C[C.length-1]}else if(C.hasClass(oe.SbCss.reorder_tail)){B=this.grid.tailColumns[0]}const z=this.grid.getContainer(void 0,B,ne.PanelType.Caption);return re.Convert.isValue(z)&&this.moveIndicator(z,z.offset().left,C,I,!1),B}getJqColByIndicatorPosition(C,I=!0){const B=C[0].getBoundingClientRect(),z=document.elementFromPoint(B.x+(I?-5:B.width+5),B.y+B.height+20);return se.SBGrid3.$(z).closest(`.${oe.SbCss.col}`)}moveIndicator(C,I,B,z,q=!0){let Q=C.offset();if(re.Convert.isNull(Q))return;let ee=Q.left-1.5-1,te=C.outerWidth(),ie=ee+te/2,ne=Q.top,se=I<ie;se||(ee+=te+1);const oe=this.grid.getColumn(C);B.css("opacity",1),B.css({left:ee-z.left,top:ne-z.top}),this.isBefore=se;const ae=this.getHight(oe);q&&B.css("height",ae)}getHight(C){var I;const B=re.Utils.findCellFromColumn(this.grid.captionLayout,C);if(re.Convert.isNull(B))return;let z=this.getCellHeights(this.grid.captionHeight,B);if(re.Convert.isValue(C.columns)){const q=this.grid.captionLayout.rows;for(let Q=B.row+1;Q<q.length;Q++){const ee=q[Q].cells[B.col];(null===(I=null==ee?void 0:ee.column)||void 0===I?void 0:I.parent)==C&&(z+=this.getHight(ee.column))}}return z}getCellHeights(C,I){var B;let z=0;for(let q=I.row,Q=I.row+I.rowSpan;q<Q;q++)z+=null!==(B=C[q])&&void 0!==B?B:C[0];return z}moveColumn(C,I,B,z){var ee;return q(this,void 0,void 0,(function*(){(null===(ee=null==C?void 0:C.config)||void 0===ee?void 0:ee.type)==Q.ColumnTypes.Frozen&&re.Convert.isValue(null==I?void 0:I.parent)||(ie.Log.debug((()=>[C.config.caption,"-----\x3e",I.config.caption,B?"앞":"뒤"])),yield this.grid.moveToColumn(C,I,B))}))}static cancelDrag(C){const I=C.find(`>span.${oe.SbCss.draggable_helper}`);I.length<1||I.remove()}initReorderIndicator(){const C=se.SBGrid3.$(`div.${oe.SbCss.panel}.${oe.SbCss.caption}`,this.grid.container);C.length<=0||(this.grid.config.reorderable.column&&this.renderReorderIndicator(C),this.grid.config.freezable&&this.renderFrozenIndicator(C))}},function(C){C.row="row",C.cell="cell",C.all="all"}(le||(I.DataDraggableSrcType=le={})),function(C){C.copy="copy",C.move="move"}(ue||(I.DataDraggableMode=ue={}))},2135:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.RowTemplate=I.RowCustom=I.RowButton=I.RowTool=I.RowCommandFactory=I.RowCommands=void 0;const q=B(273),Q=B(5369),ee=B(5165),te=B(1163),ie=B(6258),re=B(7078),ne=B(860);var se;!function(C){C.Edit="edit",C.Delete="delete",C.Update="update",C.Insert="insert",C.Append="append",C.Cancel="cancel",C.Custom="custom",C.Template="template"}(se||(I.RowCommands=se={}));class RowCommandFactory{static create(C,I,B,z){switch(C){case se.Edit:return new ee.EditCommand(ie.EditMode.inline,I,B);case se.Delete:return new Q.DeleteCommand([{key:I.key}]);case se.Update:return RowCommandFactory.UpdateCommand(I,B.grid);case se.Insert:return new ee.InsertRowCommand(I.key,z);case se.Append:return new ee.AppendRowCommand(I.key,z);case se.Cancel:return new Q.CancelCommand}}static UpdateCommand(C,I){const B=C.temp,z=Object.keys(B),q=z.map((z=>(z=>te.Convert.isValue(I.columnsMap.get(z))?{field:z,value:B[z],key:C.key}:void 0)(z))).filter((C=>te.Convert.isValue(C)));return new Q.UpdateCommand(q)}static createTool(C,I){if("function"==typeof I)return new RowCustom(C,I);switch(I){case se.Edit:case se.Delete:case se.Update:case se.Insert:case se.Append:case se.Cancel:return new RowButton(C,I);default:return new RowTemplate(C,I)}}static label(C,I){switch(C){case se.Edit:return I.tool_edit;case se.Delete:return I.tool_deleteRow;case se.Update:return I.tool_update;case se.Insert:return I.tool_insertRow;case se.Append:return I.tool_appendRow;case se.Cancel:return I.tool_cancel;default:return C}}}I.RowCommandFactory=RowCommandFactory;class RowTool extends q.Observer{get command(){return this._command}get clazz(){return this._command}get grid(){return this._grid}get resourceManager(){return this.grid.dataSource.resourceManager}constructor(C,I){super(C),this._command=I,this._grid=C}makeButton(C){return te.JqUtils.adjustElement(C,`>input[type='button'].${re.SbCss.toClass("command",this.command)}`,`<input type='button' class='${re.SbCss.toClass("command",this.clazz)}'>`)}render(C,I,B){return z(this,void 0,void 0,(function*(){this.makeButton(C).val(RowCommandFactory.label(this.command,this.resourceManager.resource))}))}}I.RowTool=RowTool;class RowButton extends RowTool{render(C,I,B){return z(this,void 0,void 0,(function*(){const z=this.makeButton(C);z.val(RowCommandFactory.label(this.command,this.resourceManager.resource)),this.addEventListener(z,I,B)}))}addEventListener(C,I,B){this.grid.setEvent("RowButtonMousedown","mousedown",`${this._name}_${I.rowIndex}`,(C=>{var z;const q=null!==(z=I.temp)&&void 0!==z?z:I.data,Q=te.Convert.cloneData(q);switch(this.grid.focusManager.moveFocus({rowItem:I,column:B,panelType:ne.PanelType.Body}),this.command){case se.Update:case se.Edit:case se.Delete:case se.Insert:case se.Append:case se.Cancel:this.fireCommandAsync(this,RowCommandFactory.create(this.command,I,B,Q))}return this.command===se.Update&&this.grid.view.clearEdit(),!1}),C),this.grid.setEvent("RowButtonDblclick","dblclick",`${this._name}_${I.rowIndex}`,(()=>!1),C),this.grid.setEvent("RowButtonMouseup","mouseup",`${this._name}_${I.rowIndex}`,(()=>!1),C)}}I.RowButton=RowButton;class RowCustom extends RowTool{constructor(C,I){super(C,se.Custom),this._rowFunc=I}render(C,I,B){return z(this,void 0,void 0,(function*(){C.empty(),this._rowFunc(C.get(0),I,B)}))}}I.RowCustom=RowCustom;class RowTemplate extends RowTool{constructor(C,I){super(C,se.Custom),this._template=te.Utils.createTemplate(I)}render(C,I,B){return z(this,void 0,void 0,(function*(){C.empty();const B=this._template(I);te.JqUtils.adjustHtml(C,B)}))}}I.RowTemplate=RowTemplate},6312:function(C,I,B){"use strict";var z,q=B(4692),Q=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.SBGrid3=void 0,B(4692),B(4910),B(7596),B(2108),B(1660),B(4199),B(1163),B(7078),B(2208),B(6938),B(3568),B(9797),B(1415),B(6409),B(6258),B(2562),B(7763),B(503),B(860),B(5565),B(1415),B(1355),B(3419),B(7443),B(121),B(2224),B(9823),B(2135),B(273),B(4407),B(7359),B(3746),B(913),B(2663),B(5369),B(5165),B(5369),B(5165),B(373),B(3354),B(413),B(194),B(2288),B(9299),B(512),B(7392),B(6105),B(5060),B(2351),B(6140),B(103),B(8964),B(8788),B(7721),B(2987),B(1009),B(5615),B(5774),B(6923),B(2154),B(3960),B(1095),B(1977),B(289),B(3849),B(150),B(2875),B(4732),B(4012),B(9996),B(6265),B(6700),B(5260),B(1163),B(5177),B(3119),B(5882),B(3580),B(4367),B(6936),B(6252),B(247),B(2948);const ee=B(2208),te=B(1163),ie=B(9797),re=B(6258),ne=B(7763),se=B(5260),oe=B(5369),ae=B(7359),le=B(6936),ue=B(3580),de=B(5165),ce=B(3419),he=B(860),fe=B(4507),pe=B(7152),me=B(7721),ge=B(2987),ve=B(5774),ye=B(8956),be=B(3354),Ce=B(6252);class SBGrid3{static get version(){return this._version}static get trialKey(){var C;if(!te.Convert.isEmpty(this._trialKey)||"test"===SBGrid3.version||!(null===(C=SBGrid3.version)||void 0===C?void 0:C.includes(".PRODUCTION")))return this._trialKey}static get default(){return this._default}static set default(C){this.setDefaultConfig(C)}static setDefaultConfig(C){this._default=re.GridParser.parseDefaultConfig(C)}static renderPages(C){try{const I=SBGrid3.$("<div role='row'/>");for(const C of this.pages.sort()){const B=C.replace(".html","").replace("./",""),z=`<span class='badge'><a href='./${C}' target='${B}'>${B}</a> </span>&nbsp;`;I.append(z)}C.before(I)}catch(C){}}static get Handlebars(){return ce.Handlebars}static createGrid(C){if(this.checkLicense(C)){const I=new ee.Grid(C);return I.refresh(),I}}static getGrid(C){return SBGrid3.$(C).data("grid")}static toggleRow(C,I){return Q(this,void 0,void 0,(function*(){if(te.Convert.isNull(C))throw"grid is null";return yield C.toggleRow(I)}))}static expandAllTree(C,I=!1,B){return Q(this,void 0,void 0,(function*(){if(te.Convert.isNull(C))throw"grid is null";yield C.expandAllTree(I,B)}))}static collapseTree(C,I=!1,B){return Q(this,void 0,void 0,(function*(){if(te.Convert.isNull(C))throw"grid is null";yield C.collapseAllTree(I,B)}))}static getRow_Index(C,I){return Q(this,void 0,void 0,(function*(){return yield C.view.getRow(I)}))}static getRowKey(C,I){var B;return Q(this,void 0,void 0,(function*(){return null===(B=yield this.getRow_Index(C,I))||void 0===B?void 0:B.key}))}static getRow(C,I){return C.view.map(I)}static getRowByIndex(C,I){return C.rows[I]}static getRowData(C,I){return this.getRow(C,I).data}static getFocused(C){return C.focusManager.focus}static getFocusedColumn(C){var I;return null===(I=this.getFocused(C))||void 0===I?void 0:I.column}static getFocusedRow(C){var I;return null===(I=this.getFocused(C))||void 0===I?void 0:I.rowItem}static getFocusedKey(C){var I,B;return null===(B=null===(I=this.getFocused(C))||void 0===I?void 0:I.rowItem)||void 0===B?void 0:B.key}static getFocusedValue(C,I){const B=this.getFocusedRow(C);if(!te.Convert.isNull(B))return B.getValue(I)}static getSelectedKeys(C){return C.view.getSelectedKeys()}static getSelectedRows(C){return C.view.getSelectedRows()}static getCheckedRows(C){return C.view.getCheckedRows()}static findRows(C,I){const B=[];return te.Convert.isNull(I)||C.rows.forEach((C=>{te.Convert.isNull(C)||1==I(C.data,C)&&B.push(C)})),B}static findData(C,I){const B=[];return te.Convert.isNull(I)||C.rows.forEach((C=>{te.Convert.isNull(C)||1==I(C.data,C)&&B.push(C.data)})),B}static getCheckedKeys(C){return C.view.getCheckedKeys()}static setCheckedKeys(C,I,B=void 0){C.toggleCheckRows(I,B)}static getStickyKeys(C){return te.Arrays.from(C.view.stickyKeys)}static setStickyKeys(C,I,B=void 0){C.toggleStickyRows(I,B)}static getRadioRow(C){return C.view.map(C.view.radioKey)}static getRadioKey(C){return C.view.radioKey}static setRadioKey(C,I){C.view.radioKey=I,C.refresh()}static getRangedRows(C){return C.getRangedRows()}static getRangedKeys(C){return C.getRangedKeys()}static getRangedColumns(C,I){return C.getRangedColumns(I)}static getAllItems(C){return C.loader.getAllItems()}static showDetail(C,I,B,z){const q=this.getRow(C,I);te.Convert.isValue(q)?(q.detailTemplate=B,q.detailInit=z,q.detailContext=void 0,C.toggleDetail(I,!0)):se.Log.error(`SBGrid3.showDetail : [${I}] not found!`)}static hideDetail(C,I){C.toggleDetail(I,!1)}static getValue(C,I,B){var z,q,Q;return te.Convert.isValue(B)?null===(q=null===(z=this.getRow(C,I))||void 0===z?void 0:z.data)||void 0===q?void 0:q[B]:null===(Q=this.getRow(C,I))||void 0===Q?void 0:Q.data}static setValue(C,I,B,z,q=!1,ee=!1){return Q(this,void 0,void 0,(function*(){yield this.setValues(C,[{key:I,value:B,field:z}],q,ee)}))}static setValues(C,I,B=!1,z=!1){C.fireCommandAsync(C,new oe.UpdateCommand(I,void 0,B,z))}static editable(C,I){C.editable(I)}static rowEditable(C,I,B){if(C.config.editable.mode!==re.EditMode.inline)return;if((B=null==B||B)&&C.view.editKeyMap.size>0)return;const z=C.view.map(I);te.Convert.isNull(z)?se.Log.warn((()=>`[${I}] : not found`)):(z.isEdit=B,C.refresh())}static getRowItem(C,I){const B=C.view.map(I);if(!te.Convert.isNull(B))return B;se.Log.warn((()=>`[${I}] : not found`))}static rowVisible(C,I,B){const z=I instanceof Array?I:[I];if(te.Convert.isEmpty(B))for(const I of z){const B=this.getRowItem(C,I);return null==B?void 0:B.visible}for(const I of z){const z=this.getRowItem(C,I);te.Convert.isValue(z)&&(z.visible=B)}return te.Convert.isValue(z)&&(C.clearHeightInfo(!1),C.view.calcRowNo(),C.refresh()),B}static columnEditable(C,I,B,z){z=null==z||z,B=B instanceof Array?B[0]:B;const q=C.view.map(I);if(te.Convert.isNull(q))se.Log.warn((()=>`[${I}] : not found`));else if(B.editable(q)){if(te.Convert.isValue(B)&&z){const I=C.focusManager;0==I.isFocused(q,B,he.PanelType.Body)&&(I.focus={rowItem:q,column:B,panelType:he.PanelType.Body,cell:te.Utils.findCellFromColumn(C.rowLayout,B)})}q.isEdit=z,C.scrollIntoView(q,B),C.fireCommandAsync(C,new de.RefreshCommand({rowStart:q.rowIndex,rowEnd:q.rowIndex,colStart:B.index,colEnd:B.index}))}}static columnVisible(C,I,B=!1){I=I instanceof Array?I[0]:I,te.Convert.isNull(I)||C.columnVisible([{column:I,visible:B}])}static setCaption(C,I,B){I=I instanceof Array?I[0]:I,te.Convert.isNull(I)||I.caption!=B&&(I.caption=B,C.refresh())}static moveToColumn(C,I,B,z){I=I instanceof Array?I[0]:I,B=B instanceof Array?B[0]:B,C.moveToColumn(I,B,z)}static setColumnSize(C,I,B){I=I instanceof Array?I[0]:I,te.Convert.isNull(I)||C.setColumnSize(I,B)}static scrollInfoView(C,I,B){B=B instanceof Array?B[0]:B,te.Convert.isNull(B)||C.scrollIntoView(I,B)}static validateGrid(C,I=void 0){const B=[];I=I instanceof ie.RowItem?I:C.view.map(I);return(te.Convert.isValue(I)?C.view.rows.slice(I.rowIndex):C.view.rows).forEach((I=>{const z=te.Arrays.bfsSearch(C.visibleColumns,(C=>{var B;return!(!C.visible||(null===(B=C.isValid(I))||void 0===B?void 0:B.state)===ce.ValidationState.Valid)||C.columns}));te.Convert.isValue(z)&&B.push(I.key)})),B}static validateRow(C,I){const B=[],z=C.view.keyMap.get(I);if(!te.Convert.isNull(z))return te.Arrays.bfsAction(C.wholeColumns,(C=>(C.isValid(z).state!==ce.ValidationState.Valid&&B.push(C),C.columns))),B;se.Log.warn((()=>`[${I}] : not found`))}static isCellValid(C,I,B){const z=this.getRow(C,I);if(te.Convert.isNull(z))return!1;const q=this.getColumnByField(C,B)[0];return!te.Convert.isNull(q)&&q.isValid(z).state===ce.ValidationState.Valid}static cancelEdit(C){var I;null===(I=C.focusManager)||void 0===I||I.cancelEdit()}static updateEdit(C){C.focusManager.update()}static findInvalid(C,I,B){var z,q;let Q=null!==(q=null===(z=C.view.map(I))||void 0===z?void 0:z.rowIndex)&&void 0!==q?q:0;const ee={key:void 0,column:void 0,rowItem:void 0};if(te.Convert.isNull(Q))return ee;let ie;for(;te.Convert.isValue(ie=SBGrid3.getRowByIndex(C,Q));){const I=te.Arrays.bfsSearch(C.visibleColumns,(C=>{var I,z;return!!((null!==(I=null==B?void 0:B.index)&&void 0!==I?I:0)<C.index&&C.visible&&(null===(z=C.isValid(ie))||void 0===z?void 0:z.state)!==ce.ValidationState.Valid)||C.columns}));if(te.Convert.isValue(I))return{key:ie.key,column:I,rowItem:ie};Q++,B=void 0}return ee}static getSaveData(C,I=!0,B=!0,z=!0){return C.dataSource.getSaveData(I,B,z)}static getClientData(C){return C.dataConfig.data}static setClientData(C,I,B=!0){return Q(this,void 0,void 0,(function*(){C.setClientData(I,B),yield C.reload(new oe.ReloadCommand(B))}))}static getNode(C,I){return C.getNode(I)}static getParentNodes(C,I){}static clearSaveData(C){C.clearSaveData()}static setRowValue(C,I,B,z,q=!1,Q=!1){if(te.Convert.isValue(z)&&z>=0){const ee=C.rows[z];if(te.Convert.isEmpty(ee))return;this.setValue(C,ee.key,B,I,q,Q)}else{const z=C.rows.map((C=>({key:C.key,value:B,field:I})));this.setValues(C,z,q,Q)}C.refresh()}static clearRows(C){C.clearRows(!0),C.refresh()}static save(C){return Q(this,void 0,void 0,(function*(){yield C.save()}))}static refresh(C){C.refresh()}static reload(C,I=!0){return Q(this,void 0,void 0,(function*(){yield C.reload(new oe.ReloadCommand(I))}))}static rebuild(C){return Q(this,void 0,void 0,(function*(){yield C.rebuild()}))}static setGridDefault(C){SBGrid3.default=C}static setResourceDefault(C,I=""){ae.ResourceManager.setDefault(C,I)}static setResourceMulti(C){ae.ResourceManager.setResourceMulti(C)}static setDefault(C,I){te.Convert.isValue(C)&&this.setGridDefault(C),te.Convert.isValue(I)&&this.setResourceDefault(I)}static setResource(C,I,B){C.resourceManager.setResource(I,B)}static listPersonalization(C,I){const B=new ue.PersonalStorage(C);try{return B.listPersonalization(I)}catch(C){return[]}}static savePersonalization(C,I){const B=new ue.PersonalStorage(C);try{return B.savePersonalization(I),!0}catch(C){return!1}}static resetPersonalization(C){const I=new ue.PersonalStorage(C);try{return I.removePersonalization(I.key),!0}catch(C){return!1}}static removePersonalization(C,I){const B=new ue.PersonalStorage(C);try{return B.removePersonalization(I),!0}catch(C){return!1}}static setPersonalization(C,I){const B=new ue.PersonalStorage(C);try{return B.setPersonalization(I),!0}catch(C){return!1}}static getPersonalConfig(C){return ue.PersonalStorage.getPersnalConfig(C)}static mergePersonalConfig(C,I){return ee.Grid.mergePersonalConfig(C,I)}static excelExport(C,I){return Q(this,void 0,void 0,(function*(){const B=new le.ExcelExport(C,I),z=new te.default,q=te.Utils.ensureName("excel");C.setEvent("excel","keydown",q,(C=>{"Escape"===C.key&&z.cancel()}),C.container),yield B.export(z.token),C.setEvent("excel","keydown",q,void 0,C.container)}))}static excelImport(C,I,B){return Q(this,void 0,void 0,(function*(){let z;switch(I.name.split(".").at(-1)){case"csv":z=new pe.CsvImport(C,B);break;case"xlsx":z=new fe.ExcelImport(C,B)}if(!te.Convert.isValue(z))throw"not supported file "+I.name;yield z.excelImport(I)}))}static addRow(C,I,B){return Q(this,void 0,void 0,(function*(){yield C.addRowCommand(new de.AddRowCommand(I,B))}))}static insertRow(C,I,B){return Q(this,void 0,void 0,(function*(){yield C.insertRowCommand(new de.InsertRowCommand(I,B))}))}static appendRow(C,I,B){return Q(this,void 0,void 0,(function*(){yield C.appendRowCommand(new de.AppendRowCommand(I,B))}))}static addRows(C,I,B){return Q(this,void 0,void 0,(function*(){yield C.addRowsCommand(new de.AddRowsCommand(I,B))}))}static bulkAppend(C,I){return Q(this,void 0,void 0,(function*(){yield C.bulkAppend(I)}))}static deleteRow(C,I){return Q(this,void 0,void 0,(function*(){yield C.deleteRowCommand(new de.DeleteRowCommand(I))}))}static deleteRows(C,I){return Q(this,void 0,void 0,(function*(){te.Convert.isEmpty(I)||(yield C.deleteRowsCommand(new de.DeleteRowsCommand(I)))}))}static undeleteRow(C,I){return Q(this,void 0,void 0,(function*(){yield C.undeleteRowCommand(new de.UndeleteRowCommand(I))}))}static fireCommand(C,I){return C.fireCommand(C,I)}static fireCommandAsync(C,I){return Q(this,void 0,void 0,(function*(){yield C.fireCommandAsync(C,I)}))}static setTheme(C,I){C.setTheme(I)}static isMobile(C,I){C.isMobile=I,C.refresh()}static setSelect(C,I,B=!0){C.dataSource.config.ajax.select=I,B&&C.reload(new oe.ReloadCommand(!0))}static checkLicense(C){if(te.Convert.isValue(this.trialKey)){const I=te.Crypto.decrypt(this.trialKey,CRYPTO_KEY,256),[B,z]=I.split("|"),[q,Q]=B.split("_");if("3.25.02.18.0"!==z)return!1;if("2025-02-28"!==Q)return!1;if(!function(C){const I=new Date,B=I.getMonth()+1;return!(Number(I.getFullYear().toString()+(B<10?`0${B}`:B)+(I.getDate()<10?`0${I.getDate()}`:I.getDate()))>Number(C))}(Q.replace(/-/g,"")))return se.Log.error("사용기간이 만료되었습니다. 라이센스를 재발급받으시기 바랍니다."),this.showExpirationMessage(C),!1}return!0}static showExpirationMessage(C){const I=C.width,B=C.height;let z=C.container;if(te.Convert.isNull(z))return;("string"==typeof z||z instanceof HTMLElement)&&(z=SBGrid3.$(z)),z.css({border:"1px solid #cecece","box-sizing":"border-box",width:I,height:B});const q=te.JqUtils.adjustElement(z,"div.popup-text",'<div class="popup-text">'),Q=te.JqUtils.adjustElement(q,"div.popup-text-result-wrap",'<div class="popup-text-result-wrap">');te.JqUtils.adjustElement(Q,"div.sbgrid-trial-check",'<div class="sbgrid-trial-check">');const ee=te.JqUtils.adjustElement(Q,"div.sbgrid-text",'<div class="sbgrid-text">');return te.JqUtils.adjustHtml(ee,"사용기간이 만료되었습니다.<br> 라이센스를 재발급받으시기 바랍니다."),!0}static showLoading(C,I=!0){C.showLoading(I)}static setSize(C,I,B){C.setSize(I,B)}static autoFit(C,I,B,z,q){var Q,ee;if(I=I instanceof Array?I[0]:I,te.Convert.isNull(I))return;if(0==I.visible)return;if(I.part===me.PartType.Fixed)return;if(I.type===ve.ColumnTypes.Frozen)return;let ie=null===(ee=null===(Q=null==C?void 0:C.scrollPanel)||void 0===Q?void 0:Q.captionPanel)||void 0===ee?void 0:ee.columnResize;if(te.Convert.isNull(ie)){ie=new ge.ColumnResize(C);let I={mode:ge.ResizeMode.GuideLine,minWidth:z,maxWidth:q,autoFit:"string"==typeof B?[B]:B};const Q=ge.ResizeOptionParser.parseResizeOption(I);ie.option=Q}ie.autoFit(I)}static moveFocus(C,I,B){if(B=B instanceof Array?B[0]:B,te.Convert.isNull(C)||te.Convert.isNull(I)||te.Convert.isNull(B))return;const z=null==C?void 0:C.focusManager;null==z||z.focus;I instanceof ie.RowItem==0&&(I=C.view.map(I));null==z||z.moveFocus({rowItem:I,column:B,panelType:he.PanelType.Body})}static removeFocus(C){(null==C?void 0:C.focusManager).clear(),C.refresh()}static sort(C,I){C.sort(I)}static sortData(C,I){C.sortData(I)}static getColumnByField(C,I){return te.Arrays.bfsSearchAll((I=>te.Convert.isNull(I)?C.wholeColumns:I.columns),(C=>C.field===I))}static getColumn(C,I){return te.Arrays.bfsSearchAll((I=>te.Convert.isNull(I)?C.wholeColumns:I.columns),(C=>C.index===I))}static getColumns(C){return C.columns}static getWholeColumns(C){return C.wholeColumns}static insertColumn(C,I,B=-1){return C.insertColumn(I,B)}static removeColumn(C,I){C.removeColumn(I)}static search(C,I,B){return Q(this,void 0,void 0,(function*(){const z=ye.GridSearch.parseGridSearchOption(I),q=new ye.GridSearch(C);return yield q.search(z,null!=B&&B)}))}static setPageSize(C,I){te.Convert.isEmpty(I)||I<0?se.Log.warn((()=>`pageSize(${I}) 값이 비어 있거나 0보다 작습니다.`)):C.pageSize=I}static getPageSize(C){return C.pageSize}static getLabel(C,I,B){const z=this.getRow(C,I);if(te.Convert.isNull(z))return void se.Log.debug("row not found "+I);const q=this.getColumnByField(C,B);if(!te.Convert.isEmpty(q))return q[0].getCellLabel(z);se.Log.debug("column not found "+B)}static getLabelByValue(C,I,B){const z=this.getColumnByField(C,B);if(!te.Convert.isEmpty(z))return z[0].getCellLabel(I);se.Log.debug("column not found "+B)}static findParentTreeData(C,I){var B,z,q;const Q=null===(z=null===(B=null==C?void 0:C.loader)||void 0===B?void 0:B.nodeMap)||void 0===z?void 0:z.get(I);if(!te.Convert.isNull(Q))return te.Convert.isNull(Q.parent)?void 0:te.Convert.cloneData(null===(q=Q.parent)||void 0===q?void 0:q.data);se.Log.debug("row not found "+I)}static findChildTreeData(C,I){var B,z,q,Q,ee;let ie;if(te.Convert.isNull(I))ie=null===(q=[...null===(z=null===(B=null==C?void 0:C.loader)||void 0===B?void 0:B.nodeMap)||void 0===z?void 0:z.values()])||void 0===q?void 0:q.filter((C=>te.Convert.isEmpty(C.parent)));else{const B=null===(ee=null===(Q=null==C?void 0:C.loader)||void 0===Q?void 0:Q.nodeMap)||void 0===ee?void 0:ee.get(I);if(te.Convert.isNull(B))return void se.Log.debug("row not found "+I);ie=B.nodes}return ie.map((C=>te.Convert.cloneData(C.data)))}static getTreeCheckState(C,I){var B,z;const q=null===(z=null===(B=null==C?void 0:C.loader)||void 0===B?void 0:B.nodeMap)||void 0===z?void 0:z.get(I);if(!te.Convert.isNull(q))return q.checked;se.Log.debug("row not found "+I)}static toggleCheckTreeRow(C,I,B){var z,q;const Q=this.getRow(C,I);if(te.Convert.isNull(Q))return void se.Log.debug("row not found "+I);const ee=te.Arrays.bfsSearch(C.columns,(C=>C.type==ve.ColumnTypes.Tree||C.columns)),ie=null===(z=null==ee?void 0:ee.config)||void 0===z?void 0:z.showCheck;if("function"==typeof ie?ie(Q.data,ee,Q):ie){const z=null===(q=null==C?void 0:C.loader)||void 0===q?void 0:q.nodeMap.get(I);z instanceof be.TreeNode&&(z.toggleCheck(B),C.refresh())}}static setFilter(C,I,B){Ce.FilterRenderer.setFilter(C,I,B)}static setGroup(C,I){C.grouping(I)}static loadPage(C,I){te.Convert.isEmpty(I)||null==C||C.changePage(I)}static getPageNo(C){return null==C?void 0:C.pageNo}}I.SBGrid3=SBGrid3,z=SBGrid3,SBGrid3._version="3.25.02.18.0",SBGrid3.$=q,SBGrid3.isNode=!globalThis.window,SBGrid3.LogLevel="test"==z.version?se.LogLevels.Debug:se.LogLevels.Warn,SBGrid3.Log=se.Log,SBGrid3.trace=se.Log.trace,SBGrid3.debug=se.Log.debug,SBGrid3.info=se.Log.info,SBGrid3.warn=se.Log.warn,SBGrid3.error=se.Log.error,SBGrid3.pages=["./autoBind.html","./big.html","./checkColumn.html","./city.html","./clipboard.html","./colSpan.html","./columns.html","./columnType.html","./combo.html","./detail.html","./excelTest.html","./faq.html","./filter.html","./filter2.html","./lazy.html","./maskTest.html","./merge.html","./moveTest.html","./multi.html","./navi.html","./select.html","./server.html","./status.html","./sticky.html","./test.html","./tree.html","./validation.html","./wordwrap.html","./zip.html","./dateTest.html"],globalThis.SBGrid3=SBGrid3,SBGrid3._default=re.GridParser.parseDefaultConfig(new ne.GridDefault,!1),SBGrid3._default=re.GridParser.parseConfig(SBGrid3.default)},7078:(C,I)=>{"use strict";var B;Object.defineProperty(I,"__esModule",{value:!0}),I.SbCss=void 0;class SbCss{static toClass(...C){const I=C.join(this.seperator);return""==I?"":this.prefix+this.seperator+I}}I.SbCss=SbCss,B=SbCss,SbCss.prefix="sbgrid",SbCss.seperator="-",SbCss.grid=B.toClass("grid"),SbCss.empty=B.toClass("empty"),SbCss.scroll=B.toClass("scroll"),SbCss.panel=B.toClass("panel"),SbCss.part=B.toClass("part"),SbCss.align=B.toClass("align"),SbCss.tools=B.toClass("tools"),SbCss.tool=B.toClass("tool"),SbCss.item=B.toClass("item"),SbCss.pager=B.toClass("pager"),SbCss.scroll_vert=B.toClass("scroll","vert"),SbCss.scroll_body=B.toClass("scroll","body"),SbCss.scrollh=B.toClass("scrollh"),SbCss.scrollbar=B.toClass("scrollbar"),SbCss.scrollv=B.toClass("scrollv"),SbCss.body=B.toClass("body"),SbCss.left=B.toClass("left"),SbCss.center=B.toClass("center"),SbCss.right=B.toClass("right"),SbCss.area=B.toClass("area"),SbCss.thead=B.toClass("thead"),SbCss.tbody=B.toClass("tbody"),SbCss.tfoot=B.toClass("tfoot"),SbCss.row=B.toClass("row"),SbCss.col=B.toClass("col"),SbCss.cell=B.toClass("cell"),SbCss.gap=B.toClass("gap"),SbCss.caption=B.toClass("caption"),SbCss.header=B.toClass("header"),SbCss.footer=B.toClass("footer"),SbCss.fixed=B.toClass("fixed"),SbCss.variable=B.toClass("variable"),SbCss.head=B.toClass("head"),SbCss.tail=B.toClass("tail"),SbCss.group=B.toClass("group"),SbCss.fixed_height=B.toClass("fixed","height"),SbCss.alternate=B.toClass("alternate"),SbCss.tree=B.toClass("tree"),SbCss.title=B.toClass("title"),SbCss.custom=B.toClass("custom"),SbCss.hidden=B.toClass("hidden"),SbCss.merge=B.toClass("merge"),SbCss.merge_row=B.toClass("merge-row"),SbCss.merge_col=B.toClass("merge-col"),SbCss.merged=B.toClass("merged"),SbCss.level=B.toClass("level"),SbCss.level_first=B.toClass("level","first"),SbCss.level_next=B.toClass("level","next"),SbCss.focused=B.toClass("focused"),SbCss.pined=B.toClass("pined"),SbCss.selecting=B.toClass("selecting"),SbCss.unselected=B.toClass("unselected"),SbCss.selected=B.toClass("selected"),SbCss.sticky=B.toClass("sticky"),SbCss.detail=B.toClass("detail"),SbCss.checked=B.toClass("checked"),SbCss.halfCheck=B.toClass("half"),SbCss.dropdown=B.toClass("dropdown"),SbCss.option=B.toClass("option"),SbCss.unchecked=B.toClass("unchecked"),SbCss.rowno=B.toClass("rowno"),SbCss.edit=B.toClass("edit"),SbCss.column=B.toClass("column"),SbCss.icon=B.toClass("icon"),SbCss.input=B.toClass("input"),SbCss.loading=B.toClass("loading"),SbCss.folder=B.toClass("folder"),SbCss.asc=B.toClass("asc"),SbCss.desc=B.toClass("desc"),SbCss.open=B.toClass("open"),SbCss.close=B.toClass("close"),SbCss.leaf=B.toClass("leaf"),SbCss.cellIndicator=B.toClass("cell-indicator"),SbCss.cellIndicator_left=B.toClass("cell-indicator-left"),SbCss.cellIndicator_right=B.toClass("cell-indicator-right"),SbCss.indicator=B.toClass("indicator"),SbCss.hover=B.toClass("hover"),SbCss.hovered=B.toClass("hovered"),SbCss.text=B.toClass("text"),SbCss.space=B.toClass("space"),SbCss.page=B.toClass("page"),SbCss.current=B.toClass("current"),SbCss.disabled=B.toClass("disabled"),SbCss.add=B.toClass("add"),SbCss.addTop=B.toClass("add","top"),SbCss.field=B.toClass("field"),SbCss.popup=B.toClass("popup"),SbCss.submit=B.toClass("submit"),SbCss.cancel=B.toClass("cancel"),SbCss.cancel_red=B.toClass("cancel-red"),SbCss.refresh=B.toClass("refresh"),SbCss.reload=B.toClass("reload"),SbCss.delete=B.toClass("delete"),SbCss.undelete=B.toClass("undelete"),SbCss.update=B.toClass("update"),SbCss.insert=B.toClass("insert"),SbCss.append=B.toClass("append"),SbCss.grouping=B.toClass("grouping"),SbCss.order=B.toClass("order"),SbCss.sort=B.toClass("sort"),SbCss.no=B.toClass("no"),SbCss.draggable_helper=B.toClass("draggable","helper"),SbCss.check=B.toClass("check"),SbCss.checkbox=B.toClass("checkbox"),SbCss.checkboxGroup=B.toClass("checkboxgroup"),SbCss.combobox=B.toClass("combobox"),SbCss.comboInner=B.toClass("combo","inner"),SbCss.comboButton=B.toClass("combo","button"),SbCss.comboButtonIcon=B.toClass("combo","button","icon"),SbCss.comboValueText=B.toClass("combo","value","text"),SbCss.comboPopup=B.toClass("combo","popup"),SbCss.comboPopupItems=B.toClass("popup","items"),SbCss.comboPopupItem=B.toClass("popup","item"),SbCss.comboItemSelected=B.toClass("combo","item","selected"),SbCss.radio=B.toClass("radio"),SbCss.radio_icon=B.toClass("radio","icon"),SbCss.wrap_radio=B.toClass("wrap","radio"),SbCss.radioGroup=B.toClass("radiogroup"),SbCss.multiText=B.toClass("multiText"),SbCss.rowcheck=B.toClass("rowcheck"),SbCss.first=B.toClass("first"),SbCss.prev=B.toClass("prev"),SbCss.next=B.toClass("next"),SbCss.last=B.toClass("last"),SbCss.save=B.toClass("save"),SbCss.resize_indicator=B.toClass("resize","indicator"),SbCss.resize_helper=B.toClass("resize","helper"),SbCss.reorder_indicator=B.toClass("reorder","indicator"),SbCss.reorder_head=B.toClass("reorder","head"),SbCss.reorder_tail=B.toClass("reorder","tail"),SbCss.reorder_helper=B.toClass("reorder","helper"),SbCss.undo=B.toClass("undo"),SbCss.redo=B.toClass("redo"),SbCss.valid=B.toClass("valid"),SbCss.invalid=B.toClass("invalid"),SbCss.tooltip=B.toClass("tooltip"),SbCss.frozen=B.toClass("frozen"),SbCss.status=B.toClass("status"),SbCss.filter=B.toClass("filter"),SbCss.menu=B.toClass("menu"),SbCss.condition=B.toClass("condition"),SbCss.operator=B.toClass("operator"),SbCss.join=B.toClass("join"),SbCss.value=B.toClass("value"),SbCss.values=B.toClass("values"),SbCss.checkable=B.toClass("checkable"),SbCss.search=B.toClass("search"),SbCss.summary=B.toClass("summary"),SbCss.autoComplete=B.toClass("autocomplete"),SbCss.autoComplete_list=B.toClass("autocomplete-list"),SbCss.confirm=B.toClass("confirm"),SbCss.filled=B.toClass("filled"),SbCss.and=B.toClass("and"),SbCss.or=B.toClass("or"),SbCss.none=B.toClass("none"),SbCss.command=B.toClass("command"),SbCss.button=B.toClass("button"),SbCss.copy_top=B.toClass("copy-top"),SbCss.copy_bottom=B.toClass("copy-bottom"),SbCss.copy_left=B.toClass("copy-left"),SbCss.copy_right=B.toClass("copy-right"),SbCss.fillHandle=B.toClass("fill-handle"),SbCss.fillHandle_top=B.toClass("fill-handle-top"),SbCss.fillHandle_bottom=B.toClass("fill-handle-bottom"),SbCss.fillHandle_left=B.toClass("fill-handle-left"),SbCss.fillHandle_right=B.toClass("fill-handle-right"),SbCss.menu_group=B.toClass("menu-group"),SbCss.menu_seperator=B.toClass("seperator"),SbCss.wrapPopup=B.toClass("wrap","popup"),SbCss.comboItemEmpty=B.toClass("combo","item","empty"),SbCss.angleBottom=B.toClass("angle","bottom"),SbCss.context_menu=B.toClass("context-menu"),SbCss.rowreorder=B.toClass("rowreorder"),SbCss.colreorder=B.toClass("colreorder"),SbCss.moving=B.toClass("moving"),SbCss.place_holder=B.toClass("place","holder"),SbCss.template=B.toClass("template"),SbCss.excel=B.toClass("excel"),SbCss.csv=B.toClass("csv"),SbCss.floatingEditBox=B.toClass("floating","edit","box"),SbCss.page_input=B.toClass("page","input"),SbCss.pager_combo=B.toClass("pager","combo"),SbCss.page_size=B.toClass("page","size"),SbCss.delimiter=B.toClass("delimiter"),SbCss.keyedit=B.toClass("keyedit"),SbCss.wai=B.toClass("wai"),SbCss.wai_title=B.toClass("wai","title"),SbCss.wai_description=B.toClass("wai","description"),SbCss.cursor_move=B.toClass("cursor","move")},9823:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.SbScrollBar=void 0;const q=B(1163),Q=B(6312),ee=B(7078);I.SbScrollBar=class SbScrollBar{constructor(C){this._scrollAnti=!1,this._inThumbDragging=!1,this._grid=C}get grid(){return this._grid}get scrollAnti(){return this._scrollAnti}set scrollAnti(C){this._scrollAnti=C}isScrollBar(C){return Q.SBGrid3.$(`.${ee.SbCss.scrollbar}`,C).length>0}update(C,I){this.updateEvent(C,I)}showHideScorllBar(C,I,B){const z=Q.SBGrid3.$(`>.${ee.SbCss.panel}.${ee.SbCss.scroll}`,this.grid.container);let q="calc(100%) 0px",te=`calc(100% - ${this.grid.scrollbarSize}px) ${this.grid.scrollbarSize}px`;switch(I){case"y":B?z.css("grid-template-columns")==te||z.css("grid-template-columns",te):z.css("grid-template-columns")==q||z.css("grid-template-columns",q);break;case"x":B?z.css("grid-template-rows")==te||z.css("grid-template-rows",te):z.css("grid-template-rows")==q||z.css("grid-template-rows",q)}}getScrollbar(C){return q.JqUtils.adjustElement(C,`.${ee.SbCss.scrollbar}`,`<span class='${ee.SbCss.scrollbar}'></span`)}setSize(C,I){switch(I){case"x":{let B="";B=(this.grid.virtualColumn,Math.floor(this.grid.scrollWidth/this.grid.viewportWidth*100)+"%"),100>=q.Convert.asInt(B.toString().replace("px","").replace("%",""))?this.showHideScorllBar(C,I,!1):this.showHideScorllBar(C,I,!0);const z=this.getScrollbar(C).get(0);if(z.style.width==B)return;z.style.width=B;break}case"y":{const B=this.grid.autoHeight&&this.grid.isPaging&&0==this.grid.scrollWhole?this.grid.viewport.getPageHeight():this.grid.viewport.getScrollHeight();let z=q.JqUtils.findElement(this.grid.container,`.${ee.SbCss.panel}.${ee.SbCss.scroll}>.${ee.SbCss.scroll_body}>.${ee.SbCss.panel}.${ee.SbCss.body}>.${ee.SbCss.area}.${ee.SbCss.tbody}`).height();0==z&&(z=this.grid.scrollPanel.viewportHeight);const Q=C,te=(this.grid.scrollWhole?Q.height()+(B-z)+this.grid.rowHeights:Q.height()+(B-z))+"px",ie=this.getScrollbar(C).get(0);this.grid.autoHeight||this.grid.scrollPanel.bodyPanel.bodyHeight>=B?(q.Convert.isValue(C.get(0))&&(C.get(0).style.height="100%"),ie.style.height="100%",this.showHideScorllBar(C,I,!1)):(C.height(C.parent().height()),ie.style.height!=te&&(ie.style.height=te),this.showHideScorllBar(C,I,!0));break}}}createScroll(C,I){switch(I){case"x":q.JqUtils.adjustElement(C,`.${ee.SbCss.scrollbar}`,`<span class='${ee.SbCss.scrollbar}' style='height:0.1px;'></span`);this.updateEvent(C,I);break;case"y":q.JqUtils.adjustElement(C,`.${ee.SbCss.scrollbar}`,`<span class='${ee.SbCss.scrollbar}' style='width:0.1px;'></span`);this.updateEvent(C,I);break}}updateEvent(C,I){const B=this,removeMenu=()=>{this.grid.scrollPanel.removeMenu(),this.grid.scrollPanel.removeComboPopupScrolling()};switch(I){case"x":this.grid.setEvent("scroll_horz","scroll","scroll_horz",(I=>B.horizontalScrollEvent(I,C)),C),this.grid.setEvent("scroll_horz","mousedown","scroll_horz",(I=>B.scrollbarMousedown(I,C,"x")),C,!0),this.grid.setEvent("scroll_horz","mouseup","scroll_horz",(C=>B._inThumbDragging=!1),C,!0),this.grid.setEvent("scroll_horz","mouseover","scroll_horz",removeMenu,C,!0);break;case"y":this.grid.setEvent("scroll_vert","scroll","scroll_vert",(I=>B.verticalScrollEvent(I,C)),C),this.grid.setEvent("scroll_vert","mousedown","scroll_vert",(I=>B.scrollbarMousedown(I,C,"y")),C,!0),this.grid.setEvent("scroll_vert","mouseup","scroll_vert",(C=>B._inThumbDragging=!1),C,!0),this.grid.setEvent("scroll_vert","mouseover","scroll_vert",removeMenu,C,!0)}}setScrollTop(C,I){var B;if(0==this.inThumbDragging&&(null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0)>0){I=Math.abs(I);const B=C.get(0);if(B.scrollTop!=I)return B.scrollTop=I,!0}return!1}getScrollTop(C){if(q.Convert.isValue(C)){const I=C.scrollTop();return I>0?-I:I}return 0}setScrolLeft(C,I){var B;if(0==this.inThumbDragging&&(null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0)>0){I=Math.abs(I);const B=C.get(0);if(B.scrollLeft!=I)return B.scrollLeft=I,!0}return!1}getScrollLeft(C){if(q.Convert.isValue(C)){return-C.scrollLeft()}return 0}scrollTo(C,I,B,z){(isNaN(I)||I===1/0)&&(I=0),(isNaN(B)||B===1/0)&&(B=0);const Q=C;if(0==Q.length)return;if(0==Q.is(":visible"))return;let ee=!1;q.Convert.isValue(I)&&(ee=this.setScrolLeft(C,I)||ee),q.Convert.isValue(B)&&(ee=this.setScrollTop(C,B)||ee)}verticalScrollEvent(C,I){return z(this,void 0,void 0,(function*(){if(1==this._scrollAnti)this.scrollAnti=!1;else{const C=I.get(0),B=C.scrollTop,z=C.scrollHeight-C.clientHeight;if(this.grid.virtualRow){let C=yield this.grid.getMaxTopRow();const I=0==B?0:Math.round(B/(z/C));this.grid.viewport.setScroll(void 0,I)}else this.grid.viewport.setScroll(void 0,B)}return this.scrollAnti=!1,!1}))}horizontalScrollEvent(C,I){return z(this,void 0,void 0,(function*(){const B=Q.SBGrid3.$(`>.${ee.SbCss.scroll}>.${ee.SbCss.scrollh}`,this.grid.container);if(B.length>0){const z=B.get(0),q=z.scrollWidth-z.clientWidth,Q=z.scrollLeft;if(this.grid.virtualColumn){const B=this.grid.maxTopCol-this.grid.minTopCol,z=Q/q*B+this.grid.minTopCol,ee=this.grid.topCol,te=(this.inThumbDragging?0:Math.abs(z-ee))<.1?Math.round(z):z<ee?Math.round(z)-1:Math.round(z)+1;C.preventDefault();const ie=(te-this.grid.minTopCol)/B*q;0==this.inThumbDragging&&this.setScrolLeft(I,ie),yield this.grid.viewport.setScroll(te,void 0)}else{const C=Q/q*(this.grid.scrollWidth-this.grid.viewportWidth);this.grid.viewport.setScroll(C,void 0)}}return!1}))}get inThumbDragging(){return this._inThumbDragging}scrollbarMousedown(C,I,B){return z(this,void 0,void 0,(function*(){return this._inThumbDragging=!0,!1}))}setScrollPos(C,I,B=!1){return z(this,void 0,void 0,(function*(){try{if(0==q.Convert.isNull(C)){const I=Q.SBGrid3.$(`>.${ee.SbCss.scroll}>.${ee.SbCss.scrollh}`,this.grid.container);if(I.length>0){const B=I.get(0),z=(B.scrollWidth,B.clientWidth,B.scrollWidth-B.clientWidth);if(this.grid.virtualColumn){const B=this.grid.maxTopCol-this.grid.minTopCol,q=(C-this.grid.minTopCol)/B*z;0==this.inThumbDragging&&this.setScrolLeft(I,q)}else{const B=this.grid.scrollWidth-this.grid.viewportWidth,q=C/B*z;this.grid.viewport.setScroll(C,void 0),this.setScrolLeft(I,q)}}}if(0==q.Convert.isNull(I)){const C=Q.SBGrid3.$(`>.${ee.SbCss.scroll}>.${ee.SbCss.scrollv}`,this.grid.container);if(C.length>0){const B=C.get(0),z=B.scrollHeight-B.clientHeight;if(this.grid.virtualRow){let B=yield this.grid.getMaxTopRow();const q=0==I?0:I/B*z;this.setScrollTop(C,q)}else this.setScrollTop(C,I)}}}finally{}}))}}},1355:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.FilterPanel=I.FooterPanel=I.HeaderPanel=I.RowsPanel=I.BodyPanel=I.CaptionPanel=I.LayoutPanel=I.ScrollPanel=I.ScrollPart=void 0;const q=B(1163),Q=B(2208),ee=B(6938),te=B(103),ie=B(3568),re=B(3354),ne=B(5260),se=B(913),oe=B(6312),ae=B(7078),le=B(2663),ue=B(7721),de=B(5165),ce=B(860),he=B(2987),fe=B(3119),pe=B(3419),me=B(6252),ge=B(5882),ve=B(6409),ye=B(194),be=B(9823),Ce=B(7136);var we;!function(C){C.None="none",C.Thumb="thumb",C.Prev="prev",C.Next="next"}(we||(I.ScrollPart=we={}));class ScrollPanel extends ie.GridPanel{constructor(C){super(C,ae.SbCss.scroll),this.onClick=C=>{if(0!==C.button)return;const I=oe.SBGrid3.$(C.target);I.is(`.${ae.SbCss.icon}.${ae.SbCss.menu}`)||I.closest(`.popup.${ae.SbCss.menu}`).length>0||this.removeMenu()},this.revmoeContextMenu=C=>{C.preventDefault(),null==oe.SBGrid3.$(C.target).closest("."+ae.SbCss.context_menu).html()&&this.grid.container.find("."+ae.SbCss.context_menu).remove()},this.removeMenu=()=>{this.revmoePopupMenu()},this.revmoePopupMenu=()=>{this.grid.container.find("."+ae.SbCss.context_menu).remove(),this.grid.container.find("."+ae.SbCss.menu_group).remove()},this.removeComboPopupScrolling=()=>{this.grid.container.find("."+ae.SbCss.comboPopup).addClass(ae.SbCss.hidden)},this.onContextMenu=C=>z(this,void 0,void 0,(function*(){C.preventDefault();let I=this.getCol(oe.SBGrid3.$(C.target));oe.SBGrid3.$(C.target);const B=this._grid.getColumn(I),z=yield this.grid.getRowItem(I);if(0==q.Convert.isValue(B))return;if(!B.contextMenu)return;if(this.grid.focusManager.isFocused(z,B,ce.PanelType.Body)&&B.isEdit(z))return;if(this.grid.container.find(`.${ae.SbCss.context_menu}`).remove(),this.grid.container.find(`.${ae.SbCss.menu_group}`).remove(),oe.SBGrid3.$(C.target).find(".mCSB_dragger").length>0)return;let Q;const ee=oe.SBGrid3.$(C.target).closest("."+ae.SbCss.panel+"."+ae.SbCss.scroll);let te;Q=q.Convert.isValue(I)?q.JqUtils.adjustElement(ee,`>div.${ae.SbCss.context_menu}.0`,`<div class='${ae.SbCss.context_menu} ${ae.SbCss.col}-0'></span>`):q.JqUtils.adjustElement(ee,`>div.${ae.SbCss.context_menu}.${B.index}`,`<div class='${ae.SbCss.context_menu} ${ae.SbCss.col}-${B.index}'></span>`),te=null==B||null==B.config.field?new ge.GridMenu(this._grid,ge.GridMenuParser.parse(this.grid.contextMenu),B,z):new ge.GridMenu(this._grid,ge.GridMenuParser.parse(B.contextMenu),B,z),te.render(oe.SBGrid3.$(Q),ge.MenuType.ContextMenu,void 0);let ie=I.closest("."+ae.SbCss.grid);this.grid.container.find(Q).css("top",C.pageY-this.grid.container.offset().top),this.grid.container.find(Q).css("left",C.pageX-this.grid.container.offset().left),this.grid.container.height()<this.grid.container.find(Q).children().height()&&(Q.children().css("height",this.grid.container.height()/2),Q.children().css("overflow-y","scroll")),null!=B?(this.grid.container.height()+this.grid.container.offset().top<C.pageY+this.grid.container.find(Q).children("span").height()&&this.grid.container.find(Q).css("top",this.grid.container.height()-this.grid.container.find(Q).children("span").height()-this.grid.container.find(`.${ae.SbCss.scrollh}`).height()-5),this.grid.container.width()+this.grid.container.offset().left<I.offset().left+this.grid.container.find(Q).width()+I.width()&&this.grid.container.find(Q).css("left",ie.width()-this.grid.container.find(Q).width()-this.grid.container.find(`.${ae.SbCss.scrollv}`).width())):(this.grid.container.height()+this.grid.container.offset().top<C.pageY+this.grid.container.find(Q).children("span").height()&&this.grid.container.find(Q).css("top",this.grid.container.height()-this.grid.container.find(Q).children("span").height()-this.grid.container.find(`.${ae.SbCss.scrollh}`).height()-5),this.grid.container.width()+this.grid.container.offset().left<C.pageX+this.grid.container.find(Q).width()&&this.grid.container.find(Q).css("left",ie.width()-this.grid.container.find(Q).width()-this.grid.container.find(`.${ae.SbCss.scrollv}`).width()))}))}get captionPanel(){var C;return null!==(C=this._captionPanel)&&void 0!==C?C:this._captionPanel=new CaptionPanel(this.grid)}get headerPanel(){var C;return null!==(C=this._headerPanel)&&void 0!==C?C:this._headerPanel=new HeaderPanel(this.grid)}get bodyPanel(){var C;return null!==(C=this._bodyPanel)&&void 0!==C?C:this._bodyPanel=new BodyPanel(this.grid)}get footerPanel(){var C;return null!==(C=this._footerPanel)&&void 0!==C?C:this._footerPanel=new FooterPanel(this.grid)}get filterPanel(){var C;return null!==(C=this._filterPanel)&&void 0!==C?C:this._filterPanel=new FilterPanel(this.grid)}get sbScrollbar(){var C;return null!==(C=this._sbScrollbar)&&void 0!==C?C:this._sbScrollbar=new be.SbScrollBar(this.grid)}get scrollLeft(){var C;return null!==(C=this._scrollLeft)&&void 0!==C?C:this._scrollLeft=0}set scrollLeft(C){const I=Math.max(0,Math.min(C,this.grid.scrollWidth-this.grid.viewportWidth));if(this._scrollLeft==I)return;this._scrollLeft=I;oe.SBGrid3.$(`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}>div>.${ae.SbCss.body}`,this.grid.container).scrollLeft(this.scrollLeft)}get scrollTop(){var C;return null!==(C=this._scrollTop)&&void 0!==C?C:this._scrollTop=0}set scrollTop(C){if(C=Math.max(C,0),this._scrollTop==C)return;this.grid.viewport.getRowScrollInfo(C).then((C=>this.grid.view.topRow=C.index));const I=this.scrollHeight,B=this.viewportHeight;C=I-C>B?C:I-B,this._scrollTop=Math.max(C,0),0==this.grid.scrollWhole&&this.fireCommandAsync(this,new de.RefreshCommand);const z=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}.${ae.SbCss.body}>.${ae.SbCss.tbody}>.${ae.SbCss.part}`),Q=this.scrollTop;z.scrollTop(Q),this._scrollTop=z.scrollTop()}set internalScrollTop(C){this._scrollTop=C}set internalScrollLeft(C){this._scrollLeft=C}get rowsView(){return this.bodyPanel.rowsView}get viewportHeight(){var C;return null!==(C=this.bodyPanel.bodyHeight)&&void 0!==C?C:this.grid.container.height()}get scrollHeight(){return this.bodyPanel.scrollHeight}layoutPanel(C,I=!1){return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.panel}.${ae.SbCss.scroll}`,`<div class='${ae.SbCss.panel} ${ae.SbCss.scroll}'></div>`),z=q.JqUtils.adjustElement(B,">div",`<div class='${ae.SbCss.scroll_body}'></div>`);return I&&this.renderScrollbar(B),z}))}lazyRender(C){return z(this,void 0,void 0,(function*(){const I=yield this.layoutPanel(C,!0);yield this.bodyPanel.lazyRender(I);const B=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}.${ae.SbCss.body}>.${ae.SbCss.tbody}>.${ae.SbCss.part}`);if(0==this.grid.fixedRows&&0==this.grid.virtualRow){const C=this.scrollTop;B.scrollTop(C),this._scrollTop=B.scrollTop()}}))}render(C){var I;return z(this,void 0,void 0,(function*(){const B=yield this.layoutPanel(C,!0);this.grid.config.captionVisible&&(yield this.captionPanel.render(B)),this.grid.config.filterable===me.FilterMode.Row&&(yield this.filterPanel.render(B)),this.grid.hasHeader&&(yield this.headerPanel.layoutPanel(B)),this.bodyPanel.layoutPanel(B),this.grid.hasFooter&&(yield this.footerPanel.layoutPanel(B)),this.grid.hasHeader&&(yield this.headerPanel.render(B)),this.grid.hasFooter&&(yield this.footerPanel.render(B)),yield this.bodyPanel.render(B),this.grid.selectManager.addEventHandler(B),null===(I=this.grid.tooltip)||void 0===I||I.addEventHandler(B),this.grid.focusManager.initFocusManager(B),q.Convert.isValue(this.grid.contextMenu)&&this.addEventHandler(B);const z=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}.${ae.SbCss.body}>.${ae.SbCss.tbody}>.${ae.SbCss.part}`);this.grid.setEvent("scrollPanel","scroll","scroll_none",(C=>!1),z);const ee=this.bodyPanel.jqPanel[0];this.grid.eventManager.setHandler("GridTouch","touchstart",this.name,(C=>Q.Grid.gridTouchStart(this.grid,C)),ee),this.grid.eventManager.setHandler("GridTouch","touchmove",this.name,(C=>Q.Grid.gridTouchMove(this.grid,C)),ee),this.grid.eventManager.setHandler("GridTouch","touchend",this.name,(C=>Q.Grid.gridTouchEnd(this.grid,C)),ee)}))}addEventHandler(C){this.grid.setEvent("scrollPanel","contextmenu","contextmenu",(C=>this.onContextMenu(C)),C),this.grid.setEvent("scrollPanel","click","click",(C=>this.onClick(C)),this.grid.container)}getCol(C){var I;if(0!=(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0))return C.closest(`.${ae.SbCss.col}`)}adjustScrollSize(){const C=oe.SBGrid3.$(`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollv}`,this.grid.container),I=oe.SBGrid3.$(`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollh}`,this.grid.container);this.sbScrollbar.setSize(I,"x"),this.sbScrollbar.setSize(C,"y"),this.sbScrollbar.setSize(I,"x"),this.bodyPanel.setBodyHeight()}createStyle(C){return z(this,void 0,void 0,(function*(){let I=oe.SBGrid3.$(`>div.${ae.SbCss.panel}.${ae.SbCss.scroll}`,C);this.createStyleArea(I),yield this.captionPanel.createStyle(I),yield this.filterPanel.createStyle(I),yield this.headerPanel.createStyle(I),yield this.bodyPanel.createStyle(I),yield this.footerPanel.createStyle(I);oe.SBGrid3.$(`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}>div>.${ae.SbCss.body}`,this.grid.container).scrollLeft(this.scrollLeft);const B=oe.SBGrid3.$(`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}.${ae.SbCss.body}>.${ae.SbCss.tbody}>.${ae.SbCss.part}`,this.grid.container);B.scrollTop(this.scrollTop),this._scrollTop=B.scrollTop()}))}createStyleArea(C){const I=this.grid.defaultLayout;this.grid.style.set(`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}>.${ae.SbCss.area}`,{display:"grid","grid-template-areas":`"${ue.PartType.Fixed} ${ue.PartType.Head} ${ue.PartType.Body} ${ue.PartType.Tail}"`,"grid-template-columns":`${I.fixedWidth}px ${I.headWidth}px 1fr ${I.tailWidth}px`});const B=`>.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}>.${ae.SbCss.area}>.${ae.SbCss.part}.`;this.grid.style.set(B+ae.SbCss.fixed,{"grid-area":ue.PartType.Fixed}),this.grid.style.set(B+ae.SbCss.head,{"grid-area":ue.PartType.Head}),this.grid.style.set(B+ae.SbCss.body,{"grid-area":ue.PartType.Body}),this.grid.style.set(B+ae.SbCss.tail,{"grid-area":ue.PartType.Tail})}renderScrollbar(C){const I=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.scrollh}`,`<div  class='${ae.SbCss.scrollh}'></div>`),B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.scrollv}`,`<div  class='${ae.SbCss.scrollv}'></div>`);this.sbScrollbar.isScrollBar(B)?this.sbScrollbar.update(B,"y"):this.sbScrollbar.createScroll(B,"y"),this.sbScrollbar.isScrollBar(I)?this.sbScrollbar.update(I,"x"):this.sbScrollbar.createScroll(I,"x")}doCommand(C,I){return I.command!==le.Commands.Reload?super.doCommand(C,I):(this.reload(I),!0)}canCommand(C,I){"object"==typeof I&&I.command;return super.canCommand(C,I)}getContainer(C,I,B){let z;switch(B){case ce.PanelType.Body:if(z=this._bodyPanel.tbody.getContainer(C,I),q.Convert.isNull(z))return;0==z.length&&(z=this._bodyPanel.thead.getContainer(C,I)),0==z.length&&(z=this._bodyPanel.tfoot.getContainer(C,I));break;case ce.PanelType.Caption:z=this._captionPanel.getContainer(I);break;case ce.PanelType.Header:z=this._headerPanel.getContainer(I);break;case ce.PanelType.Footer:z=this._footerPanel.getContainer(I);break;case ce.PanelType.Filter:z=this._filterPanel.getContainer(I)}return z}reload(C){ne.Log.debug((()=>"scrollPanel.reload")),this._captionPanel=new CaptionPanel(this.grid),this._bodyPanel=new BodyPanel(this.grid),this._footerPanel=new FooterPanel(this.grid)}doScroll(C){try{if(this.removeMenu(),this.removeComboPopupScrolling(),q.Convert.isValue(this.wheelTimer)&&clearTimeout(this.wheelTimer),q.Convert.isNull(this.scrollCommand))this.scrollCommand=C;else{if(Math.abs(C.scrollY)>20)return;this.scrollCommand.scrollX+=C.scrollX,this.scrollCommand.scrollY+=C.scrollY}const I=this;this.wheelTimer=setTimeout((function(){I._doScroll(I.scrollCommand),I.wheelTimer=void 0,I.scrollCommand=void 0}),2)}finally{}return!1}setScrollPos(C,I,B=!1){return z(this,void 0,void 0,(function*(){yield this.sbScrollbar.setScrollPos(C,I,B)}))}_doScroll(C){var I,B;try{if(0!=C.scrollY)if(0==this.grid.virtualRow){const B=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollv}`),z=Math.trunc(C.scrollY),Q=this.sbScrollbar.getScrollTop(B);let ee=Q-z*(null!==(I=this.grid.config.wheelDelta)&&void 0!==I?I:33);ee>0&&(ee=0),this.sbScrollbar.scrollTo(B,void 0,ee,!0)}else{const I=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollv}`),z=Math.trunc(C.scrollY),Q=this.sbScrollbar.getScrollTop(I);let ee=Q-z*(null!==(B=this.grid.config.wheelDelta)&&void 0!==B?B:33);ee>=0&&(ee=0,this.grid.topRow=0),this.sbScrollbar.scrollTo(I,void 0,ee,!0)}else if(0!=C.scrollX)if(0==this.grid.virtualColumn){const I=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollh}`),B=Math.trunc(C.scrollX);let z=0;const Q=this.sbScrollbar.getScrollLeft(I);z=Q+B,Q+B>0&&(z=0),this.sbScrollbar.scrollTo(I,-z,void 0,!0)}else{const I=q.JqUtils.findElement(this.grid.container,`>.${ae.SbCss.scroll}>.${ae.SbCss.scrollh}`),B=Math.trunc(C.scrollX),z=this.sbScrollbar.getScrollLeft(I);let Q=z+B;z+B>0&&(Q=0),this.sbScrollbar.scrollTo(I,-Q,void 0,!0)}}finally{}}addClass(C,I,B,z=void 0){switch(I){case ce.PanelType.Caption:return this.captionPanel.addClass(C,B,z);case ce.PanelType.Filter:return this.filterPanel.addClass(C,B,z);case ce.PanelType.Header:return this.headerPanel.addClass(C,B,z);case ce.PanelType.Body:return this.bodyPanel.addClass(C,B,z);case ce.PanelType.Footer:return this.footerPanel.addClass(C,B,z)}}removeClass(C,I,B,z=void 0){switch(I){case ce.PanelType.Caption:return this.captionPanel.removeClass(C,B,z);case ce.PanelType.Filter:return this.filterPanel.removeClass(C,B,z);case ce.PanelType.Header:return this.headerPanel.removeClass(C,B,z);case ce.PanelType.Body:return this.bodyPanel.removeClass(C,B,z);case ce.PanelType.Footer:return this.footerPanel.removeClass(C,B,z)}}}I.ScrollPanel=ScrollPanel;class LayoutPanel extends ie.GridPanel{constructor(C,I){super(C,I)}get layout(){}get cells(){return this.getFullCells(this.layout)}render(C){return z(this,void 0,void 0,(function*(){let I=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ae.SbCss.panel} ${this._class}' id='${this.name}' role='rowgroup'></div>`);yield this.renderParts(I,`${this._class}`)}))}renderParts(C,I){var B,q,Q;return z(this,void 0,void 0,(function*(){if(0==(null!==(Q=null===(q=null===(B=this.layout)||void 0===B?void 0:B.rows)||void 0===q?void 0:q.length)&&void 0!==Q?Q:0))return;yield this.renderPart(C,ue.PartType.Fixed,ae.SbCss.fixed),yield this.renderPart(C,ue.PartType.Head,ae.SbCss.head),yield this.renderPart(C,ue.PartType.Body,ae.SbCss.body),yield this.renderPart(C,ue.PartType.Tail,ae.SbCss.tail)}))}renderPart(C,I,B){return z(this,void 0,void 0,(function*(){let z=this.makePart(C,I,B);return yield this.renderColumns(z,I,B),z}))}getRowParentCss(C,I){return`>.${ae.SbCss.panel}.${ae.SbCss.scroll}>.${ae.SbCss.scroll_body}>.${ae.SbCss.panel}.${C}>.${ae.SbCss.area}>.${I}>.${ae.SbCss.scroll}`}makePart(C,I,B){let z=q.JqUtils.adjustElement(C,`>div.${B}`,`<div class='${ae.SbCss.part} ${B}'></div>`);const Q=this.grid.defaultLayout.rows[0].getCells(I);let ee=`${ae.SbCss.scroll}`,te=q.JqUtils.adjustElement(z,`>div.${ae.SbCss.scroll}`,`<div class='${ee}'></div>`);return q.JqUtils.changeClass(te,ee),q.Convert.isEmpty(Q)&&te.empty(),this.grid.config.captionVisible&&this.grid.config.freezable&&(I==ue.PartType.Head||I==ue.PartType.Tail)&&z.addClass(ae.SbCss.frozen),te}renderColumns(C,I,B){return z(this,void 0,void 0,(function*(){}))}createStyle(C){return z(this,void 0,void 0,(function*(){const I=this.cells,B=C.width();let z=0;const Q=`.${ae.SbCss.scroll_body} > .${ae.SbCss.panel} > .${ae.SbCss.area} > .${ae.SbCss.part}`;if(I.some((C=>C.unit!=ue.Unit.Pixel))){let C=0,te=0;for(const B in I){const z=I[B];q.Convert.isNull(z)||z.constructor.name!=ee.GridCell.name||(z.unit==ue.Unit.Pixel?C+=z.width:te+=z.width)}const ie=this.splitPart(I);z=(B-C)/te,this.grid.style.set(Q+`.${ae.SbCss.fixed}`,{width:this.calcPartWidth(ie.fixed,z)+"px"}),this.grid.style.set(Q+`.${ae.SbCss.head}`,{width:this.calcPartWidth(ie.head,z)+"px"}),this.grid.style.set(Q+`.${ae.SbCss.tail}`,{width:this.calcPartWidth(ie.tail,z)+"px"})}else this.grid.style.set(Q+`.${ae.SbCss.fixed}`,{width:"auto"}),this.grid.style.set(Q+`.${ae.SbCss.head}`,{width:"auto"}),this.grid.style.set(Q+`.${ae.SbCss.body}`,{width:"auto"}),this.grid.style.set(Q+`.${ae.SbCss.tail}`,{width:"auto"});yield this.createStylePart(C,ue.PartType.Fixed,ae.SbCss.fixed,z),yield this.createStylePart(C,ue.PartType.Head,ae.SbCss.head,z),yield this.createStylePart(C,ue.PartType.Body,ae.SbCss.body,z),yield this.createStylePart(C,ue.PartType.Tail,ae.SbCss.tail,z)}))}createStylePart(C,I,B,q){return z(this,void 0,void 0,(function*(){}))}getElement(C,I){throw new Error("Method not implemented.")}getCell(C,I=void 0){throw new Error("Method not implemented.")}addClass(C,I,B=void 0){const z=this.getElement(I,B);return q.JqUtils.addClass(z,C),z}removeClass(C,I,B=void 0){const z=this.getElement(I,B);return q.JqUtils.removeClass(z,C),z}calcRenderClass(C,I,B,z){const Q=I[B.row],ee=null==Q?void 0:Q.cssClass;let te="";return q.Convert.isValue(ee)&&(te+=" "+("function"==typeof ee?ee(z()):ee)),q.Convert.isValue(null==Q?void 0:Q.align)?te+=` ${ae.SbCss.toClass(Q.align)}`:te+=` ${ae.SbCss.toClass(C.config.align)}`,te}unit(C){return C===ue.Unit.Pixel?"px":"fr"}getFullCells(C){var I;const B=[];for(const z in null!==(I=null==C?void 0:C.rows)&&void 0!==I?I:[]){const I=C.rows[z];for(const C in I.cells){const z=I.cells[C];q.Convert.isNull(null==z?void 0:z.column)||(B[z.column.index]=z)}}return B}splitPart(C){const I={fixed:[],head:[],body:[],tail:[]};for(const B in C){const z=C[B];if(!q.Convert.isNull(z)&&z.constructor.name==ee.GridCell.name)switch(z.part){case ue.PartType.Fixed:I.fixed.push(z);break;case ue.PartType.Head:I.head.push(z);break;case ue.PartType.Sticky:case ue.PartType.Body:I.body.push(z);break;case ue.PartType.Tail:I.tail.push(z)}}return I}calcPartWidth(C,I){var B;let z=0;for(const Q in C){const te=C[Q];if(!q.Convert.isNull(te)&&te.constructor.name==ee.GridCell.name)if(te.unit===ue.Unit.Pixel)z+=te.width;else z+=I>0?te.width*I:null!==(B=te.column.minWidth)&&void 0!==B?B:0}return z}getLayout(C){let I=this.layout,B=!1,z=!1,Q=!1;if((null==C?void 0:C.node.constructor.name)==re.GroupNode.name){const z=C.node.igroup.field,Q=this.grid.groupLayout(z).header;q.Convert.isValue(Q.rows)&&(I=Q,B=!0)}else if((null==C?void 0:C.node)instanceof re.FooterNode)if(C.node.parent instanceof re.GroupNode){const B=C.node.parent.igroup.field,Q=this.grid.groupLayout(B).footer;q.Convert.isValue(Q.rows)&&(I=Q,z=!0)}else if(C.node.parent instanceof re.TreeNode){const C=this.grid.treeFooterLayout;q.Convert.isValue(C.rows)&&(I=C,Q=!0)}return{layout:I,isGroupHeader:B,isGroupFooter:z,isTreeFooter:Q}}layoutPanel(C){return q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ae.SbCss.panel} ${this._class}' id='${this.name}' role='rowgroup'></div>`)}}I.LayoutPanel=LayoutPanel;class CaptionPanel extends LayoutPanel{constructor(C){super(C,ae.SbCss.caption)}get columnResize(){var C,I,B;return null!==(C=this._columnResize)&&void 0!==C?C:q.Convert.isValue(null===(B=null===(I=this.grid)||void 0===I?void 0:I.config)||void 0===B?void 0:B.resizable)?this._columnResize=new he.ColumnResize(this.grid):void 0}get columnReorder(){var C;return null!==(C=this._columnReorder)&&void 0!==C?C:this._columnReorder=new ve.ColumnReorder(this.grid)}get layout(){return this.grid.captionLayout}renderParts(C,I){const B=Object.create(null,{renderParts:{get:()=>super.renderParts}});var Q;return z(this,void 0,void 0,(function*(){let z=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.thead}`,`<div class='${ae.SbCss.area} ${ae.SbCss.thead}' ></div>`);yield B.renderParts.call(this,z,I),null===(Q=this.columnResize)||void 0===Q||Q.renderIndecator(C)}))}renderColumns(C,I,B){var Q,te,ie;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.row}.${ae.SbCss.caption}`,`<div class='${ae.SbCss.row} ${ae.SbCss.caption}' role='row'></div>`);if(0==(null!==(ie=null===(te=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return B;const z=this.layout,re=new Set;for(const C of z.rows){const z=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(z))for(const C of z){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:z,colClass:Q}=this.makeColClass(I,C);re.add(z);let te=q.JqUtils.adjustElement(B,`>span.${z}`,`<span class='${Q}' role='columnheader'></span>`);q.JqUtils.changeClass(te,Q),te.data("col",C.col),te.data("column",I),te.data("cell",C),q.JqUtils.changeDataset(te,"selector",z),yield I.renderCaption(te),this.grid.config.reorderable.column&&(this.columnReorder.addDraggableColumn(te),this.columnReorder.addDroppableColumn(te)),!0===this.grid.config.groupable&&fe.ToolGroup.addDraggableHandler(te,this.grid)}}return q.JqUtils.movetoTrash(this.grid.trashCan,B,re),B}))}makeColClass(C,I,B){let z=`${ae.SbCss.col}-${I.row+1}-${I.col}`,Q=`${z} ${ae.SbCss.col}`;const ee=C.config.captionCss;return 0==q.Convert.isWhite(ee)&&(Q+="string"==typeof ee?` ${ee}`:` ${ee(C)}`),C.part==ue.PartType.Sticky&&(Q+=` ${ae.SbCss.sticky}`),0==C.width&&(Q+=` ${ae.SbCss.hidden}`),Q+=this.grid.selectManager.makeSelectClass(B,C,I,this.grid.captionLayout,ce.PanelType.Caption),{colSelector:z,colClass:Q}}createStylePart(C,I,B,Q){var te,ie,re,ne,se,oe,le,de;return z(this,void 0,void 0,(function*(){if(0==(null!==(re=null===(ie=null===(te=this.layout)||void 0===te?void 0:te.rows)||void 0===ie?void 0:ie.length)&&void 0!==re?re:0))return;let C;const z=[],ce=this.layout,he=null===(ne=ce.rows[0])||void 0===ne?void 0:ne.cells[(null===(se=ce.rows[0])||void 0===se?void 0:se.cells.length)-1];if(q.Convert.isNull(he))return;he.col,he.colSpan;const fe=this.grid.defaultLayout.stickyOverflow,pe=this.getRowParentCss(ae.SbCss.caption,B);for(const B of ce.rows){const z=null==B?void 0:B.getCells(I);if(!q.Convert.isEmpty(z))for(const I of z){if(q.Convert.isNull(I)||I.constructor.name!=ee.GridCell.name)continue;const B=I.column;q.Convert.isNull(C)&&(C=I.index-1);const z=`${ae.SbCss.col}-${I.row+1}-${I.col}`,Q=null!==(oe=I.colSpan)&&void 0!==oe?oe:0,te=null!==(le=I.rowSpan)&&void 0!==le?le:0,ie={"grid-column":`${I.index-C}${Q>1?" / span "+Q:""}`,"grid-row":`${I.row+1}${te>1?" / span "+te:""}`};0==fe&&B.part==ue.PartType.Sticky&&(ie.position="sticky",ie.left=I.stickyLeft+"px",ie.right=I.stickyRight+"px",ie["z-index"]=I.col+1),this.grid.style.set(`${pe}>.${ae.SbCss.row}.${ae.SbCss.caption}>.${ae.SbCss.col}.${z}`,ie)}}for(const C of this.grid.defaultLayout.rows){const B=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(B))for(const C of B){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;let I="";I=C.unit==ue.Unit.Pixel?C.width+this.unit(C.unit):C.width<=C.minWidth?C.minWidth+"px":C.maxWidth<=C.width?C.maxWidth+"px":Q>0?`minmax(${C.minWidth+this.unit(ue.Unit.Pixel)}, ${C.width+this.unit(C.unit)})`:(null!==(de=C.minWidth)&&void 0!==de?de:0)+this.unit(ue.Unit.Pixel),z[C.col]=I}}const me=this.getRowParentCss(ae.SbCss.header,B),ge=this.getRowParentCss(ae.SbCss.footer,B),ve=this.getRowParentCss(ae.SbCss.filter,B),ye=this.getRowParentCss(ae.SbCss.body,B),be=q.Convert.isValue(z)?z.join(" "):"none";this.grid.style.set(`${pe}>.${ae.SbCss.row}.${ae.SbCss.caption}`,{display:"grid","grid-auto-rows":this.grid.captionHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":be}),this.grid.style.set(`${me}>.${ae.SbCss.row}.${ae.SbCss.header}`,{display:"grid","grid-auto-rows":this.grid.headerHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":be}),this.grid.style.set(">.sbgrid-panel.sbgrid-scroll>.sbgrid-scroll-body>.sbgrid-panel>.sbgrid-area>.sbgrid-part>.sbgrid-scroll",{display:"grid"});this.grid.rowHeight.reduce(((C,I)=>C+I),0);this.grid.style.set(`${ye}`,{display:"grid"}),this.grid.style.set(`${ye}>.${ae.SbCss.row}`,{display:"grid","grid-auto-rows":this.grid.rowHeight.map((C=>`minmax(${C}px, ${this.grid.fixedRows?C+"px":"auto"})`)).join(" "),"grid-template-columns":be}),this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.variable}`,{"max-height":`${this.grid.config.maxRowHeight}px`}),this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.detail}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.detailHeight}px, ${this.grid.fixedRows?this.grid.config.detailHeight+"px":"auto"})`,"grid-template-columns":be}),this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.variable}.${ae.SbCss.detail}`,{"max-height":`${this.grid.config.maxDetailHeight}px`}),this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.tree}.${ae.SbCss.footer}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":be}),q.Convert.isValue(this.grid.dataConfig.groups)&&(this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.group}.${ae.SbCss.header}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":be}),this.grid.style.set(`${ye}>.${ae.SbCss.row}.${ae.SbCss.group}.${ae.SbCss.footer}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":be})),this.grid.style.set(`${ge}>.${ae.SbCss.row}`,{display:"grid","grid-auto-rows":this.grid.footerHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":be}),this.grid.style.set(`${ve}>.${ae.SbCss.row}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.filterHeight}px, ${this.grid.config.filterHeight+"px"})`,"grid-template-columns":be})}))}getContainer(C){const I=q.Utils.findCellFromColumn(this.grid.captionLayout,C);if(q.Convert.isNull(I))return;const B=oe.SBGrid3.$(`.${ae.SbCss.part}${q.Convert.isNull(I)?"":"."+ae.SbCss.toClass(I.part==ue.PartType.Sticky?ce.PanelType.Body:I.part)} div.${ae.SbCss.row}.${ae.SbCss.caption}`,this.grid.container),{colSelector:z}=this.makeColClass(C,I);return oe.SBGrid3.$(`.${z}`,B)}getCell(C,I=void 0){return this.grid.captionLayout.findCell(C)}getElement(C,I){const B=oe.SBGrid3.$(`> .${ae.SbCss.panel}.${ae.SbCss.scroll} > .${ae.SbCss.scroll_body} > .${ae.SbCss.caption} > .${ae.SbCss.area} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}`,this.grid.container),z=this.getCell(C);return q.Convert.isNull(z)?B:oe.SBGrid3.$(`> .${ae.SbCss.col}-${z.row+1}-${z.col}`,B)}doCommand(C,I){return I.command!==le.Commands.Escape?super.doCommand(C,I):(this.doCancelDrag(I),!0)}doCancelDrag(C){const I=oe.SBGrid3.$(`div.${ae.SbCss.panel}.${ae.SbCss.caption}`,this.grid.container);ve.ColumnReorder.cancelDrag(I)}}I.CaptionPanel=CaptionPanel;class BodyPanel extends LayoutPanel{constructor(C){super(C,ae.SbCss.body),this.onMouseWheel=C=>z(this,void 0,void 0,(function*(){var I;if(C.originalEvent instanceof WheelEvent){let B=Math.trunc(C.originalEvent.deltaY*window.devicePixelRatio/(null!==(I=this.grid.config.wheelDelta)&&void 0!==I?I:33)),z=Math.trunc(C.originalEvent.deltaX);if(this.grid.virtualRow){if(B<0&&0==this.grid.topRow)return!0;if(B>0&&this.grid.topRow==(yield this.grid.getMaxTopRow()))return!0}else{if(B<0&&0==this.grid.scrollPanel.scrollTop)return!0;if(B>0&&Math.round(this.grid.scrollPanel.scrollTop+this.grid.scrollPanel.viewportHeight)>=this.grid.scrollPanel.scrollHeight)return!0}C.preventDefault(),this.grid.fireCommandAsync(this,new se.ScrollCommand(-z,B))}return!1})),this.onMouseMove=C=>{},this.onMouseDown=C=>{}}get jqPanel(){return this._jqPanel}get thead(){var C;return null!==(C=this._headerPanel)&&void 0!==C?C:this._headerPanel=new RowsPanel(this.grid,ae.SbCss.thead,(()=>this.rowsView.headers),!0,!1)}get tbody(){var C;return null!==(C=this._rowsPanel)&&void 0!==C?C:this._rowsPanel=new RowsPanel(this.grid,ae.SbCss.tbody,(()=>this.rowsView.currRows),!1,!0)}get tfoot(){var C;return null!==(C=this._footerPanel)&&void 0!==C?C:this._footerPanel=new RowsPanel(this.grid,ae.SbCss.tfoot,(()=>this.rowsView.footers),!0,!1)}get rowsView(){var C;return null!==(C=this._rowsView)&&void 0!==C?C:this._rowsView={}}get rows(){return[].concat(this._rowsView.prevRows).concat(this._rowsView.currRows).concat(this._rowsView.nextRows)}get bodyHeight(){var C;return q.Convert.isValue(this._bodyHeight)?this._bodyHeight:null===(C=this.jqPanel)||void 0===C?void 0:C.height()}set bodyHeight(C){this._bodyHeight=C}setBodyHeight(C=void 0){var I,B,z;return this._bodyHeight=null!=C?C:null!==(B=null===(I=this.jqPanel)||void 0===I?void 0:I.is(":visible"))&&void 0!==B&&B?null===(z=this.jqPanel)||void 0===z?void 0:z.height():void 0}get scrollHeight(){return this.tbody.scrollHeight}get rowsPanel(){return this._rowsPanel}get layout(){return this.grid.rowLayout}layoutPanel(C){return q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ae.SbCss.panel} ${this._class}' id='${this.name}'></div>`)}get gridDroppable(){var C;return null!==(C=this._gridDroppable)&&void 0!==C?C:this._gridDroppable=new Ce.GridDroppable(this.grid)}render(C){var I;return z(this,void 0,void 0,(function*(){const B=this._jqPanel=this.layoutPanel(C);this.grid.autoHeight&&(this._bodyHeight=Math.min(this._bodyHeight,this.rowsView.rowHeights)),yield this.ensureRowsView(),yield this.thead.render(B),yield this.tbody.render(B),yield this.tfoot.render(B),this.grid.autoHeight&&(this._bodyHeight=Math.min(this._bodyHeight,this.rowsView.rowHeights)),this.grid.setEvent("scrollWheel","wheel",this.constructor.name,this.onMouseWheel,B[0]),(q.Convert.isValue(this.grid.config.dataDroppable)||q.Convert.isValue(null===(I=this.grid.reorderable)||void 0===I?void 0:I.row))&&this.gridDroppable.addGridDroppable(B)}))}lazyRender(C){return z(this,void 0,void 0,(function*(){const I=this._jqPanel=this.layoutPanel(C);yield this.ensureRowsView(),yield this.tbody.lazyRender(I)}))}createStylePart(C,I,B,Q){var ee,te,ie,re,ne;return z(this,void 0,void 0,(function*(){if(0==(null!==(ie=null===(te=null===(ee=this.layout)||void 0===ee?void 0:ee.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return;const C=q.Convert.isValue(this.grid.dataConfig.groups),z=this.grid.defaultLayout.stickyOverflow;if(yield this.createRowStyle(this.layout,I,B,"",0,0,z),C){const C=this.grid.dataConfig.groups;for(let q=0;q<(null!==(re=C.length)&&void 0!==re?re:0);q++){const Q=C[q].field,{header:ee,footer:te}=this.grid.groupLayout(Q);yield this.createRowStyle(ee,I,B,"."+ae.SbCss.group+"."+ae.SbCss.header+"."+ae.SbCss.toClass(Q),C.length,q,z),yield this.createRowStyle(te,I,B,"."+ae.SbCss.group+"."+ae.SbCss.footer+"."+ae.SbCss.toClass(Q),C.length,q,z)}}q.Convert.isValue(null===(ne=this.grid.dataConfig.tree)||void 0===ne?void 0:ne.aggregates)&&(yield this.createRowStyle(this.grid.treeFooterLayout,I,B,"."+ae.SbCss.tree+"."+ae.SbCss.footer,0,0,z)),q.Convert.isValue(this.grid.detailTemplate)&&(yield this.createRowStyle(this.grid.detailLayout,I,B,"."+ae.SbCss.detail,0,0,z))}))}createRowStyle(C,I,B,Q,te,ie,re){var ne,se,oe,le;return z(this,void 0,void 0,(function*(){const z=null===(ne=C.rows[0])||void 0===ne?void 0:ne.cells[(null===(se=C.rows[0])||void 0===se?void 0:se.cells.length)-1];if(q.Convert.isNull(z))return;z.col,z.colSpan;let te,ie;const ue=this.getRowParentCss(ae.SbCss.body,B);for(const B of C.rows){const C=null==B?void 0:B.getCells(I);if(q.Convert.isEmpty(C))continue;let z;for(const I of C){if(q.Convert.isNull(I)||I.constructor.name!=ee.GridCell.name)continue;q.Convert.isNull(te)&&(te=I.index-1,ie=te);const C=I.column,B=`${ae.SbCss.col}-${I.row+1}-${I.col}`,ne=null!==(oe=I.colSpan)&&void 0!==oe?oe:0,se=null!==(le=I.rowSpan)&&void 0!==le?le:0;ie=Math.max(ie,I.col);const de={"grid-column":`${I.index-te}${ne>1?" / span "+ne:""}`,"grid-row":`${I.row+1}${se>1?" / span "+se:""}`};0==re&&C.isSticky&&(de.position="sticky",de.left=I.stickyLeft+"px",de.right=I.stickyRight+"px",de["z-index"]=I.col+1),z=I,this.grid.style.set(`${ue}>.${ae.SbCss.row}${Q}>.${ae.SbCss.col}.${B}`,de)}}return{firstCol:te,lastCol:ie}}))}createStyle(C){const I=Object.create(null,{createStyle:{get:()=>super.createStyle}});return z(this,void 0,void 0,(function*(){yield I.createStyle.call(this,C),this.createStyleStickyRow(C,this.rowsView.currRows)}))}createStyleStickyRow(C,I){var B,z;if(0==this.grid.config.stickyRow)return;if(1==this.grid.scrollWhole)return;if(q.Convert.isNull(I))return;const Q=null===(B=this.layout.rows[0])||void 0===B?void 0:B.cells[(null===(z=this.layout.rows[0])||void 0===z?void 0:z.cells.length)-1];if(q.Convert.isNull(Q))return;let ee=Q.col+Q.colSpan;this.grid.config.stickyFooter;let te=0,ie=0;const re=new Map,ne=[];for(const C of I){const I=null==C?void 0:C.rowItem;if(q.Convert.isNull(I))continue;const B=makeRowName(this.tbody.name,I);if(this._rowsView.stickyKeys.has(C.rowItem.key)){re.set(B,{top:ie+"px",position:"sticky"});ie+=this.grid.viewport.getItemHeight(C.rowItem).height,ne.push(C.rowItem)}}ee+=ne.length;for(const C of[].concat(ne).reverse()){const I=makeRowName(this.tbody.name,C),B=re.get(I);B.bottom=te+"px",B["z-index"]=ee--,re.set(I,B);te+=this.grid.viewport.getItemHeight(C).height}function makeRowPrefix(C){return`#${C} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}-`}function makeRowName(C,I){return makeRowPrefix(C)+`${I.rowIndex}`}!function adjustStickyStyle(C,I){const B=makeRowPrefix(C),z=I.keys;for(const C of z)C.includes(B)&&I.delete(C);for(const C of re.keys())I.set(C,re.get(C))}(this.tbody.name,this.grid.styleScroll)}ensureRowsView(C=void 0){return z(this,void 0,void 0,(function*(){q.Convert.isNull(C)&&(C=this.bodyHeight),this._rowsView=yield this.grid.viewport.makeRows()}))}getCell(C,I=void 0){if(q.Convert.isNull(C))return null;switch(null==I?void 0:I.node.constructor.name){case re.GroupItem.name:case re.ListNode.name:case re.TreeNode.name:return this.grid.rowLayout.findCell(C);case re.GroupNode.name:const{header:B}=this.grid.groupLayout(I.node.igroup.field);return B.findCell(C);case re.FooterNode.name:const z=I.node.parent;if(z instanceof re.GroupNode){const{footer:I}=this.grid.groupLayout(z.igroup.field);return I.findCell(C)}return this.grid.treeFooterLayout.findCell(C)}}getElement(C,I){const B=oe.SBGrid3.$(`> .${ae.SbCss.panel}.${ae.SbCss.scroll} > .${ae.SbCss.scroll_body} > .${ae.SbCss.body} > .${ae.SbCss.area} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}-${I.rowIndex}`,this.grid.container),z=this.getCell(C,I);return q.Convert.isNull(z)?B:oe.SBGrid3.$(`> .${ae.SbCss.col}-${z.row+1}-${z.col}`,B)}}I.BodyPanel=BodyPanel;class RowsPanel extends LayoutPanel{constructor(C,I,B,q,Q){super(C,I),this.detailScroll=C=>!1,this.detailWheel=C=>z(this,void 0,void 0,(function*(){if(C.originalEvent instanceof WheelEvent){oe.SBGrid3.$(C.target);Math.trunc(C.originalEvent.deltaY/50),Math.trunc(C.originalEvent.deltaX);if(this.isScrollable(C.currentTarget,C.originalEvent).vertical)return!1;C.stopPropagation()}return!0})),this.isScrollable=function(C,I){return{vertical:C.scrollHeight>C.clientHeight&&(I.deltaY>0?C.scrollTop+C.clientHeight+RowsPanel.wheelScrollThreshold<C.scrollHeight:C.scrollTop>0),horizontal:C.scrollWidth>C.clientWidth&&(I.deltaX>0?C.scrollLeft+C.clientWidth+RowsPanel.wheelScrollThreshold<C.scrollWidth:C.scrollLeft>0)}},this._view=B,this._ignoreRange=q,this._isBody=Q}get scrollHeight(){return this._scrollHeight}get viewportHeight(){return this._height}get layout(){return this.grid.rowLayout}get isBody(){return this._isBody}get jqPanel(){return this._jqPanel}get gridDraggable(){var C;return null!==(C=this._gridDraggable)&&void 0!==C?C:this._gridDraggable=new Ce.GridDraggable(this.grid)}render(C){var I;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ae.SbCss.area} ${this._class}' id='${this.name}'></div>`);if(this._jqPanel=B,q.Convert.isEmpty(null===(I=this.layout)||void 0===I?void 0:I.rows))return;yield this.renderRows(B,this._view(),this._ignoreRange,!1),this._height=B.height();const z=this.grid.config.reorderable;(q.Convert.isValue(null==z?void 0:z.row)||q.Convert.isValue(this.grid.config.dataDraggable))&&this.gridDraggable.addGridDraggable(B)}))}lazyRender(C){var I;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${ae.SbCss.area} ${this._class}' id='${this.name}'></div>`);this._jqPanel=B,q.Convert.isEmpty(null===(I=this.layout)||void 0===I?void 0:I.rows)||(yield this.renderRows(B,this._view(),this._ignoreRange,!0),this._height=B.height())}))}renderLastRowColumns(C,I){var B,Q,te;return z(this,void 0,void 0,(function*(){let z=C;if(0==(null!==(te=null===(Q=null===(B=this.layout)||void 0===B?void 0:B.rows)||void 0===Q?void 0:Q.length)&&void 0!==te?te:0))return z;const ie=this.layout,re=new Set;for(const C of ie.rows){const B=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(B))for(const C of B){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:B,colClass:Q}=this.makeColClassLastRow(I,C);re.add(B);let te=q.JqUtils.adjustElement(z,`>span.${B}`,`<span class='${Q}' role='columnheader'></span>`);q.JqUtils.changeClass(te,Q),te.data("col",C.col),te.data("column",I),te.data("cell",C),q.JqUtils.changeDataset(te,"selector",B)}}return q.JqUtils.movetoTrash(this.grid.trashCan,z,re),z}))}makeColClassLastRow(C,I){let B=`${ae.SbCss.col}-${I.row+1}-${I.col}`,z=`${B} ${ae.SbCss.col}`;return C.part==ue.PartType.Sticky&&(z+=` ${ae.SbCss.sticky}`),0==C.width&&(z+=` ${ae.SbCss.hidden}`),{colSelector:B,colClass:z}}renderEmptyRows(C,I){const B=new Set,z=q.JqUtils.adjustElement(C,`>span.${ae.SbCss.empty}`,`<span class='${ae.SbCss.empty}'></span>`,void 0,B);if(I)z.remove();else{if(q.Convert.isEmpty(this.grid.emptyTemplate)){const C=`<div class="search-result"><span class="search-result-wrap"><span class="sbgrid-icon sbgrid-search"></span><span class="sbgrid-text">${this.grid.emptyMessage}</span></span></div>`;q.JqUtils.adjustHtml(z,C)}else{const C=this.grid.emptyTemplate(this.grid);q.JqUtils.adjustHtml(z,C)}q.JqUtils.movetoTrash(this.grid.trashCan,C,B)}}renderMerge(C,I){var B;if(0==this.grid.mergeRow&&0==this.grid.mergeColumn)return;const z=C.map((C=>C.rowHeight));for(let Q=0,te=C.length;Q<te;Q++){const te=C[Q];if(q.Convert.isNull(te.rowItem))continue;const ie=null===(B=te.rowItem)||void 0===B?void 0:B.rowIndex,re=`>div>.${ae.SbCss.scroll}>.${ae.SbCss.row}-${ie}>.${ae.SbCss.col}.${ae.SbCss.merge}`,ne=oe.SBGrid3.$(re,I);if(ne.length>0)for(let I=0,B=ne.length;I<B;I++){const B=oe.SBGrid3.$(ne[I]),te=B.data("cell");if(!q.Convert.isNull(te)&&te.constructor.name==ee.GridCell.name&&te.mergeRow>1){let I=0;for(let B=Q,q=Q+te.mergeRow;B<q&&!(B>=C.length);B++)I+=z[B].height;const q=B.outerHeight(!0)-B.height();B.height(I-q)}}}}renderRows(C,I,B,Q=!1){var ee,te,ie,re;return z(this,void 0,void 0,(function*(){if(q.Convert.isEmpty(null===(te=null===(ee=this.layout.rows)||void 0===ee?void 0:ee[0])||void 0===te?void 0:te.cells))return;if(q.Convert.isEmpty(I))return C.empty(),void(0==this.grid.view.isLoading()&&this.isBody&&0==(null!==(ie=this.grid.total)&&void 0!==ie?ie:0)&&(this.renderEmptyRows(C,!1),this._scrollHeight=0));this.renderEmptyRows(C,!0);const z=[{part:ue.PartType.Body,clazz:ae.SbCss.body,container:this.makePart(C,ue.PartType.Body,ae.SbCss.body)},{part:ue.PartType.Head,clazz:ae.SbCss.head,container:this.makePart(C,ue.PartType.Head,ae.SbCss.head)},{part:ue.PartType.Tail,clazz:ae.SbCss.tail,container:this.makePart(C,ue.PartType.Tail,ae.SbCss.tail)},{part:ue.PartType.Fixed,clazz:ae.SbCss.fixed,container:this.makePart(C,ue.PartType.Fixed,ae.SbCss.fixed)}],se=this.grid.refreshCommand,le=new Set;let de=!1;const ce=this.grid.fixedRows;let he=0;const fe=this.grid.scrollPanel.scrollTop,pe=this.grid.height,me=this.grid.topRow,ge=I[I.length-1].rowIndex;this.grid.refreshCommand.rowStart,this.grid.refreshCommand.rowEnd;for(const ee of I){const I=null==ee?void 0:ee.rowItem;if(q.Convert.isNull(I)){ne.Log.warn((()=>"rowItem is null"));break}const te=I.rowIndex,ie=ee.merge,ue=this.makeRowClass(I),me=this.makeRowClass(I,!0),ge=null!==(re=ee.rowHeight)&&void 0!==re?re:{total:0,height:0,detail:0,rowFix:!1,detailFix:!1,rendered:!1},ve=0==this.grid.scrollWhole&&0==I.isSticky&&(he<fe-ge.total||fe+1.5*pe<he);le.add(ue.rowSelector),0==q.Convert.isNull(me)&&le.add(me.rowSelector);let ye=0,be=0,Ce=1==Q&&(ge.rendered||ve);if(0==Ce&&0==B&&1==ve&&1==ge.rowFix&&0==q.Convert.between(null==se?void 0:se.rowStart,te,null==se?void 0:se.rowEnd)){const I=oe.SBGrid3.$(`>.${ae.SbCss.part}>.${ae.SbCss.scroll}>.${ue.rowSelector}`,C);I.length>0&&(I.each(((C,I)=>{ye=Math.max(ye,oe.SBGrid3.$(I).height())})),ye=Math.min(q.Convert.asInt(ye),this.grid.config.maxRowHeight),Ce=!0)}if(0==Ce){this.grid.dataSource.hasCalcFields&&this.grid.view.calcFields(I.box);for(const C of z){const B=yield this.renderRow(ve,I,C.container,he,ee.rowHeight,C.clazz,C.part,ie,se,ue,me);ye=Math.max(ye,B.height),be=Math.max(be,B.detail)}ge.rendered=0==ve,ye>0&&(ye=Math.min(q.Convert.asInt(ye),this.grid.config.maxRowHeight)),be>0&&(be=Math.min(q.Convert.asInt(be),this.grid.config.maxDetailHeight))}else ce&&(ye=this.grid.rowHeights,be=this.grid.detailHeight);if(0==ce){if(0==Ce&&0==ve){if(de=!0,ge.height!=ye&&(this.grid.setRowHeight(I,ye,void 0),ge.height=ye,ge.rowFix=!1),1!=ge.rowFix){for(const C of z){const I=q.JqUtils.findElement(C.container,`>.${ue.rowSelector}`);I.height(ye),ye==this.grid.config.maxRowHeight?q.JqUtils.addClass(I,ae.SbCss.scroll):q.JqUtils.removeClass(I,ae.SbCss.scroll)}ge.rowFix=!0}if(I.isDetail&&(de=!0,ge.detail!=be&&(this.grid.setRowHeight(I,void 0,be),ge.detail=be,ge.detailFix=!1),1!=ge.detailFix)){for(const C of z){const I=q.JqUtils.findElement(C.container,`>.${me.rowSelector}`);I.height(be),be==this.grid.config.maxDetailHeight?q.JqUtils.addClass(I,ae.SbCss.scroll):q.JqUtils.removeClass(I,ae.SbCss.scroll)}ge.detailFix=!0}ge.total=ge.height+(I.isDetail?ge.detail:0),I.setRowHeights(ge),ee.rowHeight=ge}}else I.setRowHeights(ge);he+=ge.total}{const C=`${ae.SbCss.last}`;le.add(C);for(const I of z){const B=q.JqUtils.adjustElement(I.container,`>div.${C}`,`<div class='${ae.SbCss.row} ${ae.SbCss.last}' data-selector='${C}' />`);q.JqUtils.changeDataset(B,"selector",C),I.container.get(0).appendChild(B.get(0)),this.renderLastRowColumns(B,I.part)}}for(const C of z)q.JqUtils.movetoTrash(this.grid.trashCan,C.container,le);if(this._scrollHeight=he,(!this.grid.fixedRows||0!=this.grid.mergeRow)&&(this.renderMerge(I,C),de)){let C=0;for(const B of I)B.top=C,B.rowHeight.total=B.rowHeight.height+B.rowHeight.detail,C+=B.rowHeight.total;this.grid.calcRowHeights()}}))}renderRow(C,I,B,Q,ee,te,ie,ne,se,oe,ae){var le,ue,de;return z(this,void 0,void 0,(function*(){const z={height:null!==(le=null==ee?void 0:ee.height)&&void 0!==le?le:0,detail:null!==(ue=null==ee?void 0:ee.detail)&&void 0!==ue?ue:0,total:null!==(de=null==ee?void 0:ee.total)&&void 0!==de?de:0,rowFix:ee.rowFix,detailFix:ee.detailFix,rendered:!1};let Q=I.rowIndex;const ce=`>div.${oe.rowSelector}`;let he=q.JqUtils.adjustElement(B,ce,`<div class='${te} ${oe.rowClass}' role='row' aria-rowindex='${Q+1}'></div>`,(C=>C.data("row")>Q));if(q.JqUtils.changeDataset(he,"selector",oe.rowSelector),0==this.grid.fixedRows&&0==C&&1!=z.rowFix?he.css("height",""):he.height(ee.height),he.data("row",Q),he.data("rowItem",I),q.JqUtils.changeClass(he,oe.rowClass),0==I.visible)return he.empty(),he.height(0),z;if(C)return z;const{layout:fe,isGroupHeader:pe,isGroupFooter:me,isTreeFooter:ge}=this.getLayout(I);if(0==fe.rows[0].getCells(ie).length)return z;if(yield this.renderCols(fe,ie,ne,I,se,he,Q,pe,me,ge),z.rendered=!0,0==this.grid.fixedRows&&he[0].hasChildNodes()){let C=he[0].offsetHeight;I.node instanceof re.GroupNode||I.node instanceof re.FooterNode||(C>this.grid.config.maxRowHeight?(he.height(this.grid.config.maxRowHeight),C=this.grid.config.maxRowHeight):ee.height),z.height=C}return this.grid.hasDetail&&(yield this.renderRowDetail(ee,B,ae,Q,I,ie,z)),z.total=z.height+z.detail,z}))}renderRowDetail(C,I,B,Q,ee,te,ie){return z(this,void 0,void 0,(function*(){if(this.grid.hasDetail){let z=this.grid.detailHeight;const ne=`>.${B.rowSelector}`,se=q.JqUtils.adjustElement(I,ne,`<div class='${B.rowClass}' role='row' aria-rowindex='${Q+1}'></div>`,(C=>C.data("row")>Q));if(ee.node.constructor.name!=re.GroupNode.name)if(q.JqUtils.changeDataset(se,"selector",B.rowSelector),0==C.detailFix&&se.css("height",this.grid.fixedRows&&ee.isDetail?z:""),se.data("row",Q),q.JqUtils.changeClass(se,B.rowClass),ee.isDetail&&(yield this.renderColsDetail(te,ee,se),ie.detail=this.grid.fixedRows?this.grid.detailHeight:se.height()),0==this.grid.fixedRows&&ee.isDetail){let I=q.Convert.asInt(se.height());I<=C.detail?(se.height(C.detail),I=C.detail):I>this.grid.config.maxDetailHeight&&(se.height(this.grid.config.maxDetailHeight),I=this.grid.config.maxDetailHeight),ie.detail=I}else ie.detail=this.grid.config.detailHeight,ee.isDetail?se.height(C.detail):se.height(0)}else ie.detail=0}))}renderCols(C,I,B,Q,te,ie,re,ne,se,le){var de;return z(this,void 0,void 0,(function*(){const z=new Set;let ce;const he=null===(de=C.rows)||void 0===de?void 0:de.length;for(const de of C.rows){const C=null==de?void 0:de.getCells(I);if(q.Convert.isEmpty(C))continue;if(q.Convert.isNull(ce))for(const I of C)if(!q.Convert.isNull(I)&&I.constructor.name==ee.GridCell.name){ce=I.col;break}const fe=I!=ue.PartType.Fixed&&(this.grid.mergeColumn||this.grid.mergeRow)?this.grid.viewport.makeMerge(C,Q,B,he):C;for(const C of fe){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:B,colClass:de}=this.makeColClass(Q,I,C);z.add(B);const he=I.index;let fe=oe.SBGrid3.$(`>span.${B}`,ie);if(fe.length>0&&(q.Convert.isValue(null==te?void 0:te.colStart)&&te.colStart>he||q.Convert.isValue(null==te?void 0:te.colEnd)&&he>te.colEnd||q.Convert.isValue(null==te?void 0:te.cols)&&te.cols.indexOf(he)<0))0==this.grid.fixedRows&&fe.css("height","");else{if(C.mergeRow>1&&fe.css("height",""),fe=q.JqUtils.adjustElement(ie,`>span.${B}`,`<span class='${de}' role='gridcell' aria-colindex='${I.colIndex}'></span>`),q.JqUtils.changeClass(fe,de),fe.data("col",I.index),fe.data("row",re),fe.data("column",I),fe.data("cell",C),q.JqUtils.changeDataset(fe,"selector",B),C.column.mergeRow&&C.mergeRow>1||C.column.mergeColumn&&C.mergeCol>1){if(this.grid.fixedRows){const I=fe.outerHeight(!0)-fe.outerHeight();fe.css("height",this.grid.viewport.getItemHeight(Q).height*C.mergeRow-I)}switch(fe.css("grid-area",`${C.row+1} / ${C.col-ce+1} / span ${C.rowSpan} / span ${C.colSpan+C.mergeCol-1}`),fe.css("flex-direction","column"),I.valign){case ue.VertAlign.Top:fe.css("justify-content","flex-start");break;case ue.VertAlign.Center:fe.css("justify-content","center");break;case ue.VertAlign.Bottom:fe.css("justify-content","flex-end");break;default:fe.css("justify-content","center")}}else if(fe.css("height",""),0==this.grid.fixedRows)switch(I.valign){case ue.VertAlign.Top:fe.css("justify-content","flex-start");break;case ue.VertAlign.Center:fe.css("justify-content","center");break;case ue.VertAlign.Bottom:fe.css("justify-content","flex-end");break;default:fe.css("justify-content","center")}fe.hasClass(ae.SbCss.fillHandle)&&this.grid.selectManager.addFillHandlerEvent(fe),1==te.onlyLayout&&fe.children().length>0||(ne?yield I.renderGroupHeader(fe,Q,C):se?yield I.renderGroupFooter(fe,Q,C):le?yield I.renderTreeFooter(fe,Q,C):Q.isEdit&&0==C.merge&&I.isEdit(Q)?yield I.renderEdit(fe,Q,C):yield I.renderCell(fe,Q,C))}}}q.JqUtils.movetoTrash(this.grid.trashCan,ie,z)}))}renderColsDetail(C,I,B){return z(this,void 0,void 0,(function*(){const z=new Set,Q=this.grid.detailLayout.rows;for(const te of Q){const Q=null==te?void 0:te.getCells(C);if(!q.Convert.isEmpty(Q))for(const C in Q){const te=Q[C];if(te.constructor.name!=ee.GridCell.name)continue;if(q.Convert.isNull(te)||0==te.visible)continue;const ie=te.column,{colSelector:re,colClass:ne}=this.makeColClass(I,ie,te);z.add(re);let se=q.JqUtils.adjustElement(B,`>span.${re}`,`<span class='${ne}' ></span>`);if(q.JqUtils.changeClass(se,ne),q.JqUtils.changeDataset(se,"selector",re),q.Convert.isValue(ie)){B.data("rowItem",I);const C=yield ie.renderDetail(se,I,te);this.grid.setEvent("detailScroll","scroll","detailScroll-"+I.rowIndex,this.detailScroll,C),this.grid.setEvent("detailWheel","wheel","detailScroll-"+I.rowIndex,this.detailWheel,C)}}}q.JqUtils.movetoTrash(this.grid.trashCan,B,z)}))}moveToHidden(C){q.Convert.isNull(C)||C.length>0&&this.grid.hiddenPanel.container.append(C)}static getCellFromColumn(C,I){for(const B of C.rows){let C=B.cells;for(const B of C)if(I==(null==B?void 0:B.column))return B}}getContainer(C,I=void 0){const{layout:B}=this.getLayout(C),{rowSelector:z}=this.makeRowClass(C),Q=oe.SBGrid3.$(`.${z}`,this.grid.container);if(q.Convert.isValue(I)){const z=RowsPanel.getCellFromColumn(B,I);if(q.Convert.isNull(z))return;const{colSelector:ee}=this.makeColClass(C,I,z);return oe.SBGrid3.$(`.${ee}`,Q)}return Q}makeColClass(C,I,B){var z,Q,ee;const ie=B.mergeRow>1||B.mergeCol>1,ne=0===B.mergeRow||0===B.mergeCol,se=`${ae.SbCss.col}-${B.row+1}-${B.col}${ie?"-"+ae.SbCss.merge:""}`,oe=this.getLayout(C).layout;let le=`${ae.SbCss.col} ${se} ${ae.SbCss.toClass(I.type)}`+(I.part==ue.PartType.Sticky?" "+ae.SbCss.sticky:"")+(0==I.width?` ${ae.SbCss.hidden}`:"")+(ie?"":" "+this.grid.selectManager.makeSelectClass(C,I,B,oe,ce.PanelType.Body));if(ne)le+=` ${ae.SbCss.merged}`;else if(ie&&(le+=` ${ae.SbCss.merge} ${B.mergeRow>1?ae.SbCss.merge_row:ae.SbCss.merge_col}`,q.Convert.isValue(this.grid.alternateCss))){const I=(null!==(z=null==C?void 0:C.rowNo)&&void 0!==z?z:0)%(this.grid.alternateCss.length+1);I>0&&(le+=` ${ae.SbCss.alternate} ${ae.SbCss.alternate}-${I} ${this.grid.alternateCss[I-1]}`)}if(le+=this.getColCss(C,I.config,B),le+=B.visible?"":` ${ae.SbCss.hidden}`,le+=(null===(Q=I.isValid(C))||void 0===Q?void 0:Q.state)!=pe.ValidationState.Valid?" "+ae.SbCss.invalid:"",C.node instanceof re.GroupNode){const z=C.node.igroup,{headers:Q,groups:ee}=I.getGroup(z.field);le+=this.calcRenderClass(I,Q,B,(()=>te.GridColumn.makeGroupData(z.aggregates,ee,C)));const ie=ee.find((C=>C.field==z.field));q.Convert.isValue(ie)&&q.Convert.isValue(ie.headerCss)&&(le+=" "+ie.headerCss)}else if(C.node instanceof re.FooterNode){const z=C.node;if(z.parent instanceof re.TreeNode){le+=this.calcRenderClass(I,I.treeFooters,B,(()=>te.GridColumn.makeTreeData(z.aggregates,I.config.tree,C.parent)));const Q=I.config.tree;q.Convert.isValue(Q)&&q.Convert.isValue(Q.footerCss)&&(le+=" "+Q.footerCss)}else if(z.parent instanceof re.GroupNode){const Q=z.parent.igroup,{footers:ee,groups:ie}=I.getGroup(Q.field);le+=this.calcRenderClass(I,ee,B,(()=>te.GridColumn.makeGroupData(z.aggregates,ie,C.parent)));const re=ie.find((C=>C.field==Q.field));q.Convert.isValue(re)&&q.Convert.isValue(re.footerCss)&&(le+=" "+re.footerCss)}}return le+=I.makeColClass(C,B),q.Convert.isValue(I.align)&&le.indexOf(ae.SbCss.left)<0&&le.indexOf(ae.SbCss.center)<0&&le.indexOf(ae.SbCss.right)<0&&(le+=` ${ae.SbCss.toClass(null!==(ee=I.align)&&void 0!==ee?ee:"")}`),{colSelector:se,colClass:le}}getColCss(C,I,B){let z="";return B.merged||("function"==typeof I.colCss?z+=" "+I.colCss(C.data,B,C):0==q.Convert.isWhite(I.colCss)&&(z+=" "+I.colCss)),z}static makeRowSelector(C,I=!1){return`${ae.SbCss.row}-${C.rowIndex}${I?"-detail":""}`}makeRowClass(C,I=!1){var B;const z=RowsPanel.makeRowSelector(C,I);let Q=`${ae.SbCss.row} ${z} ${this.grid.fixedRows?ae.SbCss.fixed:ae.SbCss.variable} ${I?ae.SbCss.detail:""} ${I&&0==C.isDetail?ae.SbCss.hidden:""}`;if((null==C?void 0:C.status)!=ye.DataStatus.Normal&&(Q+=` ${ae.SbCss.toClass(null==C?void 0:C.status)}`),(null==C?void 0:C.node)instanceof re.GroupNode){const I=C.node.igroup.field;Q+=` ${ae.SbCss.group} ${ae.SbCss.header} ${ae.SbCss.toClass(I)} ${ae.SbCss.level}-${C.node.level}`}else(null==C?void 0:C.node)instanceof re.FooterNode?(Q+=(null==C?void 0:C.node.parent)instanceof re.GroupNode?` ${ae.SbCss.group} ${ae.SbCss.footer} ${ae.SbCss.toClass(null==C?void 0:C.node.parent.igroup.field)}`:` ${ae.SbCss.tree} ${ae.SbCss.footer}`,Q+=` ${ae.SbCss.level}-${C.node.level-1}`):((null==C?void 0:C.node)instanceof re.TreeNode&&(Q+=` ${ae.SbCss.tree} ${ae.SbCss.header} ${ae.SbCss.level}-${C.node.level}`),(null==C?void 0:C.isSticky)&&(Q+=` ${ae.SbCss.sticky}`),(null==C?void 0:C.isSelect)&&(Q+=` ${ae.SbCss.selected}`),(null==C?void 0:C.isCheck)&&(Q+=` ${ae.SbCss.checked}`),(null==C?void 0:C.cssClass.length)>0&&(Q+=" "+(null==C?void 0:C.cssClass.join(" "))),(null==C?void 0:C.isEdit)&&(Q+=` ${ae.SbCss.edit}`),"function"==typeof this.grid.config.rowCss?Q+=" "+this.grid.config.rowCss(null==C?void 0:C.data,C):0==q.Convert.isWhite(this.grid.config.rowCss)&&(Q+=" "+this.grid.config.rowCss),I&&1!=(null==C?void 0:C.isDetail)&&(Q+=` ${ae.SbCss.hidden}`),q.Convert.isNull(C)&&(Q+=` ${ae.SbCss.hidden}`));if(q.Convert.isValue(this.grid.alternateCss)){const I=(null!==(B=null==C?void 0:C.rowIndex)&&void 0!==B?B:0)%(this.grid.alternateCss.length+1);I>0&&(Q+=` ${ae.SbCss.alternate} ${ae.SbCss.alternate}-${I} ${this.grid.alternateCss[I-1]}`)}return{rowSelector:z,rowClass:Q}}}I.RowsPanel=RowsPanel,RowsPanel.wheelScrollThreshold=3;class HeaderPanel extends LayoutPanel{constructor(C){super(C,ae.SbCss.header)}get layout(){return this.grid.headerLayout}renderParts(C,I){const B=Object.create(null,{renderParts:{get:()=>super.renderParts}});return z(this,void 0,void 0,(function*(){let z=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.thead}`,`<div class='${ae.SbCss.area} ${ae.SbCss.thead}' ></div>`);B.renderParts.call(this,z,I)}))}makeColClass(C,I){var B,z;const Q=`${ae.SbCss.col}-${I.row+1}-${I.col}`;let ee=Q;return q.Convert.isValue(null===(z=null===(B=C.config)||void 0===B?void 0:B.total)||void 0===z?void 0:z.headerCss)&&(ee+=" "+C.config.total.headerCss),q.Convert.isValue(C.totalHeaders[I.row])&&(ee+=this.calcRenderClass(C,C.totalHeaders,I,(()=>{var I;return te.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(I=C.config.total)||void 0===I?void 0:I.aggregates)}))),C.part==ue.PartType.Sticky&&(ee+=" "+ae.SbCss.sticky),0==C.width&&(ee+=` ${ae.SbCss.hidden}`),ee+=this.grid.selectManager.makeSelectClass(void 0,C,I,this.grid.headerLayout,ce.PanelType.Header),{colSelector:Q,colClass:ee}}renderColumns(C,I,B){var Q,te,ie;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.row}.${ae.SbCss.header}`,`<div class='${ae.SbCss.row} ${ae.SbCss.header}'></div>`);if(0==(null!==(ie=null===(te=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return B;const z=this.layout,re=new Set;for(const C of z.rows){const z=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(z))for(const C of z){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:z,colClass:Q}=this.makeColClass(I,C);re.add(z);let te=q.JqUtils.adjustElement(B,`>span.${z}`,`<span class='col ${Q}'></span>`);q.JqUtils.changeClass(te,`${ae.SbCss.col} ${Q}`),te.data("col",C.col),te.data("column",I),te.data("cell",C),q.JqUtils.changeDataset(te,"selector",z),yield I.renderHeader(te,C)}}return q.JqUtils.movetoTrash(this.grid.trashCan,B,re),B}))}createStylePart(C,I,B,Q){var te,ie,re,ne,se;return z(this,void 0,void 0,(function*(){if(0==(null!==(re=null===(ie=null===(te=this.layout)||void 0===te?void 0:te.rows)||void 0===ie?void 0:ie.length)&&void 0!==re?re:0))return;let C;const z=this.layout,Q=this.getRowParentCss(ae.SbCss.header,B),oe=z.stickyOverflow;for(const B of z.rows){const z=null==B?void 0:B.getCells(I);if(!q.Convert.isEmpty(z))for(const I of z){if(q.Convert.isNull(I)||I.constructor.name!=ee.GridCell.name)continue;const B=I.column;q.Convert.isNull(C)&&(C=I.index-1);const z=`${ae.SbCss.col}-${I.row+1}-${I.col}`,te=null!==(ne=I.colSpan)&&void 0!==ne?ne:0,ie=null!==(se=I.rowSpan)&&void 0!==se?se:0,re={"grid-column":`${I.index-C}${te>1?" / span "+te:""}`,"grid-row":`${I.row+1}${ie>1?" / span "+ie:""}`};0==oe&&B.part==ue.PartType.Sticky&&(re.position="sticky",re.left=I.stickyLeft+"px",re.right=I.stickyRight+"px"),this.grid.style.set(`${Q}>.${ae.SbCss.row}.${ae.SbCss.header}>.${ae.SbCss.col}.${z}`,re)}}}))}getCell(C,I=void 0){return q.Convert.isNull(C)?null:this.grid.headerLayout.findCell(C)}getElement(C,I){const B=oe.SBGrid3.$(`> .${ae.SbCss.panel}.${ae.SbCss.scroll} > .${ae.SbCss.scroll_body} > .${ae.SbCss.header} > .${ae.SbCss.area} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}-${I.rowIndex}`,this.grid.container),z=this.getCell(C);return q.Convert.isNull(z)?B:oe.SBGrid3.$(`> .${ae.SbCss.col}-${z.row+1}-${z.col}`,B)}getContainer(C){const I=oe.SBGrid3.$(`div.${ae.SbCss.row}.${ae.SbCss.header}`,this.grid.container),B=q.Utils.findCellFromColumn(this.grid.headerLayout,C),{colSelector:z}=this.makeColClass(C,B);return oe.SBGrid3.$(`.${z}`,I)}}I.HeaderPanel=HeaderPanel;class FooterPanel extends LayoutPanel{constructor(C){super(C,ae.SbCss.footer)}get layout(){return this.grid.footerLayout}renderParts(C,I){const B=Object.create(null,{renderParts:{get:()=>super.renderParts}});return z(this,void 0,void 0,(function*(){let z=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.tfoot}`,`<div class='${ae.SbCss.area} ${ae.SbCss.tfoot}' ></div>`);B.renderParts.call(this,z,I)}))}makeColClass(C,I){var B,z;const Q=`${ae.SbCss.col}-${I.row+1}-${I.col}`;let ee=Q;return q.Convert.isValue(null===(z=null===(B=C.config)||void 0===B?void 0:B.total)||void 0===z?void 0:z.footerCss)&&(ee+=" "+C.config.total.footerCss),q.Convert.isValue(C.totalFooters[I.row])&&(ee+=this.calcRenderClass(C,C.totalFooters,I,(()=>{var I;return te.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(I=C.config.total)||void 0===I?void 0:I.aggregates)}))),C.part==ue.PartType.Sticky&&(ee+=" "+ae.SbCss.sticky),0==C.width&&(ee+=` ${ae.SbCss.hidden}`),ee+=this.grid.selectManager.makeSelectClass(void 0,C,I,this.grid.footerLayout,ce.PanelType.Footer),{colSelector:Q,colClass:ee}}renderColumns(C,I,B){var Q,te,ie;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.row}.${ae.SbCss.footer}`,`<div class='${ae.SbCss.row} ${ae.SbCss.footer}'></div>`);if(0==(null!==(ie=null===(te=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return B;const z=this.layout,re=new Set;for(const C of z.rows){const z=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(z))for(const C of z){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:z,colClass:Q}=this.makeColClass(I,C);re.add(z);let te=q.JqUtils.adjustElement(B,`>span.${z}`,`<span class='col ${Q}'></span>`);q.JqUtils.changeClass(te,`${ae.SbCss.col} ${Q}`),te.data("col",C.col),te.data("column",I),te.data("cell",C),q.JqUtils.changeDataset(te,"selector",z),yield I.renderFooter(te,C)}}return q.JqUtils.movetoTrash(this.grid.trashCan,B,re),B}))}createStylePart(C,I,B,Q){var te,ie,re,ne,se;return z(this,void 0,void 0,(function*(){if(0==(null!==(re=null===(ie=null===(te=this.layout)||void 0===te?void 0:te.rows)||void 0===ie?void 0:ie.length)&&void 0!==re?re:0))return;let C;const z=this.layout,Q=this.getRowParentCss(ae.SbCss.footer,B),oe=z.stickyOverflow;for(const B of z.rows){const z=null==B?void 0:B.getCells(I);if(!q.Convert.isEmpty(z))for(const I of z){if(q.Convert.isNull(I)||I.constructor.name!=ee.GridCell.name)continue;const B=I.column;q.Convert.isNull(C)&&(C=I.index-1);const z=`${ae.SbCss.col}-${I.row+1}-${I.col}`,te=null!==(ne=I.colSpan)&&void 0!==ne?ne:0,ie=null!==(se=I.rowSpan)&&void 0!==se?se:0,re={"grid-column":`${I.index-C}${te>1?" / span "+te:""}`,"grid-row":`${I.row+1}${ie>1?" / span "+ie:""}`};0==oe&&B.part==ue.PartType.Sticky&&(re.position="sticky",re.left=I.stickyLeft+"px",re.right=I.stickyRight+"px"),this.grid.style.set(`${Q}>.${ae.SbCss.row}.${ae.SbCss.footer}>.${ae.SbCss.col}.${z}`,re)}}}))}getCell(C,I=void 0){return q.Convert.isNull(C)?null:this.grid.footerLayout.findCell(C)}getElement(C,I){const B=oe.SBGrid3.$(`> .${ae.SbCss.panel}.${ae.SbCss.scroll} > .${ae.SbCss.scroll_body} > .${ae.SbCss.footer} > .${ae.SbCss.area} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}-${I.rowIndex}`,this.grid.container),z=this.getCell(C);return q.Convert.isNull(z)?B:oe.SBGrid3.$(`> .${ae.SbCss.col}-${z.row+1}-${z.col}`,B)}getContainer(C){const I=oe.SBGrid3.$(`div.${ae.SbCss.row}.${ae.SbCss.footer}`,this.grid.container),B=q.Utils.findCellFromColumn(this.grid.footerLayout,C),{colSelector:z}=this.makeColClass(C,B);return oe.SBGrid3.$(`.${z}`,I)}}I.FooterPanel=FooterPanel;class FilterPanel extends LayoutPanel{constructor(C){super(C,ae.SbCss.filter),this.grid.config.filterable,me.FilterMode.Row}get layout(){return this.grid.filterLayout}renderParts(C,I){const B=Object.create(null,{renderParts:{get:()=>super.renderParts}});return z(this,void 0,void 0,(function*(){let z=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.tbody}`,`<div class='${ae.SbCss.area} ${ae.SbCss.tbody}' ></div>`);B.renderParts.call(this,z,I)}))}renderColumns(C,I,B){var Q,te,ie;return z(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div.${ae.SbCss.row}.${ae.SbCss.filter}`,`<div class='${ae.SbCss.row} ${ae.SbCss.filter}'></div>`);if(0==(null!==(ie=null===(te=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return B;const z=this.layout,re=new Set;for(const C of z.rows){const z=null==C?void 0:C.getCells(I);if(!q.Convert.isEmpty(z))for(const C of z){if(q.Convert.isNull(C)||C.constructor.name!=ee.GridCell.name)continue;const I=C.column,{colSelector:z,colClass:Q}=this.makeColClass(I,C);re.add(z);let te=q.JqUtils.adjustElement(B,`>span.${z}`,`<span class='${Q}'></span>`);q.JqUtils.changeClass(te,Q),te.data("col",C.col),te.data("column",I),te.data("cell",C),q.JqUtils.changeDataset(te,"selector",z),I.part!==ue.PartType.Fixed&&I.renderFilterColumn(te)}}return q.JqUtils.movetoTrash(this.grid.trashCan,B,re),B}))}makeColClass(C,I,B){const z=`${ae.SbCss.col}-${I.row+1}-${I.col}`;let q=`${z} ${ae.SbCss.col}`;return C.part==ue.PartType.Sticky&&(q+=` ${ae.SbCss.sticky}`),0==C.width&&(q+=` ${ae.SbCss.hidden}`),q+=this.grid.selectManager.makeSelectClass(B,C,I,this.grid.captionLayout,ce.PanelType.Filter),{colSelector:z,colClass:q}}createStylePart(C,I,B,Q){var te,ie,re,ne,se,oe;return z(this,void 0,void 0,(function*(){if(0==(null!==(re=null===(ie=null===(te=this.layout)||void 0===te?void 0:te.rows)||void 0===ie?void 0:ie.length)&&void 0!==re?re:0))return;let C;const z=[],le=this.layout,de=this.getRowParentCss(ae.SbCss.filter,B),ce=le.stickyOverflow;for(const B of le.rows){const te=null==B?void 0:B.getCells(I);if(!q.Convert.isEmpty(te))for(const I of te){if(q.Convert.isNull(I)||I.constructor.name!=ee.GridCell.name)continue;const B=I.column;q.Convert.isNull(C)&&(C=I.index-1);const te=`${ae.SbCss.col}-${I.row+1}-${I.col}`,ie=null!==(ne=I.colSpan)&&void 0!==ne?ne:0,re=null!==(se=I.rowSpan)&&void 0!==se?se:0,le={"grid-column":`${I.index-C}${ie>1?" / span "+ie:""}`,"grid-row":`${I.row+1}${re>1?" / span "+re:""}`};0==ce&&B.part==ue.PartType.Sticky&&(le.position="sticky",le.left=I.stickyLeft+"px",le.right=I.stickyRight+"px"),this.grid.style.set(`${de}>.${ae.SbCss.row}.${ae.SbCss.filter}>.${ae.SbCss.col}.${te}`,le),z[B.index]=I.unit==ue.Unit.Pixel||Q>0?I.width+this.unit(I.unit):(null!==(oe=I.column.minWidth)&&void 0!==oe?oe:0)+this.unit(ue.Unit.Pixel)}}}))}getCell(C,I=void 0){return q.Convert.isNull(C)?null:this.grid.filterLayout.findCell(C)}getElement(C,I){const B=oe.SBGrid3.$(`> .${ae.SbCss.panel}.${ae.SbCss.scroll} > .${ae.SbCss.scroll_body} > .${ae.SbCss.filter} > .${ae.SbCss.area} > .${ae.SbCss.part} > .${ae.SbCss.scroll} > .${ae.SbCss.row}-${I.rowIndex}`,this.grid.container),z=this.getCell(C);return q.Convert.isNull(z)?B:oe.SBGrid3.$(`> .${ae.SbCss.col}-${z.row+1}-${z.col}`,B)}getContainer(C){const I=oe.SBGrid3.$(`div.${ae.SbCss.row}.${ae.SbCss.filter}`,this.grid.container),B=q.Utils.findCellFromColumn(this.grid.filterLayout,C),{colSelector:z}=this.makeColClass(C,B);return oe.SBGrid3.$(`.${z}`,I)}set isEdit(C){this._isEdit=C}get isEdit(){var C,I;if(this.grid.config.filterable===me.FilterMode.Menu)return!1;const B=(null===(I=null===(C=this.grid.focusManager)||void 0===C?void 0:C.focus)||void 0===I?void 0:I.panelType)===ce.PanelType.Filter,z=this.isActiveElementInFilter();return B&&z}isActiveElementInFilter(){const C=document.activeElement;return q.Convert.isValue(C.closest(`.${ae.SbCss.panel}.${ae.SbCss.filter}`))}doCommand(C,I){return I.command===le.Commands.EditFilter?(this.doFilterEdit(),!1):super.doCommand(C,I)}doFilterEdit(){var C;const I=null===(C=this.grid.focusManager)||void 0===C?void 0:C.focus;if(q.Convert.isNull(I))return;if((null==I?void 0:I.panelType)!==ce.PanelType.Filter)return;const B=this.getContainer(I.column);q.Convert.isNull(B)||I.column.filterRenderer.renderFilterColumn(B,!0)}}I.FilterPanel=FilterPanel},5565:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CopyRange=I.HoverType=I.SelectOptionParser=I.SelectMode=I.SelectType=I.SelectManager=void 0;const q=B(273),Q=B(2663),ee=B(5165),te=B(3354),ie=B(5260),re=B(1163),ne=B(5774),se=B(2224),oe=B(6938),ae=B(9797),le=B(860),ue=B(6312),de=B(7078),ce=B(5882),he=B(7721);class SelectManager extends q.Observer{constructor(C){super(C),this._isMouseDown=!1,this.mouseDown=C=>z(this,void 0,void 0,(function*(){var I;if(this.isMouseDown)return;const B=this.getCol(ue.SBGrid3.$(C.target)),z=this.getPanelType(B),q=yield this.grid.getRowItem(B),Q=this.grid.getColumn(B);re.Convert.isValue(null===(I=this.grid.config.dataDroppable)||void 0===I?void 0:I.afterCellDrop)&&this.isSelectedCell(null==q?void 0:q.key,null==Q?void 0:Q.name)||2===C.button&&this.isSelectedCell(null==q?void 0:q.key,null==Q?void 0:Q.name)||this._mouseDown(q,Q,z,C.ctrlKey)})),this._mouseDown=(C,I,B,q)=>z(this,void 0,void 0,(function*(){if(!this.isMouseDown&&!re.Convert.isNull(I)&&(re.Convert.isValue(this.copyRange)&&(this.copyRange.fillOriginRange=void 0),q?this.sendClearRefreshEvent(!1):this.sendClearRefreshEvent(),!re.Convert.isValue(C)||0!=I.selectable(C))){switch(B){case le.PanelType.Body:this._bodyMouseDown(C,I,q);break;case le.PanelType.Header:case le.PanelType.Footer:this.totalMouseDown(I,B);break;case le.PanelType.Caption:this.captionMouseDown(I)}this.isMouseDown=!0,this.sendRefreshCommand()}})),this.captionMouseDown=C=>{!1!==this.option.columnSelect&&(this.tempSelectType=fe.Col,this.addTempCols(C),this._firstColumn=C,this._firstRowItem=void 0,this.prevRowItem=void 0)},this.totalMouseDown=(C,I)=>z(this,void 0,void 0,(function*(){this.tempSelectType=fe.Cell,this.tempCells.set(I,new Set([C.name])),this.isMouseDown=!0,this._firstColumn=C,this.prevColumn=C,this.sendRefreshCommand()})),this.bodyMouseMove=C=>z(this,void 0,void 0,(function*(){var I;if(!this.isMouseDown)return;if(1!==C.which)return void(this.isMouseDown=!1);const B=this.getCol(ue.SBGrid3.$(C.target)),z=this.getPanelType(B);if(re.Convert.isNull(z))return;if(z==le.PanelType.Header||z==le.PanelType.Footer)return void this.totalMouseMove(C,z);if(re.Convert.isNull(this._firstRowItem))return;const q=yield this.grid.getRowItem(B),Q=this.grid.getColumn(B);(null===(I=this.copyRange)||void 0===I?void 0:I.fillHandleMove)?this.fillHandleMove(q,Q,C.clientX,C.clientY):this._bodyMouseMove(q,Q)})),this._bodyMouseMove=(C,I)=>z(this,void 0,void 0,(function*(){if(!(re.Convert.isNull(C)||re.Convert.isNull(I)||I.config.type==ne.ColumnTypes.Frozen||0==I.selectable(C)||this.prevRowItem===C&&this.prevColumn===I)){switch(this.tempCells.clear(),this.tempRows.clear(),this.tempSelectType){case fe.Cell:yield this.calcSelectedColumns(this._firstRowItem,this._firstColumn,C,I,((C,I)=>{var B;let z=null!==(B=this.tempCells.get(C.key))&&void 0!==B?B:new Set;I.selectable(C)&&(z.add(I.name),this.tempCells.set(C.key,z))}));break;case fe.Row:yield this.calcSelectedRows(this._firstRowItem,C)}this.prevRowItem=C,this.prevColumn=I,this.sendRefreshCommand()}})),this.totalMouseMove=(C,I)=>z(this,void 0,void 0,(function*(){if(!this.isMouseDown)return;const B=this.getCol(ue.SBGrid3.$(C.target)),z=this.grid.getColumn(B);re.Convert.isNull(z)||z.config.type==ne.ColumnTypes.Frozen||0!=z.selectable(void 0)&&this.prevColumn!==z&&(this.tempCells.clear(),this.tempRows.clear(),yield this.calcSelectedColumns(void 0,this._firstColumn,void 0,z,((C,B)=>{var z;let q=null!==(z=this.tempCells.get(I))&&void 0!==z?z:new Set;q.add(B.name),this.tempCells.set(I,q)})),this.prevColumn=z,this.sendRefreshCommand())})),this.bodyMouseUp=()=>z(this,void 0,void 0,(function*(){var C,I;this.isMouseDown&&(yield this.addTempToSelect(),this.isMouseDown=!1,(null===(C=this.copyRange)||void 0===C?void 0:C.fillHandleMove)&&(yield this.fillCells()),null===(I=this.copyRange)||void 0===I||I.createFillOriginRange(),yield this.sendRefreshCommand(),this.fireCommandAsync(this,new ee.SelectedCommand),this.refreshRange={})})),this.headerMouseMove=C=>{if(!this.isMouseDown)return;const I=this.getCol(ue.SBGrid3.$(C.target)),B=null==I?void 0:I.data("column");re.Convert.isNull(B)||this.prevColumn!==B&&(this.tempCols.clear(),this.calcSelectedColumns(void 0,this._firstColumn,void 0,B,((C,I)=>{})),this.prevColumn=B,this.fireCommandAsync(this,new ee.RefreshCommand))},this.refreshRange={},this.grid=C}get gridMenu(){return new ce.GridMenu(this.grid,[],void 0,void 0)}get selectedRows(){var C;return null!==(C=this._selectedRows)&&void 0!==C?C:this._selectedRows=new Map}get selectedColumns(){var C;return null!==(C=this._selectedColumns)&&void 0!==C?C:this._selectedColumns=new Map}get selectedCells(){var C;return null!==(C=this._selectedCells)&&void 0!==C?C:this._selectedCells=new Map}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=re.Convert.isValue(this.grid.config.selectable)?this.grid.config.selectable:void 0}set option(C){this._option=C}get tempCells(){var C;return null!==(C=this._tempCells)&&void 0!==C?C:this._tempCells=new Map}get tempRows(){var C;return null!==(C=this._tempRows)&&void 0!==C?C:this._tempRows=new Set}get tempCols(){var C;return null!==(C=this._tempCols)&&void 0!==C?C:this._tempCols=new Set}get grid(){return this._grid}set grid(C){this._grid=C}get tempSelectType(){return this._tempSelectType}set tempSelectType(C){this._tempSelectType=C}get copyRange(){var C;return null!==(C=this._copyRange)&&void 0!==C?C:this.grid.config.copyable?this._copyRange=new CopyRange(this):void 0}get isMouseDown(){return this._isMouseDown}set isMouseDown(C){this._isMouseDown=C}copy(){return z(this,void 0,void 0,(function*(){if(this.grid.config.copyable&&this.grid.config.selectable)try{re.Convert.isValue(this.copyRange.fillOriginRange)?this.copyRange.copyRangeList=[this.copyRange.fillOriginRange]:this.copyRange.makeCopyRangeList(),new se.Clipboard(this.grid).copy(this.copyRange.copyRangeList)}catch(C){if("범위 지정이 잘못되었습니다."!=C)throw C;alert(C)}finally{this.fireCommandAsync(this,new ee.RefreshCommand)}}))}paste(){var C;return z(this,void 0,void 0,(function*(){if(!this.grid.config.copyable)return;if(!this.grid.config.editable)return;if(this.grid.view.editKeyMap.size>0)return;const I=new se.Clipboard(this.grid),B=this.copyRange.makeColumnByRows(),z=this.copyRange.makeSelectRange(B);yield I.paste(z),null===(C=this.copyRange)||void 0===C||C.createFillOriginRange()}))}addEventHandler(C){this.option&&(this.grid.setEvent("SelectManager","mouseup","SelectMouseUp",(C=>this.bodyMouseUp()),this.grid.container),1!=this.option.rowSelect&&!0!==this.option.columnSelect&&this.option.cellSelect!==fe.Row&&this.option.cellSelect!==fe.Cell&&this.option.cellSelect!==fe.Col||this.grid.setEvent("SelectManager","mousedown","SelectMouseDown",(C=>this.mouseDown(C)),C),this.option.selectMode===pe.Multi&&this.grid.setEvent("SelectManager","mousemove","SelectMouseMove",(C=>this.bodyMouseMove(C)),C)),this.addHoverHandler(C)}addHoverHandler(C){this.grid.config.hover&&(this.jqHover=re.JqUtils.adjustElement(C,`> div.${de.SbCss.hover}`,`<div class='${de.SbCss.hover}'></div>`),this.grid.setEvent("Hover","mousemove","HoverMouseMove",(C=>this.hover(C)),C),this.grid.setEvent("Hover","mouseout","HoverMouseOut",(C=>{this.hideHover()}),C))}hideHover(){var C;null===(C=this.jqHover)||void 0===C||C.css("opacity",0)}hover(C){return z(this,void 0,void 0,(function*(){let I,B,z=this.getRow(ue.SBGrid3.$(C.target)),q=this.getCol(ue.SBGrid3.$(C.target)),Q=0,ee=0,te=ue.SBGrid3.$(C.currentTarget).offset();switch(this.grid.config.hover){case me.Row:let C=yield this.grid.getRowItem(q);if(re.Convert.isNull(C))return;Q=this.grid.fixedWidth+this.grid.headWidth+this.grid.viewportWidth+this.grid.tailWidth,ee=this.grid.getItemHeight(C).height,B=(null==z?void 0:z.offset().top)-te.top,I=`translateY(${B}px)`;break;case me.Col:break;case me.Cell:if(re.Convert.isNull(q)||q.length<=0)return;if(q.hasClass(de.SbCss.frozen))return;let ie=q.offset(),ne=ie.left-te.left;Q=q.outerWidth(!0);const se=this.adjustHoverWidthAndLeft(q);re.Convert.isValue(se)&&(Q=se.width,ne=se.left-te.left),B=ie.top-te.top,ee=q.outerHeight(!0),I=`translate(${ne}px,${B}px)`}this.jqHover.width()!=Q&&this.jqHover.width(Q),this.jqHover.height()!=ee&&this.jqHover.height(ee),this.jqHover.css({opacity:1}),re.Convert.isValue(I)&&this.jqHover.css({transform:I})}))}adjustHoverWidthAndLeft(C){const I=C.offset(),B=this.grid.fixedWidth+this.grid.headWidth+this.grid.container.offset().left,z=I.left,q=C.outerWidth();if(B>z&&z+q-3>B)return{left:B,width:z+q-B};const Q=B+this.grid.viewportWidth;return z<Q&&Q<z+q?{left:z,width:Q-I.left}:void 0}getCol(C){var I;if(0!=(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0))return C.closest(`.${de.SbCss.col}`)}getRow(C){var I;if(0!=(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0))return C.closest(`.${de.SbCss.row}`)}switchRange(C,I){return C>I?[I,C]:[C,I]}addTempToSelect(){var C,I,B,q;return z(this,void 0,void 0,(function*(){switch(this.tempSelectType){case fe.Row:let z=!this.isSelectedRow(null===(C=this._firstRowItem)||void 0===C?void 0:C.key);this.selectRows(this.tempRows,z);break;case fe.Col:let Q=!this.isSelectedColumn(null===(I=this._firstColumn)||void 0===I?void 0:I.name);this.selectColumns(this.tempCols,Q);break;case fe.Cell:let ee=!this.isSelectedCell(null===(B=this._firstRowItem)||void 0===B?void 0:B.key,null===(q=this._firstColumn)||void 0===q?void 0:q.name);this.selectCells(this.tempCells,ee)}this.tempCells.clear(),this.tempRows.clear(),this.tempCols.clear()}))}isTemporaryCell(C,I){var B;let z=!1;switch(this.tempSelectType){case fe.Row:z=!!this.tempRows.has(C);break;case fe.Col:z=!!this.tempCols.has(I);break;case fe.Cell:z=!!(null===(B=this.tempCells.get(C))||void 0===B?void 0:B.has(I));break;default:z=!1}return z}selectRow(C){return z(this,void 0,void 0,(function*(){return this.option.selectMode===pe.Single&&this.clear(),this.fireCommandAsync(this,new ee.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})),this.selectRows(new Set([C.key]),!0),!0}))}selectRows(C,I=!0){C.forEach((C=>{I?this.addSelectedRow(C):this.removeSelectedRow(C)}))}clear(C=!1){var I,B;this.selectedRows.forEach(((C,I)=>this.removeSelectedRow(I))),this.selectedRows.clear(),this.selectedColumns.clear(),this.selectedCells.clear(),this.tempRows.clear(),this.tempCells.clear(),this.tempCols.clear(),C&&(null===(I=this.copyRange)||void 0===I||I.clearCopyRanges(),null===(B=this.copyRange)||void 0===B||B.clearFillHandleRange())}isSelectedRow(C){return this.selectedRows.has(C)}removeSelectedRow(C){this.selectedRows.delete(C);let I=this.grid.view.keyMap.get(C);re.Convert.isValue(I)&&(I.isSelect=!1)}addSelectedRow(C){const I=new Set;let B=this.grid.view.keyMap.get(C);re.Convert.isValue(B)&&(B.isSelect=!0),this.grid.columns.forEach((C=>{C.selectable(B)||I.add(C.name)})),this.selectedRows.set(C,I)}selectColumns(C,I){C.forEach((C=>{I?this.addSelectedColumn(C):this.removeSelectedColumn(C)}))}addSelectedColumn(C,I){this.selectedColumns.set(C,new Set),ie.Log.debug((()=>["-----\x3e add column",C]))}removeSelectedColumn(C){this.selectedColumns.delete(C),ie.Log.debug((()=>["---------\x3eremoved column >> ",C]))}isSelectedCell(C,I){var B,z,q;let Q=!1;return this.selectedRows.has(C)&&(Q=!(null===(B=this.selectedRows.get(C))||void 0===B?void 0:B.has(I))),!1===Q&&this.selectedColumns.has(I)&&(Q=!(null===(z=this.selectedColumns.get(I))||void 0===z?void 0:z.has(C))),!1===Q&&this.selectedCells.has(C)&&(Q=null===(q=this.selectedCells.get(C))||void 0===q?void 0:q.has(I)),Q}isSelectedColumn(C){return this.selectedColumns.has(C)}selectCells(C,I=!0){C.forEach(((C,B)=>{C.forEach((C=>{I?this.addSelectedCell(B,C):this.removeSelectedCell(B,C)}))}))}addSelectedCell(C,I){var B,z;if(null===(B=this.selectedRows.get(C))||void 0===B?void 0:B.has(I)){this.selectedRows.get(C).delete(I)}else if(null===(z=this.selectedColumns.get(I))||void 0===z?void 0:z.has(C)){this.selectedColumns.get(I).delete(C)}else{let B=this.selectedCells.get(C);B=null!=B?B:new Set,B.add(I),this.selectedCells.set(C,B)}}removeSelectedCell(C,I){if(this.selectedCells.has(C)){this.selectedCells.get(C).delete(I)}if(this.selectedRows.has(C)){this.selectedRows.get(C).add(I)}if(this.selectedColumns.has(I)){this.selectedColumns.get(I).add(C)}}getSelectedRows(){return re.Arrays.from(this.selectedRows.keys())}get prevRowItem(){return this._prevRowItem}set prevRowItem(C){this._prevRowItem=C}get prevColumn(){return this._prevColumn}set prevColumn(C){this._prevColumn=C}adjustTempSelectType(C){const I=C.type===ne.ColumnTypes.RowNo?fe.Row:fe.Cell;switch(this.tempSelectType=void 0,I){case fe.Cell:this.option.cellSelect!=fe.None&&(this.tempSelectType=re.Convert.parseEnum(fe,this.option.cellSelect));break;case fe.Row:this.option.rowSelect&&(this.tempSelectType=fe.Row)}}_bodyMouseDown(C,I,B){if(!re.Convert.isNull(C)){switch(this.adjustTempSelectType(I),this.tempSelectType){case fe.Row:this.tempRows.add(C.key);break;case fe.Cell:this.tempCells.set(C.key,new Set([I.name]));break;case fe.Col:this.addTempCols(I)}this.isMouseDown=!0,this._firstRowItem=C,this._firstColumn=I,this.prevRowItem=C,this.prevColumn=I,this.sendRefreshCommand()}}isDraggablePosition(C,I){const B=I.offset(),z=C.clientX-B.left;C.clientY,B.top;return z>0&&z<.4*I.width()}getPanelType(C){const I=C.closest(`.${de.SbCss.panel}`);return I.length<1?void 0:I.hasClass(de.SbCss.body)?le.PanelType.Body:I.hasClass(de.SbCss.header)?le.PanelType.Header:I.hasClass(de.SbCss.footer)?le.PanelType.Footer:I.hasClass(de.SbCss.caption)?le.PanelType.Caption:void 0}adjustRefreshRange(C){const I=this.grid.view.keyMap;this._firstRowItem=I.get(C.rowStart),this.prevRowItem=I.get(C.rowEnd),this._firstColumn=re.Utils.findGridColumnByName(C.colStart,this.grid.columns),this.prevColumn=re.Utils.findGridColumnByName(C.colEnd,this.grid.columns)}calcSelectedRows(C,I){return z(this,void 0,void 0,(function*(){let[B,z]=this.switchRange(C.rowIndex,I.rowIndex);for(let C=B;C<=z;C++){let I=yield this.grid.view.getRow(C);this.tempRows.add(I.key)}}))}calcSelectedColumns(C,I,B,q,Q){return z(this,void 0,void 0,(function*(){const z=this.tempSelectType===fe.Cell?this.grid.rowLayout:this.grid.captionLayout,ee=z.rows.length-1;let{startCell:te,endCell:ie}=SelectManager.findStartEndCell(z,I,q);if(!re.Convert.isNull(te)&&!re.Convert.isNull(ie))if(C==B){let I=Math.min(te.row,ie.row),B=Math.min(te.col,ie.col),q=Math.max(te.row+te.rowSpan,ie.row+ie.rowSpan)-1,ee=Math.max(te.col+te.colSpan,ie.col+ie.colSpan)-1;({minRow:I,maxRow:q,minCol:B,maxCol:ee}=SelectManager.calcMinMax(z,I,q,B,ee)),SelectManager.generateCells(z,C,I,q,B,ee,Q)}else{const I=SelectManager.calcMinMax(z,0,ee,Math.min(te.col,ie.col),Math.max(te.col+te.colSpan,ie.col+ie.colSpan)-1),q=C.rowIndex>B.rowIndex;if(null!=C){let B=q?0:te.row,ie=q?te.row:ee,re=I.minCol,ne=I.maxCol;({minRow:B,maxRow:ie,minCol:re,maxCol:ne}=SelectManager.calcMinMax(z,B,ie,re,ne)),SelectManager.generateCells(z,C,B,ie,re,ne,Q)}if(C.rowIndex!=B.rowIndex){const q=I.minRow,ee=I.maxRow,te=I.minCol,ie=I.maxCol,re=Math.min(C.rowIndex,B.rowIndex)+1,ne=Math.max(C.rowIndex,B.rowIndex)-1;for(let C=re;C<=ne;C++){let I=yield this.grid.view.getRow(C);SelectManager.generateCells(z,I,q,ee,te,ie,Q)}}if(null!=B){let C=q?ie.row:0,te=q?ee:ie.row,re=I.minCol,ne=I.maxCol;({minRow:C,maxRow:te,minCol:re,maxCol:ne}=SelectManager.calcMinMax(z,C,te,re,ne)),SelectManager.generateCells(z,B,C,te,re,ne,Q)}}}))}static calcMinMax(C,I,B,z,q){const Q=oe.GridMatrix.toMatrix(C);for(let C=I;C<=B;C++)for(let ee=z;ee<=q;){let te=Q.getCell(C,ee);if(te.col+te.colSpan-1>=ee)if(te.col<z)ee=z=te.col;else{if(te.row<I){C=(I=te.row)-1;break}te.col+te.colSpan-1>q&&(q=te.col+te.colSpan-1),te.row+te.rowSpan-1>B&&(B=te.row+te.rowSpan-1),ee+=te.colSpan}else ee++}return{minRow:I,maxRow:B,minCol:z,maxCol:q}}static generateCells(C,I,B,z,q,Q,ee){var te,ie;for(let ne=B;ne<=z;ne++){const B=null===(te=C.rows[ne])||void 0===te?void 0:te.cells;if(re.Convert.isNull(B))break;for(let C=q;C<=Q;){let z=B[C];C+=null!==(ie=null==z?void 0:z.colSpan)&&void 0!==ie?ie:1,re.Convert.isNull(z)||ee(I,z.column)}}}static findStartEndCell(C,I,B){let z,q,Q=0;for(const ee of C.rows){const C=ee.cells;for(const ee in C){const te=C[ee];if(!re.Convert.isNull(te)&&(te.column===I&&re.Convert.isNull(z)&&(z=te,Q++),te.column===B&&re.Convert.isNull(q)&&(q=te,Q++),Q>=2))break}if(Q>=2)break}return{startCell:z,endCell:q}}addTempCols(C){var I;(null===(I=C.columns)||void 0===I?void 0:I.length)>0?C.columns.forEach((C=>{this.addTempCols(C)})):this.prevColumn=C,this.tempCols.add(C.name)}sendRefreshCommand(){return z(this,void 0,void 0,(function*(){yield this.calcSelectedColumns(this._firstRowItem,this._firstColumn,this.prevRowItem,this.prevColumn,((C,I)=>{var B,z,q,Q,ee,te,ie,re,ne,se;switch(this.tempSelectType){case fe.Col:this.refreshRange.colStart=Math.min(null!==(B=this.refreshRange.colStart)&&void 0!==B?B:I.index,I.index),this.refreshRange.colEnd=Math.max(null!==(z=this.refreshRange.colEnd)&&void 0!==z?z:I.index,I.index);break;case fe.Row:this.refreshRange.rowStart=Math.min(null!==(q=this.refreshRange.rowStart)&&void 0!==q?q:C.rowIndex,C.rowIndex),this.refreshRange.rowEnd=Math.max(null!==(Q=this.refreshRange.rowEnd)&&void 0!==Q?Q:C.rowIndex,C.rowIndex),this.refreshRange.colStart=void 0,this.refreshRange.colEnd=void 0;break;case fe.Cell:this.refreshRange.rowStart=Math.min(null!==(te=null===(ee=this.refreshRange)||void 0===ee?void 0:ee.rowStart)&&void 0!==te?te:null==C?void 0:C.rowIndex,null==C?void 0:C.rowIndex),this.refreshRange.rowEnd=Math.max(null!==(re=null===(ie=this.refreshRange)||void 0===ie?void 0:ie.rowEnd)&&void 0!==re?re:null==C?void 0:C.rowIndex,null==C?void 0:C.rowIndex),this.refreshRange.colStart=Math.min(null!==(ne=this.refreshRange.colStart)&&void 0!==ne?ne:I.index,I.index),this.refreshRange.colEnd=Math.max(null!==(se=this.refreshRange.colEnd)&&void 0!==se?se:I.index,I.index)}})),this.refreshRange.onlyLayout=!0,this.fireCommandAsync(this,new ee.RefreshCommand(this.refreshRange))}))}sendClearRefreshEvent(C=!0){const I=re.Convert.isValue(this.selectedRows)||re.Convert.isValue(this.selectedCells)&&re.Convert.isEmpty(this.selectedColumns),B=re.Convert.isValue(this.selectedColumns)&&re.Convert.isNull(this.selectedRows)&&re.Convert.isNull(this.selectedCells);let z={};if(B)this.selectedColumns.forEach(((C,I)=>{var B,q;const Q=re.Arrays.bfsSearch(this.grid.columns,(C=>C.name==I||C.columns));re.Convert.isValue(Q)&&(z.colStart=Math.min(null!==(B=z.colStart)&&void 0!==B?B:Q.index,Q.index),z.colEnd=Math.max(null!==(q=z.colEnd)&&void 0!==q?q:Q.index,Q.index))}));else if(I){[...this.selectedRows.keys(),...this.selectedCells.keys()].forEach((C=>{var I,B;const q=this.grid.view.keyMap.get(C);z.rowStart=Math.min(null!==(I=z.rowStart)&&void 0!==I?I:null==q?void 0:q.rowIndex,null==q?void 0:q.rowIndex),z.rowEnd=Math.max(null!==(B=z.rowEnd)&&void 0!==B?B:null==q?void 0:q.rowIndex,null==q?void 0:q.rowIndex)}))}z.onlyLayout=!0,!0===C&&this.clear(),re.Convert.isValue(z)&&this.fireCommandAsync(this,new ee.RefreshCommand(z))}makeEdgeClass(C,I,B,z,q,Q,ee){var ne,se,oe;if(re.Convert.isEmpty(C))return"";let ae;for(const ue of C){const C=Q===le.PanelType.Body?null==I?void 0:I.key:Q;try{if(ue.type===fe.Row&&!1===ue.cellMap.has(C))continue;if(ue.type===fe.Cell&&(!ue.cellMap.has(C)||!1===(null===(ne=ue.cellMap.get(C))||void 0===ne?void 0:ne.has(B.name))))continue}catch(C){ie.Log.error([ue,C]);continue}const de=re.Utils.findGridColumnByName(ue.colStart,this.grid.columns),ce=re.Utils.findGridColumnByName(ue.colEnd,this.grid.columns),he=this.grid.view.keyMap,pe=null===(se=he.get(ue.rowStart))||void 0===se?void 0:se.rowIndex,me=null===(oe=he.get(ue.rowEnd))||void 0===oe?void 0:oe.rowIndex,ge=Q===le.PanelType.Header||Q===le.PanelType.Footer||(null==I?void 0:I.node)instanceof te.GroupNode;let{startCell:ve,endCell:ye}=SelectManager.findStartEndCell(q,de,ce);if(re.Convert.isNull(ve)||re.Convert.isNull(ye))return ee(void 0);let be=Math.min(ve.row,ye.row),Ce=Math.min(ve.col,ye.col),we=ge?q.rows.length-1:Math.max(ve.row+ve.rowSpan,ye.row+ye.rowSpan)-1,_e=Math.max(ve.col+ve.colSpan,ye.col+ye.colSpan)-1;be<=z.row&&z.row<=we&&Ce<=z.col&&z.col<=_e&&(ae=pe==me?{Top:z.row==be,Bottom:z.row==we||z.row+z.rowSpan-1==we,Left:z.col==Ce,Right:z.col==_e||z.col+z.colSpan-1==_e}:pe==I.rowIndex?{Top:z.row==be,Bottom:!1,Left:z.col==Ce,Right:z.col==_e||z.col+z.colSpan-1==_e}:me==I.rowIndex?{Top:!1,Bottom:z.row==we||z.row+z.rowSpan-1==we,Left:z.col==Ce,Right:z.col==_e||z.col+z.colSpan-1==_e}:{Top:!1,Bottom:!1,Left:z.col==Ce,Right:z.col==_e||z.col+z.colSpan-1==_e});break}return ee(ae)}cancelCopy(){var C;null===(C=this.copyRange)||void 0===C||C.clearCopyRanges(),this.fireCommandAsync(this,new ee.RefreshCommand({}))}selectAll(){var C;this.clear();const I=new Set(this.grid.view.keyMap.keys());this.selectRows(I,!0),null===(C=this.copyRange)||void 0===C||C.createFillOriginRange(),this.fireCommandAsync(this,new ee.RefreshCommand),this.fireCommandAsync(this,new ee.SelectedCommand),this.refreshRange={}}isFillHandleClick(C,I){if(!C.is(`.${de.SbCss.col}.${de.SbCss.fillHandle}`))return!1;const B=window.getComputedStyle(C[0],":after").getPropertyValue("border"),z=2*Math.ceil(Number.parseFloat(B)),q=1.5*Math.ceil(Number.parseFloat(C.css("border-width"))),Q=I.offsetX+q,ee=I.offsetY+q,te=C.outerWidth()-z,ie=C.outerHeight()-z;return te<=Q&&Q<=te+z&&ie<=ee&&ee<=ie+z}get copyConfig(){var C;return null!==(C=this._copyConfig)&&void 0!==C?C:this._copyConfig=re.Convert.isValue(this.grid.config.copyable)?this.grid.config.copyable:void 0}addFillHandlerEvent(C){var I;if(!(null===(I=this.copyConfig)||void 0===I?void 0:I.fill))return;const B=C;this.grid.setEvent("SelectManager","mousedown",this.name+"_fillHandler",(C=>z(this,void 0,void 0,(function*(){if(re.Convert.isNull(this.copyRange.fillOriginRange))return;if(0==this.isFillHandleClick(B,C))return;this.cancelEdit(B),this.copyRange.fillHandleStart(),this.isMouseDown=!0;const I=this.grid.view.keyMap,z=this.copyRange.fillOriginRange,q=I.get(z.rowStart),Q=I.get(z.rowEnd),ee=z.colStart,te=z.colEnd;return this.refreshRange={rowStart:q.rowIndex,rowEnd:Q.index,colStart:re.Utils.findGridColumnByName(ee,this.grid.columns).index,colEnd:re.Utils.findGridColumnByName(te,this.grid.columns).index},!1}))),B)}cancelEdit(C){return z(this,void 0,void 0,(function*(){const I=this.grid.getColumn(C),B=yield this.grid.getRowItem(C);if(!re.Convert.isNull(I)&&!re.Convert.isNull(B)&&I.isEdit(B)){const C=new ee.EscapeCommand;this.fireCommandAsync(this,C)}}))}isFillHandler(C,I,B){var z;return re.Convert.isValue(this.grid.config.editable)&&(null===(z=this.copyConfig)||void 0===z?void 0:z.fill)&&this.copyRange.isFillHandler(C,I,B)}getCopyRangeClass(C,I,B,z,q){return re.Convert.isNull(this.copyRange)?"":this.makeEdgeClass(this.copyRange.copyRangeList,C,I,B,z,q,(C=>{let I=[];return(null==C?void 0:C.Top)&&I.push(de.SbCss.copy_top),(null==C?void 0:C.Bottom)&&I.push(de.SbCss.copy_bottom),(null==C?void 0:C.Left)&&I.push(de.SbCss.copy_left),(null==C?void 0:C.Right)&&I.push(de.SbCss.copy_right),I.join(" ").toString()}))}getFillHandleRangeClass(C,I,B,z,q){var Q;return re.Convert.isNull(null===(Q=this.copyRange)||void 0===Q?void 0:Q.fillOriginRange)?"":this.makeEdgeClass([this.copyRange.fillOriginRange],C,I,B,z,q,(C=>{if(re.Convert.isEmpty(C))return"";let I=[];return(null==C?void 0:C.Top)&&I.push(de.SbCss.fillHandle_top),(null==C?void 0:C.Bottom)&&I.push(de.SbCss.fillHandle_bottom),(null==C?void 0:C.Left)&&I.push(de.SbCss.fillHandle_left),(null==C?void 0:C.Right)&&I.push(de.SbCss.fillHandle_right),I.join(" ").toString()}))}fillHandleMove(C,I,B,z){this.copyRange.adjustFillRange(C,I,this.prevRowItem,this.prevColumn,B,z),this.prevColumn=I,this.prevRowItem=C,this.sendRefreshCommand()}fillCells(){return z(this,void 0,void 0,(function*(){const C=this.copyRange.fillOriginRange,I=this.copyRange.copyRangeList;try{if(re.Convert.isNull(C)||re.Convert.isNull(I))return;this.clear();const B=new se.Clipboard(this.grid);yield B.fillCells(C,I[0])}catch(C){ie.Log.error(["fill handle move Exception ocurred",C])}finally{this.copyRange.fillHandleMove=!1,this.copyRange.copyRangeList=void 0,this.copyRange.fillOriginRange=void 0}}))}makeSelectClass(C,I,B,z,q){var Q;let ee="";const te=q===le.PanelType.Body?null==C?void 0:C.key:q;if(re.Convert.isValue(this.grid.config.selectable)&&(re.Convert.isNull(C)||I.selectable(C))){ee+=this.isTemporaryCell(te,I.name)?` ${de.SbCss.selecting}`:"";const Q=this.isSelectedCell(te,I.name);q===le.PanelType.Body?ee+=C.isSelect&&!Q?` ${de.SbCss.unselected}`:0==C.isSelect&&Q?` ${de.SbCss.selected}`:"":ee+=Q?` ${de.SbCss.selected}`:"";const ie=this.getCopyRangeClass(C,I,B,z,q);ee+=re.Convert.isValue(ie)?` ${ie}`:"";this.isFillHandler(C,I,q)&&(ee+=` ${de.SbCss.fillHandle}`)}return ee+=` ${this.getFillHandleRangeClass(C,I,B,z,q)} `,ee+=this.grid.focusManager.isFocused(C,I,q,B)?` ${de.SbCss.focused} `:"",re.Convert.isValue(null===(Q=this.grid.config.dataDroppable)||void 0===Q?void 0:Q.afterCellDrop)&&this.isSelectedCell(null==C?void 0:C.key,null==I?void 0:I.name)&&(ee+=` ${de.SbCss.cursor_move}`),ee}doCommand(C,I){if(!re.Convert.isNull(this.option)){switch(I.command){case Q.Commands.Escape:this.cancelCopy();break;case Q.Commands.Select:this.doSelect(I);break;default:return super.doCommand(C,I)}return!0}}doSelect(C){var I,B,q,Q;return z(this,void 0,void 0,(function*(){if(re.Convert.isValue(C.arrow))return void this.shiftSelect(C.arrow);const z=null===(B=null===(I=this.grid.config)||void 0===I?void 0:I.navigatable)||void 0===B?void 0:B.syncSelect,ee=null===(Q=null===(q=this.option)||void 0===q?void 0:q.syncFocus)||void 0===Q||Q;!0!==z&&!0!==ee||this._doSelect(C)}))}_doSelect(C){var I,B;return z(this,void 0,void 0,(function*(){switch(null===(B=null===(I=this.grid.config)||void 0===I?void 0:I.selectable)||void 0===B?void 0:B.cellSelect){case fe.Row:case fe.Cell:this.isMouseDown=!1,yield this._mouseDown(C.start.rowItem,C.start.column,le.PanelType.Body,!1),yield this._bodyMouseMove(C.end.rowItem,C.end.column),yield this.bodyMouseUp();default:re.Convert.isNull(C.start)&&re.Convert.isNull(C.end)&&this.selectAll()}}))}shiftSelect(C){var I;return z(this,void 0,void 0,(function*(){const{focusManager:B}=this.grid;if(this.prevColumn.part===he.PartType.Fixed)return;let z=yield B.getNextFocus(C,this.prevColumn,this.prevRowItem);if(re.Convert.isNull(z))return;if((null===(I=null==z?void 0:z.column)||void 0===I?void 0:I.part)===he.PartType.Fixed)return;const q=new ee.SelectCommand(B.focus,z);this._doSelect(q)}))}canCopy(){if(!this.grid.config.copyable)return!1;let C=!0;try{re.Convert.isValue(this.copyRange.fillOriginRange)?this.copyRange.copyRangeList=[this.copyRange.fillOriginRange]:(this.copyRange.makeCopyRangeList(),re.Convert.isEmpty(this.copyRange.copyRangeList)&&(C=!1))}catch(I){C=!1}finally{return this.copyRange.clearCopyRanges(),C}}disconnect(){}}var fe,pe,me,ge;I.SelectManager=SelectManager,function(C){C.Cell="cell",C.Row="row",C.Col="col",C.None="none"}(fe||(I.SelectType=fe={})),function(C){C.Single="single",C.Multi="multi"}(pe||(I.SelectMode=pe={}));class SelectOptionParser{static parseSelectable(C){var I,B,z,q,Q,ee,te;null===(I=ue.SBGrid3.default)||void 0===I||I.selectable;const ie=null===(B=ue.SBGrid3.default)||void 0===B?void 0:B.defaultSelectable;return!0===C?ie:!1===C?void 0:"string"==typeof C?SelectOptionParser.parseSelectable({selectMode:re.Convert.parseEnum(pe,C)}):{selectMode:re.Convert.default(C.selectMode,null!==(z=null==ie?void 0:ie.selectMode)&&void 0!==z?z:pe.Single,(C=>re.Convert.parseEnum(pe,C))),rowSelect:re.Convert.default(C.rowSelect,null===(q=null==ie?void 0:ie.rowSelect)||void 0===q||q),columnSelect:re.Convert.default(C.columnSelect,null!==(Q=null==ie?void 0:ie.columnSelect)&&void 0!==Q&&Q),cellSelect:re.Convert.default(C.cellSelect,null==ie?void 0:ie.cellSelect,(C=>re.Convert.parseEnum(fe,C))),rowCheckable:re.Convert.default(C.rowCheckable,null!==(ee=null==ie?void 0:ie.rowCheckable)&&void 0!==ee&&ee),syncFocus:re.Convert.default(C.syncFocus,null===(te=null==ie?void 0:ie.syncFocus)||void 0===te||te)}}}I.SelectOptionParser=SelectOptionParser,function(C){C.Cell="cell",C.Row="row",C.Col="col"}(me||(I.HoverType=me={})),function(C){C.x="x",C.y="y"}(ge||(ge={}));class CopyRange{constructor(C){this._fillHandleMove=!1,this.preX=0,this.preY=0,this._selectManager=C,this._grid=C.grid}get copyRangeList(){return this._copyRangeList}set copyRangeList(C){this._copyRangeList=C}get fillOriginRange(){return this._fillHandleOriginRange}set fillOriginRange(C){this._fillHandleOriginRange=C}get fillHandleMove(){return this._fillHandleMove}set fillHandleMove(C){this._fillHandleMove=C}createFillOriginRange(){const C=this.makeColumnByRows();try{this.validRange(C);(C.size>1||[...C.values()].some((C=>(null==C?void 0:C.length)>1)))&&this.validMultiRowSelectRange(C);const I=this.makeSelectRange(C);this.fillOriginRange=1===(null==I?void 0:I.length)?I[0]:void 0}catch(C){this._fillHandleOriginRange=void 0}}makeSelectRange(C){const I=[];let B;return CopyRange.sortColumns([...C.keys()],this._grid).forEach((z=>{B=null!=B?B:CopyRange.sortRows([...C.get(z)],this._grid);B.every((C=>re.Convert.isNull(C)))&&(B=[...C.get(z)]),B.forEach((C=>{const B=this.searchRange(I,z,C);if(re.Convert.isNull(B)){let B=this.createSelectRange(z,C);I.push(B)}else this.joinCell(B,C,z)}))})),I}adjustHiddenColumn(C){var I,B;this._grid.columns;const z=null===(I=C[0])||void 0===I?void 0:I.index,q=null===(B=C.at(-1))||void 0===B?void 0:B.index,Q=this._grid.wholeColumns;for(let I=z+1;I<q;I++){const B=re.Arrays.bfsSearch(Q,(C=>C.index===I||C.columns));!1===(null==B?void 0:B.visible)&&C.push(B)}return CopyRange.sortColumns(C,this._grid)}joinCell(C,I,B){var z,q,Q,ee,te,ie,ne,se;const oe=I instanceof ae.RowItem?I.key:I,le=this._grid.view.keyMap;switch(C.type){case fe.Row:const ae=null!==(z=C.cellMap)&&void 0!==z?z:new Map;ae.set(oe,void 0),C.cellMap=ae,C.rowStart=le.get(C.rowStart).rowIndex>I.rowIndex?I.key:C.rowStart,C.rowEnd=le.get(C.rowEnd).rowIndex<I.rowIndex?I.key:C.rowEnd;break;case fe.Col:break;case fe.Cell:const ue=null!==(Q=null===(q=C.cellMap)||void 0===q?void 0:q.get(oe))&&void 0!==Q?Q:new Set;ue.add(B.name);const de=null!==(ee=C.cellMap)&&void 0!==ee?ee:new Map;de.set(oe,ue),C.cellMap=de,C.rowStart=(null===(te=le.get(C.rowStart))||void 0===te?void 0:te.rowIndex)>(null==I?void 0:I.rowIndex)?null==I?void 0:I.key:C.rowStart,C.rowEnd=(null===(ie=le.get(C.rowEnd))||void 0===ie?void 0:ie.rowIndex)<(null==I?void 0:I.rowIndex)?null==I?void 0:I.key:C.rowEnd,C.colStart=(null===(ne=re.Utils.findGridColumnByName(C.colStart,this._grid.wholeColumns))||void 0===ne?void 0:ne.index)>B.index?B.name:C.colStart,C.colEnd=(null===(se=re.Utils.findGridColumnByName(C.colEnd,this._grid.wholeColumns))||void 0===se?void 0:se.index)<=B.index?B.name:C.colEnd}return C}createSelectRange(C,I){let B;const z=I instanceof ae.RowItem?null==I?void 0:I.key:I;return B=void 0===C?{type:fe.Row,cellMap:(new Map).set(z,void 0),rowStart:I instanceof ae.RowItem?z:void 0,rowEnd:I instanceof ae.RowItem?z:void 0,colStart:this._grid.columns[0].name,colEnd:this.findLastColumn(this._grid.columns[this._grid.columns.length-1]).name}:{type:fe.Cell,cellMap:(new Map).set(z,(new Set).add(C.name)),rowStart:I instanceof ae.RowItem?z:void 0,rowEnd:I instanceof ae.RowItem?z:void 0,colStart:C.name,colEnd:C.name},B}makeColumnByRows(){const C=[...this._selectManager.selectedRows.keys()],I=this._selectManager.selectedCells,B=[...this._selectManager.selectedColumns.keys()],z=new Map,q=this._grid.view.keyMap;return C.forEach((C=>{var I;if(q.has(C)){const B=null!==(I=z.get(void 0))&&void 0!==I?I:[];B.includes(C)||B.push(C),z.set(void 0,B)}})),I.forEach(((C,I)=>{const B=this._grid.wholeColumns;C.forEach((C=>{var q;const Q=re.Arrays.bfsSearch(B,(I=>I.name===C||I.columns));if(re.Convert.isValue(Q)){const C=null!==(q=z.get(Q))&&void 0!==q?q:[];C.includes(I)||C.push(I),z.set(Q,C)}}))})),B.forEach((C=>z.set(re.Utils.findGridColumnByName(C,this._grid.columns),void 0))),z}validRange(C){this._grid.view;const I=[...C.values()];let B=null==I?void 0:I.every((C=>{if(re.Convert.isNull(C))throw"컬럼 선택 복사는 지원되지 않습니다.";return I.every((I=>C.length==I.length&&C.every(((C,B)=>C==I[B]))))}));if(!B)throw"범위 지정이 잘못되었습니다.";return B}validMultiRowSelectRange(C){const root=C=>re.Convert.isValue(C.parent)?root(C.parent):C,isSelectedColumn=I=>!(!re.Convert.isNull(I.field)&&!C.has(I))&&I.columns.every((C=>isSelectedColumn(C)));if(![...C.keys()].every((C=>{if(re.Convert.isNull(C))return!0;const I=root(C);return isSelectedColumn(I)})))throw"멀티로우 선택 실패."}searchRange(C,I,B){const z=this._grid.view.keyMap;return C.find((C=>{const q=z.get(C.rowStart),Q=z.get(C.rowEnd);let ee=!1;if(B instanceof ae.RowItem?ee=(null==q?void 0:q.rowIndex)<=(null==B?void 0:B.rowIndex)&&(null==B?void 0:B.rowIndex)<=(null==Q?void 0:Q.rowIndex)+1:"string"==typeof B&&(ee=!0),void 0===I)return C.type===fe.Row&&ee;if(C.type!==fe.Cell)return!1;if(ee){const B=re.Utils.findGridColumnByName(C.colStart,this._grid.wholeColumns),z=re.Utils.findGridColumnByName(C.colEnd,this._grid.wholeColumns);if(z==I)return!0;const q=re.Utils.findCellFromColumn(this._grid.rowLayout,z),Q=this._grid.rowLayout.toMatrix().getCell(q.row,q.col+q.colSpan);return B.index<=I.index&&Q.column==I}return!1}))}findLastColumn(C){const I=C.columns;return re.Convert.isValue(I)?this.findLastColumn(I[I.length-1]):C}makeCopyRangeList(){const C=this.makeColumnByRows();try{return this.validRange(C),this.copyRangeList=this.makeSelectRange(C),this.copyRangeList}catch(C){throw this.copyRangeList=void 0,C}}isFillHandler(C,I,B){var z,q;if(B!=le.PanelType.Body)return!1;if(C.node instanceof te.GroupNode)return!1;if(I.part===he.PartType.Fixed)return!1;const Q={rowKey:null===(z=this.fillOriginRange)||void 0===z?void 0:z.rowEnd,colName:null===(q=this.fillOriginRange)||void 0===q?void 0:q.colEnd};return(null==Q?void 0:Q.rowKey)===C.key&&(null==Q?void 0:Q.colName)===I.name}initRange(C,I,B){var z,q,Q,ee;const te=this._grid.view.keyMap,ie=re.Utils.findGridColumnByName(null===(z=this.fillOriginRange)||void 0===z?void 0:z.colStart,this._grid.columns),ne=te.get(null===(q=this.fillOriginRange)||void 0===q?void 0:q.rowStart);let se,oe;switch(C){case ge.x:oe=ie.index===B.index?(null===(Q=re.Utils.findCellFromColumn(this._grid.rowLayout,ie))||void 0===Q?void 0:Q.row)>(null===(ee=re.Utils.findCellFromColumn(this._grid.rowLayout,B))||void 0===ee?void 0:ee.row):ie.index>B.index,se={type:this._selectManager.tempSelectType,rowStart:this.fillOriginRange.rowStart,rowEnd:this.fillOriginRange.rowEnd,colStart:oe?B.name:this.fillOriginRange.colStart,colEnd:oe?this.fillOriginRange.colEnd:B.name,axis:C};break;case ge.y:oe=ne.index>I.index,se={type:this._selectManager.tempSelectType,rowStart:oe?I.key:this.fillOriginRange.rowStart,rowEnd:oe?this.fillOriginRange.rowEnd:I.key,colStart:this.fillOriginRange.colStart,colEnd:this.fillOriginRange.colEnd,axis:C}}return se}adjustFillRange(C,I,B,q,Q,ee){return z(this,void 0,void 0,(function*(){const z=this._grid.view.keyMap,te=this.getAxis(C,I,B,q,Q,ee),ie=this.initRange(te,C,I),ne=z.get(null==ie?void 0:ie.rowStart),se=z.get(null==ie?void 0:ie.rowEnd),oe=re.Utils.findGridColumnByName(null==ie?void 0:ie.colStart,this._grid.columns),ae=re.Utils.findGridColumnByName(null==ie?void 0:ie.colEnd,this._grid.columns);re.Convert.isNull(oe)||re.Convert.isNull(ae)||(yield this._selectManager.calcSelectedColumns(ne,oe,se,ae,((C,I)=>{this.joinCell(ie,C,I)})),this.copyRangeList=[ie])}))}getAxis(C,I,B,z,q,Q){const ee=this.fillOriginRange;if(ee.type===fe.Row)return ge.y;if((()=>{if(ee.rowStart===ee.rowEnd&&ee.colStart===ee.colEnd)return!1;return[...ee.cellMap.values()].some((C=>[...C].some((C=>{const I=re.Utils.findGridColumnByName(C,this._grid.wholeColumns);return re.Convert.isValue(I.parent)||re.Convert.isValue(I.columns)}))))})())return ge.y;re.Convert.isNull(this._copyRangeList)&&(this.preX=0,this.preY=0);const te=Math.abs(this.preX-q),ie=Math.abs(this.preY-Q);return te<20&&ie<20||(this.axis=te>ie?ge.x:ge.y,this.preX=q,this.preY=Q),this.axis}clearCopyRanges(){this.copyRangeList=[]}clearFillHandleRange(){this.fillOriginRange=void 0}fillHandleStart(){this.copyRangeList=void 0,this.fillHandleMove=!0}static sortColumns(C,I){const B=C.sort(((C,B)=>{const z="string"==typeof C?re.Utils.findGridColumnByName(C,I.wholeColumns):C,q="string"==typeof B?re.Utils.findGridColumnByName(B,I.wholeColumns):B;let Q=z.index,ee=q.index;if(Q===ee){const C=re.Utils.findCellFromColumn(I.rowLayout,z),B=re.Utils.findCellFromColumn(I.rowLayout,q);Q+=C.row,ee+=B.row}return Q<ee?-1:Q==ee?0:1}));return"string"==typeof B[0]?B.map((C=>re.Utils.findGridColumnByName(C.toString(),I.wholeColumns))):B}static sortRows(C,I){const B=I.view.keyMap;return C.sort(((C,I)=>{var z,q;const Q=null===(z=B.get(C))||void 0===z?void 0:z.rowIndex,ee=null===(q=B.get(I))||void 0===q?void 0:q.rowIndex;return Q<ee?-1:Q==ee?0:1})).map((C=>B.get(C)))}}I.CopyRange=CopyRange},121:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.CaptionContentRenderer=I.ValidationContentRenderer=I.ContentRenderer=I.TooltipCategory=I.Placement=I.Tooltip=void 0;const q=B(1163),Q=B(7078),ee=B(6312),te=B(860),ie=B(3419);var re,ne,se;I.Tooltip=class Tooltip{constructor(C){this._grid=C}addEventHandler(C){this._grid.setEvent("tooltip","mouseover","tooltip-hover",(C=>this.mouseover(C)),C)}mouseover(C){return z(this,void 0,void 0,(function*(){if(this.hasInvalidEditingFocus())return;const I=ee.SBGrid3.$(C.target);this.currentTarget=I;const B=this.findOptionByTarget(I);I.hasClass(Q.SbCss.tooltip)||(q.Convert.isNull(B)?this.clearTooltips():yield this.renderAbsoluteTooltip(I,B))}))}renderAbsoluteTooltip(C,I){return z(this,void 0,void 0,(function*(){const B=I,z=C.closest(B.target);(q.Convert.isNull(this._lastTarget)||z[0]!=this._lastTarget)&&(this.clearTooltips(),this.render(this._grid.container,z,B),this._lastTarget=C[0])}))}renderRalativeTooltip(C,I,B){if(I.length<1)return;const z=this._grid.getColumn(I),q=this._grid.getRowItem(I);I.data("selector");return this.render(C,I,B,!0,q,z)}clearTooltips(){this._grid.container.find(`.${Q.SbCss.tooltip}`).each(((C,I)=>{var B,z;const q=ee.SBGrid3.$(I),Q=this.findOptionByTooltip(q),te=null!==(z=null===(B=null==Q?void 0:Q.delay)||void 0===B?void 0:B.hide)&&void 0!==z?z:0;this.fadeout(q,te)})),this._lastTarget=void 0}findOptionByTooltip(C){const I=C.data("rowSelector"),B=C.data("cellSelector"),z=`.${Q.SbCss.row}.${q.Convert.isValue(I)?I:Q.SbCss.caption}>.${Q.SbCss.col}.${B}`,ee=this._grid.container.find(z);if(ee.length<1)return;const te=C.hasClass(ne.Validation)?ne.Validation:C.hasClass(ne.Cell)?ne.Cell:C.hasClass(ne.Caption)?ne.Caption:void 0;return this.findOptionByJqCol(ee,te)}findOptionByJqCol(C,I){const B=this._grid.getColumn(C).config.tooltip;return q.Convert.isValue(B)?B[I]:void 0}findOptionByTarget(C){const I=C.closest(`.${Q.SbCss.col}`);if(q.Convert.isNull(I))return;const B=this.getTooltipConfig(I);if(q.Convert.isNull(B))return;const z=Object.entries(B);let ee=z.find((([I,B])=>C.is(null==B?void 0:B.target)));return q.Convert.isNull(ee)&&(ee=z.find((([C,B])=>I.is(null==B?void 0:B.target)))),q.Convert.isValue(ee)?ee[1]:void 0}getTooltipConfig(C){const I=this._grid.getColumn(C);if(q.Convert.isNull(I))return;return I.config.tooltip}static getTooltipSelector(C){switch(C){case ne.Cell:return ContentRenderer.target;case ne.Caption:return CaptionContentRenderer.target;case ne.Validation:return ValidationContentRenderer.target}}static getTitleFunc(C){switch(C){case ne.Cell:return ContentRenderer.defaultFunc;case ne.Caption:return CaptionContentRenderer.defaultFunc;case ne.Validation:return ValidationContentRenderer.defaultFunc}}renderValidationTooltip(){var C,I;const B=this._grid.focusManager.focus;if(q.Convert.isValue(B)&&B.panelType==te.PanelType.Body&&(null===(C=null==B?void 0:B.column)||void 0===C?void 0:C.isEdit(B.rowItem))){const C=this._grid.getContainer(null==B?void 0:B.rowItem,null==B?void 0:B.column);if(q.Convert.isNull(C))return;const z=null===(I=null==B?void 0:B.column)||void 0===I?void 0:I.isValid(B.rowItem);if((null==z?void 0:z.state)===ie.ValidationState.Valid)this.clearTooltips();else{let I=B.column.tooltip.validation;const z=C.data("selector"),q=C.closest(`.${Q.SbCss.scroll}`).find(`.${Q.SbCss.last}.${Q.SbCss.row}>.${Q.SbCss.col}.${z}`);this._grid.container.find(`.${Q.SbCss.tooltip}`).remove();this.renderRalativeTooltip(q,C,I)}}else this.clearTooltips()}hasInvalidEditingFocus(){var C,I;const B=this._grid.focusManager.focus;if(q.Convert.isValue(B)&&B.panelType==te.PanelType.Body&&(null===(C=null==B?void 0:B.column)||void 0===C?void 0:C.isEdit(B.rowItem))){const C=null===(I=null==B?void 0:B.column)||void 0===I?void 0:I.isValid(B.rowItem);if((null==C?void 0:C.state)!==ie.ValidationState.Valid)return!0}return!1}render(C,I,B,z=!1,ee,te){var ie;const re=I.closest(`.${Q.SbCss.col}`);if(q.Convert.isNull(re))return;const se=re.data("selector"),oe=I.closest(`.${Q.SbCss.row}`),ae=oe.data("selector");q.Convert.isNull(te)&&(te=this._grid.getColumn(re)),q.Convert.isNull(ee)&&oe.length>0&&(ee=this._grid.getRowItem(oe));const le=this.getContentRenderer(q.Convert.parseEnum(ne,B.type),ee,te,B);if(q.Convert.isNull(le.template)&&q.Convert.isEmpty(le.getTitle()))return;const ue=q.JqUtils.adjustElement(C,`.${Q.SbCss.tooltip}.${B.type}.${se}${q.Convert.isValue(ae)?"."+ae:""}`,`<div class ='${Q.SbCss.tooltip} ${B.type} ${se}${q.Convert.isValue(ae)?" "+ae:""}${z?" "+Q.SbCss.fixed:""}'></div>`);return le.renderTitle(ue),z||ue.css("position","absolute"),this.setPosition(I,B,se,ae,z),ue.data("cellSelector",se),ue.data("rowSelector",ae),this.show(ue,null===(ie=B.delay)||void 0===ie?void 0:ie.show),ue}getContentRenderer(C,I,B,z){switch(C){case ne.Cell:return new ContentRenderer(I,B,z);case ne.Validation:return new ValidationContentRenderer(I,B,z);case ne.Caption:return new CaptionContentRenderer(I,B,z)}}setPosition(C,I,B,z,ee){const te=this._grid.container.find(`.${Q.SbCss.tooltip}.${I.type}.${B}${q.Convert.isValue(z)?"."+z:""}${ee?"."+Q.SbCss.fixed:""}`);let ie=I.placement;q.Convert.isNull(te.data("placement"))&&te.attr("data-placement",I.placement);const re=ee?C.closest(`.${Q.SbCss.scroll}`).find(`.${Q.SbCss.row}.${Q.SbCss.last}>.${Q.SbCss.col}.${B}`):this._grid.container,ne=new PopupPosition(re,this._grid).move(te,C,ie,!ee);te.attr("data-placement",ne)}setRalativePosition(C,I,B,z){const q=this._grid.container.find(`.${Q.SbCss.tooltip}.${I.type}.${B}.${z}.${Q.SbCss.fixed}`);let ee=I.placement;const te=C.closest(`.${Q.SbCss.scroll}`).find(`.${Q.SbCss.row}.${Q.SbCss.last}`);ee=new PopupPosition(te,this._grid).move(q,C,ee,!1),q.attr("data-placement",ee)}setAbsolutePosition(C,I,B,z){var ee;const te=this._grid.container.find(`.${Q.SbCss.tooltip}.${I.type}.${B}${q.Convert.isValue(z)?"."+z:""}`);let ie=null!==(ee=te.data("placement"))&&void 0!==ee?ee:I.placement&&te.attr("data-placement",I.placement);ie!=new PopupPosition(this._grid.container,this._grid).move(te,C,ie,!0)&&te.attr("data-placement",ie)}show(C,I){.001*I>0?setTimeout((()=>{const I=C.data("rowSelector"),B=C.data("cellSelector"),z=`.${Q.SbCss.row}.${q.Convert.isValue(I)?I:Q.SbCss.caption}>.${Q.SbCss.col}.${B}`;0!=this.currentTarget.closest(`.${Q.SbCss.col}`).is(z)&&(C.addClass("show"),C.css("transition","opacity 0.1s ease-in-out"))}),I):C.addClass("show")}fadeout(C,I){if(C.length<=0)return;if(.001*I>0){C.css("transition","opacity 0.1s ease-in-out");const B=setTimeout((()=>{C.removeClass("show"),C.remove(),C.one("transitionend",(function(){C.remove()})),clearTimeout(B)}),I)}else C.remove()}},function(C){C.Top="top",C.Bottom="bottom",C.Left="left",C.Right="right"}(re||(I.Placement=re={})),function(C){C.Validation="validation",C.Cell="cell",C.Caption="caption"}(ne||(I.TooltipCategory=ne={}));class ContentRenderer{get template(){var C;return null!==(C=this._template)&&void 0!==C?C:this._template=this.createTemplate()}constructor(C,I,B){this.rowItem=C,this.column=I,this.option=B}renderTitle(C){const I=q.JqUtils.adjustElement(C,` span.${Q.SbCss.title}`,`<span class = '${Q.SbCss.title}'></span>`);if(q.Convert.isValue(this.option.template))this.template&&this.renderTempate(I,this.template);else{const C=this.option.title;I.text("function"==typeof C?C(this.column,this.rowItem):null==C?void 0:C.toString())}}createTemplate(){const C=this.option.template,I=q.Convert.isValue(C)?"function"==typeof C?C(this.column,this.rowItem):C:void 0;return"string"==typeof I?q.Utils.createTemplate(I):void 0}renderTempate(C,I){const B=I(this.column.getTooltipData(this.rowItem));C.html(B)}getTitle(){const C=this.option.title,I=typeof C;return"string"===I?null==C?void 0:C.toString():"function"===I?C(this.column,this.rowItem):void 0}}I.ContentRenderer=ContentRenderer,ContentRenderer.defaultFunc=(C,I)=>C.getValue(I),ContentRenderer.target=".sbgrid-panel.sbgrid-body .sbgrid-row>.sbgrid-col";class ValidationContentRenderer extends ContentRenderer{renderTempate(C,I){const B=I(this.column.isValid(this.rowItem));C.html(B)}}I.ValidationContentRenderer=ValidationContentRenderer,ValidationContentRenderer.defaultFunc=(C,I)=>{var B;return null===(B=C.isValid(I))||void 0===B?void 0:B.message},ValidationContentRenderer.target=".sbgrid-invalid.sbgrid-indicator";class CaptionContentRenderer extends ContentRenderer{renderTempate(C,I){const B=I(this.column.config);C.html(B)}}I.CaptionContentRenderer=CaptionContentRenderer,CaptionContentRenderer.defaultFunc=(C,I)=>C.config.caption,CaptionContentRenderer.target=".sbgrid-panel.sbgrid-caption .sbgrid-row>.sbgrid-col",function(C){C.Left="left",C.Center="center",C.Right="right",C.Top="top",C.Bottom="bottom"}(se||(se={}));class PopupPosition{constructor(C,I){this.grid=I,this.container=C}move(C,I,B,z){let q,ee;switch(B){case re.Top:q=se.Top,ee=se.Center;break;case re.Bottom:q=se.Bottom,ee=se.Center;break;case re.Left:q=se.Center,ee=se.Left;break;case re.Right:q=se.Center,ee=se.Right}const te=this.left(C,I,ee,z),ie=this.top(C,I,q,z);if(C.css({left:te,top:ie}),!z){const q=this.container.closest(`.${Q.SbCss.panel}.${Q.SbCss.body}`),ee=q.offset(),te=C.offset(),ie=(null==te?void 0:te.top)<ee.top-1,ne=C.offset().top+C.outerHeight()>ee.top+q.outerHeight();ie&&ne?this.move(C,I,B,z):ie?(B=re.Bottom,this.move(C,I,B,z)):ne&&(B=re.Top,this.move(C,I,B,z))}return B}left(C,I,B,z=!0){C.offset();const q=I.offset();let Q=q.left;const ee=this.container.offset().left;let te=I.outerWidth();const ie=C.outerWidth();if(z){const C=this.grid.container.offset().left,I=this.grid.headWidth>0?C+this.grid.fixedWidth+this.grid.headWidth:0;q.left<I&&I<q.left+te-3&&(te=Q+te-I,Q=I);const B=I+this.grid.viewportWidth;q.left<B&&B<q.left+te-3&&(te=B-Q)}let re=0;switch(B){case se.Center:re=z?Q-ee+te/2-ie/2:te/2-ie/2;break;case se.Left:re=z?Q-ee-ie:-ie;break;case se.Right:re=z?Q-ee+te:te}return re}top(C,I,B,z=!0){C.offset();const q=I.offset().top,Q=I.outerHeight(),ee=C.outerHeight();let te=0;const ie=this.container.offset().top;switch(B){case se.Top:te=z?q-Q-ie:q-ie-ee/2;break;case se.Bottom:te=z?q+Q-ie:q-ie+ee/2+Q;break;case se.Center:te=z?q-ie:q-ie+Q/2}return te}}},503:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.UndoPaging=I.UndoMoveToPart=I.UndoColumnVisible=I.UndoMoveRow=I.UndoMoveColumn=I.UndoGroup=I.UndoSort=I.UndoOrder=I.UndoCheckRows=I.UndoCheckRow=I.UndoStickyRows=I.UndoStickyRow=I.UndoCloseDetail=I.UndoOpenDetail=I.UndoToggleDetail=I.UndoCloseRow=I.UndoOpenRow=I.UndoToggleRow=I.UndoDelete=I.UndoInsertRows=I.UndoInsert=I.UndoUpdate=I.UndoColWidth=I.UndoScroll=I.UndoScope=I.UndoBase=I.UndoManager=void 0;const q=B(7392),Q=B(1163),ee=B(2208),te=B(194);I.UndoManager=class UndoManager{constructor(C){this._doing=!1,this._grid=C}get grid(){return this._grid}get doing(){var C;return null!==(C=this._doing)&&void 0!==C?C:this._doing=!1}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new Q.Lock}get undoStack(){var C;return null!==(C=this._undoStack)&&void 0!==C?C:this._undoStack=new Q.Stack}get redoStack(){var C;return null!==(C=this._redoStack)&&void 0!==C?C:this._redoStack=new Q.Stack}clear(){this.undoStack.clear(),this.redoStack.clear()}_add(C){const I=this.undoStack.peek();C.overwrite&&(null==I?void 0:I.constructor.name)==C.constructor.name&&I.merge(C)||(this.redoStack.clear(),this.undoStack.push(C))}add(C){if(0==this.grid.config.undoable)return;if(this.doing)return;const I=C();this._add(I)}addScope(C,I){return z(this,void 0,void 0,(function*(){let B;try{this.grid.config.undoable&&0==this.doing&&(B=C(this.grid),B.acquire(this.grid),this._add(B));const z=I(this.grid);z instanceof Promise&&(yield z)}finally{null==B||B.release(this.grid)}}))}undo(){return z(this,void 0,void 0,(function*(){yield this.lock.acquire();try{const C=this.undoStack.pop();if(Q.Convert.isNull(C))return!1;try{this._doing=!0;let I=C.undo(this.grid);for(;I instanceof Promise;)I=yield I;this.redoStack.push(C)}finally{this._doing=!1}}finally{yield this.lock.release()}return!0}))}redo(){return z(this,void 0,void 0,(function*(){yield this.lock.acquire();try{const C=this.redoStack.pop();if(Q.Convert.isNull(C))return!1;try{this._doing=!0,this.undoStack.push(C);const I=C.redo(this.grid);I instanceof Promise&&(yield I)}finally{this._doing=!1}}finally{yield this.lock.release()}return!0}))}};class UndoBase{get overwrite(){return!1}merge(C){return!1}}I.UndoBase=UndoBase;class UndoScope extends UndoBase{}I.UndoScope=UndoScope;I.UndoScroll=class UndoScroll extends UndoBase{get overwrite(){return!0}constructor(C,I){super(),this.undoTop=C,this.redoTop=I}undo(C){C.topRow=this.undoTop}redo(C){C.topRow=this.redoTop}merge(C){return this.redoTop=C.redoTop,!0}};I.UndoColWidth=class UndoColWidth extends UndoBase{constructor(C,I,B,z){super(),this.column=C,this.undoWidth=I,this.redoWidth=B,this.syncRightColumn=z}undo(C){C.setColumnSize(this.column,this.undoWidth,this.syncRightColumn)}redo(C){C.setColumnSize(this.column,this.redoWidth,this.syncRightColumn)}};I.UndoUpdate=class UndoUpdate extends UndoBase{get overwrite(){return!0}get values(){var C;return null!==(C=this._values)&&void 0!==C?C:this._values=[]}constructor(C){super(),this._values=this.values.concat(C)}add(C){C instanceof Array?C.forEach((C=>this.values.push(C))):this.values.push(C)}undo(C){const I=this.values.map((C=>({key:C.key,value:C.undoValue,field:C.field})));C.view.setValues(I)}redo(C){const I=this.values.map((C=>({key:C.key,value:C.redoValue,field:C.field})));C.view.setValues(I)}merge(C){if(1!=this.values.length||1!=C.values.length)return!1;const I=this.values[0],B=C.values[0];return I.field==B.field&&(I.key==B.key&&(!Q.Convert.isWhite(I.field)&&(I.redoValue=B.redoValue,!0)))}get length(){return this.values.length}};I.UndoInsert=class UndoInsert extends UndoBase{get overwrite(){return!0}get values(){var C;return null!==(C=this._values)&&void 0!==C?C:this._values=[]}constructor(C,I){super(),this._values=this.values.concat(I),this._parentKey=C}add(C){C instanceof Array?C.forEach((C=>this.values.push(C))):this.values.push(C)}undo(C){const I=this.values.map((C=>({key:C.key,value:C.value,field:C.field})));C.view.insertValues(this._parentKey,I,!0)}redo(C){const I=this.values.map((C=>({key:void 0,value:C.value,field:C.field})));C.view.insertValues(this._parentKey,I,!1)}get length(){return this.values.length}};I.UndoInsertRows=class UndoInsertRows extends UndoBase{constructor(C,I){super(),this.items=C,this.insertTo=I}undo(C){return z(this,void 0,void 0,(function*(){yield C.removeRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.undoKey,data:C.data})))).reverse())}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.insertRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.targetKey,data:C.data})))),this.insertTo)}))}};I.UndoDelete=class UndoDelete extends UndoBase{constructor(C){super(),this.items=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.insertRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.undoKey,data:C.data})))).reverse(),te.InsertTo.Before)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.removeRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.targetKey,data:C.data})))))}))}};I.UndoToggleRow=class UndoToggleRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key)}))}};I.UndoOpenRow=class UndoOpenRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!1)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!0)}))}};I.UndoCloseRow=class UndoCloseRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!0)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!1)}))}};I.UndoToggleDetail=class UndoToggleDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key)}))}};I.UndoOpenDetail=class UndoOpenDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!1)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!0)}))}};I.UndoCloseDetail=class UndoCloseDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!0)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!1)}))}};I.UndoStickyRow=class UndoStickyRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){yield C.toggleStickyRow(this.key)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.toggleStickyRow(this.key)}))}};I.UndoStickyRows=class UndoStickyRows extends UndoBase{constructor(C,I){super(),this.keys=C,this.value=I}undo(C){return z(this,void 0,void 0,(function*(){const I=Q.Convert.isNull(this.value)?void 0:!this.value;C.toggleStickyRows(this.keys,I)}))}redo(C){return z(this,void 0,void 0,(function*(){const I=Q.Convert.isNull(this.value)?void 0:this.value;C.toggleStickyRows(this.keys,I)}))}};I.UndoCheckRow=class UndoCheckRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return z(this,void 0,void 0,(function*(){C.toggleCheckRow(this.key)}))}redo(C){return z(this,void 0,void 0,(function*(){C.toggleCheckRow(this.key)}))}};I.UndoCheckRows=class UndoCheckRows extends UndoBase{constructor(C,I){super(),this.keys=C,this.value=I}undo(C){return z(this,void 0,void 0,(function*(){const I=Q.Convert.isNull(this.value)?void 0:!this.value;C.toggleCheckRows(this.keys,I)}))}redo(C){return z(this,void 0,void 0,(function*(){const I=Q.Convert.isNull(this.value)?void 0:this.value;C.toggleCheckRows(this.keys,I)}))}};class UndoOrder extends UndoScope{constructor(){super(...arguments),this.orderMap=[]}acquire(C){C.dataSource.orderMap=this.orderMap}release(C){C.dataSource.orderMap=void 0}undo(C){for(const I of[].concat(this.orderMap).reverse()){const B=C.view.map(I.key);Q.Convert.isNull(B)||(B.node.index=I.oldIndex)}}redo(C){}}I.UndoOrder=UndoOrder;I.UndoSort=class UndoSort extends UndoBase{constructor(C,I){super(),this.undoOrders=q.DataSourceParser.parseOrders(C),this.redoOrders=q.DataSourceParser.parseOrders(I)}undo(C){C.setSort(this.undoOrders)}redo(C){C.setSort(this.redoOrders)}};I.UndoGroup=class UndoGroup extends UndoBase{constructor(C,I){super(),this.undoGroups=q.DataSourceParser.parseGroups(C),this.redoGroups=q.DataSourceParser.parseGroups(I)}undo(C){return z(this,void 0,void 0,(function*(){yield C.setGroup(this.undoGroups)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.setGroup(this.redoGroups)}))}};I.UndoMoveColumn=class UndoMoveColumn extends UndoBase{constructor(C,I,B,z=!0){super(),this.wholeColumns=C,this.sourceColumn=I,this.targetColumn=B,this.isBefore=z,this.undoBefore=!1,this.undoColumn=ee.Grid.findLeftColumn(I,C),Q.Convert.isNull(this.undoColumn)&&(this.undoColumn=ee.Grid.findRightColumn(I,C),Q.Convert.isValue(this.undoColumn)?this.undoBefore=!0:(this.undoBefore=void 0,this.undoColumn=this.sourceColumn.parent))}undo(C){return z(this,void 0,void 0,(function*(){yield C.moveToColumn(this.sourceColumn,this.undoColumn,this.undoBefore)}))}redo(C){return z(this,void 0,void 0,(function*(){yield C.moveToColumn(this.sourceColumn,this.targetColumn,this.isBefore)}))}};I.UndoMoveRow=class UndoMoveRow extends UndoOrder{constructor(C,I,B){super(),this.sourceKey=C.key,this.targetKey=I.key,this.isBefore=B;const z=C.node,q=z.parent,ee=Q.Convert.isNull(q)?C.view.dataSource.loader.nodes:q.nodes;ee.length>=2?z.index>0?(this.undoKey=ee[z.index-1].key,this.undoBefore=!1):(this.undoKey=ee[1].key,this.undoBefore=!0):(this.undoBefore=void 0,this.undoKey=null==q?void 0:q.key)}undo(C){return z(this,void 0,void 0,(function*(){const I=C.view.map(this.sourceKey),B=C.view.map(this.undoKey);yield C.moveToRow(I,B,this.undoBefore),this.assignOld(C)}))}redo(C){return z(this,void 0,void 0,(function*(){const I=C.view.map(this.sourceKey),B=C.view.map(this.targetKey);yield C.moveToRow(I,B,this.isBefore),this.assignNew(C)}))}release(C){super.release(C),this.assignNew(C)}assignNew(C){if(!Q.Convert.isEmpty(this.orderMap))for(const I of this.orderMap){const B=C.dataSource.map(I.key);Q.Convert.isNull(B)||(B.originIndex=I.newIndex)}}assignOld(C){if(!Q.Convert.isEmpty(this.orderMap))for(const I of this.orderMap){const B=C.dataSource.map(I.key);Q.Convert.isNull(B)||(B.originIndex=I.oldIndex)}}};I.UndoColumnVisible=class UndoColumnVisible extends UndoBase{constructor(C,I){super(),this.undoVisible=C,this.redoVisible=I}undo(C){C.columnVisible(this.undoVisible)}redo(C){C.columnVisible(this.redoVisible)}};I.UndoMoveToPart=class UndoMoveToPart extends UndoBase{constructor(C,I,B,z,q){super(),this.column=C,this.undoPart=I,this.redoPart=B,this.parent=z,this.index=q}undo(C){C.moveToPart(this.column,this.undoPart,this.parent,this.index,!0)}redo(C){C.moveToPart(this.column,this.redoPart,this.parent,this.index,!1)}};I.UndoPaging=class UndoPaging extends UndoBase{constructor(C,I){super(),this.undoPageNo=C,this.redoPageNo=I}undo(C){C.loadPage(this.undoPageNo)}redo(C){C.loadPage(this.redoPageNo)}}},3419:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnValidator=I.InvalidError=I.DefaultMessages=I.FormTypes=I.ValidationState=I.Rules=I.KoreanInputWithSpaceValidator=I.KoreanInputValidator=I.BetweenValidator=I.ArrayValidator=I.StringValidator=I.BooleanValidator=I.DateValidator=I.NumberValidator=I.UrlValidator=I.EmailValidator=I.TypeValidator=I.MinLengthValidator=I.MaxLengthValidator=I.PatternValidator=I.CustomValidator=I.MaxValidator=I.MinValidator=I.RequiredValidator=I.Validator=I.Handlebars=void 0;const z=B(5260),q=B(1163);I.Handlebars=B(7596),I.Handlebars.registerHelper("get",(function(C,I){return C.get(I)})),I.Handlebars.registerHelper("switch",(function(C,I){return this.switch_value=C,this.switch_break=!1,I.fn(this)})),I.Handlebars.registerHelper("case",(function(C,I){if(C==this.switch_value)return this.switch_break=!0,I.fn(this)})),I.Handlebars.registerHelper("default",(function(C,I){if(0==this.switch_break)return C}));class Validator{getMessage(C,B){if((null==C?void 0:C.indexOf("{{"))>-1){const z=I.Handlebars.compile(C);C=z(B instanceof Array?{value1:B[0],value2:B[1]}:{value:B})}return C}}I.Validator=Validator;class RequiredValidator extends Validator{isValid(C,I){var B;return!q.Convert.isEmpty(I)?{state:ee.Valid}:{cause:C,state:ee.ValueMissing,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Required)}}}I.RequiredValidator=RequiredValidator;class MinValidator extends Validator{isValid(C,I){var B;const z=C.dataType,Q=q.Convert.convertType(I,z)>=q.Convert.convertType(C.value,z);let te;return te=q.Convert.isEmpty(I)||Q?{state:ee.Valid}:{cause:C,state:ee.RangeUnderflow,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Min,C.value)},te}}I.MinValidator=MinValidator;class MaxValidator extends Validator{isValid(C,I){var B;const z=C.dataType,Q=q.Convert.convertType(I,z)<=q.Convert.convertType(C.value,z);let te;return te=q.Convert.isEmpty(I)||Q?{state:ee.Valid}:{cause:C,state:ee.RangeOverflow,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Max,C.value)},te}}I.MaxValidator=MaxValidator;class CustomValidator extends Validator{isValid(C,I){var B;const z="function"==typeof C.rule?C.rule:"function"==typeof C.value?C.value:void 0;if(q.Convert.isNull(z))throw"invalid value . Custom rule must have Function value";let Q;return Q=z(I)?{state:ee.Valid}:{cause:C,state:ee.CustomError,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Custom,C.value)},Q}}I.CustomValidator=CustomValidator;class PatternValidator extends Validator{isValid(C,I){var B;const Q="string"==typeof C.value?new RegExp(C.value):C.value instanceof RegExp?C.value:void 0;if(q.Convert.isNull(Q))throw z.Log.info(["invalid RegExp ",C.value]),"invalid RegExp "+C.value;const te=Q.test(I);let re;return re=q.Convert.isEmpty(I)||te?{state:ee.Valid}:{state:ee.PatternMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Pattern,C.value)},re}}I.PatternValidator=PatternValidator;class MaxLengthValidator extends Validator{isValid(C,I){var B,z,Q;const te=(null!==(z=null===(B=q.Convert.convertType(I,q.DataType.String))||void 0===B?void 0:B.length)&&void 0!==z?z:0)<=q.Convert.asNumber(C.value);let re={state:ee.Valid};return q.Convert.isValue(I)&&!te&&(re={state:ee.TooLong,cause:C,message:this.getMessage(null!==(Q=C.message)&&void 0!==Q?Q:ie.MaxLength,C.value)}),re}}I.MaxLengthValidator=MaxLengthValidator;class MinLengthValidator extends Validator{isValid(C,I){var B,z,Q;const te=(null!==(z=null===(B=q.Convert.convertType(I,q.DataType.String))||void 0===B?void 0:B.length)&&void 0!==z?z:0)>=q.Convert.asNumber(C.value);let re={state:ee.Valid};return q.Convert.isValue(I)&&!te&&(re={state:ee.TooShort,cause:C,message:this.getMessage(null!==(Q=C.message)&&void 0!==Q?Q:ie.MinLength,C.value)}),re}}I.MinLengthValidator=MinLengthValidator;class TypeValidator extends Validator{isValid(C,I){const B=q.Convert.parseEnum(Q,C.value.toString()),z=ColumnValidator.getValidator(B);if(q.Convert.isValue(z))return z.isValid(C,I)}}I.TypeValidator=TypeValidator;class EmailValidator extends Validator{isValid(C,I){var B;const z=ColumnValidator.getValidator(Q.Pattern),q={rule:Q.Pattern,value:EmailValidator.emailPattern,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Email,C.value)};return z.isValid(q,I)}}I.EmailValidator=EmailValidator,EmailValidator.emailPattern=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;class UrlValidator extends Validator{isValid(C,I){var B;const z=ColumnValidator.getValidator(Q.Pattern),q={rule:Q.Pattern,value:UrlValidator.urlPattern,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Url,C.value)};return z.isValid(q,I)}}I.UrlValidator=UrlValidator,UrlValidator.urlPattern=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;class NumberValidator extends Validator{isValid(C,I){var B;const z=!isNaN(I)&&I!==1/0;let Q={state:ee.Valid};return q.Convert.isValue(I)&&!z&&(Q={state:ee.TypeMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Type,C.value)}),Q}}I.NumberValidator=NumberValidator;class DateValidator extends Validator{isValid(C,I){var B;const z=q.Convert.convertType(I,q.DataType.Date),Q=!isNaN(z);let te={state:ee.Valid};return q.Convert.isValue(I)&&!Q&&(te={state:ee.TypeMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Type,C.value)}),te}}I.DateValidator=DateValidator;I.BooleanValidator=class BooleanValidator extends Validator{isValid(C,I){var B;const z="boolean"==typeof q.Convert.convertType(I,q.DataType.Boolean);let Q={state:ee.Valid};return z||(Q={state:ee.TypeMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Type,C.value)}),Q}};I.StringValidator=class StringValidator extends Validator{isValid(C,I){var B;const z="string"==typeof q.Convert.convertType(I,q.DataType.String);let Q={state:ee.Valid};return z||(Q={state:ee.TypeMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Type,C.value)}),Q}};I.ArrayValidator=class ArrayValidator extends Validator{isValid(C,I){var B;const z=I instanceof Array;let q={state:ee.Valid};return z||(q={state:ee.TypeMismatch,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Type,C.value)}),q}};class BetweenValidator extends Validator{isValid(C,I){var B;const z=C.value,Q=q.Convert.convertType(z[0],q.DataType.Number),te=q.Convert.convertType(z[1],q.DataType.Number),re=q.Convert.convertType(I,q.DataType.Number),ne=Q<=re&&re<=te;let se={state:ee.Valid};return q.Convert.isValue(I)&&!ne&&(se={state:ee.RangeOverflow,cause:C,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.Between,C.value)}),se}}I.BetweenValidator=BetweenValidator;class KoreanInputValidator extends Validator{isValid(C,I){var B;const z=ColumnValidator.getValidator(Q.Pattern),q={rule:Q.Pattern,value:KoreanInputValidator.pattern,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.KoreanInput,C.value)};return z.isValid(q,I)}}I.KoreanInputValidator=KoreanInputValidator,KoreanInputValidator.pattern=/^[ㄱ-ㅎㅏ-ㅣ가-힣]+$/;class KoreanInputWithSpaceValidator extends Validator{isValid(C,I){var B;const z=ColumnValidator.getValidator(Q.Pattern),q={rule:Q.KoreanInputWithSpace,value:KoreanInputWithSpaceValidator.pattern,message:this.getMessage(null!==(B=C.message)&&void 0!==B?B:ie.KoreanInputWithSpace,C.value)};return z.isValid(q,I)}}var Q,ee,te,ie;I.KoreanInputWithSpaceValidator=KoreanInputWithSpaceValidator,KoreanInputWithSpaceValidator.pattern=/^[ㄱ-ㅎㅏ-ㅣ가-힣\s]+$/,function(C){C.Required="required",C.Min="min",C.Max="max",C.Pattern="pattern",C.MaxLength="maxLength",C.MinLength="minLength",C.Custom="custom",C.Email="email",C.Between="between",C.Type="type",C.Url="url",C.KoreanInput="koreanInput",C.KoreanInputWithSpace="koreanInputWithSpace",C.Number="number",C.Date="date",C.None="none"}(Q||(I.Rules=Q={})),function(C){C[C.ValueMissing=0]="ValueMissing",C[C.PatternMismatch=1]="PatternMismatch",C[C.TooLong=2]="TooLong",C[C.TooShort=3]="TooShort",C[C.RangeOverflow=4]="RangeOverflow",C[C.RangeUnderflow=5]="RangeUnderflow",C[C.TypeMismatch=6]="TypeMismatch",C[C.CustomError=7]="CustomError",C[C.ConfigError=8]="ConfigError",C[C.Valid=9]="Valid"}(ee||(I.ValidationState=ee={})),function(C){C.Email="email",C.Url="url"}(te||(I.FormTypes=te={})),function(C){C.Required="빈 칸을 채우세요",C.Min="{{value}}이상의 값을 입력하세요",C.Max="{{value}}이하의 값을 입력하세요.",C.Pattern="잘못된 입력입니다.",C.MaxLength="{{value}}글자 이내로 입력하세요.",C.MinLength="{{value}}글자이상 입력하세요.",C.Email="이메일 형식으로 입력하세요.",C.Url="url 형식으로 입력하세요.",C.Between="{{value1}}과 {{value2}} 이내의 값을 입력하세요",C.Type="{{value}} 타입으로 입력하세요",C.Custom="커스텀에러 발생",C.KoreanInput="한글만 입력하세요",C.KoreanInputWithSpace="한글과 공백만 입력하세요",C.None="none"}(ie||(I.DefaultMessages=ie={}));class InvalidError extends Error{constructor(C,I){super(C),this.validator=I}}I.InvalidError=InvalidError;class ColumnValidator{static getValidator(C){var I;const B=null!==(I=ColumnValidator.validators)&&void 0!==I?I:ColumnValidator.validators=new Map;let z=B.get(C);if(q.Convert.isNull(z)){switch(C){case Q.Required:z=new RequiredValidator;break;case Q.Min:z=new MinValidator;break;case Q.Max:z=new MaxValidator;break;case Q.Type:z=new TypeValidator;break;case Q.Number:z=new NumberValidator;break;case Q.Date:z=new DateValidator;break;case Q.Between:z=new BetweenValidator;break;case Q.Email:z=new EmailValidator;break;case Q.Url:z=new UrlValidator;break;case Q.Pattern:z=new PatternValidator;break;case Q.Custom:z=new CustomValidator;break;case Q.MinLength:z=new MinLengthValidator;break;case Q.MaxLength:z=new MaxLengthValidator;break;case Q.KoreanInput:z=new KoreanInputValidator;break;case Q.KoreanInputWithSpace:z=new KoreanInputWithSpaceValidator}if(!q.Convert.isValue(z))throw`'${C}' is not supported validator.`;B.set(C,z)}if(q.Convert.isNull(z))throw Error;return z}static isValid(C,I){let B;for(const te of C){const C="function"==typeof te.rule?Q.Custom:te.rule,ie=ColumnValidator.getValidator(C);if(q.Convert.isNull(ie))return void z.Log.debug(["validator not found >> ",ie]);if(B=ie.isValid(te,I),B.state!==ee.Valid)break}return B}}I.ColumnValidator=ColumnValidator},2562:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.Viewport=void 0;const q=B(273),Q=B(2663),ee=B(7392),te=B(5060),ie=B(3354),re=B(1163),ne=B(9797),se=B(7721),oe=B(7078);class Viewport extends q.Observer{constructor(C){super(C),this._grid=C}get grid(){return this._grid}get view(){return this.grid.view}get config(){return this.grid.config}get dataConfig(){return this.grid.dataConfig}get isPaging(){return this.grid.isPaging}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new re.Lock}get rowsViewMap(){return this.grid.layouts.rowsViewMap}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyEdit(){return this.config.stickyEdit}get stickyInsert(){return this.config.stickyInsert}get stickyUpdate(){return this.config.stickyUpdate}get stickyDelete(){return this.config.stickyDelete}get rowHeights(){var C;return null!==(C=this._rowHeights)&&void 0!==C?C:this._rowHeights=[]}get scrollPanel(){return this.grid.scrollPanel}get topRow(){return this.grid.topRow}set topRow(C){this.grid.topRow=C}get topCol(){return this.grid.topCol}set topCol(C){this.grid.topCol=C}get marginCol(){return this.grid.scrollPanel.scrollLeft}set marginCol(C){this.grid.scrollPanel.scrollLeft=C}clear(){this._rowHeights=[]}doCommand(C,I){switch(I.command){case Q.Commands.Open:case Q.Commands.Close:return this.clearRowHeights(I),!0;default:return super.doCommand(C,I)}return!0}clearRowHeights(C){this.rowHeights.splice(C.rowIndex)}calcCols(C,I=!0,B=void 0){var q;return z(this,void 0,void 0,(function*(){this.grid.bodyWidth,null==B?void 0:B.stickyOverflow;const I=this.grid.layouts.colsView(C,B);return I.lastCol=null===(q=I.fullCells[I.fullCells.length-1])||void 0===q?void 0:q.col,I}))}calcRows(C,I,B){return z(this,void 0,void 0,(function*(){try{let z=this.scrollPanel.viewportHeight;this.grid.autoHeight&&(z=void 0);const q={currRows:[],prevRows:[],nextRows:[],headers:[],footers:[],stickyKeys:new Set,bodyHeight:z,scrollHeight:0,footerHeight:0,headerHeight:0,rowHeights:0,scrollTop:this.scrollPanel.scrollTop};if(0===z)return q;if(yield this.makeCurrRows(q,C,z,I,B),(this.stickyRow||this.stickyEdit||this.stickyInsert||this.stickyUpdate||this.stickyDelete)&&(z=yield this.makeStickyRows(q,z,I)),this.grid.scrollWhole&&this.config.stickyHeader&&(z=yield this.makeStickyHeader(q,z,I)),this.grid.scrollWhole&&this.config.stickyFooter&&(z=yield this.makeStickyFooter(q,z,I)),this.rowMergeable){let C=0;q.currRows.forEach(((I,B)=>{I.rowHeight=this.getItemHeight(I.rowItem),I.top=C,C+=I.rowHeight.total})),Viewport.makeMergeRow(q.currRows,this.grid.rowLayout),Viewport.makeMergeRow(q.headers,this.grid.rowLayout),Viewport.makeMergeRow(q.footers,this.grid.rowLayout)}return q.headers.forEach((C=>q.headerHeight+=C.rowHeight.total)),q.footers.forEach((C=>q.footerHeight+=C.rowHeight.total)),q.rowHeights=q.currRows.reduce(((C,I)=>I.rowHeight.total+C),0),re.Convert.isEmpty(z)&&(q.bodyHeight=q.rowHeights+q.headerHeight+q.footerHeight),q.scrollHeight=q.bodyHeight-q.headerHeight-q.footerHeight,0==this.grid.virtualRow&&(q.scrollTop=Math.max(0,Math.min(q.scrollTop,q.rowHeights-q.scrollHeight))),q}finally{}}))}adjustMaxTopRow(C,I){return z(this,void 0,void 0,(function*(){if(this.grid.autoHeight&&this.grid.virtualRow){const B=Math.min(I,this.grid.rowCount%this.grid.pageSize);return B!=I&&(C=yield this.calcRows(B,this.grid.virtualRow,!0)),{rowsView:C,topRow:B}}if(C.rowHeights<=C.scrollHeight){let B=I;for(;!(B<=0||re.Convert.isEmpty(B));){B--;const I=yield this.calcRows(B,this.grid.virtualRow,!0),{rowHeights:z,scrollHeight:q}=I;if(z>q){B++;break}if(z==q)break;C=I}I=Math.max(B,0)}return{rowsView:C,topRow:I}}))}adjustMinTopRow(){return z(this,void 0,void 0,(function*(){let C=0;for(;C<this.grid.rowCount;C++){const I=this.grid.rows[C];if(re.Convert.isNull(I))break;if(0==I.isSticky)break}return C}))}makeRows(){return z(this,void 0,void 0,(function*(){const C=this.grid.virtualRow?this.grid.view.topRow:this.grid.pageNo*this.pageSize;let I=yield this.calcRows(C,this.grid.virtualRow,!1);const B=yield this.adjustMaxTopRow(I,this.grid.topRow);for(const C of B.rowsView.currRows)re.Convert.isValue(C.rowItem)||(C.rowItem=yield this.grid.view.getRow(C.rowIndex,!1));return this.grid.view.topRow=B.topRow,B.rowsView}))}makeCurrRows(C,I,B,q,Q){var ee,te,ie,ne;return z(this,void 0,void 0,(function*(){let z=0;if(I=Math.max(I,0),q){if(re.Convert.isValue(B)){const q=0==this.grid.scrollWhole&&this.isPaging,ie=q?this.grid.rows.length:null!==(ee=this.grid.rowCount)&&void 0!==ee?ee:this.grid.rows.length;for(;I<ie;I++){const ee=Q||q?this.view.rows[I]:yield this.view.getRow(I,!1);if(0==(null===(te=null==ee?void 0:ee.visible)||void 0===te||te))continue;const ie={rowItem:ee,top:z,rowHeight:this.getItemHeight(ee),rowIndex:I};if(C.currRows.push(ie),z+=ie.rowHeight.total,z>B)break}}else if(this.grid.autoHeight)if(this.grid.scrollWhole){I=0;const B=this.grid.rowCount,q=null!==(ie=this.grid.scrollPanel.bodyPanel.bodyHeight)&&void 0!==ie?ie:0,ee=Math.round(this.grid.container.height())-q;this.grid.maxHeight;for(;I<B;I++){const B=Q?this.view.rows[I]:yield this.view.getRow(I,!1);if(0==(null===(ne=null==B?void 0:B.visible)||void 0===ne||ne))continue;const q={rowItem:B,top:z,rowHeight:this.getItemHeight(B),rowIndex:I};C.currRows.push(q),z+=q.rowHeight.total}}else this.loadPageRows(I,C)}else this.loadPageRows(I,C)}))}loadPageRows(C,I){var B;let z=0;for(const q in this.view.rows){const Q=this.view.rows[q];if(re.Convert.isNull(Q)||Q.constructor.name!=ne.RowItem.name)break;if(0==(null===(B=Q.visible)||void 0===B||B))continue;C=Q.rowIndex;const ee={rowItem:Q,top:z,rowHeight:this.getItemHeight(Q),rowIndex:C};I.currRows.push(ee),z+=ee.rowHeight.total}}adjustCurrRows(C,I,B){var z,q;if(0==B||I<0)return I;let Q=0;const ee=C.currRows.findIndex((C=>Q>I||(Q+=this.getItemHeight(C.rowItem).total,!1)));if(ee>=0){Q=0;const te=C.currRows.splice(ee);for(const I of te.reverse())null!==(q=null===(z=null==I?void 0:I.rowItem)||void 0===z?void 0:z.isSticky)&&void 0!==q&&q&&(C.footers.splice(0,0,I),Q+=this.getItemHeight(I.rowItem).total);Q>0&&(I-=Q,I=this.adjustCurrRows(C,I,B))}return I}static old_makeMergeRow(C,I){var B,z;const q=C.map((C=>({})));{if(re.Convert.isEmpty(C))return q;for(const Q of I){if(!1===Q.mergeRow)continue;const ee=null==Q?void 0:Q.field;if(re.Convert.isEmpty(ee))continue;let te,ne;for(let se=0,oe=C.length;se<oe;se++){const ae=C[se],le=q[se];if(re.Convert.isNull(ae.rowItem)||0==ae.rowItem.visible)continue;let ue=getValue(ae.rowItem,Q),de=ae.rowItem.node.constructor.name,ce=ae.rowItem.level;const he=ae.rowItem.isSticky;if(0==Q.groupTitleVisible&&de==ie.FooterNode.name){const fe=ae.rowItem.data,pe=null===(B=ae.rowItem.view.dataConfig.groups.map((C=>C.field)))||void 0===B?void 0:B.indexOf(Q.field);pe>=0&&fe.level>pe&&(de=ie.GroupItem.name,ue=fe.data[Q.field])}if(le[ee]={rowSpan:1,value:ue,node:de,isDetail:ae.rowItem.isDetail,level:ce,isSticky:he},ne==de&&te==ue)for(let me=se-1;me>=-1;me--){const ge=null===(z=q[me])||void 0===z?void 0:z[ee];if(me<0||he||re.Convert.isNull(ge)||ge.isSticky!=he||ge.value!=ue||ge.node!=de||ge.level!=ce||1==ge.isDetail){q[me+1][ee].rowSpan=se-me;break}q[me+1][ee].rowSpan=0}te=ue,ne=de}}function getValue(C,I){return"function"==typeof I.mergeRow?I.mergeRow(C.data,C):I.getValue(C)}}for(const ve in q){const ye=q[ve];if(!re.Convert.isNull(ye)){for(const be in ye){const Ce=ye[be];ye[be]=null==Ce?void 0:Ce.rowSpan}C[ve].merge=ye}}return q}static makeMergeRow(C,I){var B,z;const q=C.map((C=>({})));{if(re.Convert.isEmpty(C))return q;const Q=I.rows;for(const ee of Q)for(const te of null==ee?void 0:ee.cells){const ne=null==te?void 0:te.column;if(re.Convert.isNull(ne))continue;if(!1===ne.mergeRow)continue;const se=null==ne?void 0:ne.field;if(re.Convert.isEmpty(se))continue;let oe,ae;for(let le=0,ue=C.length;le<ue;le++){const de=C[le],ce=q[le];if(re.Convert.isNull(de.rowItem)||0==de.rowItem.visible)continue;let he=getValue(de.rowItem,ne),fe=de.rowItem.node.constructor.name,pe=de.rowItem.level;const me=de.rowItem.isSticky;if(0==ne.groupTitleVisible&&fe==ie.FooterNode.name){const ge=de.rowItem.data,ve=null===(B=de.rowItem.view.dataConfig.groups.map((C=>C.field)))||void 0===B?void 0:B.indexOf(ne.field);ve>=0&&ge.level>ve&&(fe=ie.GroupItem.name,he=ge.data[ne.field])}if(ce[se]={rowSpan:1,value:he,node:fe,isDetail:de.rowItem.isDetail,level:pe,isSticky:me},ae==fe&&oe==he)for(let ye=le-1;ye>=-1;ye--){const be=null===(z=q[ye])||void 0===z?void 0:z[se];if(ye<0||me||re.Convert.isNull(be)||be.isSticky!=me||be.value!=he||be.node!=fe||be.level!=pe||1==be.isDetail){q[ye+1][se].rowSpan=le-ye;break}q[ye+1][se].rowSpan=0}oe=he,ae=fe}}function getValue(C,I){return"function"==typeof I.mergeRow?I.mergeRow(C.data,C):I.getValue(C)}}for(const Ce in q){const we=q[Ce];if(!re.Convert.isNull(we)){for(const _e in we){const Se=we[_e];we[_e]=null==Se?void 0:Se.rowSpan}C[Ce].merge=we}}return q}makeMerge(C,I,B,z){const q=[];let Q=C.map((C=>C.clone()));if(re.Convert.isNull(I)||!1===I.visible)return[];const ee=I.node.constructor.name;if(ee==ie.GroupNode.name)return Q;if(this.grid.mergeRow)for(const C in Q){const I=Q[C];if(I.mergeCol>1||0==I.mergeCol||re.Convert.isNull(I.column))continue;const ee=I.column,te=null==ee?void 0:ee.field,ie=null==B?void 0:B[te];if(ee.mergeRow&&(0==ie||ie>1)&&I.rowSpan==z&&(I.mergeRow=0,ie>1)){const C=I.clone();C.mergeRow=ie,q.push(C)}}return ee==ie.FooterNode.name?Q:(Q=this.grid.mergeColumn?this.makeMergeCol(Q,I):Q,Q.concat(q))}makeMergeCol(C,I){const B=C,z=[],q=[];let Q;for(let C=0;C<B.length;){const ee=B[C],te=null==ee?void 0:ee.column;if(re.Convert.isNull(te)||re.Convert.isNull(te.mergeColumn)||!1===te.mergeColumn||ee.mergeRow>1||0==ee.mergeRow){q.push(void 0),Q=void 0,C++;continue}const ie={col:C,value:"function"==typeof te.mergeColumn?te.mergeColumn(I.data,I):te.getValue(I),colSpan:1,cell:ee};if(q.push(ie),re.Convert.isValue(Q)&&Q.value==ie.value){let C=1;ie.cell.mergeCol=0;for(let I=q.length-2;I>=-1;I--){const B=q[I];if(-1==I||re.Convert.isNull(B)||B.value!=ie.value){q[I+1].cell.mergeCol=0;const B=q[I+1].cell.clone();B.mergeCol=C,z.push(B);break}q[I+1].cell.mergeCol=0,C++}}Q=ie,C+=ee.colSpan}return B.concat(z)}getMergeColumnGroup(C,I,B){var z;if(!this.grid.mergeColumn)return;const q=C.rows;let Q;for(let C=0;C<q.length;C++){Q=null===(z=q[0])||void 0===z?void 0:z.getCells(I.part);const C=Q.find((C=>{var B;return(null===(B=null==C?void 0:C.column)||void 0===B?void 0:B.name)===(null==I?void 0:I.name)}));if(re.Convert.isValue(C))break}if(re.Convert.isNull(Q))return;Q=Q.map((C=>C.clone()));const getValue=C=>{"function"==typeof C.mergeColumn?C.mergeColumn(B.data,B):C.getValue(B)},ee=getValue(I),te=this.makeMergeCol(Q,B);let ie=te.find((C=>(null==C?void 0:C.column)==I));if(!(null==ie?void 0:ie.merged))return[ie];const ne=te.find((C=>(null==C?void 0:C.merge)&&ee==getValue(null==C?void 0:C.column)&&(null==C?void 0:C.col)<=(null==ie?void 0:ie.col)&&(null==ie?void 0:ie.col)<(null==C?void 0:C.col)+(null==C?void 0:C.mergeCol)));return te.slice(null==ne?void 0:ne.col,(null==ne?void 0:ne.col)+(null==ne?void 0:ne.mergeCol))}makeStickyHeader(C,I,B){return z(this,void 0,void 0,(function*(){const z=C.headers;if(0==this.config.stickyHeader)return I;if(this.grid.loader instanceof te.ListLoader)return I;for(const I of C.currRows){if(re.Convert.isNull(I)||re.Convert.isNull(I.rowItem)||I.rowItem.isSticky)continue;let B=I.rowItem.parent;for(;re.Convert.isValue(B);)z.findIndex((C=>C.rowItem==B))<0&&C.currRows.findIndex((C=>C.rowItem==B))<0&&B.visible&&z.push({rowItem:B,rowHeight:this.getItemHeight(B)}),B=B.parent}return z.sort(Viewport.treeIndexHeaderCompare),re.Convert.isValue(I)&&(I-=z.filter((C=>0==C.rowItem.isSticky)).reduce(((C,I)=>C+this.getItemHeight(I.rowItem).total),0),I=this.adjustCurrRows(C,I,B)),I}))}makeStickyFooter(C,I,B){return z(this,void 0,void 0,(function*(){if(0==this.config.stickyFooter)return I;if(this.grid.loader instanceof te.ListLoader)return I;const B=C.footers,z=new Set;for(const q of C.currRows.map((C=>C.rowItem))){if(re.Convert.isNull(q))continue;if(z.has(q.key))continue;let Q=q;for(;re.Convert.isValue(Q);){if(Q.isOpen&&Q.isParentsOpen){const q=Q.node instanceof ie.ParentNode&&re.Convert.isValue(Q.node.footer)?Q.node:void 0;if(re.Convert.isValue(q)&&0==C.currRows.concat(B).some((C=>{var I;return(null===(I=C.rowItem)||void 0===I?void 0:I.key)===q.footer.key}))){const Q=this.view.map(q.footer.key);if((null==Q?void 0:Q.node)instanceof ie.FooterNode){if(!(B.findIndex((C=>C.rowItem==Q))<0))break;{let q=re.Convert.isValue(I)?I-this.getItemHeight(Q).total:this.getItemHeight(Q).total;const ee=C.currRows.findIndex((C=>C.top>q));if(B.push(this.getRowsMap(Q)),ee>0){C.currRows.splice(ee).forEach((C=>{z.add(C.rowItem.key),C.rowItem.isSticky&&(this.addStickyFooter(B,C.rowItem),q+=C.rowHeight.total)}))}re.Convert.isValue(I)&&(I=q)}}}}Q=Q.parent}B.sort(Viewport.treeIndexFooterCompare)}return I}))}getRowsMap(C){return{rowItem:C,rowHeight:this.getItemHeight(C),rowIndex:C.rowIndex}}makeStickyRows(C,I,B){var q,Q,ee,te;return z(this,void 0,void 0,(function*(){if(re.Convert.isNull(C))return;const z=C.currRows,ie=C.headers,ne=C.footers,se=C.stickyKeys,oe=[].concat(z),ae=[].concat(this.view.getStickyRows(this.stickyEdit,this.stickyInsert||this.stickyUpdate||this.stickyDelete)),le=ie.length,ue=null===(Q=null===(q=oe[0])||void 0===q?void 0:q.rowItem)||void 0===Q?void 0:Q.node.treeIndex,de=null===(te=null===(ee=oe[oe.length-1])||void 0===ee?void 0:ee.rowItem)||void 0===te?void 0:te.node.treeIndex;for(const q of ae){if(se.add(q.key),z.some((C=>{var I;return(null===(I=null==C?void 0:C.rowItem)||void 0===I?void 0:I.key)==(null==q?void 0:q.key)})))continue;const Q=q.node.treeIndex;if(re.Convert.isEmpty(ue)||ue>Q)this.addStickyHeader(ie,q);else{if(!(de<Q))continue;this.addStickyFooter(ne,q)}if(re.Convert.isValue(I)){if((I-=this.getItemHeight(q).total)<0)break;I=this.adjustCurrRows(C,I,B)}}return le!=ie.length&&ie.sort(Viewport.treeIndexHeaderCompare),I}))}addStickyHeader(C,I){C.findIndex((C=>C.rowItem==I))<0&&C.push(this.getRowsMap(I))}addStickyFooter(C,I){C.findIndex((C=>C.rowItem==I))<0&&C.push(this.getRowsMap(I))}static treeIndexHeaderCompare(C,I){return C.rowItem.node.treeIndex==I.rowItem.node.treeIndex?0:C.rowItem.node.treeIndex>I.rowItem.node.treeIndex?1:-1}static treeIndexFooterCompare(C,I){const B=C.rowItem.node instanceof ie.FooterNode?C.rowItem.node.parent.level:C.rowItem.node.level;return(I.rowItem.node instanceof ie.FooterNode?I.rowItem.node.parent.level:I.rowItem.node.level)-B}calcRowHeights(){this.clear()}getItemHeight(C){var I,B;const z=this.grid.fixedRows;let q=z?this.grid.rowHeights:0,Q=z?this.grid.detailHeight:0;if(re.Convert.isNull(C)){const C=this.grid.rowHeights;return{total:C,height:C,detail:Q,rowFix:z,detailFix:z,rendered:!1}}if(0==C.visible)return{detail:0,height:0,total:0,rowFix:!1,detailFix:!1,rendered:!1};const ee=C.node.constructor.name,te=C.rowHeights;if((null!==(I=null==te?void 0:te.height)&&void 0!==I?I:0)>0){const I=te.height,q=1==C.isDetail&&ee!=ie.GroupNode.name&&ee!=ie.FooterNode.name?z?this.grid.detailHeight:null!==(B=te.detail)&&void 0!==B?B:this.grid.detailHeight:0;return{total:I+(C.isDetail?q:0),height:I,detail:q,rowFix:te.rowFix||z,detailFix:te.detailFix||z,rendered:te.rendered}}switch(ee){case ie.GroupItem.name:case ie.ListNode.name:case ie.TreeNode.name:q=this.grid.rowHeights;break;case ie.GroupNode.name:const{header:I}=this.grid.groupLayout(C.node.igroup.field);q=I.rows.length*this.grid.groupHeight;break;case ie.FooterNode.name:const B=C.node.parent;if(B instanceof ie.GroupNode){const{footer:C}=this.grid.groupLayout(B.igroup.field);q=C.rows.length*this.grid.groupHeight}else{q=this.grid.treeFooterLayout.rows.length*this.grid.groupHeight}}return 1==C.isDetail&&ee!=ie.GroupNode.name&&ee!=ie.FooterNode.name?(C.setHeight(q,this.grid.detailHeight),Q=this.grid.detailHeight):C.setHeight(q,void 0),{total:q+(C.isDetail?Q:0),height:q,detail:Q,rowFix:null==te?void 0:te.rowFix,detailFix:null==te?void 0:te.detailFix,rendered:null==te?void 0:te.rendered}}setRowHeight(C,I,B){const z=C.setHeight(I,B),q=C.rowIndex;return(z||re.Convert.isNull(this.rowHeights[q])&&re.Convert.isValue(I))&&(this.rowHeights.splice(q),this.rowHeights[q]=this.rowHeights[q-1]+I,this.rowsViewMap.clear()),z}get pageSize(){return this.dataConfig.pageSize}getPageHeight(C=void 0){null!=C||(C=this.grid.pageNo);const I=this.grid.dataSource.getPageSize(void 0,C);return this.getRowsHeight(0,I)}getScrollHeight(C=void 0,I=!1){let B=C;const z=this.grid.scrollRange==ee.ScrollRange.Whole?re.Convert.isNull(B)?this.grid.visibleCount:this.grid.rows.length:null!=B?B:this.grid.rows.length;return this.getRowsHeight(0,z,I)}getRowsHeight(C,I,B=!1){var z,q;if(this.fixedHeight&&0==this.grid.hasDetail&&this.grid.loader instanceof te.ListLoader){let z=this.grid.rowHeights*(I-C);return B&&this.grid.view.stickyKeys.size>0&&(z-=this.grid.rowHeights*this.grid.view.stickyKeys.size),z}let Q=0,ee=0;for(const te of this.grid.rows.keys()){if(te<C)continue;if(I<=te)break;const ie=this.grid.rows[te];re.Convert.isNull(ie)||ie instanceof ne.RowItem==0||0==(null===(z=ie.visible)||void 0===z||z)||(B&&ie.isSticky||(Q+=null!==(q=this.getItemHeight(ie).total)&&void 0!==q?q:0,ee++))}const ie=I-C-ee;return Q+this.grid.rowHeights*ie}get fixedHeight(){return this.config.fixedRows}get rowMergeable(){return this.config.mergeRow}setScroll(C,I){return z(this,void 0,void 0,(function*(){this.grid.selectManager.hideHover(),re.Convert.isValue(I)&&I>=0&&(yield this.setScrollRow(I)),re.Convert.isValue(C)&&C>=0&&(yield this.setScrollCol(C))}))}setScrollRow(C){return z(this,void 0,void 0,(function*(){if(this.grid.virtualRow)this.topRow!=C&&(this.topRow=C);else{const I=yield this.getRowScrollInfo(C);this.grid.view.topRow=I.index,this.grid.scrollPanel.scrollTop=C}}))}setScrollCol(C){return z(this,void 0,void 0,(function*(){if(this.grid.virtualColumn)this.topCol!=C&&(this.topCol=C);else{const I=yield this.getColScrollInfo(C);this.scrollPanel.scrollLeft!==C&&this.grid.container.find(`> div.${oe.SbCss.filter}.${oe.SbCss.menu}`).remove(),this.grid.view.topCol=I.index,this.scrollPanel.scrollLeft=C}}))}getRowScrollInfo(C){var I;return z(this,void 0,void 0,(function*(){0==this.grid.rowCount&&(yield this.view.prepareRows());let B=0,z=0,q=0;C=Math.ceil(C);for(const Q=this.grid.rowCount;B<Q;B++){const Q=this.grid.rows[B];if(q=this.getItemHeight(Q).total,z+=q,0==this.grid.scrollWhole&&null!==(I=null==Q?void 0:Q.isSticky)&&void 0!==I&&I&&(C+=q),C<z)break}return{margin:z-C-q,total:z,index:B}}))}getColScrollInfo(C){var I;return z(this,void 0,void 0,(function*(){let B=0,z=0,q=0;const Q=null===(I=this.grid.defaultLayout.rows[0])||void 0===I?void 0:I.getCells(se.PartType.Body);for(const I in Q){const ee=Q[I];if(B=ee.col,q=ee.width,z+=q,0==this.grid.virtualColumn&&ee.isSticky&&(C+=q),C<z)break}return{margin:z-C-q,total:z,index:B}}))}}I.Viewport=Viewport},9996:(C,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.DateUtil=void 0;class DateUtil{constructor(){this.format2=function(C,I){if(!this.valueOf())return" ";const B=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];let z,q=C;return I.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,(function(C){switch(C){case"yyyy":return q.getFullYear();case"yy":return this.pad(q.getFullYear()%1e3,2);case"MM":return this.pad(q.getMonth()+1,2);case"dd":return this.pad(q.getDate(),2);case"E":return B[q.getDay()];case"HH":return this.pad(q.getHours(),2);case"hh":return this.pad((z=q.getHours()%12)?z:12,2);case"mm":return this.pad(q.getMinutes(),2);case"ss":return this.pad(q.getSeconds(),2);case"a/p":return q.getHours()<12?"오전":"오후";default:return C}}))}}static dateFormat(C,I,B){this.dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(C)||/\d/.test(C)||(I=C,C=void 0),C=C?new Date(C):new Date,isNaN(C))return"";"UTC:"==(I=String(this.masks[I]||I||this.masks.default)).slice(0,4)&&(I=I.slice(4),B=!0);const z=B?"getUTC":"get",q=C[z+"Date"](),Q=C[z+"Day"](),ee=C[z+"Month"](),te=C[z+"FullYear"](),ie=C[z+"Hours"](),re=C[z+"Minutes"](),ne=C[z+"Seconds"](),se=C[z+"Milliseconds"](),oe=B?0:C.getTimezoneOffset(),ae={d:q,dd:this.pad(q),ddd:this.i18n.dayNames[Q],dddd:this.i18n.dayNames[Q+7],M:ee+1,MM:this.pad(ee+1),MMM:this.i18n.monthNames[ee],MMMM:this.i18n.monthNames[ee+12],yy:String(te).slice(2),yyyy:this.pad(te,4),h:ie%12||12,hh:this.pad(ie%12||12),H:ie,HH:this.pad(ie),m:re,mm:this.pad(re),s:ne,ss:this.pad(ne),l:this.pad(se,3),L:this.pad(se>99?Math.round(se/10):se),t:ie<12?"a":"p",tt:ie<12?"am":"pm",T:ie<12?"A":"P",TT:ie<12?"AM":"PM",Z:B?"UTC":(String(C).match(this.timezone)||[""]).pop().replace(this.timezoneClip,""),o:(oe>0?"-":"+")+this.pad(100*Math.floor(Math.abs(oe)/60)+Math.abs(oe)%60,4),S:["th","st","nd","rd"][q%10>3?0:q%100-q%10!=10?q%10:0]};return I.replace(this.token,(function(C){return C in ae?ae[C]:C.slice(1,C.length-1)}))}static format(C,I,B){return this.dateFormat(C,I,B)}}I.DateUtil=DateUtil,DateUtil.token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,DateUtil.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,DateUtil.timezoneClip=/[^-+\dA-Z]/g,DateUtil.pad=function(C,I=0){for(C=String(C),I=I||2;C.length<I;)C="0"+C;return C},DateUtil.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},DateUtil.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}},5260:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Log=I.LogLevels=void 0;const z=B(6312);var q;!function(C){C[C.Trace=0]="Trace",C[C.Debug=1]="Debug",C[C.Info=2]="Info",C[C.Warn=3]="Warn",C[C.Error=4]="Error"}(q||(I.LogLevels=q={}));const Q=new Map([[q.Trace,console.trace],[q.Debug,console.debug],[q.Info,console.info],[q.Warn,console.warn],[q.Error,console.error]]);class Log{static timeEnd(C){}static time(C){}static timeLog(C,...I){}static whoIsMyDaddy(){try{throw new Error}catch(C){const I=C.stack.match(/(\w+)@|at (\w+) \(/g)[2].match(/(\w+)@|at (\w+) \(/);return I[1]||I[2]}}}I.Log=Log,Log.log=(C,I)=>{var B,q;if(C>=z.SBGrid3.LogLevel){try{"development"==z.SBGrid3.version?null===(B=Q.get(C))||void 0===B||B("string"==typeof I?I:"function"==typeof I?I():I,I):null===(q=Q.get(C))||void 0===q||q("string"==typeof I?I:"function"==typeof I?I():I)}catch(C){}return!0}return!1},Log.trace=C=>Log.log(q.Trace,C),Log.debug=C=>Log.log(q.Debug,C),Log.info=C=>Log.log(q.Info,C),Log.warn=C=>Log.log(q.Warn,C),Log.error=C=>Log.log(q.Error,C)},6700:(C,I,B)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Mask=I.MaskType=void 0;const z=B(1163),q=B(1660).default;var Q;!function(C){C.DateTime="dateTime",C.Numeric="numeric",C.Rrn="rrn",C.Phone="phone"}(Q||(I.MaskType=Q={}));class Mask{set definitions(C){this._definitions=C}get definitions(){return this._definitions}set column(C){this._column=C}get column(){return this._column}set alias(C){this._alias=C}get alias(){return this._alias}set mask(C){this._mask=C}get mask(){return this._mask}get config(){return this._config}constructor(C){this._config=this.parseConfig(C)}static setDefaults(){q.extendDefaults({}),q.extendDefinitions({}),q.extendAliases({phone:{mask:"999-9999-9999",groupSeparator:"-",autoGroup:!0,showMaskOnHover:!1,showMaskOnFocus:!1}})}parseConfig(C){if(!z.Convert.isNull(C)){if("string"==typeof C)Object.values(Q).includes(C)?this._config={alias:C}:this._config={mask:C};else{if("object"!=typeof C)throw new Error("mask 설정이 유효하지 않습니다. 문자열, 객체 또는 MaskType 값이어야 합니다.");this._config=Object.assign({},C)}return this.config}}static create(C){return Mask.setDefaults(),new Mask(C.config.mask)}inputmask(C){new q(this._config).mask(C)}getEditValue(C){return C.value}}I.Mask=Mask},6265:(C,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.NumberUtil=void 0;class NumberUtil{static getIndex(C){return C.search(this.maskRegex)}static processMask(C="#.##"){const I={},B=C.length,z=this.getIndex(C);I.prefix=z>0?C.substring(0,z):"";const q=this.getIndex(C.split("").reverse().join("")),Q=B-q,ee=C.substring(Q,Q+1),te=Q+("."===ee||","===ee?1:0);I.suffix=q>0?C.substring(te,B):"",I.mask=C.substring(z,te),I.maskHasNegativeSign="-"===I.mask.charAt(0),I.maskHasPositiveSign="+"===I.mask.charAt(0);let ie=I.mask.match(this.notMaskRegex);I.decimal=ie&&ie[ie.length-1]||".",I.separator=ie&&ie[1]&&ie[0]||",";const re=I.mask.split(I.decimal);return I.integer=re[0],I.fraction=re[1],I}static processValue(C,I,B){let z=!1;const q={value:C};C<0&&(z=!0,q.value=-q.value),q.sign=z?"-":"",q.value=Number(q.value).toFixed(I.fraction&&I.fraction.length),q.value=Number(q.value).toString();const Q=I.fraction&&I.fraction.lastIndexOf("0");let[ee="0",te=""]=q.value.split(".");return(!te||te&&te.length<=Q)&&(te=Q<0?"":Number("0."+te).toFixed(Q+1).replace("0.","")),q.integer=ee,q.fraction=te,this.addSeparators(q,I),"0"!==q.result&&""!==q.result||(z=!1,q.sign=""),!z&&I.maskHasPositiveSign?q.sign="+":z&&I.maskHasPositiveSign?q.sign="-":z&&(q.sign=B&&B.enforceMaskSign&&!I.maskHasNegativeSign?"":"-"),q}static addSeparators(C,I){C.result="";const B=I.integer.split(I.separator),z=B.join(""),q=z&&z.indexOf("0");if(q>-1)for(;C.integer.length<z.length-q;)C.integer="0"+C.integer;else 0===Number(C.integer)&&(C.integer="");const Q=B[1]&&B[B.length-1].length;if(Q){const B=C.integer.length,z=B%Q;for(let q=0;q<B;q++)C.result+=C.integer.charAt(q),!((q-z+1)%Q)&&q<B-Q&&(C.result+=I.separator)}else C.result=C.integer;return C.result+=I.fraction&&C.fraction?I.decimal+C.fraction:"",C}static format(C,I,B={enforceMaskSign:!1}){if(!I||isNaN(Number(C)))return C;I.indexOf(".")<0&&(I+=".");const z=NumberUtil.processMask(I),q=NumberUtil.processValue(C,z,B);return z.prefix+q.sign+q.result+z.suffix}}I.NumberUtil=NumberUtil,NumberUtil.maskRegex=/[0-9\-+#]/,NumberUtil.notMaskRegex=/[^\d\-+#]/g},1163:function(C,I,B){"use strict";var z=this&&this.__awaiter||function(C,I,B,z){return new(B||(B=Promise))((function(q,Q){function fulfilled(C){try{step(z.next(C))}catch(C){Q(C)}}function rejected(C){try{step(z.throw(C))}catch(C){Q(C)}}function step(C){C.done?q(C.value):function adopt(C){return C instanceof B?C:new B((function(I){I(C)}))}(C.value).then(fulfilled,rejected)}step((z=z.apply(C,I||[])).next())}))};Object.defineProperty(I,"__esModule",{value:!0}),I.Crypto=I.CancellationToken=I.Lock=I.FuzzyMatcher=I.JqUtils=I.Queue=I.Stack=I.Arrays=I.Utils=I.Convert=I.DataType=void 0;const q=B(6312),Q=B(9996),ee=B(5260),te=B(6265),ie=B(7078);var re,ne=B(7596);ne.setDelimiter=function(...C){ne.original_compile||(ne.original_compile=ne.compile);for(const I of C){const C=I.prefix.source,B=I.suffix.source;I.searchExp=new RegExp("("+C+")(.*?)("+B+")","ig"),I.prefixExp=new RegExp(C,"ig"),I.suffixExp=new RegExp(B,"ig")}ne.compile=function(I){let B=I;for(const I of C)B=B.replace(I.searchExp,((C,B,z,q,Q,ee)=>(B=B.replace(I.prefixExp,I.prefix.target))+z+(q=q.replace(I.suffixExp,I.suffix.target))));return ne.original_compile(B)}},ne.setDelimiter({prefix:{source:"`{{",target:"{{params "},suffix:{source:"}}`",target:"}}"}},{prefix:{source:'"{{',target:"{{params "},suffix:{source:'}}"',target:"}}"}},{prefix:{source:"'{{",target:"{{params "},suffix:{source:"}}'",target:"}}"}}),ne.registerHelper("get",(function(C,I){return C.get(I)})),ne.registerHelper("json",(function(C){return JSON.stringify(C)})),ne.registerHelper("params",(function(...C){C.pop();let I=[];for(const B of C)I.push(JSON.stringify(B));return I.join(", ")})),function(C){C.String="string",C.Number="number",C.BigInt="bigint",C.Boolean="boolean",C.Date="date",C.Array="array",C.Any="any",C.Object="object"}(re||(I.DataType=re={}));class Convert{static repeat(C,I){let B=[];for(let z=0;z<C;z++)B.push(I(z));return B.join("")}static asText(C){return"string"==typeof C?C:"symbol"==typeof C?C.description:null==C?void 0:C.toString()}static asDate(C){return C instanceof Date?C:Convert.isEmpty(C)?void 0:"string"==typeof C?new Date(Date.parse(C)):new Date(C)}static asDateAs(C,I){if(C instanceof Date)return C;if(Convert.isEmpty(C))return I;const B="string"==typeof C?new Date(Date.parse(C)):new Date(C);return B instanceof Date&&0==isNaN(B.getTime())?B:I}static isEmpty(C){if(this.isNull(C))return!0;switch(typeof C){case"function":case"bigint":return!1;case"string":return""===C;case"number":return C===1/0||isNaN(C);case"object":if(C instanceof Array)return 0==C.length;if(C instanceof Map)return 0==C.size;if(C instanceof Set)return 0==C.size;if(C.constructor===Object)return 0==Object.keys(C).length;if(C instanceof Date)return isNaN(C.getTime())}return!1}static isWhite(C){return"string"==typeof C?""===C||""===C.trim():this.isEmpty(C)}static isValue(C){return!Convert.isEmpty(C)}static isNull(C){return null==C}static isSameValue(C,I){if(C===I)return!0;const B=typeof C;if(B!=typeof I)switch(B){case"bigint":return C==Convert.asBigInt(I);case"boolean":return Convert.asText(C)==Convert.asText(I);case"function":case"object":case"symbol":case"undefined":return C==I;case"number":return C==Convert.asNumber(I);case"string":return C==Convert.asText(I)}return!1}static isSame(C,I,B=!1){if(C===I)return!0;Convert.isNull(C)&&(C={}),Convert.isNull(I)&&(I={});for(const B in C)if(0==this.isSameValue(C[B],I[B]))return!1;if(B)for(const B in null!=I?I:{})if(0==this.isSameValue(C[B],I[B]))return!1;return!0}static asInt(C){return"number"==typeof C?Math.round(C):Math.round(Number.parseFloat(C))}static asBigInt(C){return"bigint"==typeof C?C:BigInt(C)}static asFloat(C){return"number"==typeof C?C:Number.parseFloat(C)}static asNumber(C){return"number"==typeof C?C:Number.parseFloat(C)}static asNumberAs(C,I){if(Convert.isEmpty(C))return I;if("number"==typeof C)return C;const B=Number.parseFloat(C);return isNaN(B)?I:B}static asBigIntAs(C,I){if(Convert.isEmpty(C))return I;if("bigint"==typeof C)return C;return BigInt(C)}static valueOf(C,I){var B;if((null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0)<=I)throw`[${C}] : out of index(${I})`;return C[I]}static asBool(C){if("boolean"==typeof C)return C;if("string"==typeof C)switch(C.trim().toLowerCase()){case"":case"false":return!1;default:return!0}return Boolean(C)}static asStringArray(C,I){return Convert.isEmpty(C)&&Convert.isEmpty(I)?[]:"string"==typeof C?[C]:C instanceof Array&&Convert.isValue(C)?C:this.asStringArray(I,void 0)}static default(C,I,B){return this.isNull(C)?I:this.isNull(B)?C:B(C)}static parseEnum(C,I){if(Convert.isEmpty(I))return;let B=C[Object.keys(C).filter((B=>C[B].toString().toLowerCase()===I.toLowerCase()))[0]];if(Convert.isEmpty(B)){throw`'${I}' is invalid enum value ${C.constructor.name} [${Object.values(C)}]`}return B}static makeQueryString(C={},I){var B=[];for(let z in C)if(C.hasOwnProperty(z)){let q=I?I+"["+z+"]":z,Q=C[z];B.push(null!==Q&&"object"==typeof Q?Convert.makeQueryString(Q,q):encodeURIComponent(q)+"="+encodeURIComponent(Q))}return B.join("&")}static arrayEqual(C,I,B){var z,q;if(Convert.isNull(C)&&Convert.isNull(I))return!0;let Q=null!==(z=null==C?void 0:C.length)&&void 0!==z?z:0;if(Q!=(null!==(q=null==I?void 0:I.length)&&void 0!==q?q:0))return!1;for(let z=0;z<Q;z++)if(0==B(C[z],I[z]))return!1;return!0}static lpad(C,I,B){if(B.length>I)return ee.Log.warn((()=>"오류 : 채우고자 하는 문자열이 요청 길이보다 큽니다")),C;for(C+="",B+="";C.length<I;)C=B+C;return C=C.length>=I?C.substring(0,I):C}static rpad(C,I,B){if(B.length>I)return ee.Log.warn((()=>"오류 : 채우고자 하는 문자열이 요청 길이보다 큽니다")),C+"";for(C+="",B+="";C.length<I;)C+=B;return C=C.length>=I?C.substring(0,I):C}static testQueryString(){q.SBGrid3.Log.debug((()=>Convert.makeQueryString({foo:"hi there",bar:{blah:123,quux:[1,2,3]}})))}static formatValue(C,I,B=void 0,z){return Convert.isEmpty(B)?C:"*"==B&&0==Convert.isEmpty(C)?this.lpad("",C.toString().length,"*"):"function"==typeof B?B(C,I,z):"number"==typeof C?te.NumberUtil.format(C,B):C instanceof Date?Q.DateUtil.format(C,B,!1):Convert.isNull(C)?"":C}static mergeData(C,I=void 0){const B={};for(const I in null!=C?C:{})B[I]=C[I];for(const C in null!=I?I:{})B.hasOwnProperty(C)||(B[C]=I[C]);return B}static mergeArray(C,I){const B=new Set;if(Convert.isValue(C))for(const I in C)B.add(C[I]);if(Convert.isValue(I))for(const C in I)B.add(I[C]);return Arrays.from(B)}static cloneData(C){const I={};for(const B in null!=C?C:{})I[B]=C[B];return I}static between(C,I,B){return(null!=C?C:I)<=I&&I<=(null!=B?B:I)}static convertType(C,I,B=void 0){if(Convert.isEmpty(I))return C;if("function"==typeof I)return I(C);if(!Convert.isNull(C))switch(I){case re.Array:return C instanceof Array?C:[C];case re.Boolean:return Convert.asBool(C);case re.Date:return Convert.asDateAs(C,B);case re.Number:return Convert.asNumberAs(C,B);case re.BigInt:return Convert.asBigIntAs(C,B);case re.String:return Convert.asText(C);default:return C}}}I.Convert=Convert;class Utils{static postData(C="",I={}){return z(this,void 0,void 0,(function*(){ee.Log.debug((()=>({f:"postData",url:C,payload:I})));const B=yield fetch(C,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","access-control-allow-origin":"*","access-control-allow-credentials":"true"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(I)});return yield B.json()}))}static getData(C="",I={}){return z(this,void 0,void 0,(function*(){var B=Convert.makeQueryString(I);C=Convert.isEmpty(B)?C:C.replace("?","")+"?"+B;const z=yield fetch(C,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","access-control-allow-origin":"*","access-control-allow-credentials":"true"},redirect:"follow",referrerPolicy:"no-referrer"});return yield z.json()}))}static ensureName(C){let I=0;return this._nameMap.has(C)?(I=this._nameMap.get(C),I++,this._nameMap.set(C,I)):(I++,this._nameMap.set(C,I)),C+I}static setData(C,I,B){let z=C.findIndex((C=>B(C)));z<0?C.push(I):C[z]=I}static removeData(C,I){let B=C.findIndex((C=>I(C)));return B>=0&&C.splice(B),this}static prepareTemplate(C){if(!Convert.isEmpty(C)){if(C.startsWith("#")){const I=q.SBGrid3.$(C);if(0==I.length)return void ee.Log.error((()=>`[${C}] 를 찾을 수 없습니다.`));const B=I.html().trim();C=B}return C}}static parseTemplateParams(C){if(Convert.isEmpty(C))return[];return C.match(/(?<=\{\{)[\{]?(.*?)[\}]?(?=\}\})/g)}static createTemplate(C){if(C=this.prepareTemplate(C),!Convert.isNull(C))return ne.compile(C)}static createTemplates(C){return Convert.isEmpty(C)?[]:C.map((C=>this.createTemplate(C)))}static findCellFromColumn(C,I){for(const B of null==C?void 0:C.rows){let C=null==B?void 0:B.cells;for(const B of C)if(I==(null==B?void 0:B.column))return B}}static findGridColumnByName(C,I){return Arrays.dfsSearch(I,(I=>(null==I?void 0:I.name)===C||(null==I?void 0:I.columns)))}static escapeString(C){const I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return C.replace(/[&<>"']/g,(C=>I[C]))}static unEscapeString(C){return"string"!=typeof C?C:C.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&#39;/g,"'")}}I.Utils=Utils,Utils._nameMap=new Map;class Arrays{static dfsAction(C,I){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Stack;for(let I=C.length-1;I>=0;I--)B.push(C[I]);for(;B.any();){let C=I(B.pop());if(!Convert.isNull(C)&&0!=C.length)for(let I=C.length-1;I>=0;I--)B.push(C[I])}}}static dfsActionAsync(C,I){return z(this,void 0,void 0,(function*(){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Stack;for(let I=C.length-1;I>=0;I--)B.push(C[I]);for(;B.any();){var z=B.pop();let C=yield I(z);if(!Convert.isNull(C)&&0!=C.length)for(let I=C.length-1;I>=0;I--)B.push(C[I])}}}))}static bfsAction(C,I){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Queue;for(let I=0,z=C.length;I<z;I++)B.push(C[I]);for(;B.any();){let C=I(B.pop());if(!Convert.isEmpty(C))for(let I=0,z=C.length;I<z;I++)B.push(C[I])}}}static bfsActionAsync(C,I){return z(this,void 0,void 0,(function*(){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Queue;for(let I=0,z=C.length;I<z;I++)B.push(C[I]);for(;B.any();){var z=B.pop();let C=yield I(z);if(!Convert.isNull(C)&&0!=C.length)for(let I=0,z=C.length;I<z;I++)B.push(C[I])}}}))}static bfsSearch(C,I){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Queue;for(let I=0,z=C.length;I<z;I++)B.push(C[I]);for(;B.any();){var z=B.pop();let C=I(z);if(!0===C)return z;if(C instanceof Array){if(0==C.length)continue;for(let I=0,z=C.length;I<z;I++)B.push(C[I])}}}}static bfsSearchAll(C,I){if(Convert.isNull(I)||Convert.isEmpty(C))throw"subItems == null || predicate == null";const B=[];let z=C(void 0);var q=new Queue;for(let C=0,I=z.length;C<I;C++)q.push(z[C]);for(;q.any();){var Q=q.pop();if(!0===I(Q)&&B.push(Q),z=C(Q),z instanceof Array){if(0==z.length)continue;for(let C=0,I=z.length;C<I;C++)q.push(z[C])}}return B}static dfsSearch(C,I){if(!Convert.isNull(I)&&!Convert.isEmpty(C)){var B=new Stack;for(let I=C.length-1;I>=0;I--)B.push(C[I]);for(;B.any();){var z=B.pop();let C=I(z);if(!0===C)return z;if(C instanceof Array){if(0==C.length)continue;for(let I=C.length-1;I>=0;I--)B.push(C[I])}}}}static arrayEquals(C,I){return C==I||Array.isArray(C)&&Array.isArray(I)&&C.length===I.length&&C.every(((C,B)=>C==I[B]))}static intervalAction(C,I){return z(this,void 0,void 0,(function*(){let B=0;const q=C.length;return new Promise(((Q,ee)=>{let te=setInterval((()=>z(this,void 0,void 0,(function*(){try{for(;B<q;B++){const z=C[B];let Q=I(z,B,q);if(Q instanceof Promise&&(Q=yield Q),!0===Q)return void B++}clearInterval(te),Q()}catch(C){clearInterval(te),ee(C)}}))),0)}))}))}static splitIterator(C,I){return z(this,void 0,void 0,(function*(){let B=0;return new Promise(((q,Q)=>{let te=setInterval((()=>z(this,void 0,void 0,(function*(){try{let z;for(;z=yield C(B);){let C=I(z instanceof Promise?yield z:z,B,length);if(C instanceof Promise&&(C=yield C),B++,!0===C)return}clearInterval(te),q()}catch(C){ee.Log.warn(C),clearInterval(te),Q(C)}}))),0)}))}))}static from(C,I,B){if(Convert.isNull(window.Prototype))return Array.from(C);const z=[],q=Convert.isValue(I);if(C.hasOwnProperty("length")){const B=C;for(let C=0,Q=B.length;C<Q;C++){const Q=B[C];z.push(q?I(Q,C):Q)}}else{let B=0;for(const Q of C)z.push(q?I(Q,B):Q),B++}return z}static range(C,I,B){let z=[];const q=I+B;for(let B=I;B<q;B++){const I=C[B];Convert.isNull(I)||z.push(C[B])}return z}static asArray(C){return Convert.isNull(C)?[]:C instanceof Array?C:[C]}}I.Arrays=Arrays;class Stack{constructor(){this.data=[]}push(C){this.data.push(C)}pop(){return this.data.pop()}peek(){return this.data[this.data.length-1]}any(){return this.data.length>0}get list(){return this.data}clear(){this.data.splice(0)}}I.Stack=Stack;class Queue extends Stack{pop(){return this.data.shift()}}I.Queue=Queue;I.JqUtils=class JqUtils{static addClass(C,I){let B=!1;return(B=C.hasClass(I))||C.addClass(I),B}static removeClass(C,I){let B=!1;return(B=C.hasClass(I))&&C.removeClass(I),B}static adjustHtml(C,I){C.html()!=(I=Convert.asText(I))&&C.html(I)}static movetoTrash(C,I,B){if(Convert.isNull(I))return;const z=I.children();I.data("selectorMap");for(let I=0;I<z.length;I++){const q=z[I],Q=q.dataset.selector;if("string"==typeof B){if(B==Q)continue}else if(B.has(Q))continue;q.style.display="none",C.push(q)}}static emptyTrash(C){var I,B;for(const z of C){const C=new Set(z.className.split(" "));if(C.has(ie.SbCss.detail)&&C.has(ie.SbCss.row)){const C=q.SBGrid3.$(z).data("rowItem");Convert.isValue(null===(I=null==C?void 0:C.detailContext)||void 0===I?void 0:I.container)&&q.SBGrid3.$(null===(B=null==C?void 0:C.detailContext)||void 0===B?void 0:B.container).detach()}q.SBGrid3.$(z).remove()}C.splice(0)}static disposeElement(C,I,B){if(Convert.isNull(I))return;if(Convert.isNull(I))return;const z=I.children();for(let I=0;I<z.length;I++){const q=z[I];B.findIndex((C=>C.isSameNode(q)))>=0||(q.style.display="none",C.push(q))}}static ensureSelectMap(C){let I=C.data("selectorMap");return Convert.isNull(I)&&(I=new Map,C.data("selectorMap",I)),I}static findElement(C,I,B){var z;const Q=this.ensureSelectMap(C);if(Convert.isValue(B))return Q.set(I,B),B;let ee=Q.get(I);if((null!==(z=null==ee?void 0:ee.length)&&void 0!==z?z:0)>0&&ee[0].isConnected)return ee;ee=q.SBGrid3.$(I,C);return ee.length>0&&Q.set(I,ee),ee}static adjustElement(C,I,B,z=void 0,Q=void 0){let ee=this.findElement(C,I);try{if(0==Convert.isNull(Q)&&Q.add(I),0==ee.length)if(ee=q.SBGrid3.$(B),0==Convert.isNull(Q)&&(ee[0].dataset.selector=I),Convert.isNull(z))C.append(ee);else{const I=C.children();for(let C=0;C<I.length;C++){const B=q.SBGrid3.$(I[C]);if("function"==typeof z){if(z(B))return B.before(ee),ee}else if(B.data(z.data)>z.index)return B.before(ee),ee.data(z.data,z.index),ee}C.append(ee)}else 0==Convert.isNull(Q)&&(ee[0].dataset.selector=I),Convert.isValue(z)&&("function"==typeof z||ee.data(z.data,z.index))}finally{this.findElement(C,I,ee)}return ee}static removeElement(C,I){q.SBGrid3.$(I,C).remove()}static changeAttr(C,I,B){C.attr(I)!=B&&C.attr(I,B)}static changeClass(C,I){const B=C.attr("class");if(B==I)return;let z=I.split(" ");B!=(I=z.join(" "))&&C.attr("class",I)}static changeDataset(C,I,B){C[0].dataset[I]!=B&&(C[0].dataset[I]=B)}};class FuzzyMatcher{static createFuzzyMatcher(C){if(Convert.isEmpty(C))return new RegExp("");const I=FuzzyMatcher.convertPattern(C);return new RegExp(I)}static convertPattern(C){return/[ㄱ-ㅎ]/.test(C)?FuzzyMatcher.consonantPattern(C):FuzzyMatcher.syllablePattern(C)}static escapeRegExp(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static syllablePattern(C){const I=C.substring(0,(null==C?void 0:C.length)-1),B=C[C.length-1];let z=null==B?void 0:B.charCodeAt(0);if(z>=44032&&z<=55203){const q=44032;z=B.charCodeAt(0)-q;const Q=28*Math.floor(z/28)+q;if(z%28>0){const B=z%28;return`${this.escapeRegExp(C)}|${this.escapeRegExp(I)}${String.fromCharCode(Q)+FuzzyMatcher.consonantPattern(FuzzyMatcher.JONGSUNGS[B])}`}const ee=Q+27;return`${this.escapeRegExp(I)}[\\u${Q.toString(16)}-\\u${ee.toString(16)}]`}return this.escapeRegExp(C)}static consonantPattern(C){return C.split("").map(FuzzyMatcher._consonantPattern).join("")}static _consonantPattern(C){if(!/[ㄱ-ㅎ]/.test(C))return FuzzyMatcher.escapeRegExp(C);const I=FuzzyMatcher.CONSONANTS[C]||588*(C.charCodeAt(0)-12613)+FuzzyMatcher.CONSONANTS["ㅅ"],B=I+587;return`[${C}\\u${I.toString(16)}-\\u${B.toString(16)}]`}}I.FuzzyMatcher=FuzzyMatcher,FuzzyMatcher.JONGSUNGS=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],FuzzyMatcher.CONSONANTS={ㄱ:44032,ㄲ:44620,ㄴ:45208,ㄷ:45796,ㄸ:46384,ㄹ:46972,ㅁ:47560,ㅂ:48148,ㅃ:48736,ㅅ:49324};I.Lock=class Lock{constructor(){this.queue=[],this.acquired=!1}acquire(){return z(this,void 0,void 0,(function*(){if(this.acquired)return new Promise(((C,I)=>{this.queue.push(C)}));this.acquired=!0}))}release(){return z(this,void 0,void 0,(function*(){if(0===this.queue.length&&this.acquired)return void(this.acquired=!1);const C=this.queue.shift();return new Promise((I=>{C(),I()}))}))}critical(C){return z(this,void 0,void 0,(function*(){yield this.acquire();try{return yield C()}finally{yield this.release()}}))}};const se=Symbol();class CancellationToken{constructor(){this._cancelled=!1,this._cancelled=!1}throwIfCancelled(){if(this.cancelled)throw"Cancelled!"}get cancelled(){return!0===this._cancelled}[se](){this._cancelled=!0}}I.CancellationToken=CancellationToken;I.default=class CancellationTokenSource{constructor(){this.token=new CancellationToken}cancel(){this.token[se]()}};class Crypto{static decrypt(C,I,B){if(128!=B&&192!=B&&256!=B)return"";C=this.Aes.base64Decode(C),I=this.Aes.utf8Encode(I);const z=B/8,q=new Array(z);for(let C=0;C<z;C+=1)q[C]=isNaN(I.charCodeAt(C))?0:I.charCodeAt(C);let Q=this.Aes.cipher(q,this.Aes.keyExpansion(q));Q=Q.concat(Q.slice(0,z-16));const ee=new Array(8),te=C.slice(0,8);for(let C=0;C<8;C+=1)ee[C]=te.charCodeAt(C);const ie=this.Aes.keyExpansion(Q),re=Math.ceil((C.length-8)/16),ne=new Array(re);for(let I=0;I<re;I+=1)ne[I]=C.slice(16*I+8,16*I+16+8);C=ne;const se=new Array(C.length);for(let I=0;I<re;I+=1){for(let C=0;C<4;C+=1)ee[15-C]=I>>>8*C&255;for(let C=0;C<4;C+=1)ee[15-C-4]=(I+1)/4294967296-1>>>8*C&255;const B=this.Aes.cipher(ee,ie),z=new Array(C[I].length);for(let q=0;q<C[I].length;q+=1)z[q]=B[q]^C[I].charCodeAt(q),z[q]=String.fromCharCode(z[q]);se[I]=z.join("")}let oe=se.join("");return oe=this.Aes.utf8Decode(oe),oe}static encrypt(C,I,B){if(128!=B&&192!=B&&256!=B)return"";C=this.Aes.utf8Encode(C),I=this.Aes.utf8Encode(I);const z=B/8,q=new Array(z);for(let C=0;C<z;C+=1)q[C]=isNaN(I.charCodeAt(C))?0:I.charCodeAt(C);let Q=this.Aes.cipher(q,this.Aes.keyExpansion(q));Q=Q.concat(Q.slice(0,z-16));const ee=new Array(16),te=(new Date).getTime(),ie=te%1e3,re=Math.floor(te/1e3),ne=Math.floor(65535*Math.random());for(let C=0;C<2;C+=1)ee[C]=ie>>>8*C&255;for(let C=0;C<2;C+=1)ee[C+2]=ne>>>8*C&255;for(let C=0;C<4;C+=1)ee[C+4]=re>>>8*C&255;let se="";for(let C=0;C<8;C+=1)se+=String.fromCharCode(ee[C]);const oe=this.Aes.keyExpansion(Q),ae=Math.ceil(C.length/16),le=new Array(ae);for(let I=0;I<ae;I+=1){for(let C=0;C<4;C+=1)ee[15-C]=I>>>8*C&255;for(let C=0;C<4;C+=1)ee[15-C-4]=I/4294967296>>>8*C;const B=this.Aes.cipher(ee,oe),z=I<ae-1?16:(C.length-1)%16+1,q=new Array(z);for(let Q=0;Q<z;Q+=1)q[Q]=B[Q]^C.charCodeAt(16*I+Q),q[Q]=String.fromCharCode(q[Q]);le[I]=q.join("")}let ue=se+le.join("");return ue=this.Aes.base64Encode(ue),ue}}I.Crypto=Crypto,Crypto.Aes={sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],utf8Encode:C=>(C=String(C),unescape(encodeURIComponent(C))),utf8Decode:C=>(C=String(C),decodeURIComponent(escape(C))),base64Encode:C=>(C=String(C),void 0!==window.btoa?window.btoa(C):"undefined"!=typeof Buffer?new Buffer(C,"utf8").toString("base64"):void 0),base64Decode:C=>(C=String(C),void 0!==window.atob?window.atob(C):"undefined"!=typeof Buffer?new Buffer(C,"base64").toString("utf8"):void 0),cipher(C,I){const B=I.length/4-1;let z=[[],[],[],[]];for(let I=0;I<16;I+=1)z[I%4][Math.floor(I/4)]=C[I];z=this.addRoundKey(z,I,0,4);for(let C=1;C<B;C+=1)z=this.subBytes(z,4),z=this.shiftRows(z,4),z=this.mixColumns(z,4),z=this.addRoundKey(z,I,C,4);z=this.subBytes(z,4),z=this.shiftRows(z,4),z=this.addRoundKey(z,I,B,4);const q=new Array(16);for(let C=0;C<16;C+=1)q[C]=z[C%4][Math.floor(C/4)];return q},addRoundKey(C,I,B,z){for(let q=0;q<4;q+=1)for(let Q=0;Q<z;Q+=1)C[q][Q]^=I[4*B+Q][q];return C},subBytes(C,I){for(let B=0;B<4;B+=1)for(let z=0;z<I;z+=1)C[B][z]=this.sBox[C[B][z]];return C},shiftRows(C,I){const B=new Array(4);for(let z=1;z<4;z+=1){for(let q=0;q<4;q+=1)B[q]=C[z][(q+z)%I];for(let I=0;I<4;I+=1)C[z][I]=B[I]}return C},mixColumns(C,I){for(let I=0;I<4;I+=1){const B=new Array(4),z=new Array(4);for(let q=0;q<4;q+=1)B[q]=C[q][I],z[q]=128&C[q][I]?C[q][I]<<1^283:C[q][I]<<1;C[0][I]=z[0]^B[1]^z[1]^B[2]^B[3],C[1][I]=B[0]^z[1]^B[2]^z[2]^B[3],C[2][I]=B[0]^B[1]^z[2]^B[3]^z[3],C[3][I]=B[0]^z[0]^B[1]^B[2]^z[3]}return C},subWord(C){for(let I=0;I<4;I+=1)C[I]=this.sBox[C[I]];return C},rotWord(C){const I=C[0];for(let I=0;I<3;I+=1)C[I]=C[I+1];return C[3]=I,C},keyExpansion(C){const I=C.length/4,B=I+6,z=new Array(4*(B+1));let q=new Array(4);for(let B=0;B<I;B+=1){const I=[C[4*B],C[4*B+1],C[4*B+2],C[4*B+3]];z[B]=I}for(let C=I;C<4*(B+1);C+=1){z[C]=new Array(4);for(let I=0;I<4;I+=1)q[I]=z[C-1][I];if(C%I==0){q=this.subWord(this.rotWord(q));for(let B=0;B<4;B+=1)q[B]^=this.rCon[C/I][B]}else I>6&&C%I==4&&(q=this.subWord(q));for(let B=0;B<4;B+=1)z[C][B]=z[C-I][B]^q[B]}return z}}},2108:(C,I,B)=>{C.exports=function(){var C;return function(){function r(C,I,B){function o(q,Q){if(!I[q]){if(!C[q]){if(z)return z(q,!0);var ee=new Error("Cannot find module '"+q+"'");throw ee.code="MODULE_NOT_FOUND",ee}var te=I[q]={exports:{}};C[q][0].call(te.exports,(function(I){return o(C[q][1][I]||I)}),te,te.exports,r,C,I,B)}return I[q].exports}for(var z=void 0,q=0;q<B.length;q++)o(B[q]);return o}return r}()({1:[function(C,I,B){"use strict";const z=C("fs"),q=C("fast-csv"),Q=C("dayjs/plugin/customParseFormat"),ee=C("dayjs/plugin/utc"),te=C("dayjs").extend(Q).extend(ee),ie=C("../utils/stream-buf"),{fs:{exists:re}}=C("../utils/utils"),ne={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};class CSV{constructor(C){this.workbook=C,this.worksheet=null}async readFile(C,I){if(I=I||{},!await re(C))throw new Error(`File not found: ${C}`);const B=z.createReadStream(C),q=await this.read(B,I);return B.close(),q}read(C,I){return I=I||{},new Promise(((B,z)=>{const Q=this.workbook.addWorksheet(I.sheetName),ee=I.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],ie=I.map||function(C){if(""===C)return null;const I=Number(C);if(!Number.isNaN(I)&&I!==1/0)return I;const B=ee.reduce(((I,B)=>{if(I)return I;const z=te(C,B,!0);return z.isValid()?z:null}),null);if(B)return new Date(B.valueOf());const z=ne[C];return void 0!==z?z:C},re=q.parse(I.parserOptions).on("data",(C=>{Q.addRow(C.map(ie))})).on("end",(()=>{re.emit("worksheet",Q)}));re.on("worksheet",B).on("error",z),C.pipe(re)}))}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(C,I){return new Promise(((B,z)=>{I=I||{};const Q=this.workbook.getWorksheet(I.sheetName||I.sheetId),ee=q.format(I.formatterOptions);C.on("finish",(()=>{B()})),ee.on("error",z),ee.pipe(C);const{dateFormat:ie,dateUTC:re}=I,ne=I.map||(C=>{if(C){if(C.text||C.hyperlink)return C.hyperlink||C.text||"";if(C.formula||C.result)return C.result||"";if(C instanceof Date)return ie?re?te.utc(C).format(ie):te(C).format(ie):re?te.utc(C).format():te(C).format();if(C.error)return C.error;if("object"==typeof C)return JSON.stringify(C)}return C}),se=void 0===I.includeEmptyRows||I.includeEmptyRows;let oe=1;Q&&Q.eachRow(((C,I)=>{if(se)for(;oe++<I-1;)ee.write([]);const{values:B}=C;B.shift(),ee.write(B.map(ne)),oe=I})),ee.end()}))}writeFile(C,I){const B={encoding:(I=I||{}).encoding||"utf8"},q=z.createWriteStream(C,B);return this.write(q,I)}async writeBuffer(C){const I=new ie;return await this.write(I,C),I.read()}}I.exports=CSV},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(C,I,B){"use strict";const z=C("../utils/col-cache");class Anchor{constructor(C,I){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.worksheet=C,I)if("string"==typeof I){const C=z.decodeAddress(I);this.nativeCol=C.col+B,this.nativeColOff=0,this.nativeRow=C.row+B,this.nativeRowOff=0}else void 0!==I.nativeCol?(this.nativeCol=I.nativeCol||0,this.nativeColOff=I.nativeColOff||0,this.nativeRow=I.nativeRow||0,this.nativeRowOff=I.nativeRowOff||0):void 0!==I.col?(this.col=I.col+B,this.row=I.row+B):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(C){return C instanceof Anchor||null==C?C:new Anchor(C)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(C){this.nativeCol=Math.floor(C),this.nativeColOff=Math.floor((C-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(C){this.nativeRow=Math.floor(C),this.nativeRowOff=Math.floor((C-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(C){this.nativeCol=C.nativeCol,this.nativeColOff=C.nativeColOff,this.nativeRow=C.nativeRow,this.nativeRowOff=C.nativeRowOff}}I.exports=Anchor},{"../utils/col-cache":19}],3:[function(C,I,B){"use strict";const z=C("../utils/col-cache"),q=C("../utils/under-dash"),Q=C("./enums"),{slideFormula:ee}=C("../utils/shared-formula"),te=C("./note");class Cell{constructor(C,I,B){if(!C||!I)throw new Error("A Cell needs a Row");this._row=C,this._column=I,z.validateAddress(B),this._address=B,this._value=ie.create(Cell.Types.Null,this),this.style=this._mergeStyle(C.style,I.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(C){this.style.numFmt=C}get font(){return this.style.font}set font(C){this.style.font=C}get alignment(){return this.style.alignment}set alignment(C){this.style.alignment=C}get border(){return this.style.border}set border(C){this.style.border=C}get fill(){return this.style.fill}set fill(C){this.style.fill=C}get protection(){return this.style.protection}set protection(C){this.style.protection=C}_mergeStyle(C,I,B){const z=C&&C.numFmt||I&&I.numFmt;z&&(B.numFmt=z);const q=C&&C.font||I&&I.font;q&&(B.font=q);const Q=C&&C.alignment||I&&I.alignment;Q&&(B.alignment=Q);const ee=C&&C.border||I&&I.border;ee&&(B.border=ee);const te=C&&C.fill||I&&I.fill;te&&(B.fill=te);const ie=C&&C.protection||I&&I.protection;return ie&&(B.protection=ie),B}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===Cell.Types.Merge}merge(C,I){this._value.release(),this._value=ie.create(Cell.Types.Merge,this,C),I||(this.style=C.style)}unmerge(){this.type===Cell.Types.Merge&&(this._value.release(),this._value=ie.create(Cell.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(C){return this._value.type===Cell.Types.Merge&&this._value.isMergedTo(C)}get master(){return this.type===Cell.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===Cell.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(C){this.type!==Cell.Types.Merge?(this._value.release(),this._value=ie.create(ie.getType(C),this,C)):this._value.master.value=C}get note(){return this._comment&&this._comment.note}set note(C){this._comment=new te(C)}get text(){return this._value.toString()}get html(){return q.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(C){this.type===Cell.Types.String&&(this._value=ie.create(Cell.Types.Hyperlink,this,{text:this._value.value,hyperlink:C}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:C}=this._row;return{sheetName:C.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(C){this.names=[C]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(C){const{definedNames:I}=this.workbook;I.removeAllNames(this.fullAddress),C.forEach((C=>{I.addEx(this.fullAddress,C)}))}addName(C){this.workbook.definedNames.addEx(this.fullAddress,C)}removeName(C){this.workbook.definedNames.removeEx(this.fullAddress,C)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(C){this._dataValidations.add(this.address,C)}get model(){const{model:C}=this._value;return C.style=this.style,this._comment&&(C.comment=this._comment.model),C}set model(C){this._value.release(),this._value=ie.create(C.type,this),this._value.model=C,C.comment&&"note"===C.comment.type&&(this._comment=te.fromModel(C.comment)),C.style?this.style=C.style:this.style={}}}Cell.Types=Q.ValueType;class NullValue{constructor(C){this.model={address:C.address,type:Cell.Types.Null}}get value(){return null}set value(C){}get type(){return Cell.Types.Null}get effectiveType(){return Cell.Types.Null}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return""}release(){}toString(){return""}}class NumberValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Number,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Number}get effectiveType(){return Cell.Types.Number}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class StringValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.String,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.String}get effectiveType(){return Cell.Types.String}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}class RichTextValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.String,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}toString(){return this.model.value.richText.map((C=>C.text)).join("")}get type(){return Cell.Types.RichText}get effectiveType(){return Cell.Types.RichText}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}class DateValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Date,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Date}get effectiveType(){return Cell.Types.Date}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}class HyperlinkValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Hyperlink,text:I?I.text:void 0,hyperlink:I?I.hyperlink:void 0},I&&I.tooltip&&(this.model.tooltip=I.tooltip)}get value(){const C={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(C.tooltip=this.model.tooltip),C}set value(C){this.model={text:C.text,hyperlink:C.hyperlink},C.tooltip&&(this.model.tooltip=C.tooltip)}get text(){return this.model.text}set text(C){this.model.text=C}get hyperlink(){return this.model.hyperlink}set hyperlink(C){this.model.hyperlink=C}get type(){return Cell.Types.Hyperlink}get effectiveType(){return Cell.Types.Hyperlink}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}class MergeValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Merge,master:I?I.address:void 0},this._master=I,I&&I.addMergeRef()}get value(){return this._master.value}set value(C){C instanceof Cell?(this._master&&this._master.releaseMergeRef(),C.addMergeRef(),this._master=C):this._master.value=C}isMergedTo(C){return C===this._master}get master(){return this._master}get type(){return Cell.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}class FormulaValue{constructor(C,I){this.cell=C,this.model={address:C.address,type:Cell.Types.Formula,shareType:I?I.shareType:void 0,ref:I?I.ref:void 0,formula:I?I.formula:void 0,sharedFormula:I?I.sharedFormula:void 0,result:I?I.result:void 0}}_copyModel(C){const I={},cp=B=>{const z=C[B];z&&(I[B]=z)};return cp("formula"),cp("result"),cp("ref"),cp("shareType"),cp("sharedFormula"),I}get value(){return this._copyModel(this.model)}set value(C){this.model=this._copyModel(C)}validate(C){switch(ie.getType(C)){case Cell.Types.Null:case Cell.Types.String:case Cell.Types.Number:case Cell.Types.Date:break;case Cell.Types.Hyperlink:case Cell.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(C){this.model.formula=C}get formulaType(){return this.model.formula?Q.FormulaType.Master:this.model.sharedFormula?Q.FormulaType.Shared:Q.FormulaType.None}get result(){return this.model.result}set result(C){this.model.result=C}get type(){return Cell.Types.Formula}get effectiveType(){const C=this.model.result;return null==C?Q.ValueType.Null:C instanceof String||"string"==typeof C?Q.ValueType.String:"number"==typeof C?Q.ValueType.Number:C instanceof Date?Q.ValueType.Date:C.text&&C.hyperlink?Q.ValueType.Hyperlink:C.formula?Q.ValueType.Formula:Q.ValueType.Null}get address(){return this.model.address}set address(C){this.model.address=C}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:C}=this.cell,I=C.findCell(this.model.sharedFormula);this._translatedFormula=I&&ee(I.formula,I.address,this.model.address)}return this._translatedFormula}toCsvString(){return`${this.model.result||""}`}release(){}toString(){return this.model.result?this.model.result.toString():""}}class SharedStringValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.SharedString,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.SharedString}get effectiveType(){return Cell.Types.SharedString}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class BooleanValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Boolean,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Boolean}get effectiveType(){return Cell.Types.Boolean}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}class ErrorValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.Error,value:I}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Error}get effectiveType(){return Cell.Types.Error}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}class JSONValue{constructor(C,I){this.model={address:C.address,type:Cell.Types.String,value:JSON.stringify(I),rawValue:I}}get value(){return this.model.rawValue}set value(C){this.model.rawValue=C,this.model.value=JSON.stringify(C)}get type(){return Cell.Types.String}get effectiveType(){return Cell.Types.String}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}const ie={getType:C=>null==C?Cell.Types.Null:C instanceof String||"string"==typeof C?Cell.Types.String:"number"==typeof C?Cell.Types.Number:"boolean"==typeof C?Cell.Types.Boolean:C instanceof Date?Cell.Types.Date:C.text&&C.hyperlink?Cell.Types.Hyperlink:C.formula||C.sharedFormula?Cell.Types.Formula:C.richText?Cell.Types.RichText:C.sharedString?Cell.Types.SharedString:C.error?Cell.Types.Error:Cell.Types.JSON,types:[{t:Cell.Types.Null,f:NullValue},{t:Cell.Types.Number,f:NumberValue},{t:Cell.Types.String,f:StringValue},{t:Cell.Types.Date,f:DateValue},{t:Cell.Types.Hyperlink,f:HyperlinkValue},{t:Cell.Types.Formula,f:FormulaValue},{t:Cell.Types.Merge,f:MergeValue},{t:Cell.Types.JSON,f:JSONValue},{t:Cell.Types.SharedString,f:SharedStringValue},{t:Cell.Types.RichText,f:RichTextValue},{t:Cell.Types.Boolean,f:BooleanValue},{t:Cell.Types.Error,f:ErrorValue}].reduce(((C,I)=>(C[I.t]=I.f,C)),[]),create(C,I,B){const z=this.types[C];if(!z)throw new Error(`Could not create Value of type ${C}`);return new z(I,B)}};I.exports=Cell},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(C,I,B){"use strict";const z=C("../utils/under-dash"),q=C("./enums"),Q=C("../utils/col-cache"),ee=9;class Column{constructor(C,I,B){this._worksheet=C,this._number=I,!1!==B&&(this.defn=B)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return Q.n2l(this._number)}get isCustomWidth(){return void 0!==this.width&&this.width!==ee}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(C){C?(this.key=C.key,this.width=void 0!==C.width?C.width:ee,this.outlineLevel=C.outlineLevel,C.style?this.style=C.style:this.style={},this.header=C.header,this._hidden=!!C.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(C){void 0!==C?(this._header=C,this.headers.forEach(((C,I)=>{this._worksheet.getCell(I+1,this.number).value=C}))):this._header=void 0}get key(){return this._key}set key(C){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=C,C&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(C){this._hidden=C}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(C){this._outlineLevel=C}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(C){return this.width===C.width&&this.hidden===C.hidden&&this.outlineLevel===C.outlineLevel&&z.isEqual(this.style,C.style)}get isDefault(){if(this.isCustomWidth)return!1;if(this.hidden)return!1;if(this.outlineLevel)return!1;const C=this.style;return!C||!(C.font||C.numFmt||C.alignment||C.border||C.fill||C.protection)}get headerCount(){return this.headers.length}eachCell(C,I){const B=this.number;I||(I=C,C=null),this._worksheet.eachRow(C,((C,z)=>{I(C.getCell(B),z)}))}get values(){const C=[];return this.eachCell(((I,B)=>{I&&I.type!==q.ValueType.Null&&(C[B]=I.value)})),C}set values(C){if(!C)return;const I=this.number;let B=0;C.hasOwnProperty("0")&&(B=1),C.forEach(((C,z)=>{this._worksheet.getCell(z+B,I).value=C}))}_applyStyle(C,I){return this.style[C]=I,this.eachCell((B=>{B[C]=I})),I}get numFmt(){return this.style.numFmt}set numFmt(C){this._applyStyle("numFmt",C)}get font(){return this.style.font}set font(C){this._applyStyle("font",C)}get alignment(){return this.style.alignment}set alignment(C){this._applyStyle("alignment",C)}get protection(){return this.style.protection}set protection(C){this._applyStyle("protection",C)}get border(){return this.style.border}set border(C){this._applyStyle("border",C)}get fill(){return this.style.fill}set fill(C){this._applyStyle("fill",C)}static toModel(C){const I=[];let B=null;return C&&C.forEach(((C,z)=>{C.isDefault?B&&(B=null):B&&C.equivalentTo(B)?B.max=z+1:(B={min:z+1,max:z+1,width:void 0!==C.width?C.width:ee,style:C.style,isCustomWidth:C.isCustomWidth,hidden:C.hidden,outlineLevel:C.outlineLevel,collapsed:C.collapsed},I.push(B))})),I.length?I:void 0}static fromModel(C,I){const B=[];let z=1,q=0;for(I=(I=I||[]).sort((function(C,I){return C.min-I.min}));q<I.length;){const Q=I[q++];for(;z<Q.min;)B.push(new Column(C,z++));for(;z<=Q.max;)B.push(new Column(C,z++,Q))}return B.length?B:null}}I.exports=Column},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(C,I,B){"use strict";class DataValidations{constructor(C){this.model=C||{}}add(C,I){return this.model[C]=I}find(C){return this.model[C]}remove(C){this.model[C]=void 0}}I.exports=DataValidations},{}],6:[function(C,I,B){"use strict";const z=C("../utils/under-dash"),q=C("../utils/col-cache"),Q=C("../utils/cell-matrix"),ee=C("./range"),te=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;class DefinedNames{constructor(){this.matrixMap={}}getMatrix(C){return this.matrixMap[C]||(this.matrixMap[C]=new Q)}add(C,I){const B=q.decodeEx(C);this.addEx(B,I)}addEx(C,I){const B=this.getMatrix(I);if(C.top)for(let I=C.left;I<=C.right;I++)for(let z=C.top;z<=C.bottom;z++){const Q={sheetName:C.sheetName,address:q.n2l(I)+z,row:z,col:I};B.addCellEx(Q)}else B.addCellEx(C)}remove(C,I){const B=q.decodeEx(C);this.removeEx(B,I)}removeEx(C,I){this.getMatrix(I).removeCellEx(C)}removeAllNames(C){z.each(this.matrixMap,(I=>{I.removeCellEx(C)}))}forEach(C){z.each(this.matrixMap,((I,B)=>{I.forEach((I=>{C(B,I)}))}))}getNames(C){return this.getNamesEx(q.decodeEx(C))}getNamesEx(C){return z.map(this.matrixMap,((I,B)=>I.findCellEx(C)&&B)).filter(Boolean)}_explore(C,I){I.mark=!1;const{sheetName:B}=I,z=new ee(I.row,I.col,I.row,I.col,B);let q,Q;function vGrow(q,Q){const ee=C.findCellAt(B,q,I.col);return!(!ee||!ee.mark||(z[Q]=q,ee.mark=!1,0))}for(Q=I.row-1;vGrow(Q,"top");Q--);for(Q=I.row+1;vGrow(Q,"bottom");Q++);function hGrow(I,q){const ee=[];for(Q=z.top;Q<=z.bottom;Q++){const z=C.findCellAt(B,Q,I);if(!z||!z.mark)return!1;ee.push(z)}z[q]=I;for(let C=0;C<ee.length;C++)ee[C].mark=!1;return!0}for(q=I.col-1;hGrow(q,"left");q--);for(q=I.col+1;hGrow(q,"right");q++);return z}getRanges(C,I){return(I=I||this.matrixMap[C])?(I.forEach((C=>{C.mark=!0})),{name:C,ranges:I.map((C=>C.mark&&this._explore(I,C))).filter(Boolean).map((C=>C.$shortRange))}):{name:C,ranges:[]}}normaliseMatrix(C,I){C.forEachInSheet(I,((C,I,B)=>{C&&(C.row===I&&C.col===B||(C.row=I,C.col=B,C.address=q.n2l(B)+I))}))}spliceRows(C,I,B,q){z.each(this.matrixMap,(z=>{z.spliceRows(C,I,B,q),this.normaliseMatrix(z,C)}))}spliceColumns(C,I,B,q){z.each(this.matrixMap,(z=>{z.spliceColumns(C,I,B,q),this.normaliseMatrix(z,C)}))}get model(){return z.map(this.matrixMap,((C,I)=>this.getRanges(I,C))).filter((C=>C.ranges.length))}set model(C){const I=this.matrixMap={};C.forEach((C=>{const B=I[C.name]=new Q;C.ranges.forEach((C=>{te.test(C.split("!").pop()||"")&&B.addCell(C)}))}))}}I.exports=DefinedNames},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(C,I,B){"use strict";I.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(C,I,B){"use strict";const z=C("../utils/col-cache"),q=C("./anchor");class Image{constructor(C,I){this.worksheet=C,this.model=I}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(C){let{type:I,imageId:B,range:Q,hyperlinks:ee}=C;if(this.type=I,this.imageId=B,"image"===I)if("string"==typeof Q){const C=z.decode(Q);this.range={tl:new q(this.worksheet,{col:C.left,row:C.top},-1),br:new q(this.worksheet,{col:C.right,row:C.bottom},0),editAs:"oneCell"}}else this.range={tl:new q(this.worksheet,Q.tl,0),br:Q.br&&new q(this.worksheet,Q.br,0),ext:Q.ext,editAs:Q.editAs,hyperlinks:ee||Q.hyperlinks}}}I.exports=Image},{"../utils/col-cache":19,"./anchor":2}],9:[function(C,I,B){"use strict";const z=C("../utils/under-dash");class Note{constructor(C){this.note=C}get model(){let C=null;return C="string"==typeof this.note?{type:"note",note:{texts:[{text:this.note}]}}:{type:"note",note:this.note},z.deepMerge({},Note.DEFAULT_CONFIGS,C)}set model(C){const{note:I}=C,{texts:B}=I;1===B.length&&1===Object.keys(B[0]).length?this.note=B[0].text:this.note=I}static fromModel(C){const I=new Note;return I.model=C,I}}Note.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},I.exports=Note},{"../utils/under-dash":26}],10:[function(C,I,B){"use strict";const z=C("../utils/col-cache");class Range{constructor(){this.decode(arguments)}setTLBR(C,I,B,q,Q){if(arguments.length<4){const q=z.decodeAddress(C),ee=z.decodeAddress(I);this.model={top:Math.min(q.row,ee.row),left:Math.min(q.col,ee.col),bottom:Math.max(q.row,ee.row),right:Math.max(q.col,ee.col),sheetName:B},this.setTLBR(q.row,q.col,ee.row,ee.col,Q)}else this.model={top:Math.min(C,B),left:Math.min(I,q),bottom:Math.max(C,B),right:Math.max(I,q),sheetName:Q}}decode(C){switch(C.length){case 5:this.setTLBR(C[0],C[1],C[2],C[3],C[4]);break;case 4:this.setTLBR(C[0],C[1],C[2],C[3]);break;case 3:this.setTLBR(C[0],C[1],C[2]);break;case 2:this.setTLBR(C[0],C[1]);break;case 1:{const I=C[0];if(I instanceof Range)this.model={top:I.model.top,left:I.model.left,bottom:I.model.bottom,right:I.model.right,sheetName:I.sheetName};else if(I instanceof Array)this.decode(I);else if(I.top&&I.left&&I.bottom&&I.right)this.model={top:I.top,left:I.left,bottom:I.bottom,right:I.right,sheetName:I.sheetName};else{const C=z.decodeEx(I);C.top?this.model={top:C.top,left:C.left,bottom:C.bottom,right:C.right,sheetName:C.sheetName}:this.model={top:C.row,left:C.col,bottom:C.row,right:C.col,sheetName:C.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error(`Invalid number of arguments to _getDimensions() - ${C.length}`)}}get top(){return this.model.top||1}set top(C){this.model.top=C}get left(){return this.model.left||1}set left(C){this.model.left=C}get bottom(){return this.model.bottom||1}set bottom(C){this.model.bottom=C}get right(){return this.model.right||1}set right(C){this.model.right=C}get sheetName(){return this.model.sheetName}set sheetName(C){this.model.sheetName=C}get _serialisedSheetName(){const{sheetName:C}=this.model;return C?/^[a-zA-Z0-9]*$/.test(C)?`${C}!`:`'${C}'!`:""}expand(C,I,B,z){(!this.model.top||C<this.top)&&(this.top=C),(!this.model.left||I<this.left)&&(this.left=I),(!this.model.bottom||B>this.bottom)&&(this.bottom=B),(!this.model.right||z>this.right)&&(this.right=z)}expandRow(C){if(C){const{dimensions:I,number:B}=C;I&&this.expand(B,I.min,B,I.max)}}expandToAddress(C){const I=z.decodeEx(C);this.expand(I.row,I.col,I.row,I.col)}get tl(){return z.n2l(this.left)+this.top}get $t$l(){return`$${z.n2l(this.left)}$${this.top}`}get br(){return z.n2l(this.right)+this.bottom}get $b$r(){return`$${z.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(C){return!(C.sheetName&&this.sheetName&&C.sheetName!==this.sheetName||C.bottom<this.top||C.top>this.bottom||C.right<this.left||C.left>this.right)}contains(C){const I=z.decodeEx(C);return this.containsEx(I)}containsEx(C){return(!C.sheetName||!this.sheetName||C.sheetName===this.sheetName)&&C.row>=this.top&&C.row<=this.bottom&&C.col>=this.left&&C.col<=this.right}forEachAddress(C){for(let I=this.left;I<=this.right;I++)for(let B=this.top;B<=this.bottom;B++)C(z.encodeAddress(B,I),B,I)}}I.exports=Range},{"../utils/col-cache":19}],11:[function(C,I,B){"use strict";const z=C("../utils/under-dash"),q=C("./enums"),Q=C("../utils/col-cache"),ee=C("./cell");class Row{constructor(C,I){this._worksheet=C,this._number=I,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(C){return this._cells[C-1]}getCellEx(C){let I=this._cells[C.col-1];if(!I){const B=this._worksheet.getColumn(C.col);I=new ee(this,B,C.address),this._cells[C.col-1]=I}return I}getCell(C){if("string"==typeof C){const I=this._worksheet.getColumnKey(C);C=I?I.number:Q.l2n(C)}return this._cells[C-1]||this.getCellEx({address:Q.encodeAddress(this._number,C),row:this._number,col:C})}splice(C,I){const B=C+I;for(var z=arguments.length,q=new Array(z>2?z-2:0),Q=2;Q<z;Q++)q[Q-2]=arguments[Q];const ee=q.length-I,te=this._cells.length;let ie,re,ne;if(ee<0)for(ie=C+q.length;ie<=te;ie++)ne=this._cells[ie-1],re=this._cells[ie-ee-1],re?(ne=this.getCell(ie),ne.value=re.value,ne.style=re.style,ne._comment=re._comment):ne&&(ne.value=null,ne.style={},ne._comment=void 0);else if(ee>0)for(ie=te;ie>=B;ie--)re=this._cells[ie-1],re?(ne=this.getCell(ie+ee),ne.value=re.value,ne.style=re.style,ne._comment=re._comment):this._cells[ie+ee-1]=void 0;for(ie=0;ie<q.length;ie++)ne=this.getCell(C+ie),ne.value=q[ie],ne.style={},ne._comment=void 0}eachCell(C,I){if(I||(I=C,C=null),C&&C.includeEmpty){const C=this._cells.length;for(let B=1;B<=C;B++)I(this.getCell(B),B)}else this._cells.forEach(((C,B)=>{C&&C.type!==q.ValueType.Null&&I(C,B+1)}))}addPageBreak(C,I){const B=this._worksheet,z=Math.max(0,C-1)||0,q=Math.max(0,I-1)||16838,Q={id:this._number,max:q,man:1};z&&(Q.min=z),B.rowBreaks.push(Q)}get values(){const C=[];return this._cells.forEach((I=>{I&&I.type!==q.ValueType.Null&&(C[I.col]=I.value)})),C}set values(C){if(this._cells=[],C)if(C instanceof Array){let I=0;C.hasOwnProperty("0")&&(I=1),C.forEach(((C,B)=>{void 0!==C&&(this.getCellEx({address:Q.encodeAddress(this._number,B+I),row:this._number,col:B+I}).value=C)}))}else this._worksheet.eachColumnKey(((I,B)=>{void 0!==C[B]&&(this.getCellEx({address:Q.encodeAddress(this._number,I.number),row:this._number,col:I.number}).value=C[B])}))}get hasValues(){return z.some(this._cells,(C=>C&&C.type!==q.ValueType.Null))}get cellCount(){return this._cells.length}get actualCellCount(){let C=0;return this.eachCell((()=>{C++})),C}get dimensions(){let C=0,I=0;return this._cells.forEach((B=>{B&&B.type!==q.ValueType.Null&&((!C||C>B.col)&&(C=B.col),I<B.col&&(I=B.col))})),C>0?{min:C,max:I}:null}_applyStyle(C,I){return this.style[C]=I,this._cells.forEach((B=>{B&&(B[C]=I)})),I}get numFmt(){return this.style.numFmt}set numFmt(C){this._applyStyle("numFmt",C)}get font(){return this.style.font}set font(C){this._applyStyle("font",C)}get alignment(){return this.style.alignment}set alignment(C){this._applyStyle("alignment",C)}get protection(){return this.style.protection}set protection(C){this._applyStyle("protection",C)}get border(){return this.style.border}set border(C){this._applyStyle("border",C)}get fill(){return this.style.fill}set fill(C){this._applyStyle("fill",C)}get hidden(){return!!this._hidden}set hidden(C){this._hidden=C}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(C){this._outlineLevel=C}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const C=[];let I=0,B=0;return this._cells.forEach((z=>{if(z){const q=z.model;q&&((!I||I>z.col)&&(I=z.col),B<z.col&&(B=z.col),C.push(q))}})),this.height||C.length?{cells:C,number:this.number,min:I,max:B,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(C){if(C.number!==this._number)throw new Error("Invalid row number in model");let I;this._cells=[],C.cells.forEach((C=>{switch(C.type){case ee.Types.Merge:break;default:{let B;if(C.address)B=Q.decodeAddress(C.address);else if(I){const{row:C}=I,z=I.col+1;B={row:C,col:z,address:Q.encodeAddress(C,z),$col$row:`$${Q.n2l(z)}$${C}`}}I=B,this.getCellEx(B).model=C;break}}})),C.height?this.height=C.height:delete this.height,this.hidden=C.hidden,this.outlineLevel=C.outlineLevel||0,this.style=C.style&&JSON.parse(JSON.stringify(C.style))||{}}}I.exports=Row},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(C,I,B){"use strict";const z=C("../utils/col-cache");class Column{constructor(C,I,B){this.table=C,this.column=I,this.index=B}_set(C,I){this.table.cacheState(),this.column[C]=I}get name(){return this.column.name}set name(C){this._set("name",C)}get filterButton(){return this.column.filterButton}set filterButton(C){this.column.filterButton=C}get style(){return this.column.style}set style(C){this.column.style=C}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(C){this._set("totalsRowLabel",C)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(C){this._set("totalsRowFunction",C)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(C){this._set("totalsRowResult",C)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(C){this._set("totalsRowFormula",C)}}class Table{constructor(C,I){this.worksheet=C,I&&(this.table=I,this.validate(),this.store())}getFormula(C){switch(C.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${C.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${C.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${C.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${C.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${C.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${C.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${C.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${C.name}])`;case"custom":return C.totalsRowFormula;default:throw new Error(`Invalid Totals Row Function: ${C.totalsRowFunction}`)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:C}=this,assign=(C,I,B)=>{void 0===C[I]&&(C[I]=B)};assign(C,"headerRow",!0),assign(C,"totalsRow",!1),assign(C,"style",{}),assign(C.style,"theme","TableStyleMedium2"),assign(C.style,"showFirstColumn",!1),assign(C.style,"showLastColumn",!1),assign(C.style,"showRowStripes",!1),assign(C.style,"showColumnStripes",!1);const assert=(C,I)=>{if(!C)throw new Error(I)};assert(C.ref,"Table must have ref"),assert(C.columns,"Table must have column definitions"),assert(C.rows,"Table must have row definitions"),C.tl=z.decodeAddress(C.ref);const{row:I,col:B}=C.tl;assert(I>0,"Table must be on valid row"),assert(B>0,"Table must be on valid col");const{width:q,filterHeight:Q,tableHeight:ee}=this;C.autoFilterRef=z.encode(I,B,I+Q-1,B+q-1),C.tableRef=z.encode(I,B,I+ee-1,B+q-1),C.columns.forEach(((C,I)=>{assert(C.name,`Column ${I} must have a name`),0===I?assign(C,"totalsRowLabel","Total"):(assign(C,"totalsRowFunction","none"),C.totalsRowFormula=this.getFormula(C))}))}store(){const assignStyle=(C,I)=>{I&&Object.keys(I).forEach((B=>{C[B]=I[B]}))},{worksheet:C,table:I}=this,{row:B,col:z}=I.tl;let q=0;if(I.headerRow){const Q=C.getRow(B+q++);I.columns.forEach(((C,I)=>{const{style:B,name:q}=C,ee=Q.getCell(z+I);ee.value=q,assignStyle(ee,B)}))}if(I.rows.forEach((Q=>{const ee=C.getRow(B+q++);Q.forEach(((C,B)=>{const q=ee.getCell(z+B);q.value=C,assignStyle(q,I.columns[B].style)}))})),I.totalsRow){const Q=C.getRow(B+q++);I.columns.forEach(((C,I)=>{const B=Q.getCell(z+I);if(0===I)B.value=C.totalsRowLabel;else{const I=this.getFormula(C);B.value=I?{formula:C.totalsRowFormula,result:C.totalsRowResult}:null}assignStyle(B,C.style)}))}}load(C){const{table:I}=this,{row:B,col:z}=I.tl;let q=0;if(I.headerRow){const Q=C.getRow(B+q++);I.columns.forEach(((C,I)=>{Q.getCell(z+I).value=C.name}))}if(I.rows.forEach((I=>{const Q=C.getRow(B+q++);I.forEach(((C,I)=>{Q.getCell(z+I).value=C}))})),I.totalsRow){const Q=C.getRow(B+q++);I.columns.forEach(((C,I)=>{const B=Q.getCell(z+I);0===I?B.value=C.totalsRowLabel:this.getFormula(C)&&(B.value={formula:C.totalsRowFormula,result:C.totalsRowResult})}))}}get model(){return this.table}set model(C){this.table=C}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const C=z.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let I=0;I<this._cache.tableHeight;I++){const B=this.worksheet.getRow(C.row+I);for(let I=0;I<this._cache.width;I++)B.getCell(C.col+I).value=null}else{for(let I=this.tableHeight;I<this._cache.tableHeight;I++){const B=this.worksheet.getRow(C.row+I);for(let I=0;I<this._cache.width;I++)B.getCell(C.col+I).value=null}for(let I=0;I<this.tableHeight;I++){const B=this.worksheet.getRow(C.row+I);for(let I=this.width;I<this._cache.width;I++)B.getCell(C.col+I).value=null}}this.store()}addRow(C,I){this.cacheState(),void 0===I?this.table.rows.push(C):this.table.rows.splice(I,0,C)}removeRows(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.rows.splice(C,I)}getColumn(C){const I=this.table.columns[C];return new Column(this,I,C)}addColumn(C,I,B){this.cacheState(),void 0===B?(this.table.columns.push(C),this.table.rows.forEach(((C,B)=>{C.push(I[B])}))):(this.table.columns.splice(B,0,C),this.table.rows.forEach(((C,z)=>{C.splice(B,0,I[z])})))}removeColumns(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.columns.splice(C,I),this.table.rows.forEach((B=>{B.splice(C,I)}))}_assign(C,I,B){this.cacheState(),C[I]=B}get ref(){return this.table.ref}set ref(C){this._assign(this.table,"ref",C)}get name(){return this.table.name}set name(C){this.table.name=C}get displayName(){return this.table.displyName||this.table.name}set displayNamename(C){this.table.displayName=C}get headerRow(){return this.table.headerRow}set headerRow(C){this._assign(this.table,"headerRow",C)}get totalsRow(){return this.table.totalsRow}set totalsRow(C){this._assign(this.table,"totalsRow",C)}get theme(){return this.table.style.name}set theme(C){this.table.style.name=C}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(C){this.table.style.showFirstColumn=C}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(C){this.table.style.showLastColumn=C}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(C){this.table.style.showRowStripes=C}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(C){this.table.style.showColumnStripes=C}}I.exports=Table},{"../utils/col-cache":19}],13:[function(C,I,B){"use strict";const z=C("./worksheet"),q=C("./defined-names"),Q=C("../xlsx/xlsx"),ee=C("../csv/csv");class Workbook{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new q}get xlsx(){return this._xlsx||(this._xlsx=new Q(this)),this._xlsx}get csv(){return this._csv||(this._csv=new ee(this)),this._csv}get nextId(){for(let C=1;C<this._worksheets.length;C++)if(!this._worksheets[C])return C;return this._worksheets.length||1}addWorksheet(C,I){const B=this.nextId;I&&("string"==typeof I?I={properties:{tabColor:{argb:I}}}:(I.argb||I.theme||I.indexed)&&(I={properties:{tabColor:I}}));const q=this._worksheets.reduce(((C,I)=>(I&&I.orderNo)>C?I.orderNo:C),0),Q=Object.assign({},I,{id:B,name:C,orderNo:q+1,workbook:this}),ee=new z(Q);return this._worksheets[B]=ee,ee}removeWorksheetEx(C){delete this._worksheets[C.id]}removeWorksheet(C){const I=this.getWorksheet(C);I&&I.destroy()}getWorksheet(C){return void 0===C?this._worksheets.find(Boolean):"number"==typeof C?this._worksheets[C]:"string"==typeof C?this._worksheets.find((I=>I&&I.name===C)):void 0}get worksheets(){return this._worksheets.slice(1).sort(((C,I)=>C.orderNo-I.orderNo)).filter(Boolean)}eachSheet(C){this.worksheets.forEach((I=>{C(I,I.id)}))}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(C){const I=this.media.length;return this.media.push(Object.assign({},C,{type:"image"})),I}getImage(C){return this.media[C]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map((C=>C.model)),sheets:this.worksheets.map((C=>C.model)).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(C){this.creator=C.creator,this.lastModifiedBy=C.lastModifiedBy,this.lastPrinted=C.lastPrinted,this.created=C.created,this.modified=C.modified,this.company=C.company,this.manager=C.manager,this.title=C.title,this.subject=C.subject,this.keywords=C.keywords,this.category=C.category,this.description=C.description,this.language=C.language,this.revision=C.revision,this.contentStatus=C.contentStatus,this.properties=C.properties,this.calcProperties=C.calcProperties,this._worksheets=[],C.worksheets.forEach((I=>{const{id:B,name:q,state:Q}=I,ee=C.sheets&&C.sheets.findIndex((C=>C.id===B));(this._worksheets[B]=new z({id:B,name:q,orderNo:ee,state:Q,workbook:this})).model=I})),this._definedNames.model=C.definedNames,this.views=C.views,this._themes=C.themes,this.media=C.media||[]}}I.exports=Workbook},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(C,I,B){"use strict";const z=C("../utils/under-dash"),q=C("../utils/col-cache"),Q=C("./range"),ee=C("./row"),te=C("./column"),ie=C("./enums"),re=C("./image"),ne=C("./table"),se=C("./data-validations"),oe=C("../utils/encryptor"),{copyStyle:ae}=C("../utils/copy-style");class Worksheet{constructor(C){C=C||{},this._workbook=C.workbook,this.id=C.id,this.orderNo=C.orderNo,this.name=C.name,this.state=C.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},C.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!C.pageSetup||!C.pageSetup.fitToWidth&&!C.pageSetup.fitToHeight||C.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},C.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},C.headerFooter),this.dataValidations=new se,this.views=C.views||[],this.autoFilter=C.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(C){if(void 0===C&&(C=`sheet${this.id}`),this._name!==C){if("string"!=typeof C)throw new Error("The name has to be a string.");if(""===C)throw new Error("The name can't be empty.");if("History"===C)throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(C))throw new Error(`Worksheet name ${C} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(C))throw new Error(`The first or last character of worksheet name cannot be a single quotation mark: ${C}`);if(C&&C.length>31&&(C=C.substring(0,31)),this._workbook._worksheets.find((I=>I&&I.name.toLowerCase()===C.toLowerCase())))throw new Error(`Worksheet name already exists: ${C}`);this._name=C}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const C=new Q;return this._rows.forEach((I=>{if(I){const B=I.dimensions;B&&C.expand(I.number,B.min,I.number,B.max)}})),C}get columns(){return this._columns}set columns(C){this._headerRowCount=C.reduce(((C,I)=>{const B=(I.header?1:I.headers&&I.headers.length)||0;return Math.max(C,B)}),0);let I=1;const B=this._columns=[];C.forEach((C=>{const z=new te(this,I++,!1);B.push(z),z.defn=C}))}getColumnKey(C){return this._keys[C]}setColumnKey(C,I){this._keys[C]=I}deleteColumnKey(C){delete this._keys[C]}eachColumnKey(C){z.each(this._keys,C)}getColumn(C){if("string"==typeof C){const I=this._keys[C];if(I)return I;C=q.l2n(C)}if(this._columns||(this._columns=[]),C>this._columns.length){let I=this._columns.length+1;for(;I<=C;)this._columns.push(new te(this,I++))}return this._columns[C-1]}spliceColumns(C,I){const B=this._rows.length;for(var z=arguments.length,q=new Array(z>2?z-2:0),Q=2;Q<z;Q++)q[Q-2]=arguments[Q];if(q.length>0)for(let z=0;z<B;z++){const B=[C,I];q.forEach((C=>{B.push(C[z]||null)}));const Q=this.getRow(z+1);Q.splice.apply(Q,B)}else this._rows.forEach((B=>{B&&B.splice(C,I)}));const ee=q.length-I,te=C+I,ie=this._columns.length;if(ee<0)for(let I=C+q.length;I<=ie;I++)this.getColumn(I).defn=this.getColumn(I-ee).defn;else if(ee>0)for(let C=ie;C>=te;C--)this.getColumn(C+ee).defn=this.getColumn(C).defn;for(let I=C;I<C+q.length;I++)this.getColumn(I).defn=null;this.workbook.definedNames.spliceColumns(this.name,C,I,q.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let C=0;return this.eachRow((I=>{C=Math.max(C,I.cellCount)})),C}get actualColumnCount(){const C=[];let I=0;return this.eachRow((B=>{B.eachCell((B=>{let{col:z}=B;C[z]||(C[z]=!0,I++)}))})),I}_commitRow(){}get _lastRowNumber(){const C=this._rows;let I=C.length;for(;I>0&&void 0===C[I-1];)I--;return I}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(C){return this._rows[C-1]}findRows(C,I){return this._rows.slice(C-1,C-1+I)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let C=0;return this.eachRow((()=>{C++})),C}getRow(C){let I=this._rows[C-1];return I||(I=this._rows[C-1]=new ee(this,C)),I}getRows(C,I){if(I<1)return;const B=[];for(let z=C;z<C+I;z++)B.push(this.getRow(z));return B}addRow(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const B=this._nextRow,z=this.getRow(B);return z.values=C,this._setStyleOption(B,"i"===I[0]?I:"n"),z}addRows(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const B=[];return C.forEach((C=>{B.push(this.addRow(C,I))})),B}insertRow(C,I){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";return this.spliceRows(C,0,I),this._setStyleOption(C,B),this.getRow(C)}insertRows(C,I){let B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";if(this.spliceRows(C,0,...I),"n"!==B)for(let z=0;z<I.length;z++)"o"===B[0]&&void 0!==this.findRow(I.length+C+z)?this._copyStyle(I.length+C+z,C+z,"+"===B[1]):"i"===B[0]&&void 0!==this.findRow(C-1)&&this._copyStyle(C-1,C+z,"+"===B[1]);return this.getRows(C,I.length)}_setStyleOption(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";"o"===I[0]&&void 0!==this.findRow(C+1)?this._copyStyle(C+1,C,"+"===I[1]):"i"===I[0]&&void 0!==this.findRow(C-1)&&this._copyStyle(C-1,C,"+"===I[1])}_copyStyle(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const z=this.getRow(C),q=this.getRow(I);q.style=ae(z.style),z.eachCell({includeEmpty:B},((C,I)=>{q.getCell(I).style=ae(C.style)})),q.height=z.height}duplicateRow(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const z=this._rows[C-1],q=new Array(I).fill(z.values);this.spliceRows(C+1,B?0:I,...q);for(let B=0;B<I;B++){const I=this._rows[C+B];I.style=z.style,I.height=z.height,z.eachCell({includeEmpty:!0},((C,B)=>{I.getCell(B).style=C.style}))}}spliceRows(C,I){const B=C+I;for(var z=arguments.length,q=new Array(z>2?z-2:0),Q=2;Q<z;Q++)q[Q-2]=arguments[Q];const ee=q.length,te=ee-I,ie=this._rows.length;let re,ne;if(te<0)for(C===ie&&(this._rows[ie-1]=void 0),re=B;re<=ie;re++)if(ne=this._rows[re-1],ne){const C=this.getRow(re+te);C.values=ne.values,C.style=ne.style,C.height=ne.height,ne.eachCell({includeEmpty:!0},((I,B)=>{C.getCell(B).style=I.style})),this._rows[re-1]=void 0}else this._rows[re+te-1]=void 0;else if(te>0)for(re=ie;re>=B;re--)if(ne=this._rows[re-1],ne){const C=this.getRow(re+te);C.values=ne.values,C.style=ne.style,C.height=ne.height,ne.eachCell({includeEmpty:!0},((I,B)=>{if(C.getCell(B).style=I.style,"MergeValue"===I._value.constructor.name){const C=this.getRow(I._row._number+ee).getCell(B),z=I._value._master,q=this.getRow(z._row._number+ee).getCell(z._column._number);C.merge(q)}}))}else this._rows[re+te-1]=void 0;for(re=0;re<ee;re++){const I=this.getRow(C+re);I.style={},I.values=q[re]}this.workbook.definedNames.spliceRows(this.name,C,I,ee)}eachRow(C,I){if(I||(I=C,C=void 0),C&&C.includeEmpty){const C=this._rows.length;for(let B=1;B<=C;B++)I(this.getRow(B),B)}else this._rows.forEach((C=>{C&&C.hasValues&&I(C,C.number)}))}getSheetValues(){const C=[];return this._rows.forEach((I=>{I&&(C[I.number]=I.values)})),C}findCell(C,I){const B=q.getAddress(C,I),z=this._rows[B.row-1];return z?z.findCell(B.col):void 0}getCell(C,I){const B=q.getAddress(C,I);return this.getRow(B.row).getCellEx(B)}mergeCells(){for(var C=arguments.length,I=new Array(C),B=0;B<C;B++)I[B]=arguments[B];const z=new Q(I);this._mergeCellsInternal(z)}mergeCellsWithoutStyle(){for(var C=arguments.length,I=new Array(C),B=0;B<C;B++)I[B]=arguments[B];const z=new Q(I);this._mergeCellsInternal(z,!0)}_mergeCellsInternal(C,I){z.each(this._merges,(I=>{if(I.intersects(C))throw new Error("Cannot merge already merged cells")}));const B=this.getCell(C.top,C.left);for(let z=C.top;z<=C.bottom;z++)for(let q=C.left;q<=C.right;q++)(z>C.top||q>C.left)&&this.getCell(z,q).merge(B,I);this._merges[B.address]=C}_unMergeMaster(C){const I=this._merges[C.address];if(I){for(let C=I.top;C<=I.bottom;C++)for(let B=I.left;B<=I.right;B++)this.getCell(C,B).unmerge();delete this._merges[C.address]}}get hasMerges(){return z.some(this._merges,Boolean)}unMergeCells(){for(var C=arguments.length,I=new Array(C),B=0;B<C;B++)I[B]=arguments[B];const z=new Q(I);for(let C=z.top;C<=z.bottom;C++)for(let I=z.left;I<=z.right;I++){const B=this.findCell(C,I);B&&(B.type===ie.ValueType.Merge?this._unMergeMaster(B.master):this._merges[B.address]&&this._unMergeMaster(B))}}fillFormula(C,I,B){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"shared";const Q=q.decode(C),{top:ee,left:te,bottom:ie,right:re}=Q,ne=re-te+1,se=q.encodeAddress(ee,te),oe="shared"===z;let ae;ae="function"==typeof B?B:Array.isArray(B)?Array.isArray(B[0])?(C,I)=>B[C-ee][I-te]:(C,I)=>B[(C-ee)*ne+(I-te)]:()=>{};let le=!0;for(let B=ee;B<=ie;B++)for(let q=te;q<=re;q++)le?(this.getCell(B,q).value={shareType:z,formula:I,ref:C,result:ae(B,q)},le=!1):this.getCell(B,q).value=oe?{sharedFormula:se,result:ae(B,q)}:ae(B,q)}addImage(C,I){const B={type:"image",imageId:C,range:I};this._media.push(new re(this,B))}getImages(){return this._media.filter((C=>"image"===C.type))}addBackgroundImage(C){const I={type:"background",imageId:C};this._media.push(new re(this,I))}getBackgroundImageId(){const C=this._media.find((C=>"background"===C.type));return C&&C.imageId}protect(C,I){return new Promise((B=>{this.sheetProtection={sheet:!0},I&&"spinCount"in I&&(I.spinCount=Number.isFinite(I.spinCount)?Math.round(Math.max(0,I.spinCount)):1e5),C&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=oe.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=I&&"spinCount"in I?I.spinCount:1e5,this.sheetProtection.hashValue=oe.convertPasswordToHash(C,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),I&&(this.sheetProtection=Object.assign(this.sheetProtection,I),!C&&"spinCount"in I&&delete this.sheetProtection.spinCount),B()}))}unprotect(){this.sheetProtection=null}addTable(C){const I=new ne(this,C);return this.tables[C.name]=I,I}getTable(C){return this.tables[C]}removeTable(C){delete this.tables[C]}getTables(){return Object.values(this.tables)}addConditionalFormatting(C){this.conditionalFormattings.push(C)}removeConditionalFormatting(C){"number"==typeof C?this.conditionalFormattings.splice(C,1):this.conditionalFormattings=C instanceof Function?this.conditionalFormattings.filter(C):[]}get tabColor(){return this.properties.tabColor}set tabColor(C){this.properties.tabColor=C}get model(){const C={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map((C=>C.model)),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map((C=>C.model)),conditionalFormattings:this.conditionalFormattings};C.cols=te.toModel(this.columns);const I=C.rows=[],B=C.dimensions=new Q;return this._rows.forEach((C=>{const z=C&&C.model;z&&(B.expand(z.number,z.min,z.number,z.max),I.push(z))})),C.merges=[],z.each(this._merges,(I=>{C.merges.push(I.range)})),C}_parseRows(C){this._rows=[],C.rows.forEach((C=>{const I=new ee(this,C.number);this._rows[I.number-1]=I,I.model=C}))}_parseMergeCells(C){z.each(C.mergeCells,(C=>{this.mergeCellsWithoutStyle(C)}))}set model(C){this.name=C.name,this._columns=te.fromModel(this,C.cols),this._parseRows(C),this._parseMergeCells(C),this.dataValidations=new se(C.dataValidations),this.properties=C.properties,this.pageSetup=C.pageSetup,this.headerFooter=C.headerFooter,this.views=C.views,this.autoFilter=C.autoFilter,this._media=C.media.map((C=>new re(this,C))),this.sheetProtection=C.sheetProtection,this.tables=C.tables.reduce(((C,I)=>{const B=new ne;return B.model=I,C[I.name]=B,C}),{}),this.conditionalFormattings=C.conditionalFormattings}}I.exports=Worksheet},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(C,I,B){"use strict";C("core-js/modules/es.promise"),C("core-js/modules/es.promise.finally"),C("core-js/modules/es.object.assign"),C("core-js/modules/es.object.keys"),C("core-js/modules/es.object.values"),C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.async-iterator"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.find-index"),C("core-js/modules/es.array.find"),C("core-js/modules/es.string.from-code-point"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.number.is-nan"),C("regenerator-runtime/runtime");const z={Workbook:C("./doc/workbook")},q=C("./doc/enums");Object.keys(q).forEach((C=>{z[C]=q[C]})),I.exports=z},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(C,I,B){"use strict";const z="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function bufferToString(C){return"string"==typeof C?C:z?z.decode(C):C.toString()}B.bufferToString=bufferToString},{}],17:[function(C,I,B){"use strict";const z="undefined"==typeof TextEncoder?null:new TextEncoder("utf-8"),{Buffer:q}=C("buffer");function stringToBuffer(C){return"string"!=typeof C?C:z?q.from(z.encode(C).buffer):q.from(C)}B.stringToBuffer=stringToBuffer},{buffer:220}],18:[function(C,I,B){"use strict";const z=C("./under-dash"),q=C("./col-cache");class CellMatrix{constructor(C){this.template=C,this.sheets={}}addCell(C){this.addCellEx(q.decodeEx(C))}getCell(C){return this.findCellEx(q.decodeEx(C),!0)}findCell(C){return this.findCellEx(q.decodeEx(C),!1)}findCellAt(C,I,B){const z=this.sheets[C],q=z&&z[I];return q&&q[B]}addCellEx(C){if(C.top)for(let I=C.top;I<=C.bottom;I++)for(let B=C.left;B<=C.right;B++)this.getCellAt(C.sheetName,I,B);else this.findCellEx(C,!0)}getCellEx(C){return this.findCellEx(C,!0)}findCellEx(C,I){const B=this.findSheet(C,I),z=this.findSheetRow(B,C,I);return this.findRowCell(z,C,I)}getCellAt(C,I,B){const z=this.sheets[C]||(this.sheets[C]=[]),Q=z[I]||(z[I]=[]);return Q[B]||(Q[B]={sheetName:C,address:q.n2l(B)+I,row:I,col:B})}removeCellEx(C){const I=this.findSheet(C);if(!I)return;const B=this.findSheetRow(I,C);B&&delete B[C.col]}forEachInSheet(C,I){const B=this.sheets[C];B&&B.forEach(((C,B)=>{C&&C.forEach(((C,z)=>{C&&I(C,B,z)}))}))}forEach(C){z.each(this.sheets,((I,B)=>{this.forEachInSheet(B,C)}))}map(C){const I=[];return this.forEach((B=>{I.push(C(B))})),I}findSheet(C,I){const B=C.sheetName;return this.sheets[B]?this.sheets[B]:I?this.sheets[B]=[]:void 0}findSheetRow(C,I,B){const{row:z}=I;return C&&C[z]?C[z]:B?C[z]=[]:void 0}findRowCell(C,I,B){const{col:z}=I;return C&&C[z]?C[z]:B?C[z]=this.template?Object.assign(I,JSON.parse(JSON.stringify(this.template))):I:void 0}spliceRows(C,I,B,z){const q=this.sheets[C];if(q){const C=[];for(let I=0;I<z;I++)C.push([]);q.splice(I,B,...C)}}spliceColumns(C,I,B,q){const Q=this.sheets[C];if(Q){const C=[];for(let I=0;I<q;I++)C.push(null);z.each(Q,(z=>{z.splice(I,B,...C)}))}}}I.exports=CellMatrix},{"./col-cache":19,"./under-dash":26}],19:[function(C,I,B){"use strict";const z=/^[A-Z]+\d+$/,q={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:C=>C<=26?1:C<=676?2:3,_fill(C){let I,B,z,q,Q,ee=1;if(C>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&C>=1){for(;ee<=26;)I=this._dictionary[ee-1],this._n2l[ee]=I,this._l2n[I]=ee,ee++;this._l2nFill=1}if(this._l2nFill<2&&C>=2){for(ee=27;ee<=702;)B=ee-27,z=B%26,q=Math.floor(B/26),I=this._dictionary[q]+this._dictionary[z],this._n2l[ee]=I,this._l2n[I]=ee,ee++;this._l2nFill=2}if(this._l2nFill<3&&C>=3){for(ee=703;ee<=16384;)B=ee-703,z=B%26,q=Math.floor(B/26)%26,Q=Math.floor(B/676),I=this._dictionary[Q]+this._dictionary[q]+this._dictionary[z],this._n2l[ee]=I,this._l2n[I]=ee,ee++;this._l2nFill=3}},l2n(C){if(this._l2n[C]||this._fill(C.length),!this._l2n[C])throw new Error(`Out of bounds. Invalid column letter: ${C}`);return this._l2n[C]},n2l(C){if(C<1||C>16384)throw new Error(`${C} is out of bounds. Excel supports columns from 1 to 16384`);return this._n2l[C]||this._fill(this._level(C)),this._n2l[C]},_hash:{},validateAddress(C){if(!z.test(C))throw new Error(`Invalid Address: ${C}`);return!0},decodeAddress(C){const I=C.length<5&&this._hash[C];if(I)return I;let B=!1,z="",q=0,Q=!1,ee="",te=0;for(let I,ie=0;ie<C.length;ie++)if(I=C.charCodeAt(ie),!Q&&I>=65&&I<=90)B=!0,z+=C[ie],q=26*q+I-64;else if(I>=48&&I<=57)Q=!0,ee+=C[ie],te=10*te+I-48;else if(Q&&B&&36!==I)break;if(B){if(q>16384)throw new Error(`Out of bounds. Invalid column letter: ${z}`)}else q=void 0;Q||(te=void 0);const ie={address:C=z+ee,col:q,row:te,$col$row:`$${z}$${ee}`};return q<=100&&te<=100&&(this._hash[C]=ie,this._hash[ie.$col$row]=ie),ie},getAddress(C,I){if(I){const B=this.n2l(I)+C;return this.decodeAddress(B)}return this.decodeAddress(C)},decode(C){const I=C.split(":");if(2===I.length){const C=this.decodeAddress(I[0]),B=this.decodeAddress(I[1]),z={top:Math.min(C.row,B.row),left:Math.min(C.col,B.col),bottom:Math.max(C.row,B.row),right:Math.max(C.col,B.col)};return z.tl=this.n2l(z.left)+z.top,z.br=this.n2l(z.right)+z.bottom,z.dimensions=`${z.tl}:${z.br}`,z}return this.decodeAddress(C)},decodeEx(C){const I=C.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),B=I[1]||I[2],z=I[3],q=z.split(":");if(q.length>1){let C=this.decodeAddress(q[0]),I=this.decodeAddress(q[1]);const z=Math.min(C.row,I.row),Q=Math.min(C.col,I.col),ee=Math.max(C.row,I.row),te=Math.max(C.col,I.col);return C=this.n2l(Q)+z,I=this.n2l(te)+ee,{top:z,left:Q,bottom:ee,right:te,sheetName:B,tl:{address:C,col:Q,row:z,$col$row:`$${this.n2l(Q)}$${z}`,sheetName:B},br:{address:I,col:te,row:ee,$col$row:`$${this.n2l(te)}$${ee}`,sheetName:B},dimensions:`${C}:${I}`}}if(z.startsWith("#"))return B?{sheetName:B,error:z}:{error:z};const Q=this.decodeAddress(z);return B?{sheetName:B,...Q}:Q},encodeAddress:(C,I)=>q.n2l(I)+C,encode(){switch(arguments.length){case 2:return q.encodeAddress(arguments[0],arguments[1]);case 4:return`${q.encodeAddress(arguments[0],arguments[1])}:${q.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(C,I){const[B,z,,q,Q]=C,[ee,te]=I;return ee>=B&&ee<=q&&te>=z&&te<=Q}};I.exports=q},{}],20:[function(C,I,B){"use strict";const oneDepthCopy=(C,I)=>({...C,...I.reduce(((I,B)=>(C[B]&&(I[B]={...C[B]}),I)),{})}),setIfExists=function(C,I,B){let z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];C[B]&&(I[B]=oneDepthCopy(C[B],z))},isEmptyObj=C=>0===Object.keys(C).length,copyStyle=C=>{if(!C)return C;if(isEmptyObj(C))return{};const I={...C};return setIfExists(C,I,"font",["color"]),setIfExists(C,I,"alignment"),setIfExists(C,I,"protection"),C.border&&(setIfExists(C,I,"border"),setIfExists(C.border,I.border,"top",["color"]),setIfExists(C.border,I.border,"left",["color"]),setIfExists(C.border,I.border,"bottom",["color"]),setIfExists(C.border,I.border,"right",["color"]),setIfExists(C.border,I.border,"diagonal",["color"])),C.fill&&(setIfExists(C,I,"fill",["fgColor","bgColor","center"]),C.fill.stops&&(I.fill.stops=C.fill.stops.map((C=>oneDepthCopy(C,["color"]))))),I};B.copyStyle=copyStyle},{}],21:[function(C,I,B){(function(B){(function(){"use strict";const z=C("crypto"),q={hash(C){const I=z.createHash(C);for(var q=arguments.length,Q=new Array(q>1?q-1:0),ee=1;ee<q;ee++)Q[ee-1]=arguments[ee];return I.update(B.concat(Q)),I.digest()},convertPasswordToHash(C,I,q,Q){if(I=I.toLowerCase(),z.getHashes().indexOf(I)<0)throw new Error(`Hash algorithm '${I}' not supported!`);const ee=B.from(C,"utf16le");let te=this.hash(I,B.from(q,"base64"),ee);for(let C=0;C<Q;C++){const z=B.alloc(4);z.writeUInt32LE(C,0),te=this.hash(I,te,z)}return te.toString("base64")},randomBytes:C=>z.randomBytes(C)};I.exports=q}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(C,I,B){"use strict";const{SaxesParser:z}=C("saxes"),{PassThrough:q}=C("readable-stream"),{bufferToString:Q}=C("./browser-buffer-decode");I.exports=async function*(C){C.pipe&&!C[Symbol.asyncIterator]&&(C=C.pipe(new q));const I=new z;let B;I.on("error",(C=>{B=C}));let ee=[];I.on("opentag",(C=>ee.push({eventType:"opentag",value:C}))),I.on("text",(C=>ee.push({eventType:"text",value:C}))),I.on("closetag",(C=>ee.push({eventType:"closetag",value:C})));for await(const z of C){if(I.write(Q(z)),B)throw B;yield ee,ee=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(C,I,B){"use strict";const z=C("./col-cache"),q=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,Q=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;function slideFormula(C,I,B){const ee=z.decode(I),te=z.decode(B);return C.replace(q,((C,I,B,q,ie)=>{if(ie)return C;const re=Q.exec(q);if(re){const B=re[1],q=re[2].toUpperCase(),Q=re[3],ie=re[4];if(q.length>3||3===q.length&&q>"XFD")return C;let ne=z.l2n(q),se=parseInt(ie,10);return B||(ne+=te.col-ee.col),Q||(se+=te.row-ee.row),(I||"")+(B||"")+z.n2l(ne)+(Q||"")+se}return C}))}I.exports={slideFormula}},{"./col-cache":19}],24:[function(C,I,B){(function(B,z){(function(){"use strict";const q=C("readable-stream"),Q=C("./utils"),ee=C("./string-buf");class StringChunk{constructor(C,I){this._data=C,this._encoding=I}get length(){return this.toBuffer().length}copy(C,I,B,z){return this.toBuffer().copy(C,I,B,z)}toBuffer(){return this._buffer||(this._buffer=z.from(this._data,this._encoding)),this._buffer}}class StringBufChunk{constructor(C){this._data=C}get length(){return this._data.length}copy(C,I,B,z){return this._data._buf.copy(C,I,B,z)}toBuffer(){return this._data.toBuffer()}}class BufferChunk{constructor(C){this._data=C}get length(){return this._data.length}copy(C,I,B,z){this._data.copy(C,I,B,z)}toBuffer(){return this._data}}class ReadWriteBuf{constructor(C){this.size=C,this.buffer=z.alloc(C),this.iRead=0,this.iWrite=0}toBuffer(){if(0===this.iRead&&this.iWrite===this.size)return this.buffer;const C=z.alloc(this.iWrite-this.iRead);return this.buffer.copy(C,0,this.iRead,this.iWrite),C}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(C){let I;return 0===C?null:void 0===C||C>=this.length?(I=this.toBuffer(),this.iRead=this.iWrite,I):(I=z.alloc(C),this.buffer.copy(I,0,this.iRead,C),this.iRead+=C,I)}write(C,I,B){const z=Math.min(B,this.size-this.iWrite);return C.copy(this.buffer,this.iWrite,I,I+z),this.iWrite+=z,z}}const StreamBuf=function(C){C=C||{},this.bufSize=C.bufSize||1048576,this.buffers=[],this.batch=C.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};Q.inherits(StreamBuf,q.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return z.concat(this.buffers.map((C=>C.toBuffer())))}},_getWritableBuffer(){if(this.buffers.length){const C=this.buffers[this.buffers.length-1];if(!C.full)return C}const C=new ReadWriteBuf(this.bufSize);return this.buffers.push(C),C},async _pipe(C){const write=function(I){return new Promise((B=>{I.write(C.toBuffer(),(()=>{B()}))}))};await Promise.all(this.pipes.map(write))},_writeToBuffers(C){let I=0;const B=C.length;for(;I<B;)I+=this._getWritableBuffer().write(C,I,B-I)},async write(C,I,q){let te;if(I instanceof Function&&(q=I,I="utf8"),q=q||Q.nop,C instanceof ee)te=new StringBufChunk(C);else if(C instanceof z)te=new BufferChunk(C);else{if(!("string"==typeof C||C instanceof String||C instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");te=new StringChunk(C,I)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(te);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(te),B.nextTick(q)):(await this._pipe(te),q());else this.paused||this.emit("data",te.toBuffer()),this._writeToBuffers(te),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(C,I,B){const writeComplete=C=>{C?B(C):(this._flush(),this.pipes.forEach((C=>{C.end()})),this.emit("finish"))};C?this.write(C,I,writeComplete):writeComplete()},read(C){let I;if(C){for(I=[];C&&this.buffers.length&&!this.buffers[0].eod;){const B=this.buffers[0],z=B.read(C);C-=z.length,I.push(z),B.eod&&B.full&&this.buffers.shift()}return z.concat(I)}return I=this.buffers.map((C=>C.toBuffer())).filter(Boolean),this.buffers=[],z.concat(I)},setEncoding(C){this.encoding=C},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(C){this.pipes.push(C),!this.paused&&this.buffers.length&&this.end()},unpipe(C){this.pipes=this.pipes.filter((I=>I!==C))},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),I.exports=StreamBuf}).call(this)}).call(this,C("_process"),C("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(C,I,B){(function(C){(function(){"use strict";class StringBuf{constructor(I){this._buf=C.alloc(I&&I.size||16384),this._encoding=I&&I.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=C.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(C){C=C||0,this._buffer=void 0,this._inPos=C}_grow(I){let B=2*this._buf.length;for(;B<I;)B*=2;const z=C.alloc(B);this._buf.copy(z,0),this._buf=z}addText(C){this._buffer=void 0;let I=this._inPos+this._buf.write(C,this._inPos,this._encoding);for(;I>=this._buf.length-4;)this._grow(this._inPos+C.length),I=this._inPos+this._buf.write(C,this._inPos,this._encoding);this._inPos=I}addStringBuf(C){C.length&&(this._buffer=void 0,this.length+C.length>this.capacity&&this._grow(this.length+C.length),C._buf.copy(this._buf,this._inPos,0,C.length),this._inPos+=C.length)}}I.exports=StringBuf}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220}],26:[function(C,I,B){"use strict";const{toString:z}=Object.prototype,q=/["&<>]/,Q={each:function each(C,I){C&&(Array.isArray(C)?C.forEach(I):Object.keys(C).forEach((B=>{I(C[B],B)})))},some:function some(C,I){return!!C&&(Array.isArray(C)?C.some(I):Object.keys(C).some((B=>I(C[B],B))))},every:function every(C,I){return!C||(Array.isArray(C)?C.every(I):Object.keys(C).every((B=>I(C[B],B))))},map:function map(C,I){return C?Array.isArray(C)?C.map(I):Object.keys(C).map((B=>I(C[B],B))):[]},keyBy:(C,I)=>C.reduce(((C,B)=>(C[B[I]]=B,C)),{}),isEqual:function isEqual(C,I){const B=typeof C,z=typeof I,q=Array.isArray(C),ee=Array.isArray(I);let te;if(B!==z)return!1;if("object"==typeof C){if(q||ee)return!(!q||!ee)&&C.length===I.length&&C.every(((C,B)=>{const z=I[B];return Q.isEqual(C,z)}));if(null===C||null===I)return C===I;if(te=Object.keys(C),Object.keys(I).length!==te.length)return!1;for(const C of te)if(!I.hasOwnProperty(C))return!1;return Q.every(C,((C,B)=>{const z=I[B];return Q.isEqual(C,z)}))}return C===I},escapeHtml(C){const I=q.exec(C);if(!I)return C;let B="",z="",Q=0,ee=I.index;for(;ee<C.length;ee++){switch(C.charAt(ee)){case'"':z="&quot;";break;case"&":z="&amp;";break;case"'":z="&apos;";break;case"<":z="&lt;";break;case">":z="&gt;";break;default:continue}Q!==ee&&(B+=C.substring(Q,ee)),Q=ee+1,B+=z}return Q!==ee?B+C.substring(Q,ee):B},strcmp:(C,I)=>C<I?-1:C>I?1:0,isUndefined:C=>"[object Undefined]"===z.call(C),isObject:C=>"[object Object]"===z.call(C),deepMerge(){const C=arguments[0]||{},{length:I}=arguments;let B,z,q;function assignValue(I,ee){B=C[ee],q=Array.isArray(I),Q.isObject(I)||q?(q?(q=!1,z=B&&Array.isArray(B)?B:[]):z=B&&Q.isObject(B)?B:{},C[ee]=Q.deepMerge(z,I)):Q.isUndefined(I)||(C[ee]=I)}for(let C=0;C<I;C++)Q.each(arguments[C],assignValue);return C}};I.exports=Q},{}],27:[function(C,I,z){(function(B,z){(function(){"use strict";const q=C("fs"),inherits=function(C,I,B,z){C.super_=I,z||(z=B,B=null),B&&Object.keys(B).forEach((I=>{Object.defineProperty(C,I,Object.getOwnPropertyDescriptor(B,I))}));const q={constructor:{value:C,enumerable:!1,writable:!1,configurable:!0}};z&&Object.keys(z).forEach((C=>{q[C]=Object.getOwnPropertyDescriptor(z,C)})),C.prototype=Object.create(I.prototype,q)},Q=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,ee={nop(){},promiseImmediate:C=>new Promise((I=>{B.setImmediate?z((()=>{I(C)})):setTimeout((()=>{I(C)}),1)})),inherits,dateToExcel:(C,I)=>25569+C.getTime()/864e5-(I?1462:0),excelToDate(C,I){const B=Math.round(24*(C-25569+(I?1462:0))*3600*1e3);return new Date(B)},parsePath(C){const I=C.lastIndexOf("/");return{path:C.substring(0,I),name:C.substring(I+1)}},getRelsPath(C){const I=ee.parsePath(C);return`${I.path}/_rels/${I.name}.rels`},xmlEncode(C){const I=Q.exec(C);if(!I)return C;let B="",z="",q=0,ee=I.index;for(;ee<C.length;ee++){const I=C.charCodeAt(ee);switch(I){case 34:z="&quot;";break;case 38:z="&amp;";break;case 39:z="&apos;";break;case 60:z="&lt;";break;case 62:z="&gt;";break;case 127:z="";break;default:if(I<=31&&(I<=8||I>=11&&13!==I)){z="";break}continue}q!==ee&&(B+=C.substring(q,ee)),q=ee+1,z&&(B+=z)}return q!==ee?B+C.substring(q,ee):B},xmlDecode:C=>C.replace(/&([a-z]*);/g,(C=>{switch(C){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return C}})),validInt(C){const I=parseInt(C,10);return Number.isNaN(I)?0:I},isDateFmt:C=>!!C&&null!==(C=(C=C.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/),fs:{exists:C=>new Promise((I=>{q.access(C,q.constants.F_OK,(C=>{I(!C)}))}))},toIsoDateString:C=>C.toIsoString().subsstr(0,10),parseBoolean:C=>!0===C||"true"===C||1===C||"1"===C};I.exports=ee}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C("timers").setImmediate)},{fs:216,timers:523}],28:[function(C,I,B){"use strict";const z=C("./under-dash"),q=C("./utils"),Q="<",ee=">",te="</",ie="/>";function pushAttribute(C,I,B){C.push(` ${I}="${q.xmlEncode(B.toString())}"`)}function pushAttributes(C,I){if(I){const B=[];z.each(I,((C,I)=>{void 0!==C&&pushAttribute(B,I,C)})),C.push(B.join(""))}}class XmlStream{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(C){const I=this._xml;I.push("<?xml"),pushAttributes(I,C),I.push("?>\n")}openNode(C,I){const B=this.tos,z=this._xml;B&&this.open&&z.push(ee),this._stack.push(C),z.push(Q),z.push(C),pushAttributes(z,I),this.leaf=!0,this.open=!0}addAttribute(C,I){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");void 0!==I&&pushAttribute(this._xml,C,I)}addAttributes(C){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");pushAttributes(this._xml,C)}writeText(C){const I=this._xml;this.open&&(I.push(ee),this.open=!1),this.leaf=!1,I.push(q.xmlEncode(C.toString()))}writeXml(C){this.open&&(this._xml.push(ee),this.open=!1),this.leaf=!1,this._xml.push(C)}closeNode(){const C=this._stack.pop(),I=this._xml;this.leaf?I.push(ie):(I.push(te),I.push(C),I.push(ee)),this.open=!1,this.leaf=!1}leafNode(C,I,B){this.openNode(C,I),void 0!==B&&this.writeText(B),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const C=this._rollbacks.pop();this._xml.length>C.xml&&this._xml.splice(C.xml,this._xml.length-C.xml),this._stack.length>C.stack&&this._stack.splice(C.stack,this._stack.length-C.stack),this.leaf=C.leaf,this.open=C.open}get xml(){return this.closeAll(),this._xml.join("")}}XmlStream.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},I.exports=XmlStream},{"./under-dash":26,"./utils":27}],29:[function(C,I,B){(function(B){(function(){"use strict";const z=C("events"),q=C("jszip"),Q=C("./stream-buf"),{stringToBuffer:ee}=C("./browser-buffer-encode");class ZipWriter extends z.EventEmitter{constructor(C){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},C),this.zip=new q,this.stream=new Q}append(C,I){I.hasOwnProperty("base64")&&I.base64?this.zip.file(I.name,C,{base64:!0}):(B.browser&&"string"==typeof C&&(C=ee(C)),this.zip.file(I.name,C))}async finalize(){const C=await this.zip.generateAsync(this.options);this.stream.end(C),this.emit("finish")}read(C){return this.stream.read(C)}setEncoding(C){return this.stream.setEncoding(C)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(C,I){return this.stream.pipe(C,I)}unpipe(C){return this.stream.unpipe(C)}unshift(C){return this.stream.unshift(C)}wrap(C){return this.stream.wrap(C)}}I.exports={ZipWriter}}).call(this)}).call(this,C("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(C,I,B){"use strict";I.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(C,I,B){"use strict";I.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(C,I,B){"use strict";const z=C("../../utils/parse-sax"),q=C("../../utils/xml-stream");class BaseXform{prepare(){}render(){}parseOpen(C){}parseText(C){}parseClose(C){}reconcile(C,I){}reset(){this.model=null,this.map&&Object.values(this.map).forEach((C=>{C instanceof BaseXform?C.reset():C.xform&&C.xform.reset()}))}mergeModel(C){this.model=Object.assign(this.model||{},C)}async parse(C){for await(const I of C)for(const{eventType:C,value:B}of I)if("opentag"===C)this.parseOpen(B);else if("text"===C)this.parseText(B);else if("closetag"===C&&!this.parseClose(B.name))return this.model;return this.model}async parseStream(C){return this.parse(z(C))}get xml(){return this.toXml(this.model)}toXml(C){const I=new q;return this.render(I,C),I.xml}static toAttribute(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===C){if(B)return I}else if(B||C!==I)return C.toString()}static toStringAttribute(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,I,B)}static toStringValue(C,I){return void 0===C?I:C}static toBoolAttribute(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===C){if(B)return I}else if(B||C!==I)return C?"1":"0"}static toBoolValue(C,I){return void 0===C?I:"1"===C}static toIntAttribute(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,I,B)}static toIntValue(C,I){return void 0===C?I:parseInt(C,10)}static toFloatAttribute(C,I){let B=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,I,B)}static toFloatValue(C,I){return void 0===C?I:parseFloat(C)}}I.exports=BaseXform},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../../../utils/col-cache");class DefinedNamesXform extends z{render(C,I){C.openNode("definedName",{name:I.name,localSheetId:I.localSheetId}),C.writeText(I.ranges.join(",")),C.closeNode()}parseOpen(C){return"definedName"===C.name&&(this._parsedName=C.attributes.name,this._parsedLocalSheetId=C.attributes.localSheetId,this._parsedText=[],!0)}parseText(C){this._parsedText.push(C)}parseClose(){return this.model={name:this._parsedName,ranges:extractRanges(this._parsedText.join(""))},void 0!==this._parsedLocalSheetId&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}function isValidRange(C){try{return q.decodeEx(C),!0}catch(C){return!1}}function extractRanges(C){const I=[];let B=!1,z="";return C.split(",").forEach((C=>{if(!C)return;const q=(C.match(/'/g)||[]).length;if(!q)return void(B?z+=`${C},`:isValidRange(C)&&I.push(C));const Q=q%2==0;!B&&Q&&isValidRange(C)?I.push(C):B&&!Q?(B=!1,isValidRange(z+C)&&I.push(z+C),z=""):(B=!0,z+=`${C},`)})),I}I.exports=DefinedNamesXform},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(C,I,B){"use strict";const z=C("../../../utils/utils"),q=C("../base-xform");class WorksheetXform extends q{render(C,I){C.leafNode("sheet",{sheetId:I.id,name:I.name,state:I.state,"r:id":I.rId})}parseOpen(C){return"sheet"===C.name&&(this.model={name:z.xmlDecode(C.attributes.name),id:parseInt(C.attributes.sheetId,10),state:C.attributes.state,rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}I.exports=WorksheetXform},{"../../../utils/utils":27,"../base-xform":32}],35:[function(C,I,B){"use strict";const z=C("../base-xform");class WorkbookCalcPropertiesXform extends z{render(C,I){C.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:I.fullCalcOnLoad?1:void 0})}parseOpen(C){return"calcPr"===C.name&&(this.model={},!0)}parseText(){}parseClose(){return!1}}I.exports=WorkbookCalcPropertiesXform},{"../base-xform":32}],36:[function(C,I,B){"use strict";const z=C("../base-xform");class WorksheetPropertiesXform extends z{render(C,I){C.leafNode("workbookPr",{date1904:I.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(C){return"workbookPr"===C.name&&(this.model={date1904:"1"===C.attributes.date1904},!0)}parseText(){}parseClose(){return!1}}I.exports=WorksheetPropertiesXform},{"../base-xform":32}],37:[function(C,I,B){"use strict";const z=C("../base-xform");class WorkbookViewXform extends z{render(C,I){const B={xWindow:I.x||0,yWindow:I.y||0,windowWidth:I.width||12e3,windowHeight:I.height||24e3,firstSheet:I.firstSheet,activeTab:I.activeTab};I.visibility&&"visible"!==I.visibility&&(B.visibility=I.visibility),C.leafNode("workbookView",B)}parseOpen(C){if("workbookView"===C.name){const I=this.model={},addS=function(C,B,z){const q=void 0!==B?I[C]=B:z;void 0!==q&&(I[C]=q)},addN=function(C,B,z){const q=void 0!==B?I[C]=parseInt(B,10):z;void 0!==q&&(I[C]=q)};return addN("x",C.attributes.xWindow,0),addN("y",C.attributes.yWindow,0),addN("width",C.attributes.windowWidth,25e3),addN("height",C.attributes.windowHeight,1e4),addS("visibility",C.attributes.visibility,"visible"),addN("activeTab",C.attributes.activeTab,void 0),addN("firstSheet",C.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}I.exports=WorkbookViewXform},{"../base-xform":32}],38:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../../../utils/col-cache"),Q=C("../../../utils/xml-stream"),ee=C("../base-xform"),te=C("../static-xform"),ie=C("../list-xform"),re=C("./defined-name-xform"),ne=C("./sheet-xform"),se=C("./workbook-view-xform"),oe=C("./workbook-properties-xform"),ae=C("./workbook-calc-properties-xform");class WorkbookXform extends ee{constructor(){super(),this.map={fileVersion:WorkbookXform.STATIC_XFORMS.fileVersion,workbookPr:new oe,bookViews:new ie({tag:"bookViews",count:!1,childXform:new se}),sheets:new ie({tag:"sheets",count:!1,childXform:new ne}),definedNames:new ie({tag:"definedNames",count:!1,childXform:new re}),calcPr:new ae}}prepare(C){C.sheets=C.worksheets;const I=[];let B=0;C.sheets.forEach((C=>{if(C.pageSetup&&C.pageSetup.printArea&&C.pageSetup.printArea.split("&&").forEach((z=>{const q=z.split(":"),Q={name:"_xlnm.Print_Area",ranges:[`'${C.name}'!$${q[0]}:$${q[1]}`],localSheetId:B};I.push(Q)})),C.pageSetup&&(C.pageSetup.printTitlesRow||C.pageSetup.printTitlesColumn)){const z=[];if(C.pageSetup.printTitlesColumn){const I=C.pageSetup.printTitlesColumn.split(":");z.push(`'${C.name}'!$${I[0]}:$${I[1]}`)}if(C.pageSetup.printTitlesRow){const I=C.pageSetup.printTitlesRow.split(":");z.push(`'${C.name}'!$${I[0]}:$${I[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:z,localSheetId:B};I.push(q)}B++})),I.length&&(C.definedNames=C.definedNames.concat(I)),(C.media||[]).forEach(((C,I)=>{C.name=C.type+(I+1)}))}render(C,I){C.openXml(Q.StdDocAttributes),C.openNode("workbook",WorkbookXform.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(C),this.map.workbookPr.render(C,I.properties),this.map.bookViews.render(C,I.views),this.map.sheets.render(C,I.sheets),this.map.definedNames.render(C,I.definedNames),this.map.calcPr.render(C,I.calcProperties),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):("workbook"===C.name||(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):"workbook"!==C||(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1)}reconcile(C){const I=(C.workbookRels||[]).reduce(((C,I)=>(C[I.Id]=I,C)),{}),B=[];let Q,ee=0;(C.sheets||[]).forEach((z=>{const q=I[z.rId];q&&(Q=C.worksheetHash[`xl/${q.Target.replace(/^(\s|\/xl\/)+/,"")}`],Q&&(Q.name=z.name,Q.id=z.id,Q.state=z.state,B[ee++]=Q))}));const te=[];z.each(C.definedNames,(C=>{if("_xlnm.Print_Area"===C.name){if(Q=B[C.localSheetId],Q){Q.pageSetup||(Q.pageSetup={});const I=q.decodeEx(C.ranges[0]);Q.pageSetup.printArea=Q.pageSetup.printArea?`${Q.pageSetup.printArea}&&${I.dimensions}`:I.dimensions}}else if("_xlnm.Print_Titles"===C.name){if(Q=B[C.localSheetId],Q){Q.pageSetup||(Q.pageSetup={});const I=C.ranges.join(","),B=/\$/g,z=/\$\d+:\$\d+/,q=I.match(z);if(q&&q.length){const C=q[0];Q.pageSetup.printTitlesRow=C.replace(B,"")}const ee=/\$[A-Z]+:\$[A-Z]+/,te=I.match(ee);if(te&&te.length){const C=te[0];Q.pageSetup.printTitlesColumn=C.replace(B,"")}}}else te.push(C)})),C.definedNames=te,C.media.forEach(((C,I)=>{C.index=I}))}}WorkbookXform.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},WorkbookXform.STATIC_XFORMS={fileVersion:new te({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},I.exports=WorkbookXform},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(C,I,B){"use strict";const z=C("../strings/rich-text-xform"),q=C("../../../utils/utils"),Q=C("../base-xform"),ee=I.exports=function(C){this.model=C};q.inherits(ee,Q,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new z),this._richTextXform},render(C,I){I=I||this.model,C.openNode("comment",{ref:I.ref,authorId:0}),C.openNode("text"),I&&I.note&&I.note.texts&&I.note.texts.forEach((I=>{this.richTextXform.render(C,I)})),C.closeNode(),C.closeNode()},parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"comment":return this.model={type:"note",note:{texts:[]},...C.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(C),!0;default:return!1}},parseText(C){this.parser&&this.parser.parseText(C)},parseClose(C){switch(C){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../../../utils/utils"),Q=C("../base-xform"),ee=C("./comment-xform"),te=I.exports=function(){this.map={comment:new ee}};q.inherits(te,Q,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(C,I){I=I||this.model,C.openXml(z.StdDocAttributes),C.openNode("comments",te.COMMENTS_ATTRIBUTES),C.openNode("authors"),C.leafNode("author",null,"Author"),C.closeNode(),C.openNode("commentList"),I.comments.forEach((I=>{this.map.comment.render(C,I)})),C.closeNode(),C.closeNode()},parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(C),!0;default:return!1}},parseText(C){this.parser&&this.parser.parseText(C)},parseClose(C){switch(C){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(C,I,B){"use strict";const z=C("../../base-xform");class VmlPositionXform extends z{constructor(C){super(),this._model=C}get tag(){return this._model&&this._model.tag}render(C,I,B){(I===B[2]||"x:SizeWithCells"===this.tag&&I===B[1])&&C.leafNode(this.tag)}parseOpen(C){return C.name===this.tag&&(this.model={},this.model[this.tag]=!0,!0)}parseText(){}parseClose(){return!1}}I.exports=VmlPositionXform},{"../../base-xform":32}],42:[function(C,I,B){"use strict";const z=C("../../base-xform");class VmlProtectionXform extends z{constructor(C){super(),this._model=C}get tag(){return this._model&&this._model.tag}render(C,I){C.leafNode(this.tag,null,I)}parseOpen(C){return C.name===this.tag&&(this.text="",!0)}parseText(C){this.text=C}parseClose(){return!1}}I.exports=VmlProtectionXform},{"../../base-xform":32}],43:[function(C,I,B){"use strict";const z=C("../base-xform");class VmlAnchorXform extends z{get tag(){return"x:Anchor"}getAnchorRect(C){const I=Math.floor(C.left),B=Math.floor(68*(C.left-I)),z=Math.floor(C.top),q=Math.floor(18*(C.top-z)),Q=Math.floor(C.right),ee=Math.floor(68*(C.right-Q)),te=Math.floor(C.bottom);return[I,B,z,q,Q,ee,te,Math.floor(18*(C.bottom-te))]}getDefaultRect(C){const I=C.col,B=6,z=Math.max(C.row-2,0);return[I,B,z,14,I+2,2,z+4,16]}render(C,I){const B=I.anchor?this.getAnchorRect(I.anchor):this.getDefaultRect(I.refAddress);C.leafNode("x:Anchor",null,B.join(", "))}parseOpen(C){return C.name===this.tag&&(this.text="",!0)}parseText(C){this.text=C}parseClose(){return!1}}I.exports=VmlAnchorXform},{"../base-xform":32}],44:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./vml-anchor-xform"),Q=C("./style/vml-protection-xform"),ee=C("./style/vml-position-xform"),te=["twoCells","oneCells","absolute"];class VmlClientDataXform extends z{constructor(){super(),this.map={"x:Anchor":new q,"x:Locked":new Q({tag:"x:Locked"}),"x:LockText":new Q({tag:"x:LockText"}),"x:SizeWithCells":new ee({tag:"x:SizeWithCells"}),"x:MoveWithCells":new ee({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(C,I){const{protection:B,editAs:z}=I.note;C.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(C,z,te),this.map["x:SizeWithCells"].render(C,z,te),this.map["x:Anchor"].render(C,I),this.map["x:Locked"].render(C,B.locked),C.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(C,B.lockText),C.leafNode("x:Row",null,I.refAddress.row-1),C.leafNode("x:Column",null,I.refAddress.col-1),C.closeNode()}parseOpen(C){return C.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.normalizeModel(),!1)}normalizeModel(){const C=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),I=Object.keys(C).length;this.model.editAs=te[I],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}I.exports=VmlClientDataXform},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("./vml-shape-xform");class VmlNotesXform extends q{constructor(){super(),this.map={"v:shape":new Q}}get tag(){return"xml"}render(C,I){C.openXml(z.StdDocAttributes),C.openNode(this.tag,VmlNotesXform.DRAWING_ATTRIBUTES),C.openNode("o:shapelayout",{"v:ext":"edit"}),C.leafNode("o:idmap",{"v:ext":"edit",data:1}),C.closeNode(),C.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),C.leafNode("v:stroke",{joinstyle:"miter"}),C.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),C.closeNode(),I.comments.forEach(((I,B)=>{this.map["v:shape"].render(C,I,B)})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):C!==this.tag}reconcile(C,I){C.anchors.forEach((C=>{C.br?this.map["xdr:twoCellAnchor"].reconcile(C,I):this.map["xdr:oneCellAnchor"].reconcile(C,I)}))}}VmlNotesXform.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},I.exports=VmlNotesXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./vml-textbox-xform"),Q=C("./vml-client-data-xform");class VmlShapeXform extends z{constructor(){super(),this.map={"v:textbox":new q,"x:ClientData":new Q}}get tag(){return"v:shape"}render(C,I,B){C.openNode("v:shape",VmlShapeXform.V_SHAPE_ATTRIBUTES(I,B)),C.leafNode("v:fill",{color2:"infoBackground [80]"}),C.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),C.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(C,I),this.map["x:ClientData"].render(C,I),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={margins:{insetmode:C.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1)}}VmlShapeXform.V_SHAPE_ATTRIBUTES=(C,I)=>({id:`_x0000_s${1025+I}`,type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":C.note.margins&&C.note.margins.insetmode}),I.exports=VmlShapeXform},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(C,I,B){"use strict";const z=C("../base-xform");class VmlTextboxXform extends z{get tag(){return"v:textbox"}conversionUnit(C,I,B){return`${parseFloat(C)*I.toFixed(2)}${B}`}reverseConversionUnit(C){return(C||"").split(",").map((C=>Number(parseFloat(this.conversionUnit(parseFloat(C),.1,"")).toFixed(2))))}render(C,I){const B={style:"mso-direction-alt:auto"};if(I&&I.note){let{inset:C}=I.note&&I.note.margins;Array.isArray(C)&&(C=C.map((C=>this.conversionUnit(C,10,"mm"))).join(",")),C&&(B.inset=C)}C.openNode("v:textbox",B),C.leafNode("div",{style:"text-align:left"}),C.closeNode()}parseOpen(C){return C.name!==this.tag||(this.model={inset:this.reverseConversionUnit(C.attributes.inset)},!0)}parseText(){}parseClose(C){return C!==this.tag}}I.exports=VmlTextboxXform},{"../base-xform":32}],48:[function(C,I,B){"use strict";const z=C("./base-xform");class CompositeXform extends z{createNewModel(C){return{}}parseOpen(C){return this.parser=this.parser||this.map[C.name],this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag&&(this.model=this.createNewModel(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}onParserClose(C,I){this.model[C]=I.model}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.onParserClose(C,this.parser),this.parser=void 0),!0):C!==this.tag}}I.exports=CompositeXform},{"./base-xform":32}],49:[function(C,I,B){"use strict";const z=C("../base-xform");class AppHeadingPairsXform extends z{render(C,I){C.openNode("HeadingPairs"),C.openNode("vt:vector",{size:2,baseType:"variant"}),C.openNode("vt:variant"),C.leafNode("vt:lpstr",void 0,"Worksheets"),C.closeNode(),C.openNode("vt:variant"),C.leafNode("vt:i4",void 0,I.length),C.closeNode(),C.closeNode(),C.closeNode()}parseOpen(C){return"HeadingPairs"===C.name}parseText(){}parseClose(C){return"HeadingPairs"!==C}}I.exports=AppHeadingPairsXform},{"../base-xform":32}],50:[function(C,I,B){"use strict";const z=C("../base-xform");class AppTitlesOfPartsXform extends z{render(C,I){C.openNode("TitlesOfParts"),C.openNode("vt:vector",{size:I.length,baseType:"lpstr"}),I.forEach((I=>{C.leafNode("vt:lpstr",void 0,I.name)})),C.closeNode(),C.closeNode()}parseOpen(C){return"TitlesOfParts"===C.name}parseText(){}parseClose(C){return"TitlesOfParts"!==C}}I.exports=AppTitlesOfPartsXform},{"../base-xform":32}],51:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("../simple/string-xform"),ee=C("./app-heading-pairs-xform"),te=C("./app-titles-of-parts-xform");class AppXform extends q{constructor(){super(),this.map={Company:new Q({tag:"Company"}),Manager:new Q({tag:"Manager"}),HeadingPairs:new ee,TitleOfParts:new te}}render(C,I){C.openXml(z.StdDocAttributes),C.openNode("Properties",AppXform.PROPERTY_ATTRIBUTES),C.leafNode("Application",void 0,"Microsoft Excel"),C.leafNode("DocSecurity",void 0,"0"),C.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(C,I.worksheets),this.map.TitleOfParts.render(C,I.worksheets),this.map.Company.render(C,I.company||""),this.map.Manager.render(C,I.manager),C.leafNode("LinksUpToDate",void 0,"false"),C.leafNode("SharedDoc",void 0,"false"),C.leafNode("HyperlinksChanged",void 0,"false"),C.leafNode("AppVersion",void 0,"16.0300"),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"Properties"===C.name||(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):"Properties"!==C||(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1)}}AppXform.DateFormat=function(C){return C.toISOString().replace(/[.]\d{3,6}/,"")},AppXform.DateAttrs={"xsi:type":"dcterms:W3CDTF"},AppXform.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},I.exports=AppXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform");class ContentTypesXform extends q{render(C,I){C.openXml(z.StdDocAttributes),C.openNode("Types",ContentTypesXform.PROPERTY_ATTRIBUTES);const B={};(I.media||[]).forEach((I=>{if("image"===I.type){const z=I.extension;B[z]||(B[z]=!0,C.leafNode("Default",{Extension:z,ContentType:`image/${z}`}))}})),C.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),C.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),C.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),I.worksheets.forEach((I=>{const B=`/xl/worksheets/sheet${I.id}.xml`;C.leafNode("Override",{PartName:B,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})})),C.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),C.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),I.sharedStrings&&I.sharedStrings.count&&C.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),I.tables&&I.tables.forEach((I=>{C.leafNode("Override",{PartName:`/xl/tables/${I.target}`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})})),I.drawings&&I.drawings.forEach((I=>{C.leafNode("Override",{PartName:`/xl/drawings/${I.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})})),I.commentRefs&&(C.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),I.commentRefs.forEach((I=>{let{commentName:B}=I;C.leafNode("Override",{PartName:`/xl/${B}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})}))),C.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),C.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),C.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}ContentTypesXform.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},I.exports=ContentTypesXform},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("../simple/date-xform"),ee=C("../simple/string-xform"),te=C("../simple/integer-xform");class CoreXform extends q{constructor(){super(),this.map={"dc:creator":new ee({tag:"dc:creator"}),"dc:title":new ee({tag:"dc:title"}),"dc:subject":new ee({tag:"dc:subject"}),"dc:description":new ee({tag:"dc:description"}),"dc:identifier":new ee({tag:"dc:identifier"}),"dc:language":new ee({tag:"dc:language"}),"cp:keywords":new ee({tag:"cp:keywords"}),"cp:category":new ee({tag:"cp:category"}),"cp:lastModifiedBy":new ee({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new Q({tag:"cp:lastPrinted",format:CoreXform.DateFormat}),"cp:revision":new te({tag:"cp:revision"}),"cp:version":new ee({tag:"cp:version"}),"cp:contentStatus":new ee({tag:"cp:contentStatus"}),"cp:contentType":new ee({tag:"cp:contentType"}),"dcterms:created":new Q({tag:"dcterms:created",attrs:CoreXform.DateAttrs,format:CoreXform.DateFormat}),"dcterms:modified":new Q({tag:"dcterms:modified",attrs:CoreXform.DateAttrs,format:CoreXform.DateFormat})}}render(C,I){C.openXml(z.StdDocAttributes),C.openNode("cp:coreProperties",CoreXform.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(C,I.creator),this.map["dc:title"].render(C,I.title),this.map["dc:subject"].render(C,I.subject),this.map["dc:description"].render(C,I.description),this.map["dc:identifier"].render(C,I.identifier),this.map["dc:language"].render(C,I.language),this.map["cp:keywords"].render(C,I.keywords),this.map["cp:category"].render(C,I.category),this.map["cp:lastModifiedBy"].render(C,I.lastModifiedBy),this.map["cp:lastPrinted"].render(C,I.lastPrinted),this.map["cp:revision"].render(C,I.revision),this.map["cp:version"].render(C,I.version),this.map["cp:contentStatus"].render(C,I.contentStatus),this.map["cp:contentType"].render(C,I.contentType),this.map["dcterms:created"].render(C,I.created),this.map["dcterms:modified"].render(C,I.modified),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[C.name],this.parser)return this.parser.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error(`Unexpected xml node in parseClose: ${C}`)}}}CoreXform.DateFormat=function(C){return C.toISOString().replace(/[.]\d{3}/,"")},CoreXform.DateAttrs={"xsi:type":"dcterms:W3CDTF"},CoreXform.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},I.exports=CoreXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(C,I,B){"use strict";const z=C("../base-xform");class RelationshipXform extends z{render(C,I){C.leafNode("Relationship",I)}parseOpen(C){return"Relationship"===C.name&&(this.model=C.attributes,!0)}parseText(){}parseClose(){return!1}}I.exports=RelationshipXform},{"../base-xform":32}],55:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("./relationship-xform");class RelationshipsXform extends q{constructor(){super(),this.map={Relationship:new Q}}render(C,I){I=I||this._values,C.openXml(z.StdDocAttributes),C.openNode("Relationships",RelationshipsXform.RELATIONSHIPS_ATTRIBUTES),I.forEach((I=>{this.map.Relationship.render(C,I)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if("Relationships"===C.name)return this.model=[],!0;if(this.parser=this.map[C.name],this.parser)return this.parser.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.push(this.parser.model),this.parser=void 0),!0;if("Relationships"===C)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}RelationshipsXform.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},I.exports=RelationshipsXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(C,I,B){"use strict";const z=C("../base-xform");class BaseCellAnchorXform extends z{parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={range:{editAs:C.attributes.editAs||"oneCell"}}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}reconcilePicture(C,I){if(C&&C.rId){const B=I.rels[C.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(B){const C=B[1],z=I.mediaIndex[C];return I.media[z]}}}}I.exports=BaseCellAnchorXform},{"../base-xform":32}],57:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./blip-xform");class BlipFillXform extends z{constructor(){super(),this.map={"a:blip":new q}}get tag(){return"xdr:blipFill"}render(C,I){C.openNode(this.tag),this.map["a:blip"].render(C,I),C.openNode("a:stretch"),C.leafNode("a:fillRect"),C.closeNode(),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["a:blip"].model,!1)}}I.exports=BlipFillXform},{"../base-xform":32,"./blip-xform":58}],58:[function(C,I,B){"use strict";const z=C("../base-xform");class BlipXform extends z{get tag(){return"a:blip"}render(C,I){C.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":I.rId,cstate:"print"})}parseOpen(C){return C.name!==this.tag||(this.model={rId:C.attributes["r:embed"]},!0)}parseText(){}parseClose(C){return C!==this.tag}}I.exports=BlipXform},{"../base-xform":32}],59:[function(C,I,B){"use strict";const z=C("../base-xform");class CNvPicPrXform extends z{get tag(){return"xdr:cNvPicPr"}render(C){C.openNode(this.tag),C.leafNode("a:picLocks",{noChangeAspect:"1"}),C.closeNode()}parseOpen(C){return C.name,this.tag,!0}parseText(){}parseClose(C){return C!==this.tag}}I.exports=CNvPicPrXform},{"../base-xform":32}],60:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./hlink-click-xform"),Q=C("./ext-lst-xform");class CNvPrXform extends z{constructor(){super(),this.map={"a:hlinkClick":new q,"a:extLst":new Q}}get tag(){return"xdr:cNvPr"}render(C,I){C.openNode(this.tag,{id:I.index,name:`Picture ${I.index}`}),this.map["a:hlinkClick"].render(C,I),this.map["a:extLst"].render(C,I),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["a:hlinkClick"].model,!1)}}I.exports=CNvPrXform},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../simple/integer-xform");class CellPositionXform extends z{constructor(C){super(),this.tag=C.tag,this.map={"xdr:col":new q({tag:"xdr:col",zero:!0}),"xdr:colOff":new q({tag:"xdr:colOff",zero:!0}),"xdr:row":new q({tag:"xdr:row",zero:!0}),"xdr:rowOff":new q({tag:"xdr:rowOff",zero:!0})}}render(C,I){C.openNode(this.tag),this.map["xdr:col"].render(C,I.nativeCol),this.map["xdr:colOff"].render(C,I.nativeColOff),this.map["xdr:row"].render(C,I.nativeRow),this.map["xdr:rowOff"].render(C,I.nativeRowOff),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1)}}I.exports=CellPositionXform},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(C,I,B){"use strict";const z=C("../../../utils/col-cache"),q=C("../../../utils/xml-stream"),Q=C("../base-xform"),ee=C("./two-cell-anchor-xform"),te=C("./one-cell-anchor-xform");function getAnchorType(C){return("string"==typeof C.range?z.decode(C.range):C.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}class DrawingXform extends Q{constructor(){super(),this.map={"xdr:twoCellAnchor":new ee,"xdr:oneCellAnchor":new te}}prepare(C){C.anchors.forEach(((C,I)=>{C.anchorType=getAnchorType(C),this.map[C.anchorType].prepare(C,{index:I})}))}get tag(){return"xdr:wsDr"}render(C,I){C.openXml(q.StdDocAttributes),C.openNode(this.tag,DrawingXform.DRAWING_ATTRIBUTES),I.anchors.forEach((I=>{this.map[I.anchorType].render(C,I)})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):C!==this.tag}reconcile(C,I){C.anchors.forEach((C=>{C.br?this.map["xdr:twoCellAnchor"].reconcile(C,I):this.map["xdr:oneCellAnchor"].reconcile(C,I)}))}}DrawingXform.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},I.exports=DrawingXform},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(C,I,B){"use strict";const z=C("../base-xform");class ExtLstXform extends z{get tag(){return"a:extLst"}render(C){C.openNode(this.tag),C.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),C.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),C.closeNode(),C.closeNode()}parseOpen(C){return C.name,this.tag,!0}parseText(){}parseClose(C){return C!==this.tag}}I.exports=ExtLstXform},{"../base-xform":32}],64:[function(C,I,B){"use strict";const z=C("../base-xform"),q=9525;class ExtXform extends z{constructor(C){super(),this.tag=C.tag,this.map={}}render(C,I){C.openNode(this.tag);const B=Math.floor(I.width*q),z=Math.floor(I.height*q);C.addAttribute("cx",B),C.addAttribute("cy",z),C.closeNode()}parseOpen(C){return C.name===this.tag&&(this.model={width:parseInt(C.attributes.cx||"0",10)/q,height:parseInt(C.attributes.cy||"0",10)/q},!0)}parseText(){}parseClose(){return!1}}I.exports=ExtXform},{"../base-xform":32}],65:[function(C,I,B){"use strict";const z=C("../base-xform");class HLinkClickXform extends z{get tag(){return"a:hlinkClick"}render(C,I){I.hyperlinks&&I.hyperlinks.rId&&C.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":I.hyperlinks.rId,tooltip:I.hyperlinks.tooltip})}parseOpen(C){return C.name!==this.tag||(this.model={hyperlinks:{rId:C.attributes["r:id"],tooltip:C.attributes.tooltip}},!0)}parseText(){}parseClose(){return!1}}I.exports=HLinkClickXform},{"../base-xform":32}],66:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./c-nv-pr-xform"),Q=C("./c-nv-pic-pr-xform");class NvPicPrXform extends z{constructor(){super(),this.map={"xdr:cNvPr":new q,"xdr:cNvPicPr":new Q}}get tag(){return"xdr:nvPicPr"}render(C,I){C.openNode(this.tag),this.map["xdr:cNvPr"].render(C,I),this.map["xdr:cNvPicPr"].render(C,I),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["xdr:cNvPr"].model,!1)}}I.exports=NvPicPrXform},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(C,I,B){"use strict";const z=C("./base-cell-anchor-xform"),q=C("../static-xform"),Q=C("./cell-position-xform"),ee=C("./ext-xform"),te=C("./pic-xform");class OneCellAnchorXform extends z{constructor(){super(),this.map={"xdr:from":new Q({tag:"xdr:from"}),"xdr:ext":new ee({tag:"xdr:ext"}),"xdr:pic":new te,"xdr:clientData":new q({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(C,I){this.map["xdr:pic"].prepare(C.picture,I)}render(C,I){C.openNode(this.tag,{editAs:I.range.editAs||"oneCell"}),this.map["xdr:from"].render(C,I.range.tl),this.map["xdr:ext"].render(C,I.range.ext),this.map["xdr:pic"].render(C,I.picture),this.map["xdr:clientData"].render(C,{}),C.closeNode()}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(C,I){C.medium=this.reconcilePicture(C.picture,I)}}I.exports=OneCellAnchorXform},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../static-xform"),Q=C("./blip-fill-xform"),ee=C("./nv-pic-pr-xform"),te=C("./sp-pr");class PicXform extends z{constructor(){super(),this.map={"xdr:nvPicPr":new ee,"xdr:blipFill":new Q,"xdr:spPr":new q(te)}}get tag(){return"xdr:pic"}prepare(C,I){C.index=I.index+1}render(C,I){C.openNode(this.tag),this.map["xdr:nvPicPr"].render(C,I),this.map["xdr:blipFill"].render(C,I),this.map["xdr:spPr"].render(C,I),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):C!==this.tag}}I.exports=PicXform},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(C,I,B){"use strict";I.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(C,I,B){"use strict";const z=C("./base-cell-anchor-xform"),q=C("../static-xform"),Q=C("./cell-position-xform"),ee=C("./pic-xform");class TwoCellAnchorXform extends z{constructor(){super(),this.map={"xdr:from":new Q({tag:"xdr:from"}),"xdr:to":new Q({tag:"xdr:to"}),"xdr:pic":new ee,"xdr:clientData":new q({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(C,I){this.map["xdr:pic"].prepare(C.picture,I)}render(C,I){C.openNode(this.tag,{editAs:I.range.editAs||"oneCell"}),this.map["xdr:from"].render(C,I.range.tl),this.map["xdr:to"].render(C,I.range.br),this.map["xdr:pic"].render(C,I.picture),this.map["xdr:clientData"].render(C,{}),C.closeNode()}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(C,I){C.medium=this.reconcilePicture(C.picture,I)}}I.exports=TwoCellAnchorXform},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(C,I,B){"use strict";const z=C("./base-xform");class ListXform extends z{constructor(C){super(),this.tag=C.tag,this.always=!!C.always,this.count=C.count,this.empty=C.empty,this.$count=C.$count||"count",this.$=C.$,this.childXform=C.childXform,this.maxItems=C.maxItems}prepare(C,I){const{childXform:B}=this;C&&C.forEach(((C,z)=>{I.index=z,B.prepare(C,I)}))}render(C,I){if(this.always||I&&I.length){C.openNode(this.tag,this.$),this.count&&C.addAttribute(this.$count,I&&I.length||0);const{childXform:B}=this;(I||[]).forEach(((I,z)=>{B.render(C,I,z)})),C.closeNode()}else this.empty&&C.leafNode(this.tag)}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(C)&&(this.parser=this.childXform,!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(C,I){if(C){const{childXform:B}=this;C.forEach((C=>{B.reconcile(C,I)}))}}}I.exports=ListXform},{"./base-xform":32}],72:[function(C,I,B){"use strict";const z=C("../../../utils/col-cache"),q=C("../base-xform");class AutoFilterXform extends q{get tag(){return"autoFilter"}render(C,I){if(I)if("string"==typeof I)C.leafNode("autoFilter",{ref:I});else{const getAddress=function(C){return"string"==typeof C?C:z.getAddress(C.row,C.column).address},B=getAddress(I.from),q=getAddress(I.to);B&&q&&C.leafNode("autoFilter",{ref:`${B}:${q}`})}}parseOpen(C){"autoFilter"===C.name&&(this.model=C.attributes.ref)}}I.exports=AutoFilterXform},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(C,I,B){"use strict";const z=C("../../../utils/utils"),q=C("../base-xform"),Q=C("../../../doc/range"),ee=C("../../../doc/enums"),te=C("../strings/rich-text-xform");function getValueType(C){if(null==C)return ee.ValueType.Null;if(C instanceof String||"string"==typeof C)return ee.ValueType.String;if("number"==typeof C)return ee.ValueType.Number;if("boolean"==typeof C)return ee.ValueType.Boolean;if(C instanceof Date)return ee.ValueType.Date;if(C.text&&C.hyperlink)return ee.ValueType.Hyperlink;if(C.formula)return ee.ValueType.Formula;if(C.error)return ee.ValueType.Error;throw new Error("I could not understand type of value")}function getEffectiveCellType(C){return C.type===ee.ValueType.Formula?getValueType(C.result):C.type}class CellXform extends q{constructor(){super(),this.richTextXForm=new te}get tag(){return"c"}prepare(C,I){const B=I.styles.addStyleModel(C.style||{},getEffectiveCellType(C));switch(B&&(C.styleId=B),C.comment&&I.comments.push({...C.comment,ref:C.address}),C.type){case ee.ValueType.String:case ee.ValueType.RichText:I.sharedStrings&&(C.ssId=I.sharedStrings.add(C.value));break;case ee.ValueType.Date:I.date1904&&(C.date1904=!0);break;case ee.ValueType.Hyperlink:I.sharedStrings&&void 0!==C.text&&null!==C.text&&(C.ssId=I.sharedStrings.add(C.text)),I.hyperlinks.push({address:C.address,target:C.hyperlink,tooltip:C.tooltip});break;case ee.ValueType.Merge:I.merges.add(C);break;case ee.ValueType.Formula:if(I.date1904&&(C.date1904=!0),"shared"===C.shareType&&(C.si=I.siFormulae++),C.formula)I.formulae[C.address]=C;else if(C.sharedFormula){const B=I.formulae[C.sharedFormula];if(!B)throw new Error(`Shared Formula master must exist above and or left of clone for cell ${C.address}`);void 0===B.si?(B.shareType="shared",B.si=I.siFormulae++,B.range=new Q(B.address,C.address)):B.range&&B.range.expandToAddress(C.address),C.si=B.si}}}renderFormula(C,I){let B=null;switch(I.shareType){case"shared":B={t:"shared",ref:I.ref||I.range.range,si:I.si};break;case"array":B={t:"array",ref:I.ref};break;default:void 0!==I.si&&(B={t:"shared",si:I.si})}switch(getValueType(I.result)){case ee.ValueType.Null:C.leafNode("f",B,I.formula);break;case ee.ValueType.String:C.addAttribute("t","str"),C.leafNode("f",B,I.formula),C.leafNode("v",null,I.result);break;case ee.ValueType.Number:C.leafNode("f",B,I.formula),C.leafNode("v",null,I.result);break;case ee.ValueType.Boolean:C.addAttribute("t","b"),C.leafNode("f",B,I.formula),C.leafNode("v",null,I.result?1:0);break;case ee.ValueType.Error:C.addAttribute("t","e"),C.leafNode("f",B,I.formula),C.leafNode("v",null,I.result.error);break;case ee.ValueType.Date:C.leafNode("f",B,I.formula),C.leafNode("v",null,z.dateToExcel(I.result,I.date1904));break;default:throw new Error("I could not understand type of value")}}render(C,I){if(I.type!==ee.ValueType.Null||I.styleId){switch(C.openNode("c"),C.addAttribute("r",I.address),I.styleId&&C.addAttribute("s",I.styleId),I.type){case ee.ValueType.Null:break;case ee.ValueType.Number:C.leafNode("v",null,I.value);break;case ee.ValueType.Boolean:C.addAttribute("t","b"),C.leafNode("v",null,I.value?"1":"0");break;case ee.ValueType.Error:C.addAttribute("t","e"),C.leafNode("v",null,I.value.error);break;case ee.ValueType.String:case ee.ValueType.RichText:void 0!==I.ssId?(C.addAttribute("t","s"),C.leafNode("v",null,I.ssId)):I.value&&I.value.richText?(C.addAttribute("t","inlineStr"),C.openNode("is"),I.value.richText.forEach((I=>{this.richTextXForm.render(C,I)})),C.closeNode("is")):(C.addAttribute("t","str"),C.leafNode("v",null,I.value));break;case ee.ValueType.Date:C.leafNode("v",null,z.dateToExcel(I.value,I.date1904));break;case ee.ValueType.Hyperlink:void 0!==I.ssId?(C.addAttribute("t","s"),C.leafNode("v",null,I.ssId)):(C.addAttribute("t","str"),C.leafNode("v",null,I.text));break;case ee.ValueType.Formula:this.renderFormula(C,I);case ee.ValueType.Merge:}C.closeNode()}}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"c":return this.model={address:C.attributes.r},this.t=C.attributes.t,C.attributes.s&&(this.model.styleId=parseInt(C.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=C.attributes.si,this.model.shareType=C.attributes.t,this.model.ref=C.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){if(this.parser)this.parser.parseText(C);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+C:C;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+C:C:this.model.value=this.model.value?this.model.value+C:C}}parseClose(C){switch(C){case"c":{const{model:C}=this;if(C.formula||C.shareType)C.type=ee.ValueType.Formula,C.value&&("str"===this.t?C.result=z.xmlDecode(C.value):"b"===this.t?C.result=0!==parseInt(C.value,10):"e"===this.t?C.result={error:C.value}:C.result=parseFloat(C.value),C.value=void 0);else if(void 0!==C.value)switch(this.t){case"s":C.type=ee.ValueType.String,C.value=parseInt(C.value,10);break;case"str":C.type=ee.ValueType.String,C.value=z.xmlDecode(C.value);break;case"inlineStr":C.type=ee.ValueType.String;break;case"b":C.type=ee.ValueType.Boolean,C.value=0!==parseInt(C.value,10);break;case"e":C.type=ee.ValueType.Error,C.value={error:C.value};break;default:C.type=ee.ValueType.Number,C.value=parseFloat(C.value)}else C.styleId?C.type=ee.ValueType.Null:C.type=ee.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(C),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(C),!0)}}reconcile(C,I){const B=C.styleId&&I.styles&&I.styles.getStyleModel(C.styleId);switch(B&&(C.style=B),void 0!==C.styleId&&(C.styleId=void 0),C.type){case ee.ValueType.String:"number"==typeof C.value&&I.sharedStrings&&(C.value=I.sharedStrings.getString(C.value)),C.value.richText&&(C.type=ee.ValueType.RichText);break;case ee.ValueType.Number:B&&z.isDateFmt(B.numFmt)&&(C.type=ee.ValueType.Date,C.value=z.excelToDate(C.value,I.date1904));break;case ee.ValueType.Formula:void 0!==C.result&&B&&z.isDateFmt(B.numFmt)&&(C.result=z.excelToDate(C.result,I.date1904)),"shared"===C.shareType&&(C.ref?I.formulae[C.si]=C.address:(C.sharedFormula=I.formulae[C.si],delete C.shareType),delete C.si)}const q=I.hyperlinkMap[C.address];q&&(C.type===ee.ValueType.Formula?(C.text=C.result,C.result=void 0):(C.text=C.value,C.value=void 0),C.type=ee.ValueType.Hyperlink,C.hyperlink=q);const Q=I.commentsMap&&I.commentsMap[C.address];Q&&(C.comment=Q)}}I.exports=CellXform},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(C,I,B){"use strict";const z=C("../../base-xform");class CfIconExtXform extends z{get tag(){return"x14:cfIcon"}render(C,I){C.leafNode(this.tag,{iconSet:I.iconSet,iconId:I.iconId})}parseOpen(C){let{attributes:I}=C;this.model={iconSet:I.iconSet,iconId:z.toIntValue(I.iconId)}}parseClose(C){return C!==this.tag}}I.exports=CfIconExtXform},{"../../base-xform":32}],75:[function(C,I,B){"use strict";const{v4:z}=C("uuid"),q=C("../../base-xform"),Q=C("../../composite-xform"),ee=C("./databar-ext-xform"),te=C("./icon-set-ext-xform"),ie={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class CfRuleExtXform extends Q{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new ee,"x14:iconSet":this.iconSetXform=new te}}get tag(){return"x14:cfRule"}static isExt(C){return"dataBar"===C.type?ee.isExt(C):!("iconSet"!==C.type||!C.custom&&!ie[C.iconSet])}prepare(C){CfRuleExtXform.isExt(C)&&(C.x14Id=`{${z()}}`.toUpperCase())}render(C,I){if(CfRuleExtXform.isExt(I))switch(I.type){case"dataBar":this.renderDataBar(C,I);break;case"iconSet":this.renderIconSet(C,I)}}renderDataBar(C,I){C.openNode(this.tag,{type:"dataBar",id:I.x14Id}),this.databarXform.render(C,I),C.closeNode()}renderIconSet(C,I){C.openNode(this.tag,{type:"iconSet",priority:I.priority,id:I.x14Id||`{${z()}}`}),this.iconSetXform.render(C,I),C.closeNode()}createNewModel(C){let{attributes:I}=C;return{type:I.type,x14Id:I.id,priority:q.toIntValue(I.priority)}}onParserClose(C,I){Object.assign(this.model,I.model)}}I.exports=CfRuleExtXform},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("./f-ext-xform");class CfvoExtXform extends z{constructor(){super(),this.map={"xm:f":this.fExtXform=new q}}get tag(){return"x14:cfvo"}render(C,I){C.openNode(this.tag,{type:I.type}),void 0!==I.value&&this.fExtXform.render(C,I.value),C.closeNode()}createNewModel(C){return{type:C.attributes.type}}onParserClose(C,I){"xm:f"===C&&(this.model.value=I.model?parseFloat(I.model):0)}}I.exports=CfvoExtXform},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("./sqref-ext-xform"),Q=C("./cf-rule-ext-xform");class ConditionalFormattingExtXform extends z{constructor(){super(),this.map={"xm:sqref":this.sqRef=new q,"x14:cfRule":this.cfRule=new Q}}get tag(){return"x14:conditionalFormatting"}prepare(C,I){C.rules.forEach((C=>{this.cfRule.prepare(C,I)}))}render(C,I){I.rules.some(Q.isExt)&&(C.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),I.rules.filter(Q.isExt).forEach((I=>this.cfRule.render(C,I))),this.sqRef.render(C,I.ref),C.closeNode())}createNewModel(){return{rules:[]}}onParserClose(C,I){switch(C){case"xm:sqref":this.model.ref=I.model;break;case"x14:cfRule":this.model.rules.push(I.model)}}}I.exports=ConditionalFormattingExtXform},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("./cf-rule-ext-xform"),Q=C("./conditional-formatting-ext-xform");class ConditionalFormattingsExtXform extends z{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new Q}}get tag(){return"x14:conditionalFormattings"}hasContent(C){return void 0===C.hasExtContent&&(C.hasExtContent=C.some((C=>C.rules.some(q.isExt)))),C.hasExtContent}prepare(C,I){C.forEach((C=>{this.cfXform.prepare(C,I)}))}render(C,I){this.hasContent(I)&&(C.openNode(this.tag),I.forEach((I=>this.cfXform.render(C,I))),C.closeNode())}createNewModel(){return[]}onParserClose(C,I){this.model.push(I.model)}}I.exports=ConditionalFormattingsExtXform},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("../../composite-xform"),Q=C("../../style/color-xform"),ee=C("./cfvo-ext-xform");class DatabarExtXform extends q{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new ee,"x14:borderColor":this.borderColorXform=new Q("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new Q("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new Q("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new Q("x14:axisColor")}}static isExt(C){return!C.gradient}get tag(){return"x14:dataBar"}render(C,I){C.openNode(this.tag,{minLength:z.toIntAttribute(I.minLength,0,!0),maxLength:z.toIntAttribute(I.maxLength,100,!0),border:z.toBoolAttribute(I.border,!1),gradient:z.toBoolAttribute(I.gradient,!0),negativeBarColorSameAsPositive:z.toBoolAttribute(I.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:z.toBoolAttribute(I.negativeBarBorderColorSameAsPositive,!0),axisPosition:z.toAttribute(I.axisPosition,"auto"),direction:z.toAttribute(I.direction,"leftToRight")}),I.cfvo.forEach((I=>{this.cfvoXform.render(C,I)})),this.borderColorXform.render(C,I.borderColor),this.negativeBorderColorXform.render(C,I.negativeBorderColor),this.negativeFillColorXform.render(C,I.negativeFillColor),this.axisColorXform.render(C,I.axisColor),C.closeNode()}createNewModel(C){let{attributes:I}=C;return{cfvo:[],minLength:z.toIntValue(I.minLength,0),maxLength:z.toIntValue(I.maxLength,100),border:z.toBoolValue(I.border,!1),gradient:z.toBoolValue(I.gradient,!0),negativeBarColorSameAsPositive:z.toBoolValue(I.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:z.toBoolValue(I.negativeBarBorderColorSameAsPositive,!0),axisPosition:z.toStringValue(I.axisPosition,"auto"),direction:z.toStringValue(I.direction,"leftToRight")}}onParserClose(C,I){const[,B]=C.split(":");"cfvo"===B?this.model.cfvo.push(I.model):this.model[B]=I.model}}I.exports=DatabarExtXform},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(C,I,B){"use strict";const z=C("../../base-xform");class FExtXform extends z{get tag(){return"xm:f"}render(C,I){C.leafNode(this.tag,null,I)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}I.exports=FExtXform},{"../../base-xform":32}],81:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("../../composite-xform"),Q=C("./cfvo-ext-xform"),ee=C("./cf-icon-ext-xform");class IconSetExtXform extends q{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new Q,"x14:cfIcon":this.cfIconXform=new ee}}get tag(){return"x14:iconSet"}render(C,I){C.openNode(this.tag,{iconSet:z.toStringAttribute(I.iconSet),reverse:z.toBoolAttribute(I.reverse,!1),showValue:z.toBoolAttribute(I.showValue,!0),custom:z.toBoolAttribute(I.icons,!1)}),I.cfvo.forEach((I=>{this.cfvoXform.render(C,I)})),I.icons&&I.icons.forEach(((I,B)=>{I.iconId=B,this.cfIconXform.render(C,I)})),C.closeNode()}createNewModel(C){let{attributes:I}=C;return{cfvo:[],iconSet:z.toStringValue(I.iconSet,"3TrafficLights"),reverse:z.toBoolValue(I.reverse,!1),showValue:z.toBoolValue(I.showValue,!0)}}onParserClose(C,I){const[,B]=C.split(":");switch(B){case"cfvo":this.model.cfvo.push(I.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(I.model);break;default:this.model[B]=I.model}}}I.exports=IconSetExtXform},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(C,I,B){"use strict";const z=C("../../base-xform");class SqrefExtXform extends z{get tag(){return"xm:sqref"}render(C,I){C.leafNode(this.tag,null,I)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}I.exports=SqrefExtXform},{"../../base-xform":32}],83:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("../../composite-xform"),Q=C("../../../../doc/range"),ee=C("./databar-xform"),te=C("./ext-lst-ref-xform"),ie=C("./formula-xform"),re=C("./color-scale-xform"),ne=C("./icon-set-xform"),se={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},getTextFormula=C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new Q(C.ref),{tl:B}=I;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${B})))`;case"containsBlanks":return`LEN(TRIM(${B}))=0`;case"notContainsBlanks":return`LEN(TRIM(${B}))>0`;case"containsErrors":return`ISERROR(${B})`;case"notContainsErrors":return`NOT(ISERROR(${B}))`;default:return}},getTimePeriodFormula=C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const I=new Q(C.ref),{tl:B}=I;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${B},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${B},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${B},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${B},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${B},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${B},1)=TODAY()-1`;case"today":return`FLOOR(${B},1)=TODAY()`;case"tomorrow":return`FLOOR(${B},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${B},1)<=6,FLOOR(${B},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0-1)),YEAR(${B})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${B})=MONTH(TODAY()),YEAR(${B})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${B})=MONTH(EDATE(TODAY(),0+1)),YEAR(${B})=YEAR(EDATE(TODAY(),0+1)))`;default:return}},opType=C=>{const{type:I,operator:B}=C;switch(I){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:I};default:return{type:I,operator:B}}};class CfRuleXform extends q{constructor(){super(),this.map={dataBar:this.databarXform=new ee,extLst:this.extLstRefXform=new te,formula:this.formulaXform=new ie,colorScale:this.colorScaleXform=new re,iconSet:this.iconSetXform=new ne}}get tag(){return"cfRule"}static isPrimitive(C){return"iconSet"!==C.type||!C.custom&&!se[C.iconSet]}render(C,I){switch(I.type){case"expression":this.renderExpression(C,I);break;case"cellIs":this.renderCellIs(C,I);break;case"top10":this.renderTop10(C,I);break;case"aboveAverage":this.renderAboveAverage(C,I);break;case"dataBar":this.renderDataBar(C,I);break;case"colorScale":this.renderColorScale(C,I);break;case"iconSet":this.renderIconSet(C,I);break;case"containsText":this.renderText(C,I);break;case"timePeriod":this.renderTimePeriod(C,I)}}renderExpression(C,I){C.openNode(this.tag,{type:"expression",dxfId:I.dxfId,priority:I.priority}),this.formulaXform.render(C,I.formulae[0]),C.closeNode()}renderCellIs(C,I){C.openNode(this.tag,{type:"cellIs",dxfId:I.dxfId,priority:I.priority,operator:I.operator}),I.formulae.forEach((I=>{this.formulaXform.render(C,I)})),C.closeNode()}renderTop10(C,I){C.leafNode(this.tag,{type:"top10",dxfId:I.dxfId,priority:I.priority,percent:z.toBoolAttribute(I.percent,!1),bottom:z.toBoolAttribute(I.bottom,!1),rank:z.toIntValue(I.rank,10,!0)})}renderAboveAverage(C,I){C.leafNode(this.tag,{type:"aboveAverage",dxfId:I.dxfId,priority:I.priority,aboveAverage:z.toBoolAttribute(I.aboveAverage,!0)})}renderDataBar(C,I){C.openNode(this.tag,{type:"dataBar",priority:I.priority}),this.databarXform.render(C,I),this.extLstRefXform.render(C,I),C.closeNode()}renderColorScale(C,I){C.openNode(this.tag,{type:"colorScale",priority:I.priority}),this.colorScaleXform.render(C,I),C.closeNode()}renderIconSet(C,I){CfRuleXform.isPrimitive(I)&&(C.openNode(this.tag,{type:"iconSet",priority:I.priority}),this.iconSetXform.render(C,I),C.closeNode())}renderText(C,I){C.openNode(this.tag,{type:I.operator,dxfId:I.dxfId,priority:I.priority,operator:z.toStringAttribute(I.operator,"containsText")});const B=getTextFormula(I);B&&this.formulaXform.render(C,B),C.closeNode()}renderTimePeriod(C,I){C.openNode(this.tag,{type:"timePeriod",dxfId:I.dxfId,priority:I.priority,timePeriod:I.timePeriod});const B=getTimePeriodFormula(I);B&&this.formulaXform.render(C,B),C.closeNode()}createNewModel(C){let{attributes:I}=C;return{...opType(I),dxfId:z.toIntValue(I.dxfId),priority:z.toIntValue(I.priority),timePeriod:I.timePeriod,percent:z.toBoolValue(I.percent),bottom:z.toBoolValue(I.bottom),rank:z.toIntValue(I.rank),aboveAverage:z.toBoolValue(I.aboveAverage)}}onParserClose(C,I){switch(C){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,I.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(I.model)}}}I.exports=CfRuleXform},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(C,I,B){"use strict";const z=C("../../base-xform");class CfvoXform extends z{get tag(){return"cfvo"}render(C,I){C.leafNode(this.tag,{type:I.type,val:I.value})}parseOpen(C){this.model={type:C.attributes.type,value:z.toFloatValue(C.attributes.val)}}parseClose(C){return C!==this.tag}}I.exports=CfvoXform},{"../../base-xform":32}],85:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("../../style/color-xform"),Q=C("./cfvo-xform");class ColorScaleXform extends z{constructor(){super(),this.map={cfvo:this.cfvoXform=new Q,color:this.colorXform=new q}}get tag(){return"colorScale"}render(C,I){C.openNode(this.tag),I.cfvo.forEach((I=>{this.cfvoXform.render(C,I)})),I.color.forEach((I=>{this.colorXform.render(C,I)})),C.closeNode()}createNewModel(C){return{cfvo:[],color:[]}}onParserClose(C,I){this.model[C].push(I.model)}}I.exports=ColorScaleXform},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("./cf-rule-xform");class ConditionalFormattingXform extends z{constructor(){super(),this.map={cfRule:new q}}get tag(){return"conditionalFormatting"}render(C,I){I.rules.some(q.isPrimitive)&&(C.openNode(this.tag,{sqref:I.ref}),I.rules.forEach((B=>{q.isPrimitive(B)&&(B.ref=I.ref,this.map.cfRule.render(C,B))})),C.closeNode())}createNewModel(C){let{attributes:I}=C;return{ref:I.sqref,rules:[]}}onParserClose(C,I){this.model.rules.push(I.model)}}I.exports=ConditionalFormattingXform},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("./conditional-formatting-xform");class ConditionalFormattingsXform extends z{constructor(){super(),this.cfXform=new q}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(C,I){let B=C.reduce(((C,I)=>Math.max(C,...I.rules.map((C=>C.priority||0)))),1);C.forEach((C=>{C.rules.forEach((C=>{C.priority||(C.priority=B++),C.style&&(C.dxfId=I.styles.addDxfStyle(C.style))}))}))}render(C,I){I.forEach((I=>{this.cfXform.render(C,I)}))}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"conditionalFormatting"===C.name&&(this.parser=this.cfXform,this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!(!this.parser||!this.parser.parseClose(C)&&(this.model.push(this.parser.model),this.parser=void 0,1))}reconcile(C,I){C.forEach((C=>{C.rules.forEach((C=>{void 0!==C.dxfId&&(C.style=I.styles.getDxfStyle(C.dxfId),delete C.dxfId)}))}))}}I.exports=ConditionalFormattingsXform},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(C,I,B){"use strict";const z=C("../../composite-xform"),q=C("../../style/color-xform"),Q=C("./cfvo-xform");class DatabarXform extends z{constructor(){super(),this.map={cfvo:this.cfvoXform=new Q,color:this.colorXform=new q}}get tag(){return"dataBar"}render(C,I){C.openNode(this.tag),I.cfvo.forEach((I=>{this.cfvoXform.render(C,I)})),this.colorXform.render(C,I.color),C.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(C,I){switch(C){case"cfvo":this.model.cfvo.push(I.model);break;case"color":this.model.color=I.model}}}I.exports=DatabarXform},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("../../composite-xform");class X14IdXform extends z{get tag(){return"x14:id"}render(C,I){C.leafNode(this.tag,null,I)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}class ExtXform extends q{constructor(){super(),this.map={"x14:id":this.idXform=new X14IdXform}}get tag(){return"ext"}render(C,I){C.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(C,I.x14Id),C.closeNode()}createNewModel(){return{}}onParserClose(C,I){this.model.x14Id=I.model}}class ExtLstRefXform extends q{constructor(){super(),this.map={ext:new ExtXform}}get tag(){return"extLst"}render(C,I){C.openNode(this.tag),this.map.ext.render(C,I),C.closeNode()}createNewModel(){return{}}onParserClose(C,I){Object.assign(this.model,I.model)}}I.exports=ExtLstRefXform},{"../../base-xform":32,"../../composite-xform":48}],90:[function(C,I,B){"use strict";const z=C("../../base-xform");class FormulaXform extends z{get tag(){return"formula"}render(C,I){C.leafNode(this.tag,null,I)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}I.exports=FormulaXform},{"../../base-xform":32}],91:[function(C,I,B){"use strict";const z=C("../../base-xform"),q=C("../../composite-xform"),Q=C("./cfvo-xform");class IconSetXform extends q{constructor(){super(),this.map={cfvo:this.cfvoXform=new Q}}get tag(){return"iconSet"}render(C,I){C.openNode(this.tag,{iconSet:z.toStringAttribute(I.iconSet,"3TrafficLights"),reverse:z.toBoolAttribute(I.reverse,!1),showValue:z.toBoolAttribute(I.showValue,!0)}),I.cfvo.forEach((I=>{this.cfvoXform.render(C,I)})),C.closeNode()}createNewModel(C){let{attributes:I}=C;return{iconSet:z.toStringValue(I.iconSet,"3TrafficLights"),reverse:z.toBoolValue(I.reverse),showValue:z.toBoolValue(I.showValue),cfvo:[]}}onParserClose(C,I){this.model[C].push(I.model)}}I.exports=IconSetXform},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(C,I,B){"use strict";const z=C("../../../utils/utils"),q=C("../base-xform");class ColXform extends q{get tag(){return"col"}prepare(C,I){const B=I.styles.addStyleModel(C.style||{});B&&(C.styleId=B)}render(C,I){C.openNode("col"),C.addAttribute("min",I.min),C.addAttribute("max",I.max),I.width&&C.addAttribute("width",I.width),I.styleId&&C.addAttribute("style",I.styleId),I.hidden&&C.addAttribute("hidden","1"),I.bestFit&&C.addAttribute("bestFit","1"),I.outlineLevel&&C.addAttribute("outlineLevel",I.outlineLevel),I.collapsed&&C.addAttribute("collapsed","1"),C.addAttribute("customWidth","1"),C.closeNode()}parseOpen(C){if("col"===C.name){const I=this.model={min:parseInt(C.attributes.min||"0",10),max:parseInt(C.attributes.max||"0",10),width:void 0===C.attributes.width?void 0:parseFloat(C.attributes.width||"0")};return C.attributes.style&&(I.styleId=parseInt(C.attributes.style,10)),z.parseBoolean(C.attributes.hidden)&&(I.hidden=!0),z.parseBoolean(C.attributes.bestFit)&&(I.bestFit=!0),C.attributes.outlineLevel&&(I.outlineLevel=parseInt(C.attributes.outlineLevel,10)),z.parseBoolean(C.attributes.collapsed)&&(I.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(C,I){C.styleId&&(C.style=I.styles.getStyleModel(C.styleId))}}I.exports=ColXform},{"../../../utils/utils":27,"../base-xform":32}],93:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../../../utils/utils"),Q=C("../../../utils/col-cache"),ee=C("../base-xform"),te=C("../../../doc/range");function assign(C,I,B,z){const q=I[B];void 0!==q?C[B]=q:void 0!==z&&(C[B]=z)}function assignBool(C,I,B,z){const Q=I[B];void 0!==Q?C[B]=q.parseBoolean(Q):void 0!==z&&(C[B]=z)}function optimiseDataValidations(C){const I=z.map(C,((C,I)=>({address:I,dataValidation:C,marked:!1}))).sort(((C,I)=>z.strcmp(C.address,I.address))),B=z.keyBy(I,"address"),matchCol=(I,B,q)=>{for(let ee=0;ee<B;ee++){const B=Q.encodeAddress(I.row+ee,q);if(!C[B]||!z.isEqual(C[I.address],C[B]))return!1}return!0};return I.map((I=>{if(!I.marked){const q=Q.decodeEx(I.address);if(q.dimensions)return B[q.dimensions].marked=!0,{...I.dataValidation,sqref:I.address};let ee=1,te=Q.encodeAddress(q.row+ee,q.col);for(;C[te]&&z.isEqual(I.dataValidation,C[te]);)ee++,te=Q.encodeAddress(q.row+ee,q.col);let ie=1;for(;matchCol(q,ee,q.col+ie);)ie++;for(let C=0;C<ee;C++)for(let I=0;I<ie;I++)te=Q.encodeAddress(q.row+C,q.col+I),B[te].marked=!0;if(ee>1||ie>1){const C=q.row+(ee-1),B=q.col+(ie-1);return{...I.dataValidation,sqref:`${I.address}:${Q.encodeAddress(C,B)}`}}return{...I.dataValidation,sqref:I.address}}return null})).filter(Boolean)}class DataValidationsXform extends ee{get tag(){return"dataValidations"}render(C,I){const B=optimiseDataValidations(I);B.length&&(C.openNode("dataValidations",{count:B.length}),B.forEach((I=>{C.openNode("dataValidation"),"any"!==I.type&&(C.addAttribute("type",I.type),I.operator&&"list"!==I.type&&"between"!==I.operator&&C.addAttribute("operator",I.operator),I.allowBlank&&C.addAttribute("allowBlank","1")),I.showInputMessage&&C.addAttribute("showInputMessage","1"),I.promptTitle&&C.addAttribute("promptTitle",I.promptTitle),I.prompt&&C.addAttribute("prompt",I.prompt),I.showErrorMessage&&C.addAttribute("showErrorMessage","1"),I.errorStyle&&C.addAttribute("errorStyle",I.errorStyle),I.errorTitle&&C.addAttribute("errorTitle",I.errorTitle),I.error&&C.addAttribute("error",I.error),C.addAttribute("sqref",I.sqref),(I.formulae||[]).forEach(((B,z)=>{C.openNode(`formula${z+1}`),"date"===I.type?C.writeText(q.dateToExcel(new Date(B))):C.writeText(B),C.closeNode()})),C.closeNode()})),C.closeNode())}parseOpen(C){switch(C.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=C.attributes.sqref;const I={type:C.attributes.type||"any",formulae:[]};switch(C.attributes.type&&assignBool(I,C.attributes,"allowBlank"),assignBool(I,C.attributes,"showInputMessage"),assignBool(I,C.attributes,"showErrorMessage"),I.type){case"any":case"list":case"custom":break;default:assign(I,C.attributes,"operator","between")}return assign(I,C.attributes,"promptTitle"),assign(I,C.attributes,"prompt"),assign(I,C.attributes,"errorStyle"),assign(I,C.attributes,"errorTitle"),assign(I,C.attributes,"error"),this._dataValidation=I,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(C){this._formula&&this._formula.push(C)}parseClose(C){switch(C){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach((C=>{C.includes(":")?new te(C).forEachAddress((C=>{this.model[C]=this._dataValidation})):this.model[C]=this._dataValidation})),!0;case"formula1":case"formula2":{let C=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":C=parseInt(C,10);break;case"decimal":C=parseFloat(C);break;case"date":C=q.excelToDate(parseFloat(C))}return this._dataValidation.formulae.push(C),this._formula=void 0,!0}default:return!0}}}I.exports=DataValidationsXform},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(C,I,B){"use strict";const z=C("../base-xform");class DimensionXform extends z{get tag(){return"dimension"}render(C,I){I&&C.leafNode("dimension",{ref:I})}parseOpen(C){return"dimension"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}I.exports=DimensionXform},{"../base-xform":32}],95:[function(C,I,B){"use strict";const z=C("../base-xform");class DrawingXform extends z{get tag(){return"drawing"}render(C,I){I&&C.leafNode(this.tag,{"r:id":I.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}I.exports=DrawingXform},{"../base-xform":32}],96:[function(C,I,B){"use strict";const z=C("../composite-xform"),q=C("./cf-ext/conditional-formattings-ext-xform");class ExtXform extends z{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new q}}get tag(){return"ext"}hasContent(C){return this.conditionalFormattings.hasContent(C.conditionalFormattings)}prepare(C,I){this.conditionalFormattings.prepare(C.conditionalFormattings,I)}render(C,I){C.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(C,I.conditionalFormattings),C.closeNode()}createNewModel(){return{}}onParserClose(C,I){this.model[C]=I.model}}class ExtLstXform extends z{constructor(){super(),this.map={ext:this.ext=new ExtXform}}get tag(){return"extLst"}prepare(C,I){this.ext.prepare(C,I)}hasContent(C){return this.ext.hasContent(C)}render(C,I){this.hasContent(I)&&(C.openNode("extLst"),this.ext.render(C,I),C.closeNode())}createNewModel(){return{}}onParserClose(C,I){Object.assign(this.model,I.model)}}I.exports=ExtLstXform},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(C,I,B){"use strict";const z=C("../base-xform");class HeaderFooterXform extends z{get tag(){return"headerFooter"}render(C,I){if(I){C.addRollback();let B=!1;C.openNode("headerFooter"),I.differentFirst&&(C.addAttribute("differentFirst","1"),B=!0),I.differentOddEven&&(C.addAttribute("differentOddEven","1"),B=!0),I.oddHeader&&"string"==typeof I.oddHeader&&(C.leafNode("oddHeader",null,I.oddHeader),B=!0),I.oddFooter&&"string"==typeof I.oddFooter&&(C.leafNode("oddFooter",null,I.oddFooter),B=!0),I.evenHeader&&"string"==typeof I.evenHeader&&(C.leafNode("evenHeader",null,I.evenHeader),B=!0),I.evenFooter&&"string"==typeof I.evenFooter&&(C.leafNode("evenFooter",null,I.evenFooter),B=!0),I.firstHeader&&"string"==typeof I.firstHeader&&(C.leafNode("firstHeader",null,I.firstHeader),B=!0),I.firstFooter&&"string"==typeof I.firstFooter&&(C.leafNode("firstFooter",null,I.firstFooter),B=!0),B?(C.closeNode(),C.commit()):C.rollback()}}parseOpen(C){switch(C.name){case"headerFooter":return this.model={},C.attributes.differentFirst&&(this.model.differentFirst=1===parseInt(C.attributes.differentFirst,0)),C.attributes.differentOddEven&&(this.model.differentOddEven=1===parseInt(C.attributes.differentOddEven,0)),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(C){switch(this.currentNode){case"oddHeader":this.model.oddHeader=C;break;case"oddFooter":this.model.oddFooter=C;break;case"evenHeader":this.model.evenHeader=C;break;case"evenFooter":this.model.evenFooter=C;break;case"firstHeader":this.model.firstHeader=C;break;case"firstFooter":this.model.firstFooter=C}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}I.exports=HeaderFooterXform},{"../base-xform":32}],98:[function(C,I,B){"use strict";const z=C("../base-xform");class HyperlinkXform extends z{get tag(){return"hyperlink"}render(C,I){this.isInternalLink(I)?C.leafNode("hyperlink",{ref:I.address,"r:id":I.rId,tooltip:I.tooltip,location:I.target}):C.leafNode("hyperlink",{ref:I.address,"r:id":I.rId,tooltip:I.tooltip})}parseOpen(C){return"hyperlink"===C.name&&(this.model={address:C.attributes.ref,rId:C.attributes["r:id"],tooltip:C.attributes.tooltip},C.attributes.location&&(this.model.target=C.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(C){return C.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(C.target)}}I.exports=HyperlinkXform},{"../base-xform":32}],99:[function(C,I,B){"use strict";const z=C("../base-xform");class MergeCellXform extends z{get tag(){return"mergeCell"}render(C,I){C.leafNode("mergeCell",{ref:I})}parseOpen(C){return"mergeCell"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}I.exports=MergeCellXform},{"../base-xform":32}],100:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../../../doc/range"),Q=C("../../../utils/col-cache"),ee=C("../../../doc/enums");class Merges{constructor(){this.merges={}}add(C){if(this.merges[C.master])this.merges[C.master].expandToAddress(C.address);else{const I=`${C.master}:${C.address}`;this.merges[C.master]=new q(I)}}get mergeCells(){return z.map(this.merges,(C=>C.range))}reconcile(C,I){z.each(C,(C=>{const B=Q.decode(C);for(let C=B.top;C<=B.bottom;C++){const z=I[C-1];for(let I=B.left;I<=B.right;I++){const q=z.cells[I-1];q?q.type===ee.ValueType.Merge&&(q.master=B.tl):z.cells[I]={type:ee.ValueType.Null,address:Q.encodeAddress(C,I)}}}}))}getMasterAddress(C){const I=this.hash[C];return I&&I.tl}}I.exports=Merges},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(C,I,B){"use strict";const z=C("../base-xform"),isDefined=C=>void 0!==C;class OutlinePropertiesXform extends z{get tag(){return"outlinePr"}render(C,I){return!(!I||!isDefined(I.summaryBelow)&&!isDefined(I.summaryRight)||(C.leafNode(this.tag,{summaryBelow:isDefined(I.summaryBelow)?Number(I.summaryBelow):void 0,summaryRight:isDefined(I.summaryRight)?Number(I.summaryRight):void 0}),0))}parseOpen(C){return C.name===this.tag&&(this.model={summaryBelow:isDefined(C.attributes.summaryBelow)?Boolean(Number(C.attributes.summaryBelow)):void 0,summaryRight:isDefined(C.attributes.summaryRight)?Boolean(Number(C.attributes.summaryRight)):void 0},!0)}parseText(){}parseClose(){return!1}}I.exports=OutlinePropertiesXform},{"../base-xform":32}],102:[function(C,I,B){"use strict";const z=C("../base-xform");class PageBreaksXform extends z{get tag(){return"brk"}render(C,I){C.leafNode("brk",I)}parseOpen(C){return"brk"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}I.exports=PageBreaksXform},{"../base-xform":32}],103:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../base-xform");class PageMarginsXform extends q{get tag(){return"pageMargins"}render(C,I){if(I){const B={left:I.left,right:I.right,top:I.top,bottom:I.bottom,header:I.header,footer:I.footer};z.some(B,(C=>void 0!==C))&&C.leafNode(this.tag,B)}}parseOpen(C){return C.name===this.tag&&(this.model={left:parseFloat(C.attributes.left||.7),right:parseFloat(C.attributes.right||.7),top:parseFloat(C.attributes.top||.75),bottom:parseFloat(C.attributes.bottom||.75),header:parseFloat(C.attributes.header||.3),footer:parseFloat(C.attributes.footer||.3)},!0)}parseText(){}parseClose(){return!1}}I.exports=PageMarginsXform},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(C,I,B){"use strict";const z=C("../base-xform");class PageSetupPropertiesXform extends z{get tag(){return"pageSetUpPr"}render(C,I){return!(!I||!I.fitToPage||(C.leafNode(this.tag,{fitToPage:I.fitToPage?"1":void 0}),0))}parseOpen(C){return C.name===this.tag&&(this.model={fitToPage:"1"===C.attributes.fitToPage},!0)}parseText(){}parseClose(){return!1}}I.exports=PageSetupPropertiesXform},{"../base-xform":32}],105:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../base-xform");function booleanToXml(C){return C?"1":void 0}function pageOrderToXml(C){if("overThenDown"===C)return C}function cellCommentsToXml(C){switch(C){case"atEnd":case"asDisplyed":return C;default:return}}function errorsToXml(C){switch(C){case"dash":case"blank":case"NA":return C;default:return}}function pageSizeToModel(C){return void 0!==C?parseInt(C,10):void 0}class PageSetupXform extends q{get tag(){return"pageSetup"}render(C,I){if(I){const B={paperSize:I.paperSize,orientation:I.orientation,horizontalDpi:I.horizontalDpi,verticalDpi:I.verticalDpi,pageOrder:pageOrderToXml(I.pageOrder),blackAndWhite:booleanToXml(I.blackAndWhite),draft:booleanToXml(I.draft),cellComments:cellCommentsToXml(I.cellComments),errors:errorsToXml(I.errors),scale:I.scale,fitToWidth:I.fitToWidth,fitToHeight:I.fitToHeight,firstPageNumber:I.firstPageNumber,useFirstPageNumber:booleanToXml(I.firstPageNumber),usePrinterDefaults:booleanToXml(I.usePrinterDefaults),copies:I.copies};z.some(B,(C=>void 0!==C))&&C.leafNode(this.tag,B)}}parseOpen(C){return C.name===this.tag&&(this.model={paperSize:pageSizeToModel(C.attributes.paperSize),orientation:C.attributes.orientation||"portrait",horizontalDpi:parseInt(C.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(C.attributes.verticalDpi||"4294967295",10),pageOrder:C.attributes.pageOrder||"downThenOver",blackAndWhite:"1"===C.attributes.blackAndWhite,draft:"1"===C.attributes.draft,cellComments:C.attributes.cellComments||"None",errors:C.attributes.errors||"displayed",scale:parseInt(C.attributes.scale||"100",10),fitToWidth:parseInt(C.attributes.fitToWidth||"1",10),fitToHeight:parseInt(C.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(C.attributes.firstPageNumber||"1",10),useFirstPageNumber:"1"===C.attributes.useFirstPageNumber,usePrinterDefaults:"1"===C.attributes.usePrinterDefaults,copies:parseInt(C.attributes.copies||"1",10)},!0)}parseText(){}parseClose(){return!1}}I.exports=PageSetupXform},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(C,I,B){"use strict";const z=C("../base-xform");class PictureXform extends z{get tag(){return"picture"}render(C,I){I&&C.leafNode(this.tag,{"r:id":I.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}I.exports=PictureXform},{"../base-xform":32}],107:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../base-xform");function booleanToXml(C){return C?"1":void 0}class PrintOptionsXform extends q{get tag(){return"printOptions"}render(C,I){if(I){const B={headings:booleanToXml(I.showRowColHeaders),gridLines:booleanToXml(I.showGridLines),horizontalCentered:booleanToXml(I.horizontalCentered),verticalCentered:booleanToXml(I.verticalCentered)};z.some(B,(C=>void 0!==C))&&C.leafNode(this.tag,B)}}parseOpen(C){return C.name===this.tag&&(this.model={showRowColHeaders:"1"===C.attributes.headings,showGridLines:"1"===C.attributes.gridLines,horizontalCentered:"1"===C.attributes.horizontalCentered,verticalCentered:"1"===C.attributes.verticalCentered},!0)}parseText(){}parseClose(){return!1}}I.exports=PrintOptionsXform},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(C,I,B){"use strict";const z=C("./page-breaks-xform"),q=C("../list-xform");class RowBreaksXform extends q{constructor(){super({tag:"rowBreaks",count:!0,childXform:new z})}render(C,I){if(I&&I.length){C.openNode(this.tag,this.$),this.count&&(C.addAttribute(this.$count,I.length),C.addAttribute("manualBreakCount",I.length));const{childXform:B}=this;I.forEach((I=>{B.render(C,I)})),C.closeNode()}else this.empty&&C.leafNode(this.tag)}}I.exports=RowBreaksXform},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../../../utils/utils"),Q=C("./cell-xform");class RowXform extends z{constructor(C){super(),this.maxItems=C&&C.maxItems,this.map={c:new Q}}get tag(){return"row"}prepare(C,I){const B=I.styles.addStyleModel(C.style);B&&(C.styleId=B);const z=this.map.c;C.cells.forEach((C=>{z.prepare(C,I)}))}render(C,I,B){C.openNode("row"),C.addAttribute("r",I.number),I.height&&(C.addAttribute("ht",I.height),C.addAttribute("customHeight","1")),I.hidden&&C.addAttribute("hidden","1"),I.min>0&&I.max>0&&I.min<=I.max&&C.addAttribute("spans",`${I.min}:${I.max}`),I.styleId&&(C.addAttribute("s",I.styleId),C.addAttribute("customFormat","1")),C.addAttribute("x14ac:dyDescent","0.25"),I.outlineLevel&&C.addAttribute("outlineLevel",I.outlineLevel),I.collapsed&&C.addAttribute("collapsed","1");const z=this.map.c;I.cells.forEach((I=>{z.render(C,I,B)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if("row"===C.name){this.numRowsSeen+=1;const I=C.attributes.spans?C.attributes.spans.split(":").map((C=>parseInt(C,10))):[void 0,void 0],B=this.model={number:parseInt(C.attributes.r,10),min:I[0],max:I[1],cells:[]};return C.attributes.s&&(B.styleId=parseInt(C.attributes.s,10)),q.parseBoolean(C.attributes.hidden)&&(B.hidden=!0),q.parseBoolean(C.attributes.bestFit)&&(B.bestFit=!0),C.attributes.ht&&(B.height=parseFloat(C.attributes.ht)),C.attributes.outlineLevel&&(B.outlineLevel=parseInt(C.attributes.outlineLevel,10)),q.parseBoolean(C.attributes.collapsed)&&(B.collapsed=!0),!0}return this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(C,I){C.style=C.styleId?I.styles.getStyleModel(C.styleId):{},void 0!==C.styleId&&(C.styleId=void 0);const B=this.map.c;C.cells.forEach((C=>{B.reconcile(C,I)}))}}I.exports=RowXform},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../base-xform");class SheetFormatPropertiesXform extends q{get tag(){return"sheetFormatPr"}render(C,I){if(I){const B={defaultRowHeight:I.defaultRowHeight,outlineLevelRow:I.outlineLevelRow,outlineLevelCol:I.outlineLevelCol,"x14ac:dyDescent":I.dyDescent};I.defaultColWidth&&(B.defaultColWidth=I.defaultColWidth),I.defaultRowHeight&&15===I.defaultRowHeight||(B.customHeight="1"),z.some(B,(C=>void 0!==C))&&C.leafNode("sheetFormatPr",B)}}parseOpen(C){return"sheetFormatPr"===C.name&&(this.model={defaultRowHeight:parseFloat(C.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(C.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(C.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(C.attributes.outlineLevelCol||"0",10)},C.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(C.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}I.exports=SheetFormatPropertiesXform},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../style/color-xform"),Q=C("./page-setup-properties-xform"),ee=C("./outline-properties-xform");class SheetPropertiesXform extends z{constructor(){super(),this.map={tabColor:new q("tabColor"),pageSetUpPr:new Q,outlinePr:new ee}}get tag(){return"sheetPr"}render(C,I){if(I){C.addRollback(),C.openNode("sheetPr");let B=!1;B=this.map.tabColor.render(C,I.tabColor)||B,B=this.map.pageSetUpPr.render(C,I.pageSetup)||B,B=this.map.outlinePr.render(C,I.outlineProperties)||B,B?(C.closeNode(),C.commit()):C.rollback()}}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.reset(),!0):!!this.map[C.name]&&(this.parser=this.map[C.name],this.parser.parseOpen(C),!0)}parseText(C){return!!this.parser&&(this.parser.parseText(C),!0)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}I.exports=SheetPropertiesXform},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../base-xform");function booleanToXml(C,I){return C?I:void 0}function xmlToBoolean(C,I){return C===I||void 0}class SheetProtectionXform extends q{get tag(){return"sheetProtection"}render(C,I){if(I){const B={sheet:booleanToXml(I.sheet,"1"),selectLockedCells:!1===I.selectLockedCells?"1":void 0,selectUnlockedCells:!1===I.selectUnlockedCells?"1":void 0,formatCells:booleanToXml(I.formatCells,"0"),formatColumns:booleanToXml(I.formatColumns,"0"),formatRows:booleanToXml(I.formatRows,"0"),insertColumns:booleanToXml(I.insertColumns,"0"),insertRows:booleanToXml(I.insertRows,"0"),insertHyperlinks:booleanToXml(I.insertHyperlinks,"0"),deleteColumns:booleanToXml(I.deleteColumns,"0"),deleteRows:booleanToXml(I.deleteRows,"0"),sort:booleanToXml(I.sort,"0"),autoFilter:booleanToXml(I.autoFilter,"0"),pivotTables:booleanToXml(I.pivotTables,"0")};I.sheet&&(B.algorithmName=I.algorithmName,B.hashValue=I.hashValue,B.saltValue=I.saltValue,B.spinCount=I.spinCount,B.objects=booleanToXml(!1===I.objects,"1"),B.scenarios=booleanToXml(!1===I.scenarios,"1")),z.some(B,(C=>void 0!==C))&&C.leafNode(this.tag,B)}}parseOpen(C){return C.name===this.tag&&(this.model={sheet:xmlToBoolean(C.attributes.sheet,"1"),objects:"1"!==C.attributes.objects&&void 0,scenarios:"1"!==C.attributes.scenarios&&void 0,selectLockedCells:"1"!==C.attributes.selectLockedCells&&void 0,selectUnlockedCells:"1"!==C.attributes.selectUnlockedCells&&void 0,formatCells:xmlToBoolean(C.attributes.formatCells,"0"),formatColumns:xmlToBoolean(C.attributes.formatColumns,"0"),formatRows:xmlToBoolean(C.attributes.formatRows,"0"),insertColumns:xmlToBoolean(C.attributes.insertColumns,"0"),insertRows:xmlToBoolean(C.attributes.insertRows,"0"),insertHyperlinks:xmlToBoolean(C.attributes.insertHyperlinks,"0"),deleteColumns:xmlToBoolean(C.attributes.deleteColumns,"0"),deleteRows:xmlToBoolean(C.attributes.deleteRows,"0"),sort:xmlToBoolean(C.attributes.sort,"0"),autoFilter:xmlToBoolean(C.attributes.autoFilter,"0"),pivotTables:xmlToBoolean(C.attributes.pivotTables,"0")},C.attributes.algorithmName&&(this.model.algorithmName=C.attributes.algorithmName,this.model.hashValue=C.attributes.hashValue,this.model.saltValue=C.attributes.saltValue,this.model.spinCount=parseInt(C.attributes.spinCount,10)),!0)}parseText(){}parseClose(){return!1}}I.exports=SheetProtectionXform},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(C,I,B){"use strict";const z=C("../../../utils/col-cache"),q=C("../base-xform"),Q={frozen:"frozen",frozenSplit:"frozen",split:"split"};class SheetViewXform extends q{get tag(){return"sheetView"}prepare(C){switch(C.state){case"frozen":case"split":break;default:C.state="normal"}}render(C,I){C.openNode("sheetView",{workbookViewId:I.workbookViewId||0});const add=function(I,B,z){z&&C.addAttribute(I,B)};let B,q,Q,ee;switch(add("rightToLeft","1",!0===I.rightToLeft),add("tabSelected","1",I.tabSelected),add("showRuler","0",!1===I.showRuler),add("showRowColHeaders","0",!1===I.showRowColHeaders),add("showGridLines","0",!1===I.showGridLines),add("zoomScale",I.zoomScale,I.zoomScale),add("zoomScaleNormal",I.zoomScaleNormal,I.zoomScaleNormal),add("view",I.style,I.style),I.state){case"frozen":q=I.xSplit||0,Q=I.ySplit||0,B=I.topLeftCell||z.getAddress(Q+1,q+1).address,ee=(I.xSplit&&I.ySplit?"bottomRight":I.xSplit&&"topRight")||"bottomLeft",C.leafNode("pane",{xSplit:I.xSplit||void 0,ySplit:I.ySplit||void 0,topLeftCell:B,activePane:ee,state:"frozen"}),C.leafNode("selection",{pane:ee,activeCell:I.activeCell,sqref:I.activeCell});break;case"split":"topLeft"===I.activePane&&(I.activePane=void 0),C.leafNode("pane",{xSplit:I.xSplit||void 0,ySplit:I.ySplit||void 0,topLeftCell:I.topLeftCell,activePane:I.activePane}),C.leafNode("selection",{pane:I.activePane,activeCell:I.activeCell,sqref:I.activeCell});break;case"normal":I.activeCell&&C.leafNode("selection",{activeCell:I.activeCell,sqref:I.activeCell})}C.closeNode()}parseOpen(C){switch(C.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(C.attributes.workbookViewId,10),rightToLeft:"1"===C.attributes.rightToLeft,tabSelected:"1"===C.attributes.tabSelected,showRuler:!("0"===C.attributes.showRuler),showRowColHeaders:!("0"===C.attributes.showRowColHeaders),showGridLines:!("0"===C.attributes.showGridLines),zoomScale:parseInt(C.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(C.attributes.zoomScaleNormal||"100",10),style:C.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(C.attributes.xSplit||"0",10),ySplit:parseInt(C.attributes.ySplit||"0",10),topLeftCell:C.attributes.topLeftCell,activePane:C.attributes.activePane||"topLeft",state:C.attributes.state},!0;case"selection":{const I=C.attributes.pane||"topLeft";return this.selections[I]={pane:I,activeCell:C.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(C){let I,B;return"sheetView"!==C||(this.sheetView&&this.pane?(I=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:Q[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},"split"===this.model.state&&(I.activePane=this.pane.activePane),B=this.selections[this.pane.activePane],B&&B.activeCell&&(I.activeCell=B.activeCell),this.sheetView.style&&(I.style=this.sheetView.style)):(I=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},B=this.selections.topLeft,B&&B.activeCell&&(I.activeCell=B.activeCell),this.sheetView.style&&(I.style=this.sheetView.style)),!1)}reconcile(){}}I.exports=SheetViewXform},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(C,I,B){"use strict";const z=C("../base-xform");class TablePartXform extends z{get tag(){return"tablePart"}render(C,I){I&&C.leafNode(this.tag,{"r:id":I.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}I.exports=TablePartXform},{"../base-xform":32}],115:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../../../utils/col-cache"),Q=C("../../../utils/xml-stream"),ee=C("../../rel-type"),te=C("./merges"),ie=C("../base-xform"),re=C("../list-xform"),ne=C("./row-xform"),se=C("./col-xform"),oe=C("./dimension-xform"),ae=C("./hyperlink-xform"),le=C("./merge-cell-xform"),ue=C("./data-validations-xform"),de=C("./sheet-properties-xform"),ce=C("./sheet-format-properties-xform"),he=C("./sheet-view-xform"),fe=C("./sheet-protection-xform"),pe=C("./page-margins-xform"),me=C("./page-setup-xform"),ge=C("./print-options-xform"),ve=C("./auto-filter-xform"),ye=C("./picture-xform"),be=C("./drawing-xform"),Ce=C("./table-part-xform"),we=C("./row-breaks-xform"),_e=C("./header-footer-xform"),Se=C("./cf/conditional-formattings-xform"),xe=C("./ext-lst-xform"),mergeRule=(C,I)=>{Object.keys(I).forEach((B=>{const z=C[B],q=I[B];void 0===z&&void 0!==q&&(C[B]=q)}))},mergeConditionalFormattings=(C,I)=>{if(!I||!I.length)return C;if(!C||!C.length)return I;const B={},z={};return C.forEach((C=>{B[C.ref]=C,C.rules.forEach((C=>{const{x14Id:I}=C;I&&(z[I]=C)}))})),I.forEach((I=>{I.rules.forEach((q=>{const Q=z[q.x14Id];Q?mergeRule(Q,q):B[I.ref]?B[I.ref].rules.push(q):C.push({ref:I.ref,rules:[q]})}))})),C};class WorkSheetXform extends ie{constructor(C){super();const{maxRows:I,maxCols:B,ignoreNodes:z}=C||{};this.ignoreNodes=z||[],this.map={sheetPr:new de,dimension:new oe,sheetViews:new re({tag:"sheetViews",count:!1,childXform:new he}),sheetFormatPr:new ce,cols:new re({tag:"cols",count:!1,childXform:new se}),sheetData:new re({tag:"sheetData",count:!1,empty:!0,childXform:new ne({maxItems:B}),maxItems:I}),autoFilter:new ve,mergeCells:new re({tag:"mergeCells",count:!0,childXform:new le}),rowBreaks:new we,hyperlinks:new re({tag:"hyperlinks",count:!1,childXform:new ae}),pageMargins:new pe,dataValidations:new ue,pageSetup:new me,headerFooter:new _e,printOptions:new ge,picture:new ye,drawing:new be,sheetProtection:new fe,tableParts:new re({tag:"tableParts",count:!0,childXform:new Ce}),conditionalFormatting:new Se,extLst:new xe}}prepare(C,I){I.merges=new te,C.hyperlinks=I.hyperlinks=[],C.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(C.cols,I),this.map.sheetData.prepare(C.rows,I),this.map.conditionalFormatting.prepare(C.conditionalFormattings,I),C.mergeCells=I.merges.mergeCells;const B=C.rels=[];function nextRid(C){return`rId${C.length+1}`}if(C.hyperlinks.forEach((C=>{const I=nextRid(B);C.rId=I,B.push({Id:I,Type:ee.Hyperlink,Target:C.target,TargetMode:"External"})})),C.comments.length>0){const z={Id:nextRid(B),Type:ee.Comments,Target:`../comments${C.id}.xml`};B.push(z);const Q={Id:nextRid(B),Type:ee.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};B.push(Q),C.comments.forEach((C=>{C.refAddress=q.decodeAddress(C.ref)})),I.commentRefs.push({commentName:`comments${C.id}`,vmlDrawing:`vmlDrawing${C.id}`})}const z=[];let Q;C.media.forEach((q=>{if("background"===q.type){const z=nextRid(B);Q=I.media[q.imageId],B.push({Id:z,Type:ee.Image,Target:`../media/${Q.name}.${Q.extension}`}),C.background={rId:z},C.image=I.media[q.imageId]}else if("image"===q.type){let{drawing:te}=C;Q=I.media[q.imageId],te||(te=C.drawing={rId:nextRid(B),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(te),B.push({Id:te.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${te.name}.xml`}));let ie=this.preImageId===q.imageId?z[q.imageId]:z[te.rels.length];ie||(ie=nextRid(te.rels),z[te.rels.length]=ie,te.rels.push({Id:ie,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Q.name}.${Q.extension}`}));const re={picture:{rId:ie},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const C=nextRid(te.rels);z[te.rels.length]=C,re.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:C},te.rels.push({Id:C,Type:ee.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,te.anchors.push(re)}})),C.tables.forEach((C=>{const z=nextRid(B);C.rId=z,B.push({Id:z,Type:ee.Table,Target:`../tables/${C.target}`}),C.columns.forEach((C=>{const{style:B}=C;B&&(C.dxfId=I.styles.addDxfStyle(B))}))})),this.map.extLst.prepare(C,I)}render(C,I){C.openXml(Q.StdDocAttributes),C.openNode("worksheet",WorkSheetXform.WORKSHEET_ATTRIBUTES);const B=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(B.defaultColWidth=I.properties.defaultColWidth);const z={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},q=I.pageSetup&&I.pageSetup.margins,te={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},ie=I.sheetProtection;this.map.sheetPr.render(C,z),this.map.dimension.render(C,I.dimensions),this.map.sheetViews.render(C,I.views),this.map.sheetFormatPr.render(C,B),this.map.cols.render(C,I.cols),this.map.sheetData.render(C,I.rows),this.map.sheetProtection.render(C,ie),this.map.autoFilter.render(C,I.autoFilter),this.map.mergeCells.render(C,I.mergeCells),this.map.conditionalFormatting.render(C,I.conditionalFormattings),this.map.dataValidations.render(C,I.dataValidations),this.map.hyperlinks.render(C,I.hyperlinks),this.map.printOptions.render(C,te),this.map.pageMargins.render(C,q),this.map.pageSetup.render(C,I.pageSetup),this.map.headerFooter.render(C,I.headerFooter),this.map.rowBreaks.render(C,I.rowBreaks),this.map.drawing.render(C,I.drawing),this.map.picture.render(C,I.background),this.map.tableParts.render(C,I.tables),this.map.extLst.render(C,I),I.rels&&I.rels.forEach((I=>{I.Type===ee.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":I.Id})})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"worksheet"===C.name?(z.each(this.map,(C=>{C.reset()})),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("worksheet"===C){const C=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(C.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(C.outlineProperties=this.map.sheetPr.model.outlineProperties);const I={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},B=Object.assign(I,this.map.pageSetup.model,this.map.printOptions.model),z=mergeConditionalFormattings(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:C,views:this.map.sheetViews.model,pageSetup:B,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}return!0}reconcile(C,I){const B=(C.relationships||[]).reduce(((B,z)=>{if(B[z.Id]=z,z.Type===ee.Comments&&(C.comments=I.comments[z.Target].comments),z.Type===ee.VmlDrawing&&C.comments&&C.comments.length){const B=I.vmlDrawings[z.Target].comments;C.comments.forEach(((C,I)=>{C.note=Object.assign({},C.note,B[I])}))}return B}),{});if(I.commentsMap=(C.comments||[]).reduce(((C,I)=>(I.ref&&(C[I.ref]=I),C)),{}),I.hyperlinkMap=(C.hyperlinks||[]).reduce(((C,I)=>(I.rId&&(C[I.address]=B[I.rId].Target),C)),{}),I.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach((C=>{C.cells=C.cells&&C.cells.filter(Boolean)||[]})),this.map.cols.reconcile(C.cols,I),this.map.sheetData.reconcile(C.rows,I),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,I),C.media=[],C.drawing){const z=B[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(z){const B=z[1];I.drawings[B].anchors.forEach((I=>{if(I.medium){const B={type:"image",imageId:I.medium.index,range:I.range,hyperlinks:I.picture.hyperlinks};C.media.push(B)}}))}}const z=C.background&&B[C.background.rId];if(z){const B=z.Target.split("/media/")[1],q=I.mediaIndex&&I.mediaIndex[B];void 0!==q&&C.media.push({type:"background",imageId:q})}C.tables=(C.tables||[]).map((C=>{const z=B[C.rId];return I.tables[z.Target]})),delete C.relationships,delete C.hyperlinks,delete C.comments}}WorkSheetXform.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},I.exports=WorkSheetXform},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(C,I,B){"use strict";const z=C("../base-xform");class BooleanXform extends z{constructor(C){super(),this.tag=C.tag,this.attr=C.attr}render(C,I){I&&(C.openNode(this.tag),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}I.exports=BooleanXform},{"../base-xform":32}],117:[function(C,I,B){"use strict";const z=C("../base-xform");class DateXform extends z{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs,this._format=C.format||function(C){try{return Number.isNaN(C.getTime())?"":C.toISOString()}catch(C){return""}},this._parse=C.parse||function(C){return new Date(C)}}render(C,I){I&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,this._format(I)):C.writeText(this._format(I)),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.attr?this.model=this._parse(C.attributes[this.attr]):this.text=[])}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}I.exports=DateXform},{"../base-xform":32}],118:[function(C,I,B){"use strict";const z=C("../base-xform");class IntegerXform extends z{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs,this.zero=C.zero}render(C,I){(I||this.zero)&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,I):C.writeText(I),C.closeNode())}parseOpen(C){return C.name===this.tag&&(this.attr?this.model=parseInt(C.attributes[this.attr],10):this.text=[],!0)}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}I.exports=IntegerXform},{"../base-xform":32}],119:[function(C,I,B){"use strict";const z=C("../base-xform");class StringXform extends z{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs}render(C,I){void 0!==I&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,I):C.writeText(I),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.attr?this.model=C.attributes[this.attr]:this.text=[])}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}I.exports=StringXform},{"../base-xform":32}],120:[function(C,I,B){"use strict";const z=C("./base-xform"),q=C("../../utils/xml-stream");function build(C,I){C.openNode(I.tag,I.$),I.c&&I.c.forEach((I=>{build(C,I)})),I.t&&C.writeText(I.t),C.closeNode()}class StaticXform extends z{constructor(C){super(),this._model=C}render(C){if(!this._xml){const C=new q;build(C,this._model),this._xml=C.xml}C.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(C){return C!==this._model.tag}}I.exports=StaticXform},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(C,I,B){"use strict";const z=C("./text-xform"),q=C("./rich-text-xform"),Q=C("../base-xform");class PhoneticTextXform extends Q{constructor(){super(),this.map={r:new q,t:new z}}get tag(){return"rPh"}render(C,I){if(C.openNode(this.tag,{sb:I.sb||0,eb:I.eb||0}),I&&I.hasOwnProperty("richText")&&I.richText){const{r:B}=this.map;I.richText.forEach((I=>{B.render(C,I)}))}else I&&this.map.t.render(C,I.text);C.closeNode()}parseOpen(C){const{name:I}=C;return this.parser?(this.parser.parseOpen(C),!0):I===this.tag?(this.model={sb:parseInt(C.attributes.sb,10),eb:parseInt(C.attributes.eb,10)},!0):(this.parser=this.map[I],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){switch(C){case"r":{let C=this.model.richText;C||(C=this.model.richText=[]),C.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return C!==this.tag}}I.exports=PhoneticTextXform},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(C,I,B){"use strict";const z=C("./text-xform"),q=C("../style/font-xform"),Q=C("../base-xform");class RichTextXform extends Q{constructor(C){super(),this.model=C}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new z)}get fontXform(){return this._fontXform||(this._fontXform=new q(RichTextXform.FONT_OPTIONS))}render(C,I){I=I||this.model,C.openNode("r"),I.font&&this.fontXform.render(C,I.font),this.textXform.render(C,I.text),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(C),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){switch(C){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}}RichTextXform.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},I.exports=RichTextXform},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(C,I,B){"use strict";const z=C("./text-xform"),q=C("./rich-text-xform"),Q=C("./phonetic-text-xform"),ee=C("../base-xform");class SharedStringXform extends ee{constructor(C){super(),this.model=C,this.map={r:new q,t:new z,rPh:new Q}}get tag(){return"si"}render(C,I){C.openNode(this.tag),I&&I.hasOwnProperty("richText")&&I.richText?I.richText.length?I.richText.forEach((I=>{this.map.r.render(C,I)})):this.map.t.render(C,""):null!=I&&this.map.t.render(C,I),C.closeNode()}parseOpen(C){const{name:I}=C;return this.parser?(this.parser.parseOpen(C),!0):I===this.tag?(this.model={},!0):(this.parser=this.map[I],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){switch(C){case"r":{let C=this.model.richText;C||(C=this.model.richText=[]),C.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return C!==this.tag}}I.exports=SharedStringXform},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("./shared-string-xform");class SharedStringsXform extends q{constructor(C){super(),this.model=C||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new Q)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(C){return this.model.values[C]}add(C){return C.richText?this.addRichText(C):this.addText(C)}addText(C){let I=this.hash[C];return void 0===I&&(I=this.hash[C]=this.model.values.length,this.model.values.push(C)),this.model.count++,I}addRichText(C){const I=this.sharedStringXform.toXml(C);let B=this.rich[I];return void 0===B&&(B=this.rich[I]=this.model.values.length,this.model.values.push(C)),this.model.count++,B}render(C,I){I=I||this._values,C.openXml(z.StdDocAttributes),C.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:I.count,uniqueCount:I.values.length});const B=this.sharedStringXform;I.values.forEach((I=>{B.render(C,I)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(C),!0;default:throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if("sst"===C)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}I.exports=SharedStringsXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(C,I,B){"use strict";const z=C("../base-xform");class TextXform extends z{get tag(){return"t"}render(C,I){C.openNode("t"),/^\s|\n|\s$/.test(I)&&C.addAttribute("xml:space","preserve"),C.writeText(I),C.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,((C,I)=>String.fromCharCode(parseInt(I,16))))}parseOpen(C){return"t"===C.name&&(this._text=[],!0)}parseText(C){this._text.push(C)}parseClose(){return!1}}I.exports=TextXform},{"../base-xform":32}],126:[function(C,I,B){"use strict";const z=C("../../../doc/enums"),q=C("../../../utils/utils"),Q=C("../base-xform"),ee={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce(((C,I)=>(C[I]=!0,C)),{}),horizontal(C){return this.horizontalValues[C]?C:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce(((C,I)=>(C[I]=!0,C)),{}),vertical(C){return"middle"===C?"center":this.verticalValues[C]?C:void 0},wrapText:C=>!!C||void 0,shrinkToFit:C=>!!C||void 0,textRotation:C=>"vertical"===C||(C=q.validInt(C))>=-90&&C<=90?C:void 0,indent:C=>(C=q.validInt(C),Math.max(0,C)),readingOrder(C){switch(C){case"ltr":return z.ReadingOrder.LeftToRight;case"rtl":return z.ReadingOrder.RightToLeft;default:return}}},te={toXml(C){if(C=ee.textRotation(C)){if("vertical"===C)return 255;const I=Math.round(C);if(I>=0&&I<=90)return I;if(I<0&&I>=-90)return 90-I}},toModel(C){const I=q.validInt(C);if(void 0!==I){if(255===I)return"vertical";if(I>=0&&I<=90)return I;if(I>90&&I<=180)return 90-I}}};class AlignmentXform extends Q{get tag(){return"alignment"}render(C,I){C.addRollback(),C.openNode("alignment");let B=!1;function add(I,z){z&&(C.addAttribute(I,z),B=!0)}add("horizontal",ee.horizontal(I.horizontal)),add("vertical",ee.vertical(I.vertical)),add("wrapText",!!ee.wrapText(I.wrapText)&&"1"),add("shrinkToFit",!!ee.shrinkToFit(I.shrinkToFit)&&"1"),add("indent",ee.indent(I.indent)),add("textRotation",te.toXml(I.textRotation)),add("readingOrder",ee.readingOrder(I.readingOrder)),C.closeNode(),B?C.commit():C.rollback()}parseOpen(C){const I={};let B=!1;function add(C,z,q){C&&(I[z]=q,B=!0)}add(C.attributes.horizontal,"horizontal",C.attributes.horizontal),add(C.attributes.vertical,"vertical","center"===C.attributes.vertical?"middle":C.attributes.vertical),add(C.attributes.wrapText,"wrapText",q.parseBoolean(C.attributes.wrapText)),add(C.attributes.shrinkToFit,"shrinkToFit",q.parseBoolean(C.attributes.shrinkToFit)),add(C.attributes.indent,"indent",parseInt(C.attributes.indent,10)),add(C.attributes.textRotation,"textRotation",te.toModel(C.attributes.textRotation)),add(C.attributes.readingOrder,"readingOrder","2"===C.attributes.readingOrder?"rtl":"ltr"),this.model=B?I:null}parseText(){}parseClose(){return!1}}I.exports=AlignmentXform},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../../../utils/utils"),Q=C("./color-xform");class EdgeXform extends z{constructor(C){super(),this.name=C,this.map={color:new Q}}get tag(){return this.name}render(C,I,B){const z=I&&I.color||B||this.defaultColor;C.openNode(this.name),I&&I.style&&(C.addAttribute("style",I.style),z&&this.map.color.render(C,z)),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case this.name:{const{style:I}=C.attributes;return this.model=I?{style:I}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):(C===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(C){return EdgeXform.validStyleValues[C]}}EdgeXform.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce(((C,I)=>(C[I]=!0,C)),{});class BorderXform extends z{constructor(){super(),this.map={top:new EdgeXform("top"),left:new EdgeXform("left"),bottom:new EdgeXform("bottom"),right:new EdgeXform("right"),diagonal:new EdgeXform("diagonal")}}render(C,I){const{color:B}=I;function add(z,q){z&&!z.color&&I.color&&(z={...z,color:I.color}),q.render(C,z,B)}C.openNode("border"),I.diagonal&&I.diagonal.style&&(I.diagonal.up&&C.addAttribute("diagonalUp","1"),I.diagonal.down&&C.addAttribute("diagonalDown","1")),add(I.left,this.map.left),add(I.right,this.map.right),add(I.top,this.map.top),add(I.bottom,this.map.bottom),add(I.diagonal,this.map.diagonal),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"border"===C.name?(this.reset(),this.diagonalUp=q.parseBoolean(C.attributes.diagonalUp),this.diagonalDown=q.parseBoolean(C.attributes.diagonalDown),!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("border"===C){const C=this.model={},add=function(I,B,z){B&&(z&&Object.assign(B,z),C[I]=B)};add("left",this.map.left.model),add("right",this.map.right.model),add("top",this.map.top.model),add("bottom",this.map.bottom.model),add("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}I.exports=BorderXform},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(C,I,B){"use strict";const z=C("../base-xform");class ColorXform extends z{constructor(C){super(),this.name=C||"color"}get tag(){return this.name}render(C,I){return!!I&&(C.openNode(this.name),I.argb?C.addAttribute("rgb",I.argb):void 0!==I.theme?(C.addAttribute("theme",I.theme),void 0!==I.tint&&C.addAttribute("tint",I.tint)):void 0!==I.indexed?C.addAttribute("indexed",I.indexed):C.addAttribute("auto","1"),C.closeNode(),!0)}parseOpen(C){return C.name===this.name&&(C.attributes.rgb?this.model={argb:C.attributes.rgb}:C.attributes.theme?(this.model={theme:parseInt(C.attributes.theme,10)},C.attributes.tint&&(this.model.tint=parseFloat(C.attributes.tint))):C.attributes.indexed?this.model={indexed:parseInt(C.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}I.exports=ColorXform},{"../base-xform":32}],129:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./alignment-xform"),Q=C("./border-xform"),ee=C("./fill-xform"),te=C("./font-xform"),ie=C("./numfmt-xform"),re=C("./protection-xform");class DxfXform extends z{constructor(){super(),this.map={alignment:new q,border:new Q,fill:new ee,font:new te,numFmt:new ie,protection:new re}}get tag(){return"dxf"}render(C,I){if(C.openNode(this.tag),I.font&&this.map.font.render(C,I.font),I.numFmt&&I.numFmtId){const B={id:I.numFmtId,formatCode:I.numFmt};this.map.numFmt.render(C,B)}I.fill&&this.map.fill.render(C,I.fill),I.alignment&&this.map.alignment.render(C,I.alignment),I.border&&this.map.border.render(C,I.border),I.protection&&this.map.protection.render(C,I.protection),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.reset(),!0):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}I.exports=DxfXform},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./color-xform");class StopXform extends z{constructor(){super(),this.map={color:new q}}get tag(){return"stop"}render(C,I){C.openNode("stop"),C.addAttribute("position",I.position),this.map.color.render(C,I.color),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"stop":return this.model={position:parseFloat(C.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(C),!0;default:return!1}}parseText(){}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class PatternFillXform extends z{constructor(){super(),this.map={fgColor:new q("fgColor"),bgColor:new q("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(C,I){C.openNode("patternFill"),C.addAttribute("patternType",I.pattern),I.fgColor&&this.map.fgColor.render(C,I.fgColor),I.bgColor&&this.map.bgColor.render(C,I.bgColor),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"patternFill"===C.name?(this.model={type:"pattern",pattern:C.attributes.patternType},!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.parser.model&&(this.model[C]=this.parser.model),this.parser=void 0),!0)}}class GradientFillXform extends z{constructor(){super(),this.map={stop:new StopXform}}get name(){return"gradient"}get tag(){return"gradientFill"}render(C,I){switch(C.openNode("gradientFill"),I.gradient){case"angle":C.addAttribute("degree",I.degree);break;case"path":C.addAttribute("type","path"),I.center.left&&(C.addAttribute("left",I.center.left),void 0===I.center.right&&C.addAttribute("right",I.center.left)),I.center.right&&C.addAttribute("right",I.center.right),I.center.top&&(C.addAttribute("top",I.center.top),void 0===I.center.bottom&&C.addAttribute("bottom",I.center.top)),I.center.bottom&&C.addAttribute("bottom",I.center.bottom)}const B=this.map.stop;I.stops.forEach((I=>{B.render(C,I)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"gradientFill":{const I=this.model={stops:[]};return C.attributes.degree?(I.gradient="angle",I.degree=parseInt(C.attributes.degree,10)):"path"===C.attributes.type&&(I.gradient="path",I.center={left:C.attributes.left?parseFloat(C.attributes.left):0,top:C.attributes.top?parseFloat(C.attributes.top):0},C.attributes.right!==C.attributes.left&&(I.center.right=C.attributes.right?parseFloat(C.attributes.right):0),C.attributes.bottom!==C.attributes.top&&(I.center.bottom=C.attributes.bottom?parseFloat(C.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class FillXform extends z{constructor(){super(),this.map={patternFill:new PatternFillXform,gradientFill:new GradientFillXform}}get tag(){return"fill"}render(C,I){switch(C.addRollback(),C.openNode("fill"),I.type){case"pattern":this.map.patternFill.render(C,I);break;case"gradient":this.map.gradientFill.render(C,I);break;default:return void C.rollback()}C.closeNode(),C.commit()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"fill"===C.name?(this.model={},!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(C){return FillXform.validPatternValues[C]}}FillXform.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce(((C,I)=>(C[I]=!0,C)),{}),FillXform.StopXform=StopXform,FillXform.PatternFillXform=PatternFillXform,FillXform.GradientFillXform=GradientFillXform,I.exports=FillXform},{"../base-xform":32,"./color-xform":128}],131:[function(C,I,B){"use strict";const z=C("./color-xform"),q=C("../simple/boolean-xform"),Q=C("../simple/integer-xform"),ee=C("../simple/string-xform"),te=C("./underline-xform"),ie=C("../../../utils/under-dash"),re=C("../base-xform");class FontXform extends re{constructor(C){super(),this.options=C||FontXform.OPTIONS,this.map={b:{prop:"bold",xform:new q({tag:"b",attr:"val"})},i:{prop:"italic",xform:new q({tag:"i",attr:"val"})},u:{prop:"underline",xform:new te},charset:{prop:"charset",xform:new Q({tag:"charset",attr:"val"})},color:{prop:"color",xform:new z},condense:{prop:"condense",xform:new q({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new q({tag:"extend",attr:"val"})},family:{prop:"family",xform:new Q({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new q({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new ee({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new ee({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new q({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new q({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new Q({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new ee({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(C,I){const{map:B}=this;C.openNode(this.options.tagName),ie.each(this.map,((z,q)=>{B[q].xform.render(C,I[z.prop])})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):this.map[C.name]?(this.parser=this.map[C.name].xform,this.parser.parseOpen(C)):C.name===this.options.tagName&&(this.model={},!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser&&!this.parser.parseClose(C)){const I=this.map[C];return this.parser.model&&(this.model[I.prop]=this.parser.model),this.parser=void 0,!0}return C!==this.options.tagName}}FontXform.OPTIONS={tagName:"font",fontNameTag:"name"},I.exports=FontXform},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(C,I,B){"use strict";const z=C("../../../utils/under-dash"),q=C("../../defaultnumformats"),Q=C("../base-xform");function hashDefaultFormats(){const C={};return z.each(q,((I,B)=>{I.f&&(C[I.f]=parseInt(B,10))})),C}const ee=hashDefaultFormats();class NumFmtXform extends Q{constructor(C,I){super(),this.id=C,this.formatCode=I}get tag(){return"numFmt"}render(C,I){C.leafNode("numFmt",{numFmtId:I.id,formatCode:I.formatCode})}parseOpen(C){return"numFmt"===C.name&&(this.model={id:parseInt(C.attributes.numFmtId,10),formatCode:C.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0)}parseText(){}parseClose(){return!1}}NumFmtXform.getDefaultFmtId=function getDefaultFmtId(C){return ee[C]},NumFmtXform.getDefaultFmtCode=function getDefaultFmtCode(C){return q[C]&&q[C].f},I.exports=NumFmtXform},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(C,I,B){"use strict";const z=C("../base-xform"),q={boolean:(C,I)=>void 0===C?I:C};class ProtectionXform extends z{get tag(){return"protection"}render(C,I){C.addRollback(),C.openNode("protection");let B=!1;function add(I,z){void 0!==z&&(C.addAttribute(I,z),B=!0)}add("locked",q.boolean(I.locked,!0)?void 0:"0"),add("hidden",q.boolean(I.hidden,!1)?"1":void 0),C.closeNode(),B?C.commit():C.rollback()}parseOpen(C){const I={locked:!("0"===C.attributes.locked),hidden:"1"===C.attributes.hidden},B=!I.locked||I.hidden;this.model=B?I:null}parseText(){}parseClose(){return!1}}I.exports=ProtectionXform},{"../base-xform":32}],134:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./alignment-xform"),Q=C("./protection-xform");class StyleXform extends z{constructor(C){super(),this.xfId=!(!C||!C.xfId),this.map={alignment:new q,protection:new Q}}get tag(){return"xf"}render(C,I){C.openNode("xf",{numFmtId:I.numFmtId||0,fontId:I.fontId||0,fillId:I.fillId||0,borderId:I.borderId||0}),this.xfId&&C.addAttribute("xfId",I.xfId||0),I.numFmtId&&C.addAttribute("applyNumberFormat","1"),I.fontId&&C.addAttribute("applyFont","1"),I.fillId&&C.addAttribute("applyFill","1"),I.borderId&&C.addAttribute("applyBorder","1"),I.alignment&&C.addAttribute("applyAlignment","1"),I.protection&&C.addAttribute("applyProtection","1"),I.alignment&&this.map.alignment.render(C,I.alignment),I.protection&&this.map.protection.render(C,I.protection),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"xf":return this.model={numFmtId:parseInt(C.attributes.numFmtId,10),fontId:parseInt(C.attributes.fontId,10),fillId:parseInt(C.attributes.fillId,10),borderId:parseInt(C.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(C.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(C),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):"xf"!==C}}I.exports=StyleXform},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(C,I,B){"use strict";const z=C("../../../doc/enums"),q=C("../../../utils/xml-stream"),Q=C("../base-xform"),ee=C("../static-xform"),te=C("../list-xform"),ie=C("./font-xform"),re=C("./fill-xform"),ne=C("./border-xform"),se=C("./numfmt-xform"),oe=C("./style-xform"),ae=C("./dxf-xform"),le=164;class StylesXform extends Q{constructor(C){super(),this.map={numFmts:new te({tag:"numFmts",count:!0,childXform:new se}),fonts:new te({tag:"fonts",count:!0,childXform:new ie,$:{"x14ac:knownFonts":1}}),fills:new te({tag:"fills",count:!0,childXform:new re}),borders:new te({tag:"borders",count:!0,childXform:new ne}),cellStyleXfs:new te({tag:"cellStyleXfs",count:!0,childXform:new oe}),cellXfs:new te({tag:"cellXfs",count:!0,childXform:new oe({xfId:!0})}),dxfs:new te({tag:"dxfs",always:!0,count:!0,childXform:new ae}),numFmt:new se,font:new ie,fill:new re,border:new ne,style:new oe({xfId:!0}),cellStyles:StylesXform.STATIC_XFORMS.cellStyles,tableStyles:StylesXform.STATIC_XFORMS.tableStyles,extLst:StylesXform.STATIC_XFORMS.extLst},C&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(C,I){I=I||this.model,C.openXml(q.StdDocAttributes),C.openNode("styleSheet",StylesXform.STYLESHEET_ATTRIBUTES),this.index?(I.numFmts&&I.numFmts.length&&(C.openNode("numFmts",{count:I.numFmts.length}),I.numFmts.forEach((I=>{C.writeXml(I)})),C.closeNode()),I.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),C.openNode("fonts",{count:I.fonts.length,"x14ac:knownFonts":1}),I.fonts.forEach((I=>{C.writeXml(I)})),C.closeNode(),C.openNode("fills",{count:I.fills.length}),I.fills.forEach((I=>{C.writeXml(I)})),C.closeNode(),C.openNode("borders",{count:I.borders.length}),I.borders.forEach((I=>{C.writeXml(I)})),C.closeNode(),this.map.cellStyleXfs.render(C,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),C.openNode("cellXfs",{count:I.styles.length}),I.styles.forEach((I=>{C.writeXml(I)})),C.closeNode()):(this.map.numFmts.render(C,I.numFmts),this.map.fonts.render(C,I.fonts),this.map.fills.render(C,I.fills),this.map.borders.render(C,I.borders),this.map.cellStyleXfs.render(C,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(C,I.styles)),StylesXform.STATIC_XFORMS.cellStyles.render(C),this.map.dxfs.render(C,I.dxfs),StylesXform.STATIC_XFORMS.tableStyles.render(C),StylesXform.STATIC_XFORMS.extLst.render(C),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"styleSheet"===C.name?(this.initIndex(),!0):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("styleSheet"===C){this.model={};const add=(C,I)=>{I.model&&I.model.length&&(this.model[C]=I.model)};if(add("numFmts",this.map.numFmts),add("fonts",this.map.fonts),add("fills",this.map.fills),add("borders",this.map.borders),add("styles",this.map.cellXfs),add("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach((I=>{C[I.id]=I.formatCode}))}return!1}return!0}addStyleModel(C,I){if(!C)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(C))return this.weakMap.get(C);const B={};if(I=I||z.ValueType.Number,C.numFmt)B.numFmtId=this._addNumFmtStr(C.numFmt);else switch(I){case z.ValueType.Number:B.numFmtId=this._addNumFmtStr("General");break;case z.ValueType.Date:B.numFmtId=this._addNumFmtStr("mm-dd-yy")}C.font&&(B.fontId=this._addFont(C.font)),C.border&&(B.borderId=this._addBorder(C.border)),C.fill&&(B.fillId=this._addFill(C.fill)),C.alignment&&(B.alignment=C.alignment),C.protection&&(B.protection=C.protection);const q=this._addStyle(B);return this.weakMap&&this.weakMap.set(C,q),q}getStyleModel(C){const I=this.model.styles[C];if(!I)return null;let B=this.index.model[C];if(B)return B;if(B=this.index.model[C]={},I.numFmtId){const C=this.index.numFmt[I.numFmtId]||se.getDefaultFmtCode(I.numFmtId);C&&(B.numFmt=C)}function addStyle(C,I,z){if(z||0===z){const q=I[z];q&&(B[C]=q)}}return addStyle("font",this.model.fonts,I.fontId),addStyle("border",this.model.borders,I.borderId),addStyle("fill",this.model.fills,I.fillId),I.alignment&&(B.alignment=I.alignment),I.protection&&(B.protection=I.protection),B}addDxfStyle(C){return C.numFmt&&(C.numFmtId=this._addNumFmtStr(C.numFmt)),this.model.dxfs.push(C),this.model.dxfs.length-1}getDxfStyle(C){return this.model.dxfs[C]}_addStyle(C){const I=this.map.style.toXml(C);let B=this.index.style[I];return void 0===B&&(B=this.index.style[I]=this.model.styles.length,this.model.styles.push(I)),B}_addNumFmtStr(C){let I=se.getDefaultFmtId(C);if(void 0!==I)return I;if(I=this.index.numFmt[C],void 0!==I)return I;I=this.index.numFmt[C]=le+this.model.numFmts.length;const B=this.map.numFmt.toXml({id:I,formatCode:C});return this.model.numFmts.push(B),I}_addFont(C){const I=this.map.font.toXml(C);let B=this.index.font[I];return void 0===B&&(B=this.index.font[I]=this.model.fonts.length,this.model.fonts.push(I)),B}_addBorder(C){const I=this.map.border.toXml(C);let B=this.index.border[I];return void 0===B&&(B=this.index.border[I]=this.model.borders.length,this.model.borders.push(I)),B}_addFill(C){const I=this.map.fill.toXml(C);let B=this.index.fill[I];return void 0===B&&(B=this.index.fill[I]=this.model.fills.length,this.model.fills.push(I)),B}}StylesXform.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},StylesXform.STATIC_XFORMS={cellStyles:new ee({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new ee({tag:"dxfs",$:{count:0}}),tableStyles:new ee({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new ee({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};class StylesXformMock extends StylesXform{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(C){return C.autodrain(),Promise.resolve()}addStyleModel(C,I){return I===z.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const C={numFmtId:se.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(C)}return this._dateStyleId}getStyleModel(){return{}}}StylesXform.Mock=StylesXformMock,I.exports=StylesXform},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(C,I,B){"use strict";const z=C("../base-xform");class UnderlineXform extends z{constructor(C){super(),this.model=C}get tag(){return"u"}render(C,I){if(!0===(I=I||this.model))C.leafNode("u");else{const B=UnderlineXform.Attributes[I];B&&C.leafNode("u",B)}}parseOpen(C){"u"===C.name&&(this.model=C.attributes.val||!0)}parseText(){}parseClose(){return!1}}UnderlineXform.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},I.exports=UnderlineXform},{"../base-xform":32}],137:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("./filter-column-xform");class AutoFilterXform extends z{constructor(){super(),this.map={filterColumn:new q}}get tag(){return"autoFilter"}prepare(C){C.columns.forEach(((C,I)=>{this.map.filterColumn.prepare(C,{index:I})}))}render(C,I){return C.openNode(this.tag,{ref:I.autoFilterRef}),I.columns.forEach((I=>{this.map.filterColumn.render(C,I)})),C.closeNode(),!0}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if(C.name===this.tag)return this.model={autoFilterRef:C.attributes.ref,columns:[]},!0;if(this.parser=this.map[C.name],this.parser)return this.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(C===this.tag)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}I.exports=AutoFilterXform},{"../base-xform":32,"./filter-column-xform":139}],138:[function(C,I,B){"use strict";const z=C("../base-xform");class CustomFilterXform extends z{get tag(){return"customFilter"}render(C,I){C.leafNode(this.tag,{val:I.val,operator:I.operator})}parseOpen(C){return C.name===this.tag&&(this.model={val:C.attributes.val,operator:C.attributes.operator},!0)}parseText(){}parseClose(){return!1}}I.exports=CustomFilterXform},{"../base-xform":32}],139:[function(C,I,B){"use strict";const z=C("../base-xform"),q=C("../list-xform"),Q=C("./custom-filter-xform"),ee=C("./filter-xform");class FilterColumnXform extends z{constructor(){super(),this.map={customFilters:new q({tag:"customFilters",count:!1,empty:!0,childXform:new Q}),filters:new q({tag:"filters",count:!1,empty:!0,childXform:new ee})}}get tag(){return"filterColumn"}prepare(C,I){C.colId=I.index.toString()}render(C,I){return I.customFilters?(C.openNode(this.tag,{colId:I.colId,hiddenButton:I.filterButton?"0":"1"}),this.map.customFilters.render(C,I.customFilters),C.closeNode(),!0):(C.leafNode(this.tag,{colId:I.colId,hiddenButton:I.filterButton?"0":"1"}),!0)}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;const{attributes:I}=C;if(C.name===this.tag)return this.model={filterButton:"0"===I.hiddenButton},!0;if(this.parser=this.map[C.name],this.parser)return this.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.customFilters=this.map.customFilters.model,!1)}}I.exports=FilterColumnXform},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(C,I,B){"use strict";const z=C("../base-xform");class FilterXform extends z{get tag(){return"filter"}render(C,I){C.leafNode(this.tag,{val:I.val})}parseOpen(C){return C.name===this.tag&&(this.model={val:C.attributes.val},!0)}parseText(){}parseClose(){return!1}}I.exports=FilterXform},{"../base-xform":32}],141:[function(C,I,B){"use strict";const z=C("../base-xform");class TableColumnXform extends z{get tag(){return"tableColumn"}prepare(C,I){C.id=I.index+1}render(C,I){return C.leafNode(this.tag,{id:I.id.toString(),name:I.name,totalsRowLabel:I.totalsRowLabel,totalsRowFunction:I.totalsRowFunction,dxfId:I.dxfId}),!0}parseOpen(C){if(C.name===this.tag){const{attributes:I}=C;return this.model={name:I.name,totalsRowLabel:I.totalsRowLabel,totalsRowFunction:I.totalsRowFunction,dxfId:I.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}I.exports=TableColumnXform},{"../base-xform":32}],142:[function(C,I,B){"use strict";const z=C("../base-xform");class TableStyleInfoXform extends z{get tag(){return"tableStyleInfo"}render(C,I){return C.leafNode(this.tag,{name:I.theme?I.theme:void 0,showFirstColumn:I.showFirstColumn?"1":"0",showLastColumn:I.showLastColumn?"1":"0",showRowStripes:I.showRowStripes?"1":"0",showColumnStripes:I.showColumnStripes?"1":"0"}),!0}parseOpen(C){if(C.name===this.tag){const{attributes:I}=C;return this.model={theme:I.name?I.name:null,showFirstColumn:"1"===I.showFirstColumn,showLastColumn:"1"===I.showLastColumn,showRowStripes:"1"===I.showRowStripes,showColumnStripes:"1"===I.showColumnStripes},!0}return!1}parseText(){}parseClose(){return!1}}I.exports=TableStyleInfoXform},{"../base-xform":32}],143:[function(C,I,B){"use strict";const z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("../list-xform"),ee=C("./auto-filter-xform"),te=C("./table-column-xform"),ie=C("./table-style-info-xform");class TableXform extends q{constructor(){super(),this.map={autoFilter:new ee,tableColumns:new Q({tag:"tableColumns",count:!0,empty:!0,childXform:new te}),tableStyleInfo:new ie}}prepare(C,I){this.map.autoFilter.prepare(C),this.map.tableColumns.prepare(C.columns,I)}get tag(){return"table"}render(C,I){C.openXml(z.StdDocAttributes),C.openNode(this.tag,{...TableXform.TABLE_ATTRIBUTES,id:I.id,name:I.name,displayName:I.displayName||I.name,ref:I.tableRef,totalsRowCount:I.totalsRow?"1":void 0,totalsRowShown:I.totalsRow?void 0:"1",headerRowCount:I.headerRow?"1":"0"}),this.map.autoFilter.render(C,I),this.map.tableColumns.render(C,I.columns),this.map.tableStyleInfo.render(C,I.style),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;const{name:I,attributes:B}=C;return I===this.tag?(this.reset(),this.model={name:B.name,displayName:B.displayName||B.name,tableRef:B.ref,totalsRow:"1"===B.totalsRowCount,headerRow:"1"===B.headerRowCount}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach(((C,I)=>{this.model.columns[I].filterButton=C.filterButton}))),this.model.style=this.map.tableStyleInfo.model,!1)}reconcile(C,I){C.columns.forEach((C=>{void 0!==C.dxfId&&(C.style=I.styles.getDxfStyle(C.dxfId))}))}}TableXform.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},I.exports=TableXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(C,I,B){(function(B,z){(function(){"use strict";const q=C("fs"),Q=C("jszip"),{PassThrough:ee}=C("readable-stream"),te=C("../utils/zip-stream"),ie=C("../utils/stream-buf"),re=C("../utils/utils"),ne=C("../utils/xml-stream"),{bufferToString:se}=C("../utils/browser-buffer-decode"),oe=C("./xform/style/styles-xform"),ae=C("./xform/core/core-xform"),le=C("./xform/strings/shared-strings-xform"),ue=C("./xform/core/relationships-xform"),de=C("./xform/core/content-types-xform"),ce=C("./xform/core/app-xform"),he=C("./xform/book/workbook-xform"),fe=C("./xform/sheet/worksheet-xform"),pe=C("./xform/drawing/drawing-xform"),me=C("./xform/table/table-xform"),ge=C("./xform/comment/comments-xform"),ve=C("./xform/comment/vml-notes-xform"),ye=C("./xml/theme1");function fsReadFileAsync(C,I){return new Promise(((B,z)=>{q.readFile(C,I,((C,I)=>{C?z(C):B(I)}))}))}class XLSX{constructor(C){this.workbook=C}async readFile(C,I){if(!await re.fs.exists(C))throw new Error(`File not found: ${C}`);const B=q.createReadStream(C);try{const C=await this.read(B,I);return B.close(),C}catch(C){throw B.close(),C}}parseRels(C){return(new ue).parseStream(C)}parseWorkbook(C){return(new he).parseStream(C)}parseSharedStrings(C){return(new le).parseStream(C)}reconcile(C,I){const B=new he,z=new fe(I),q=new pe,Q=new me;B.reconcile(C);const ee={media:C.media,mediaIndex:C.mediaIndex};Object.keys(C.drawings).forEach((I=>{const B=C.drawings[I],z=C.drawingRels[I];z&&(ee.rels=z.reduce(((C,I)=>(C[I.Id]=I,C)),{}),(B.anchors||[]).forEach((C=>{const I=C.picture&&C.picture.hyperlinks;I&&ee.rels[I.rId]&&(I.hyperlink=ee.rels[I.rId].Target,delete I.rId)})),q.reconcile(B,ee))}));const te={styles:C.styles};Object.values(C.tables).forEach((C=>{Q.reconcile(C,te)}));const ie={styles:C.styles,sharedStrings:C.sharedStrings,media:C.media,mediaIndex:C.mediaIndex,date1904:C.properties&&C.properties.date1904,drawings:C.drawings,comments:C.comments,tables:C.tables,vmlDrawings:C.vmlDrawings};C.worksheets.forEach((I=>{I.relationships=C.worksheetRels[I.sheetNo],z.reconcile(I,ie)})),delete C.worksheetHash,delete C.worksheetRels,delete C.globalRels,delete C.sharedStrings,delete C.workbookRels,delete C.sheetDefs,delete C.styles,delete C.mediaIndex,delete C.drawings,delete C.drawingRels,delete C.vmlDrawings}async _processWorksheetEntry(C,I,B,z,q){const Q=new fe(z),ee=await Q.parseStream(C);ee.sheetNo=B,I.worksheetHash[q]=ee,I.worksheets.push(ee)}async _processCommentEntry(C,I,B){const z=new ge,q=await z.parseStream(C);I.comments[`../${B}.xml`]=q}async _processTableEntry(C,I,B){const z=new me,q=await z.parseStream(C);I.tables[`../tables/${B}.xml`]=q}async _processWorksheetRelsEntry(C,I,B){const z=new ue,q=await z.parseStream(C);I.worksheetRels[B]=q}async _processMediaEntry(C,I,B){const z=B.lastIndexOf(".");if(z>=1){const q=B.substr(z+1),Q=B.substr(0,z);await new Promise(((z,ee)=>{const te=new ie;te.on("finish",(()=>{I.mediaIndex[B]=I.media.length,I.mediaIndex[Q]=I.media.length;const C={type:"image",name:Q,extension:q,buffer:te.toBuffer()};I.media.push(C),z()})),C.on("error",(C=>{ee(C)})),C.pipe(te)}))}}async _processDrawingEntry(C,I,B){const z=new pe,q=await z.parseStream(C);I.drawings[B]=q}async _processDrawingRelsEntry(C,I,B){const z=new ue,q=await z.parseStream(C);I.drawingRels[B]=q}async _processVmlDrawingEntry(C,I,B){const z=new ve,q=await z.parseStream(C);I.vmlDrawings[`../drawings/${B}.vml`]=q}async _processThemeEntry(C,I,B){await new Promise(((z,q)=>{const Q=new ie;C.on("error",q),Q.on("error",q),Q.on("finish",(()=>{I.themes[B]=Q.read().toString(),z()})),C.pipe(Q)}))}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(C,I){!C[Symbol.asyncIterator]&&C.pipe&&(C=C.pipe(new ee));const B=[];for await(const I of C)B.push(I);return this.load(z.concat(B),I)}async load(C,I){let q;q=I&&I.base64?z.from(C.toString(),"base64"):C;const te={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},ie=await Q.loadAsync(q);for(const C of Object.values(ie.files))if(!C.dir){let z,q=C.name;if("/"===q[0]&&(q=q.substr(1)),q.match(/xl\/media\//)||q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))z=new ee,z.write(await C.async("nodebuffer"));else{let I;z=new ee({writableObjectMode:!0,readableObjectMode:!0}),I=B.browser?se(await C.async("nodebuffer")):await C.async("string");const q=16384;for(let C=0;C<I.length;C+=q)z.write(I.substring(C,C+q))}switch(z.end(),q){case"_rels/.rels":te.globalRels=await this.parseRels(z);break;case"xl/workbook.xml":{const C=await this.parseWorkbook(z);te.sheets=C.sheets,te.definedNames=C.definedNames,te.views=C.views,te.properties=C.properties,te.calcProperties=C.calcProperties;break}case"xl/_rels/workbook.xml.rels":te.workbookRels=await this.parseRels(z);break;case"xl/sharedStrings.xml":te.sharedStrings=new le,await te.sharedStrings.parseStream(z);break;case"xl/styles.xml":te.styles=new oe,await te.styles.parseStream(z);break;case"docProps/app.xml":{const C=new ce,I=await C.parseStream(z);te.company=I.company,te.manager=I.manager;break}case"docProps/core.xml":{const C=new ae,I=await C.parseStream(z);Object.assign(te,I);break}default:{let C=q.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(C){await this._processWorksheetEntry(z,te,C[1],I,q);break}if(C=q.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),C){await this._processWorksheetRelsEntry(z,te,C[1]);break}if(C=q.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),C){await this._processThemeEntry(z,te,C[1]);break}if(C=q.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),C){await this._processMediaEntry(z,te,C[1]);break}if(C=q.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),C){await this._processDrawingEntry(z,te,C[1]);break}if(C=q.match(/xl\/(comments\d+)[.]xml/),C){await this._processCommentEntry(z,te,C[1]);break}if(C=q.match(/xl\/tables\/(table\d+)[.]xml/),C){await this._processTableEntry(z,te,C[1]);break}if(C=q.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),C){await this._processDrawingRelsEntry(z,te,C[1]);break}if(C=q.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),C){await this._processVmlDrawingEntry(z,te,C[1]);break}}}}return this.reconcile(te,I),this.workbook.model=te,this.workbook}async addMedia(C,I){await Promise.all(I.media.map((async I=>{if("image"===I.type){const B=`xl/media/${I.name}.${I.extension}`;if(I.filename){const z=await fsReadFileAsync(I.filename);return C.append(z,{name:B})}if(I.buffer)return C.append(I.buffer,{name:B});if(I.base64){const z=I.base64,q=z.substring(z.indexOf(",")+1);return C.append(q,{name:B,base64:!0})}}throw new Error("Unsupported media")})))}addDrawings(C,I){const B=new pe,z=new ue;I.worksheets.forEach((I=>{const{drawing:q}=I;if(q){B.prepare(q,{});let I=B.toXml(q);C.append(I,{name:`xl/drawings/${q.name}.xml`}),I=z.toXml(q.rels),C.append(I,{name:`xl/drawings/_rels/${q.name}.xml.rels`})}}))}addTables(C,I){const B=new me;I.worksheets.forEach((I=>{const{tables:z}=I;z.forEach((I=>{B.prepare(I,{});const z=B.toXml(I);C.append(z,{name:`xl/tables/${I.target}`})}))}))}async addContentTypes(C,I){const B=(new de).toXml(I);C.append(B,{name:"[Content_Types].xml"})}async addApp(C,I){const B=(new ce).toXml(I);C.append(B,{name:"docProps/app.xml"})}async addCore(C,I){const B=new ae;C.append(B.toXml(I),{name:"docProps/core.xml"})}async addThemes(C,I){const B=I.themes||{theme1:ye};Object.keys(B).forEach((I=>{const z=B[I],q=`xl/theme/${I}.xml`;C.append(z,{name:q})}))}async addOfficeRels(C){const I=(new ue).toXml([{Id:"rId1",Type:XLSX.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:XLSX.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:XLSX.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);C.append(I,{name:"_rels/.rels"})}async addWorkbookRels(C,I){let B=1;const z=[{Id:"rId"+B++,Type:XLSX.RelType.Styles,Target:"styles.xml"},{Id:"rId"+B++,Type:XLSX.RelType.Theme,Target:"theme/theme1.xml"}];I.sharedStrings.count&&z.push({Id:"rId"+B++,Type:XLSX.RelType.SharedStrings,Target:"sharedStrings.xml"}),I.worksheets.forEach((C=>{C.rId="rId"+B++,z.push({Id:C.rId,Type:XLSX.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})}));const q=(new ue).toXml(z);C.append(q,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(C,I){I.sharedStrings&&I.sharedStrings.count&&C.append(I.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(C,I){const{xml:B}=I.styles;B&&C.append(B,{name:"xl/styles.xml"})}async addWorkbook(C,I){const B=new he;C.append(B.toXml(I),{name:"xl/workbook.xml"})}async addWorksheets(C,I){const B=new fe,z=new ue,q=new ge,Q=new ve;I.worksheets.forEach((I=>{let ee=new ne;B.render(ee,I),C.append(ee.xml,{name:`xl/worksheets/sheet${I.id}.xml`}),I.rels&&I.rels.length&&(ee=new ne,z.render(ee,I.rels),C.append(ee.xml,{name:`xl/worksheets/_rels/sheet${I.id}.xml.rels`})),I.comments.length>0&&(ee=new ne,q.render(ee,I),C.append(ee.xml,{name:`xl/comments${I.id}.xml`}),ee=new ne,Q.render(ee,I),C.append(ee.xml,{name:`xl/drawings/vmlDrawing${I.id}.vml`}))}))}_finalize(C){return new Promise(((I,B)=>{C.on("finish",(()=>{I(this)})),C.on("error",B),C.finalize()}))}prepareModel(C,I){C.creator=C.creator||"ExcelJS",C.lastModifiedBy=C.lastModifiedBy||"ExcelJS",C.created=C.created||new Date,C.modified=C.modified||new Date,C.useSharedStrings=void 0===I.useSharedStrings||I.useSharedStrings,C.useStyles=void 0===I.useStyles||I.useStyles,C.sharedStrings=new le,C.styles=C.useStyles?new oe(!0):new oe.Mock;const B=new he,z=new fe;B.prepare(C);const q={sharedStrings:C.sharedStrings,styles:C.styles,date1904:C.properties.date1904,drawingsCount:0,media:C.media};q.drawings=C.drawings=[],q.commentRefs=C.commentRefs=[];let Q=0;C.tables=[],C.worksheets.forEach((I=>{I.tables.forEach((I=>{Q++,I.target=`table${Q}.xml`,I.id=Q,C.tables.push(I)})),z.prepare(I,q)}))}async write(C,I){I=I||{};const{model:B}=this.workbook,z=new te.ZipWriter(I.zip);return z.pipe(C),this.prepareModel(B,I),await this.addContentTypes(z,B),await this.addOfficeRels(z,B),await this.addWorkbookRels(z,B),await this.addWorksheets(z,B),await this.addSharedStrings(z,B),await this.addDrawings(z,B),await this.addTables(z,B),await Promise.all([this.addThemes(z,B),this.addStyles(z,B)]),await this.addMedia(z,B),await Promise.all([this.addApp(z,B),this.addCore(z,B)]),await this.addWorkbook(z,B),this._finalize(z)}writeFile(C,I){const B=q.createWriteStream(C);return new Promise(((C,z)=>{B.on("finish",(()=>{C()})),B.on("error",(C=>{z(C)})),this.write(B,I).then((()=>{B.end()})).catch((C=>{z(C)}))}))}async writeBuffer(C){const I=new ie;return await this.write(I,C),I.read()}}XLSX.RelType=C("./rel-type"),I.exports=XLSX}).call(this)}).call(this,C("_process"),C("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(C,I,B){"use strict";I.exports='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>'},{}],146:[function(C,I,B){(function(I){(function(){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvFormatterStream=void 0;const z=C("stream"),q=C("./formatter");class CsvFormatterStream extends z.Transform{constructor(C){super({writableObjectMode:C.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=C,this.rowFormatter=new q.RowFormatter(C),this.hasWrittenBOM=!C.writeBOM}transform(C){return this.rowFormatter.rowTransform=C,this}_transform(C,B,z){let q=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(C,((C,B)=>C?(q=!0,z(C)):(B&&B.forEach((C=>{this.push(I.from(C,"utf8"))})),q=!0,z())))}catch(C){if(q)throw C;z(C)}}_flush(C){this.rowFormatter.finish(((B,z)=>B?C(B):(z&&z.forEach((C=>{this.push(I.from(C,"utf8"))})),C())))}}B.CsvFormatterStream=CsvFormatterStream}).call(this)}).call(this,C("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.FormatterOptions=void 0;class FormatterOptions{constructor(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var I;this.objectMode=!0,this.delimiter=",",this.rowDelimiter="\n",this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\ufeff",this.alwaysWriteHeaders=!1,Object.assign(this,C||{}),void 0===(null==C?void 0:C.quoteHeaders)&&(this.quoteHeaders=this.quoteColumns),!0===(null==C?void 0:C.quote)?this.quote='"':!1===(null==C?void 0:C.quote)&&(this.quote=""),"string"!=typeof(null==C?void 0:C.escape)&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&(null===(I=C.writeHeaders)||void 0===I||I),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}B.FormatterOptions=FormatterOptions},{}],148:[function(C,I,B){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(B,"__esModule",{value:!0}),B.FieldFormatter=void 0;const z=__importDefault(C("lodash.isboolean")),q=__importDefault(C("lodash.isnil")),Q=__importDefault(C("lodash.escaperegexp"));class FieldFormatter{constructor(C){this._headers=null,this.formatterOptions=C,null!==C.headers&&(this.headers=C.headers),this.REPLACE_REGEXP=new RegExp(C.quote,"g");const I=`[${C.delimiter}${Q.default(C.rowDelimiter)}|\r|\n]`;this.ESCAPE_REGEXP=new RegExp(I)}set headers(C){this._headers=C}shouldQuote(C,I){const B=I?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return z.default(B)?B:Array.isArray(B)?B[C]:null!==this._headers&&B[this._headers[C]]}format(C,I,B){const z=`${q.default(C)?"":C}`.replace(/\0/g,""),{formatterOptions:Q}=this;return""!==Q.quote&&-1!==z.indexOf(Q.quote)?this.quoteField(z.replace(this.REPLACE_REGEXP,Q.escapedQuote)):-1!==z.search(this.ESCAPE_REGEXP)||this.shouldQuote(I,B)?this.quoteField(z):z}quoteField(C){const{quote:I}=this.formatterOptions;return`${I}${C}${I}`}}B.FieldFormatter=FieldFormatter},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(C,I,B){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(B,"__esModule",{value:!0}),B.RowFormatter=void 0;const z=__importDefault(C("lodash.isfunction")),q=__importDefault(C("lodash.isequal")),Q=C("./FieldFormatter"),ee=C("../types");class RowFormatter{constructor(C){this.rowCount=0,this.formatterOptions=C,this.fieldFormatter=new Q.FieldFormatter(C),this.headers=C.headers,this.shouldWriteHeaders=C.shouldWriteHeaders,this.hasWrittenHeaders=!1,null!==this.headers&&(this.fieldFormatter.headers=this.headers),C.transform&&(this.rowTransform=C.transform)}static isRowHashArray(C){return!!Array.isArray(C)&&Array.isArray(C[0])&&2===C[0].length}static isRowArray(C){return Array.isArray(C)&&!this.isRowHashArray(C)}static gatherHeaders(C){return RowFormatter.isRowHashArray(C)?C.map((C=>C[0])):Array.isArray(C)?C:Object.keys(C)}static createTransform(C){return ee.isSyncTransform(C)?(I,B)=>{let z=null;try{z=C(I)}catch(C){return B(C)}return B(null,z)}:(I,B)=>{C(I,B)}}set rowTransform(C){if(!z.default(C))throw new TypeError("The transform should be a function");this._rowTransform=RowFormatter.createTransform(C)}format(C,I){this.callTransformer(C,((B,z)=>{if(B)return I(B);if(!C)return I(null);const q=[];if(z){const{shouldFormatColumns:C,headers:I}=this.checkHeaders(z);if(this.shouldWriteHeaders&&I&&!this.hasWrittenHeaders&&(q.push(this.formatColumns(I,!0)),this.hasWrittenHeaders=!0),C){const C=this.gatherColumns(z);q.push(this.formatColumns(C,!1))}}return I(null,q)}))}finish(C){const I=[];if(this.formatterOptions.alwaysWriteHeaders&&0===this.rowCount){if(!this.headers)return C(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));I.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&I.push(this.formatterOptions.rowDelimiter),C(null,I)}checkHeaders(C){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const I=RowFormatter.gatherHeaders(C);return this.headers=I,this.fieldFormatter.headers=I,this.shouldWriteHeaders?{shouldFormatColumns:!q.default(I,C),headers:I}:{shouldFormatColumns:!0,headers:null}}gatherColumns(C){if(null===this.headers)throw new Error("Headers is currently null");return Array.isArray(C)?RowFormatter.isRowHashArray(C)?this.headers.map(((I,B)=>{const z=C[B];return z?z[1]:""})):RowFormatter.isRowArray(C)&&!this.shouldWriteHeaders?C:this.headers.map(((I,B)=>C[B])):this.headers.map((I=>C[I]))}callTransformer(C,I){return this._rowTransform?this._rowTransform(C,I):I(null,C)}formatColumns(C,I){const B=C.map(((C,B)=>this.fieldFormatter.format(C,B,I))).join(this.formatterOptions.delimiter),{rowCount:z}=this;return this.rowCount+=1,z?[this.formatterOptions.rowDelimiter,B].join(""):B}}B.RowFormatter=RowFormatter},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.FieldFormatter=B.RowFormatter=void 0;var z=C("./RowFormatter");Object.defineProperty(B,"RowFormatter",{enumerable:!0,get:function(){return z.RowFormatter}});var q=C("./FieldFormatter");Object.defineProperty(B,"FieldFormatter",{enumerable:!0,get:function(){return q.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(C,I,B){(function(I){(function(){"use strict";var z=Object.create?function(C,I,B,z){void 0===z&&(z=B),Object.defineProperty(C,z,{enumerable:!0,get:function(){return I[B]}})}:function(C,I,B,z){void 0===z&&(z=B),C[z]=I[B]},q=Object.create?function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}:function(C,I){C.default=I},__importStar=function(C){if(C&&C.__esModule)return C;var I={};if(null!=C)for(var B in C)"default"!==B&&Object.prototype.hasOwnProperty.call(C,B)&&z(I,C,B);return q(I,C),I},__exportStar=function(C,I){for(var B in C)"default"===B||Object.prototype.hasOwnProperty.call(I,B)||z(I,C,B)};Object.defineProperty(B,"__esModule",{value:!0}),B.writeToPath=B.writeToString=B.writeToBuffer=B.writeToStream=B.write=B.format=B.FormatterOptions=B.CsvFormatterStream=void 0;const Q=C("util"),ee=C("stream"),te=__importStar(C("fs")),ie=C("./FormatterOptions"),re=C("./CsvFormatterStream");__exportStar(C("./types"),B);var ne=C("./CsvFormatterStream");Object.defineProperty(B,"CsvFormatterStream",{enumerable:!0,get:function(){return ne.CsvFormatterStream}});var se=C("./FormatterOptions");Object.defineProperty(B,"FormatterOptions",{enumerable:!0,get:function(){return se.FormatterOptions}}),B.format=C=>new re.CsvFormatterStream(new ie.FormatterOptions(C)),B.write=(C,I)=>{const z=B.format(I),q=Q.promisify(((C,I)=>{z.write(C,void 0,I)}));return C.reduce(((C,I)=>C.then((()=>q(I)))),Promise.resolve()).then((()=>z.end())).catch((C=>{z.emit("error",C)})),z},B.writeToStream=(C,I,z)=>B.write(I,z).pipe(C),B.writeToBuffer=function(C){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const q=[],Q=new ee.Writable({write(C,I,B){q.push(C),B()}});return new Promise(((ee,te)=>{Q.on("error",te).on("finish",(()=>ee(I.concat(q)))),B.write(C,z).pipe(Q)}))},B.writeToString=(C,I)=>B.writeToBuffer(C,I).then((C=>C.toString())),B.writeToPath=(C,I,z)=>{const q=te.createWriteStream(C,{encoding:"utf8"});return B.write(I,z).pipe(q)}}).call(this)}).call(this,C("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.isSyncTransform=void 0,B.isSyncTransform=C=>1===C.length},{}],153:[function(C,I,B){(function(I){(function(){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvParserStream=void 0;const z=C("string_decoder"),q=C("stream"),Q=C("./transforms"),ee=C("./parser");class CsvParserStream extends q.Transform{constructor(C){super({objectMode:C.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=C,this.parser=new ee.Parser(C),this.headerTransformer=new Q.HeaderTransformer(C),this.decoder=new z.StringDecoder(C.encoding),this.rowTransformerValidator=new Q.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(C){return this.rowTransformerValidator.rowTransform=C,this}validate(C){return this.rowTransformerValidator.rowValidator=C,this}emit(C){if("end"===C)return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var I=arguments.length,B=new Array(I>1?I-1:0),z=1;z<I;z++)B[z-1]=arguments[z];return super.emit(C,...B)}_transform(C,I,B){if(this.hasHitRowLimit)return B();const z=CsvParserStream.wrapDoneCallback(B);try{const{lines:I}=this,B=I+this.decoder.write(C),q=this.parse(B,!0);return this.processRows(q,z)}catch(C){return z(C)}}_flush(C){const I=CsvParserStream.wrapDoneCallback(C);if(this.hasHitRowLimit)return I();try{const C=this.lines+this.decoder.end(),B=this.parse(C,!1);return this.processRows(B,I)}catch(C){return I(C)}}parse(C,I){if(!C)return[];const{line:B,rows:z}=this.parser.parse(C,I);return this.lines=B,z}processRows(C,B){const z=C.length,iterate=q=>{const callNext=C=>C?B(C):q%100!=0?iterate(q+1):void I((()=>iterate(q+1)));if(this.checkAndEmitHeaders(),q>=z||this.hasHitRowLimit)return B();if(this.parsedLineCount+=1,this.shouldSkipLine)return callNext();const Q=C[q];this.rowCount+=1,this.parsedRowCount+=1;const ee=this.rowCount;return this.transformRow(Q,((C,I)=>{if(C)return this.rowCount-=1,callNext(C);if(!I)return callNext(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,callNext)}else this.emit("data-invalid",I.row,ee,I.reason);return callNext()}))};iterate(0)}transformRow(C,I){try{this.headerTransformer.transform(C,((B,z)=>B?I(B):z?z.isValid?z.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(z.row,I):this.skipRow(I):(this.rowCount-=1,this.parsedRowCount-=1,I(null,{row:null,isValid:!0})):this.shouldEmitRows?I(null,{isValid:!1,row:C}):this.skipRow(I):I(new Error("Expected result from header transform"))))}catch(C){I(C)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(C){return this.rowCount-=1,C(null,{row:null,isValid:!0})}pushRow(C,I){try{this.parserOptions.objectMode?this.push(C):this.push(JSON.stringify(C)),I()}catch(C){I(C)}}static wrapDoneCallback(C){let I=!1;return function(B){if(B){if(I)throw B;return I=!0,void C(B)}for(var z=arguments.length,q=new Array(z>1?z-1:0),Q=1;Q<z;Q++)q[Q-1]=arguments[Q];C(...q)}}}B.CsvParserStream=CsvParserStream}).call(this)}).call(this,C("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(C,I,B){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(B,"__esModule",{value:!0}),B.ParserOptions=void 0;const z=__importDefault(C("lodash.escaperegexp")),q=__importDefault(C("lodash.isnil"));class ParserOptions{constructor(C){var I;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,C||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=z.default(this.delimiter),this.escapeChar=null!==(I=this.escape)&&void 0!==I?I:this.quote,this.supportsComments=!q.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}B.ParserOptions=ParserOptions},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(C,I,B){"use strict";var z=Object.create?function(C,I,B,z){void 0===z&&(z=B),Object.defineProperty(C,z,{enumerable:!0,get:function(){return I[B]}})}:function(C,I,B,z){void 0===z&&(z=B),C[z]=I[B]},q=Object.create?function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}:function(C,I){C.default=I},__importStar=function(C){if(C&&C.__esModule)return C;var I={};if(null!=C)for(var B in C)"default"!==B&&Object.prototype.hasOwnProperty.call(C,B)&&z(I,C,B);return q(I,C),I},__exportStar=function(C,I){for(var B in C)"default"===B||Object.prototype.hasOwnProperty.call(I,B)||z(I,C,B)};Object.defineProperty(B,"__esModule",{value:!0}),B.parseString=B.parseFile=B.parseStream=B.parse=B.ParserOptions=B.CsvParserStream=void 0;const Q=__importStar(C("fs")),ee=C("stream"),te=C("./ParserOptions"),ie=C("./CsvParserStream");__exportStar(C("./types"),B);var re=C("./CsvParserStream");Object.defineProperty(B,"CsvParserStream",{enumerable:!0,get:function(){return re.CsvParserStream}});var ne=C("./ParserOptions");Object.defineProperty(B,"ParserOptions",{enumerable:!0,get:function(){return ne.ParserOptions}}),B.parse=C=>new ie.CsvParserStream(new te.ParserOptions(C)),B.parseStream=(C,I)=>C.pipe(new ie.CsvParserStream(new te.ParserOptions(I))),B.parseFile=function(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q.createReadStream(C).pipe(new ie.CsvParserStream(new te.ParserOptions(I)))},B.parseString=(C,I)=>{const B=new ee.Readable;return B.push(C),B.push(null),B.pipe(new ie.CsvParserStream(new te.ParserOptions(I)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Parser=void 0;const z=C("./Scanner"),q=C("./RowParser"),Q=C("./Token");class Parser{constructor(C){this.parserOptions=C,this.rowParser=new q.RowParser(this.parserOptions)}static removeBOM(C){return C&&65279===C.charCodeAt(0)?C.slice(1):C}parse(C,I){const B=new z.Scanner({line:Parser.removeBOM(C),parserOptions:this.parserOptions,hasMoreData:I});return this.parserOptions.supportsComments?this.parseWithComments(B):this.parseWithoutComments(B)}parseWithoutComments(C){const I=[];let B=!0;for(;B;)B=this.parseRow(C,I);return{line:C.line,rows:I}}parseWithComments(C){const{parserOptions:I}=this,B=[];for(let z=C.nextCharacterToken;null!==z;z=C.nextCharacterToken)if(Q.Token.isTokenComment(z,I)){if(null===C.advancePastLine())return{line:C.lineFromCursor,rows:B};if(!C.hasMoreCharacters)return{line:C.lineFromCursor,rows:B};C.truncateToCursor()}else if(!this.parseRow(C,B))break;return{line:C.line,rows:B}}parseRow(C,I){if(!C.nextNonSpaceToken)return!1;const B=this.rowParser.parse(C);return null!==B&&(this.parserOptions.ignoreEmpty&&q.RowParser.isEmptyRow(B)||I.push(B),!0)}}B.Parser=Parser},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.RowParser=void 0;const z=C("./column"),q=C("./Token"),Q="";class RowParser{constructor(C){this.parserOptions=C,this.columnParser=new z.ColumnParser(C)}static isEmptyRow(C){return C.join(Q).replace(/\s+/g,Q)===Q}parse(C){const{parserOptions:I}=this,{hasMoreData:B}=C,z=C,Q=[];let ee=this.getStartToken(z,Q);for(;ee;){if(q.Token.isTokenRowDelimiter(ee))return z.advancePastToken(ee),!z.hasMoreCharacters&&q.Token.isTokenCarriageReturn(ee,I)&&B?null:(z.truncateToCursor(),Q);if(!this.shouldSkipColumnParse(z,ee,Q)){const C=this.columnParser.parse(z);if(null===C)return null;Q.push(C)}ee=z.nextNonSpaceToken}return B?null:(z.truncateToCursor(),Q)}getStartToken(C,I){const B=C.nextNonSpaceToken;return null!==B&&q.Token.isTokenDelimiter(B,this.parserOptions)?(I.push(""),C.nextNonSpaceToken):B}shouldSkipColumnParse(C,I,B){const{parserOptions:z}=this;if(q.Token.isTokenDelimiter(I,z)){C.advancePastToken(I);const Q=C.nextCharacterToken;if(!C.hasMoreCharacters||null!==Q&&q.Token.isTokenRowDelimiter(Q))return B.push(""),!0;if(null!==Q&&q.Token.isTokenDelimiter(Q,z))return B.push(""),!0}return!1}}B.RowParser=RowParser},{"./Token":159,"./column":164}],158:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Scanner=void 0;const z=C("./Token"),q=/((?:\r\n)|\n|\r)/;class Scanner{constructor(C){this.cursor=0,this.line=C.line,this.lineLength=this.line.length,this.parserOptions=C.parserOptions,this.hasMoreData=C.hasMoreData,this.cursor=C.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:C}=this,I=this.parserOptions.NEXT_TOKEN_REGEXP;if(-1===C.search(I))return null;const B=I.exec(C);if(null==B)return null;const q=B[1],Q=this.cursor+(B.index||0);return new z.Token({token:q,startCursor:Q,endCursor:Q+q.length-1})}get nextCharacterToken(){const{cursor:C,lineLength:I}=this;return I<=C?null:new z.Token({token:this.line[C],startCursor:C,endCursor:C})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const C=q.exec(this.lineFromCursor);return C?(this.cursor+=(C.index||0)+C[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(C){return this.cursor=C,this}advanceToToken(C){return this.cursor=C.startCursor,this}advancePastToken(C){return this.cursor=C.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}B.Scanner=Scanner},{"./Token":159}],159:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.Token=void 0;class Token{constructor(C){this.token=C.token,this.startCursor=C.startCursor,this.endCursor=C.endCursor}static isTokenRowDelimiter(C){const I=C.token;return"\r"===I||"\n"===I||"\r\n"===I}static isTokenCarriageReturn(C,I){return C.token===I.carriageReturn}static isTokenComment(C,I){return I.supportsComments&&!!C&&C.token===I.comment}static isTokenEscapeCharacter(C,I){return C.token===I.escapeChar}static isTokenQuote(C,I){return C.token===I.quote}static isTokenDelimiter(C,I){return C.token===I.delimiter}}B.Token=Token},{}],160:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnFormatter=void 0;class ColumnFormatter{constructor(C){C.trim?this.format=C=>C.trim():C.ltrim?this.format=C=>C.trimLeft():C.rtrim?this.format=C=>C.trimRight():this.format=C=>C}}B.ColumnFormatter=ColumnFormatter},{}],161:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnParser=void 0;const z=C("./NonQuotedColumnParser"),q=C("./QuotedColumnParser"),Q=C("../Token");class ColumnParser{constructor(C){this.parserOptions=C,this.quotedColumnParser=new q.QuotedColumnParser(C),this.nonQuotedColumnParser=new z.NonQuotedColumnParser(C)}parse(C){const{nextNonSpaceToken:I}=C;return null!==I&&Q.Token.isTokenQuote(I,this.parserOptions)?(C.advanceToToken(I),this.quotedColumnParser.parse(C)):this.nonQuotedColumnParser.parse(C)}}B.ColumnParser=ColumnParser},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.NonQuotedColumnParser=void 0;const z=C("./ColumnFormatter"),q=C("../Token");class NonQuotedColumnParser{constructor(C){this.parserOptions=C,this.columnFormatter=new z.ColumnFormatter(C)}parse(C){if(!C.hasMoreCharacters)return null;const{parserOptions:I}=this,B=[];let z=C.nextCharacterToken;for(;z&&!q.Token.isTokenDelimiter(z,I)&&!q.Token.isTokenRowDelimiter(z);z=C.nextCharacterToken)B.push(z.token),C.advancePastToken(z);return this.columnFormatter.format(B.join(""))}}B.NonQuotedColumnParser=NonQuotedColumnParser},{"../Token":159,"./ColumnFormatter":160}],163:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.QuotedColumnParser=void 0;const z=C("./ColumnFormatter"),q=C("../Token");class QuotedColumnParser{constructor(C){this.parserOptions=C,this.columnFormatter=new z.ColumnFormatter(C)}parse(C){if(!C.hasMoreCharacters)return null;const I=C.cursor,{foundClosingQuote:B,col:z}=this.gatherDataBetweenQuotes(C);if(!B){if(C.advanceTo(I),!C.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${C.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(C),z}gatherDataBetweenQuotes(C){const{parserOptions:I}=this;let B=!1,z=!1;const Q=[];let ee=C.nextCharacterToken;for(;!z&&null!==ee;ee=C.nextCharacterToken){const te=q.Token.isTokenQuote(ee,I);if(!B&&te)B=!0;else if(B)if(q.Token.isTokenEscapeCharacter(ee,I)){C.advancePastToken(ee);const B=C.nextCharacterToken;null!==B&&(q.Token.isTokenQuote(B,I)||q.Token.isTokenEscapeCharacter(B,I))?(Q.push(B.token),ee=B):te?z=!0:Q.push(ee.token)}else te?z=!0:Q.push(ee.token);C.advancePastToken(ee)}return{col:this.columnFormatter.format(Q.join("")),foundClosingQuote:z}}checkForMalformedColumn(C){const{parserOptions:I}=this,{nextNonSpaceToken:B}=C;if(B){const z=q.Token.isTokenDelimiter(B,I),Q=q.Token.isTokenRowDelimiter(B);if(!z&&!Q){const z=C.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${I.escapedDelimiter}' OR new line got: '${B.token}'. at '${z}`)}C.advanceToToken(B)}else C.hasMoreData||C.advancePastLine()}}B.QuotedColumnParser=QuotedColumnParser},{"../Token":159,"./ColumnFormatter":160}],164:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.ColumnFormatter=B.QuotedColumnParser=B.NonQuotedColumnParser=B.ColumnParser=void 0;var z=C("./ColumnParser");Object.defineProperty(B,"ColumnParser",{enumerable:!0,get:function(){return z.ColumnParser}});var q=C("./NonQuotedColumnParser");Object.defineProperty(B,"NonQuotedColumnParser",{enumerable:!0,get:function(){return q.NonQuotedColumnParser}});var Q=C("./QuotedColumnParser");Object.defineProperty(B,"QuotedColumnParser",{enumerable:!0,get:function(){return Q.QuotedColumnParser}});var ee=C("./ColumnFormatter");Object.defineProperty(B,"ColumnFormatter",{enumerable:!0,get:function(){return ee.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.QuotedColumnParser=B.NonQuotedColumnParser=B.ColumnParser=B.Token=B.Scanner=B.RowParser=B.Parser=void 0;var z=C("./Parser");Object.defineProperty(B,"Parser",{enumerable:!0,get:function(){return z.Parser}});var q=C("./RowParser");Object.defineProperty(B,"RowParser",{enumerable:!0,get:function(){return q.RowParser}});var Q=C("./Scanner");Object.defineProperty(B,"Scanner",{enumerable:!0,get:function(){return Q.Scanner}});var ee=C("./Token");Object.defineProperty(B,"Token",{enumerable:!0,get:function(){return ee.Token}});var te=C("./column");Object.defineProperty(B,"ColumnParser",{enumerable:!0,get:function(){return te.ColumnParser}}),Object.defineProperty(B,"NonQuotedColumnParser",{enumerable:!0,get:function(){return te.NonQuotedColumnParser}}),Object.defineProperty(B,"QuotedColumnParser",{enumerable:!0,get:function(){return te.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(C,I,B){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(B,"__esModule",{value:!0}),B.HeaderTransformer=void 0;const z=__importDefault(C("lodash.isundefined")),q=__importDefault(C("lodash.isfunction")),Q=__importDefault(C("lodash.uniq")),ee=__importDefault(C("lodash.groupby"));class HeaderTransformer{constructor(C){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=C,!0===C.headers?this.shouldUseFirstRow=!0:Array.isArray(C.headers)?this.setHeaders(C.headers):q.default(C.headers)&&(this.headersTransform=C.headers)}transform(C,I){return this.shouldMapRow(C)?I(null,this.processRow(C)):I(null,{row:null,isValid:!0})}shouldMapRow(C){const{parserOptions:I}=this;if(!this.headersTransform&&I.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(C)){if(this.headersTransform)this.setHeaders(this.headersTransform(C));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(C)}return!1}return!0}processRow(C){if(!this.headers)return{row:C,isValid:!0};const{parserOptions:I}=this;if(!I.discardUnmappedColumns&&C.length>this.headersLength){if(!I.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${C.length}`);return{row:C,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${C.length}`}}return I.strictColumnHandling&&C.length<this.headersLength?{row:C,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${C.length}`}:{row:this.mapHeaders(C),isValid:!0}}mapHeaders(C){const I={},{headers:B,headersLength:q}=this;for(let Q=0;Q<q;Q+=1){const q=B[Q];if(!z.default(q)){const B=C[Q];z.default(B)?I[q]="":I[q]=B}}return I}setHeaders(C){var I;const B=C.filter((C=>!!C));if(Q.default(B).length!==B.length){const C=ee.default(B),I=Object.keys(C).filter((I=>C[I].length>1));throw new Error(`Duplicate headers found ${JSON.stringify(I)}`)}this.headers=C,this.receivedHeaders=!0,this.headersLength=(null===(I=this.headers)||void 0===I?void 0:I.length)||0}}B.HeaderTransformer=HeaderTransformer},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(C,I,B){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(B,"__esModule",{value:!0}),B.RowTransformerValidator=void 0;const z=__importDefault(C("lodash.isfunction")),q=C("../types");class RowTransformerValidator{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(C){return q.isSyncTransform(C)?(I,B)=>{let z=null;try{z=C(I)}catch(C){return B(C)}return B(null,z)}:C}static createValidator(C){return q.isSyncValidate(C)?(I,B)=>{B(null,{row:I,isValid:C(I)})}:(I,B)=>{C(I,((C,z,q)=>C?B(C):B(null,z?{row:I,isValid:z,reason:q}:{row:I,isValid:!1,reason:q})))}}set rowTransform(C){if(!z.default(C))throw new TypeError("The transform should be a function");this._rowTransform=RowTransformerValidator.createTransform(C)}set rowValidator(C){if(!z.default(C))throw new TypeError("The validate should be a function");this._rowValidator=RowTransformerValidator.createValidator(C)}transformAndValidate(C,I){return this.callTransformer(C,((C,B)=>C?I(C):B?this.callValidator(B,((C,z)=>C?I(C):z&&!z.isValid?I(null,{row:B,isValid:!1,reason:z.reason}):I(null,{row:B,isValid:!0}))):I(null,{row:null,isValid:!0})))}callTransformer(C,I){return this._rowTransform?this._rowTransform(C,I):I(null,C)}callValidator(C,I){return this._rowValidator?this._rowValidator(C,I):I(null,{row:C,isValid:!0})}}B.RowTransformerValidator=RowTransformerValidator},{"../types":169,"lodash.isfunction":446}],168:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.HeaderTransformer=B.RowTransformerValidator=void 0;var z=C("./RowTransformerValidator");Object.defineProperty(B,"RowTransformerValidator",{enumerable:!0,get:function(){return z.RowTransformerValidator}});var q=C("./HeaderTransformer");Object.defineProperty(B,"HeaderTransformer",{enumerable:!0,get:function(){return q.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.isSyncValidate=B.isSyncTransform=void 0,B.isSyncTransform=C=>1===C.length,B.isSyncValidate=C=>1===C.length},{}],170:[function(C,I,B){"use strict";const z=B;z.bignum=C("bn.js"),z.define=C("./asn1/api").define,z.base=C("./asn1/base"),z.constants=C("./asn1/constants"),z.decoders=C("./asn1/decoders"),z.encoders=C("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(C,I,B){"use strict";const z=C("./encoders"),q=C("./decoders"),Q=C("inherits");function Entity(C,I){this.name=C,this.body=I,this.decoders={},this.encoders={}}B.define=function define(C,I){return new Entity(C,I)},Entity.prototype._createNamed=function createNamed(C){const I=this.name;function Generated(C){this._initNamed(C,I)}return Q(Generated,C),Generated.prototype._initNamed=function _initNamed(I,B){C.call(this,I,B)},new Generated(this)},Entity.prototype._getDecoder=function _getDecoder(C){return C=C||"der",this.decoders.hasOwnProperty(C)||(this.decoders[C]=this._createNamed(q[C])),this.decoders[C]},Entity.prototype.decode=function decode(C,I,B){return this._getDecoder(I).decode(C,B)},Entity.prototype._getEncoder=function _getEncoder(C){return C=C||"der",this.encoders.hasOwnProperty(C)||(this.encoders[C]=this._createNamed(z[C])),this.encoders[C]},Entity.prototype.encode=function encode(C,I,B){return this._getEncoder(I).encode(C,B)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(C,I,B){"use strict";const z=C("inherits"),q=C("../base/reporter").Reporter,Q=C("safer-buffer").Buffer;function DecoderBuffer(C,I){q.call(this,I),Q.isBuffer(C)?(this.base=C,this.offset=0,this.length=C.length):this.error("Input not Buffer")}function EncoderBuffer(C,I){if(Array.isArray(C))this.length=0,this.value=C.map((function(C){return EncoderBuffer.isEncoderBuffer(C)||(C=new EncoderBuffer(C,I)),this.length+=C.length,C}),this);else if("number"==typeof C){if(!(0<=C&&C<=255))return I.error("non-byte EncoderBuffer value");this.value=C,this.length=1}else if("string"==typeof C)this.value=C,this.length=Q.byteLength(C);else{if(!Q.isBuffer(C))return I.error("Unsupported type: "+typeof C);this.value=C,this.length=C.length}}z(DecoderBuffer,q),B.DecoderBuffer=DecoderBuffer,DecoderBuffer.isDecoderBuffer=function isDecoderBuffer(C){return C instanceof DecoderBuffer||"object"==typeof C&&Q.isBuffer(C.base)&&"DecoderBuffer"===C.constructor.name&&"number"==typeof C.offset&&"number"==typeof C.length&&"function"==typeof C.save&&"function"==typeof C.restore&&"function"==typeof C.isEmpty&&"function"==typeof C.readUInt8&&"function"==typeof C.skip&&"function"==typeof C.raw},DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:q.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function restore(C){const I=new DecoderBuffer(this.base);return I.offset=C.offset,I.length=this.offset,this.offset=C.offset,q.prototype.restore.call(this,C.reporter),I},DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function readUInt8(C){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(C||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function skip(C,I){if(!(this.offset+C<=this.length))return this.error(I||"DecoderBuffer overrun");const B=new DecoderBuffer(this.base);return B._reporterState=this._reporterState,B.offset=this.offset,B.length=this.offset+C,this.offset+=C,B},DecoderBuffer.prototype.raw=function raw(C){return this.base.slice(C?C.offset:this.offset,this.length)},B.EncoderBuffer=EncoderBuffer,EncoderBuffer.isEncoderBuffer=function isEncoderBuffer(C){return C instanceof EncoderBuffer||"object"==typeof C&&"EncoderBuffer"===C.constructor.name&&"number"==typeof C.length&&"function"==typeof C.join},EncoderBuffer.prototype.join=function join(C,I){return C||(C=Q.alloc(this.length)),I||(I=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(B){B.join(C,I),I+=B.length})):("number"==typeof this.value?C[I]=this.value:"string"==typeof this.value?C.write(this.value,I):Q.isBuffer(this.value)&&this.value.copy(C,I),I+=this.length)),C}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(C,I,B){"use strict";const z=B;z.Reporter=C("./reporter").Reporter,z.DecoderBuffer=C("./buffer").DecoderBuffer,z.EncoderBuffer=C("./buffer").EncoderBuffer,z.Node=C("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(C,I,B){"use strict";const z=C("../base/reporter").Reporter,q=C("../base/buffer").EncoderBuffer,Q=C("../base/buffer").DecoderBuffer,ee=C("minimalistic-assert"),te=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ie=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(te),re=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(C,I,B){const z={};this._baseState=z,z.name=B,z.enc=C,z.parent=I||null,z.children=null,z.tag=null,z.args=null,z.reverseArgs=null,z.choice=null,z.optional=!1,z.any=!1,z.obj=!1,z.use=null,z.useDecoder=null,z.key=null,z.default=null,z.explicit=null,z.implicit=null,z.contains=null,z.parent||(z.children=[],this._wrap())}I.exports=Node;const ne=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){const C=this._baseState,I={};ne.forEach((function(B){I[B]=C[B]}));const B=new this.constructor(I.parent);return B._baseState=I,B},Node.prototype._wrap=function wrap(){const C=this._baseState;ie.forEach((function(I){this[I]=function _wrappedMethod(){const B=new this.constructor(this);return C.children.push(B),B[I].apply(B,arguments)}}),this)},Node.prototype._init=function init(C){const I=this._baseState;ee(null===I.parent),C.call(this),I.children=I.children.filter((function(C){return C._baseState.parent===this}),this),ee.equal(I.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function useArgs(C){const I=this._baseState,B=C.filter((function(C){return C instanceof this.constructor}),this);C=C.filter((function(C){return!(C instanceof this.constructor)}),this),0!==B.length&&(ee(null===I.children),I.children=B,B.forEach((function(C){C._baseState.parent=this}),this)),0!==C.length&&(ee(null===I.args),I.args=C,I.reverseArgs=C.map((function(C){if("object"!=typeof C||C.constructor!==Object)return C;const I={};return Object.keys(C).forEach((function(B){B==(0|B)&&(B|=0);const z=C[B];I[z]=B})),I})))},re.forEach((function(C){Node.prototype[C]=function _overrided(){const I=this._baseState;throw new Error(C+" not implemented for encoding: "+I.enc)}})),te.forEach((function(C){Node.prototype[C]=function _tagMethod(){const I=this._baseState,B=Array.prototype.slice.call(arguments);return ee(null===I.tag),I.tag=C,this._useArgs(B),this}})),Node.prototype.use=function use(C){ee(C);const I=this._baseState;return ee(null===I.use),I.use=C,this},Node.prototype.optional=function optional(){return this._baseState.optional=!0,this},Node.prototype.def=function def(C){const I=this._baseState;return ee(null===I.default),I.default=C,I.optional=!0,this},Node.prototype.explicit=function explicit(C){const I=this._baseState;return ee(null===I.explicit&&null===I.implicit),I.explicit=C,this},Node.prototype.implicit=function implicit(C){const I=this._baseState;return ee(null===I.explicit&&null===I.implicit),I.implicit=C,this},Node.prototype.obj=function obj(){const C=this._baseState,I=Array.prototype.slice.call(arguments);return C.obj=!0,0!==I.length&&this._useArgs(I),this},Node.prototype.key=function key(C){const I=this._baseState;return ee(null===I.key),I.key=C,this},Node.prototype.any=function any(){return this._baseState.any=!0,this},Node.prototype.choice=function choice(C){const I=this._baseState;return ee(null===I.choice),I.choice=C,this._useArgs(Object.keys(C).map((function(I){return C[I]}))),this},Node.prototype.contains=function contains(C){const I=this._baseState;return ee(null===I.use),I.contains=C,this},Node.prototype._decode=function decode(C,I){const B=this._baseState;if(null===B.parent)return C.wrapResult(B.children[0]._decode(C,I));let z,q=B.default,ee=!0,te=null;if(null!==B.key&&(te=C.enterKey(B.key)),B.optional){let z=null;if(null!==B.explicit?z=B.explicit:null!==B.implicit?z=B.implicit:null!==B.tag&&(z=B.tag),null!==z||B.any){if(ee=this._peekTag(C,z,B.any),C.isError(ee))return ee}else{const z=C.save();try{null===B.choice?this._decodeGeneric(B.tag,C,I):this._decodeChoice(C,I),ee=!0}catch(C){ee=!1}C.restore(z)}}if(B.obj&&ee&&(z=C.enterObject()),ee){if(null!==B.explicit){const I=this._decodeTag(C,B.explicit);if(C.isError(I))return I;C=I}const z=C.offset;if(null===B.use&&null===B.choice){let I;B.any&&(I=C.save());const z=this._decodeTag(C,null!==B.implicit?B.implicit:B.tag,B.any);if(C.isError(z))return z;B.any?q=C.raw(I):C=z}if(I&&I.track&&null!==B.tag&&I.track(C.path(),z,C.length,"tagged"),I&&I.track&&null!==B.tag&&I.track(C.path(),C.offset,C.length,"content"),B.any||(q=null===B.choice?this._decodeGeneric(B.tag,C,I):this._decodeChoice(C,I)),C.isError(q))return q;if(B.any||null!==B.choice||null===B.children||B.children.forEach((function decodeChildren(B){B._decode(C,I)})),B.contains&&("octstr"===B.tag||"bitstr"===B.tag)){const z=new Q(q);q=this._getUse(B.contains,C._reporterState.obj)._decode(z,I)}}return B.obj&&ee&&(q=C.leaveObject(z)),null===B.key||null===q&&!0!==ee?null!==te&&C.exitKey(te):C.leaveKey(te,B.key,q),q},Node.prototype._decodeGeneric=function decodeGeneric(C,I,B){const z=this._baseState;return"seq"===C||"set"===C?null:"seqof"===C||"setof"===C?this._decodeList(I,C,z.args[0],B):/str$/.test(C)?this._decodeStr(I,C,B):"objid"===C&&z.args?this._decodeObjid(I,z.args[0],z.args[1],B):"objid"===C?this._decodeObjid(I,null,null,B):"gentime"===C||"utctime"===C?this._decodeTime(I,C,B):"null_"===C?this._decodeNull(I,B):"bool"===C?this._decodeBool(I,B):"objDesc"===C?this._decodeStr(I,C,B):"int"===C||"enum"===C?this._decodeInt(I,z.args&&z.args[0],B):null!==z.use?this._getUse(z.use,I._reporterState.obj)._decode(I,B):I.error("unknown tag: "+C)},Node.prototype._getUse=function _getUse(C,I){const B=this._baseState;return B.useDecoder=this._use(C,I),ee(null===B.useDecoder._baseState.parent),B.useDecoder=B.useDecoder._baseState.children[0],B.implicit!==B.useDecoder._baseState.implicit&&(B.useDecoder=B.useDecoder.clone(),B.useDecoder._baseState.implicit=B.implicit),B.useDecoder},Node.prototype._decodeChoice=function decodeChoice(C,I){const B=this._baseState;let z=null,q=!1;return Object.keys(B.choice).some((function(Q){const ee=C.save(),te=B.choice[Q];try{const B=te._decode(C,I);if(C.isError(B))return!1;z={type:Q,value:B},q=!0}catch(I){return C.restore(ee),!1}return!0}),this),q?z:C.error("Choice not matched")},Node.prototype._createEncoderBuffer=function createEncoderBuffer(C){return new q(C,this.reporter)},Node.prototype._encode=function encode(C,I,B){const z=this._baseState;if(null!==z.default&&z.default===C)return;const q=this._encodeValue(C,I,B);return void 0===q||this._skipDefault(q,I,B)?void 0:q},Node.prototype._encodeValue=function encode(C,I,B){const q=this._baseState;if(null===q.parent)return q.children[0]._encode(C,I||new z);let Q=null;if(this.reporter=I,q.optional&&void 0===C){if(null===q.default)return;C=q.default}let ee=null,te=!1;if(q.any)Q=this._createEncoderBuffer(C);else if(q.choice)Q=this._encodeChoice(C,I);else if(q.contains)ee=this._getUse(q.contains,B)._encode(C,I),te=!0;else if(q.children)ee=q.children.map((function(B){if("null_"===B._baseState.tag)return B._encode(null,I,C);if(null===B._baseState.key)return I.error("Child should have a key");const z=I.enterKey(B._baseState.key);if("object"!=typeof C)return I.error("Child expected, but input is not object");const q=B._encode(C[B._baseState.key],I,C);return I.leaveKey(z),q}),this).filter((function(C){return C})),ee=this._createEncoderBuffer(ee);else if("seqof"===q.tag||"setof"===q.tag){if(!q.args||1!==q.args.length)return I.error("Too many args for : "+q.tag);if(!Array.isArray(C))return I.error("seqof/setof, but data is not Array");const B=this.clone();B._baseState.implicit=null,ee=this._createEncoderBuffer(C.map((function(B){const z=this._baseState;return this._getUse(z.args[0],C)._encode(B,I)}),B))}else null!==q.use?Q=this._getUse(q.use,B)._encode(C,I):(ee=this._encodePrimitive(q.tag,C),te=!0);if(!q.any&&null===q.choice){const C=null!==q.implicit?q.implicit:q.tag,B=null===q.implicit?"universal":"context";null===C?null===q.use&&I.error("Tag could be omitted only for .use()"):null===q.use&&(Q=this._encodeComposite(C,te,B,ee))}return null!==q.explicit&&(Q=this._encodeComposite(q.explicit,!1,"context",Q)),Q},Node.prototype._encodeChoice=function encodeChoice(C,I){const B=this._baseState,z=B.choice[C.type];return z||ee(!1,C.type+" not found in "+JSON.stringify(Object.keys(B.choice))),z._encode(C.value,I)},Node.prototype._encodePrimitive=function encodePrimitive(C,I){const B=this._baseState;if(/str$/.test(C))return this._encodeStr(I,C);if("objid"===C&&B.args)return this._encodeObjid(I,B.reverseArgs[0],B.args[1]);if("objid"===C)return this._encodeObjid(I,null,null);if("gentime"===C||"utctime"===C)return this._encodeTime(I,C);if("null_"===C)return this._encodeNull();if("int"===C||"enum"===C)return this._encodeInt(I,B.args&&B.reverseArgs[0]);if("bool"===C)return this._encodeBool(I);if("objDesc"===C)return this._encodeStr(I,C);throw new Error("Unsupported tag: "+C)},Node.prototype._isNumstr=function isNumstr(C){return/^[0-9 ]*$/.test(C)},Node.prototype._isPrintstr=function isPrintstr(C){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(C)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(C,I,B){"use strict";const z=C("inherits");function Reporter(C){this._reporterState={obj:null,path:[],options:C||{},errors:[]}}function ReporterError(C,I){this.path=C,this.rethrow(I)}B.Reporter=Reporter,Reporter.prototype.isError=function isError(C){return C instanceof ReporterError},Reporter.prototype.save=function save(){const C=this._reporterState;return{obj:C.obj,pathLen:C.path.length}},Reporter.prototype.restore=function restore(C){const I=this._reporterState;I.obj=C.obj,I.path=I.path.slice(0,C.pathLen)},Reporter.prototype.enterKey=function enterKey(C){return this._reporterState.path.push(C)},Reporter.prototype.exitKey=function exitKey(C){const I=this._reporterState;I.path=I.path.slice(0,C-1)},Reporter.prototype.leaveKey=function leaveKey(C,I,B){const z=this._reporterState;this.exitKey(C),null!==z.obj&&(z.obj[I]=B)},Reporter.prototype.path=function path(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function enterObject(){const C=this._reporterState,I=C.obj;return C.obj={},I},Reporter.prototype.leaveObject=function leaveObject(C){const I=this._reporterState,B=I.obj;return I.obj=C,B},Reporter.prototype.error=function error(C){let I;const B=this._reporterState,z=C instanceof ReporterError;if(I=z?C:new ReporterError(B.path.map((function(C){return"["+JSON.stringify(C)+"]"})).join(""),C.message||C,C.stack),!B.options.partial)throw I;return z||B.errors.push(I),I},Reporter.prototype.wrapResult=function wrapResult(C){const I=this._reporterState;return I.options.partial?{result:this.isError(C)?null:C,errors:I.errors}:C},z(ReporterError,Error),ReporterError.prototype.rethrow=function rethrow(C){if(this.message=C+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(C){this.stack=C.stack}return this}},{inherits:440}],176:[function(C,I,B){"use strict";function reverse(C){const I={};return Object.keys(C).forEach((function(B){(0|B)==B&&(B|=0);const z=C[B];I[z]=B})),I}B.tagClass={0:"universal",1:"application",2:"context",3:"private"},B.tagClassByName=reverse(B.tagClass),B.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},B.tagByName=reverse(B.tag)},{}],177:[function(C,I,B){"use strict";const z=B;z._reverse=function reverse(C){const I={};return Object.keys(C).forEach((function(B){(0|B)==B&&(B|=0);const z=C[B];I[z]=B})),I},z.der=C("./der")},{"./der":176}],178:[function(C,I,B){"use strict";const z=C("inherits"),q=C("bn.js"),Q=C("../base/buffer").DecoderBuffer,ee=C("../base/node"),te=C("../constants/der");function DERDecoder(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new DERNode,this.tree._init(C.body)}function DERNode(C){ee.call(this,"der",C)}function derDecodeTag(C,I){let B=C.readUInt8(I);if(C.isError(B))return B;const z=te.tagClass[B>>6],q=!(32&B);if(31&~B)B&=31;else{let z=B;for(B=0;!(128&~z);){if(z=C.readUInt8(I),C.isError(z))return z;B<<=7,B|=127&z}}return{cls:z,primitive:q,tag:B,tagStr:te.tag[B]}}function derDecodeLen(C,I,B){let z=C.readUInt8(B);if(C.isError(z))return z;if(!I&&128===z)return null;if(!(128&z))return z;const q=127&z;if(q>4)return C.error("length octect is too long");z=0;for(let I=0;I<q;I++){z<<=8;const I=C.readUInt8(B);if(C.isError(I))return I;z|=I}return z}I.exports=DERDecoder,DERDecoder.prototype.decode=function decode(C,I){return Q.isDecoderBuffer(C)||(C=new Q(C,I)),this.tree._decode(C,I)},z(DERNode,ee),DERNode.prototype._peekTag=function peekTag(C,I,B){if(C.isEmpty())return!1;const z=C.save(),q=derDecodeTag(C,'Failed to peek tag: "'+I+'"');return C.isError(q)?q:(C.restore(z),q.tag===I||q.tagStr===I||q.tagStr+"of"===I||B)},DERNode.prototype._decodeTag=function decodeTag(C,I,B){const z=derDecodeTag(C,'Failed to decode tag of "'+I+'"');if(C.isError(z))return z;let q=derDecodeLen(C,z.primitive,'Failed to get length of "'+I+'"');if(C.isError(q))return q;if(!B&&z.tag!==I&&z.tagStr!==I&&z.tagStr+"of"!==I)return C.error('Failed to match tag: "'+I+'"');if(z.primitive||null!==q)return C.skip(q,'Failed to match body of: "'+I+'"');const Q=C.save(),ee=this._skipUntilEnd(C,'Failed to skip indefinite length body: "'+this.tag+'"');return C.isError(ee)?ee:(q=C.offset-Q.offset,C.restore(Q),C.skip(q,'Failed to match body of: "'+I+'"'))},DERNode.prototype._skipUntilEnd=function skipUntilEnd(C,I){for(;;){const B=derDecodeTag(C,I);if(C.isError(B))return B;const z=derDecodeLen(C,B.primitive,I);if(C.isError(z))return z;let q;if(q=B.primitive||null!==z?C.skip(z):this._skipUntilEnd(C,I),C.isError(q))return q;if("end"===B.tagStr)break}},DERNode.prototype._decodeList=function decodeList(C,I,B,z){const q=[];for(;!C.isEmpty();){const I=this._peekTag(C,"end");if(C.isError(I))return I;const Q=B.decode(C,"der",z);if(C.isError(Q)&&I)break;q.push(Q)}return q},DERNode.prototype._decodeStr=function decodeStr(C,I){if("bitstr"===I){const I=C.readUInt8();return C.isError(I)?I:{unused:I,data:C.raw()}}if("bmpstr"===I){const I=C.raw();if(I.length%2==1)return C.error("Decoding of string type: bmpstr length mismatch");let B="";for(let C=0;C<I.length/2;C++)B+=String.fromCharCode(I.readUInt16BE(2*C));return B}if("numstr"===I){const I=C.raw().toString("ascii");return this._isNumstr(I)?I:C.error("Decoding of string type: numstr unsupported characters")}if("octstr"===I)return C.raw();if("objDesc"===I)return C.raw();if("printstr"===I){const I=C.raw().toString("ascii");return this._isPrintstr(I)?I:C.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(I)?C.raw().toString():C.error("Decoding of string type: "+I+" unsupported")},DERNode.prototype._decodeObjid=function decodeObjid(C,I,B){let z;const q=[];let Q=0,ee=0;for(;!C.isEmpty();)ee=C.readUInt8(),Q<<=7,Q|=127&ee,128&ee||(q.push(Q),Q=0);128&ee&&q.push(Q);const te=q[0]/40|0,ie=q[0]%40;if(z=B?q:[te,ie].concat(q.slice(1)),I){let C=I[z.join(" ")];void 0===C&&(C=I[z.join(".")]),void 0!==C&&(z=C)}return z},DERNode.prototype._decodeTime=function decodeTime(C,I){const B=C.raw().toString();let z,q,Q,ee,te,ie;if("gentime"===I)z=0|B.slice(0,4),q=0|B.slice(4,6),Q=0|B.slice(6,8),ee=0|B.slice(8,10),te=0|B.slice(10,12),ie=0|B.slice(12,14);else{if("utctime"!==I)return C.error("Decoding "+I+" time is not supported yet");z=0|B.slice(0,2),q=0|B.slice(2,4),Q=0|B.slice(4,6),ee=0|B.slice(6,8),te=0|B.slice(8,10),ie=0|B.slice(10,12),z=z<70?2e3+z:1900+z}return Date.UTC(z,q-1,Q,ee,te,ie,0)},DERNode.prototype._decodeNull=function decodeNull(){return null},DERNode.prototype._decodeBool=function decodeBool(C){const I=C.readUInt8();return C.isError(I)?I:0!==I},DERNode.prototype._decodeInt=function decodeInt(C,I){const B=C.raw();let z=new q(B);return I&&(z=I[z.toString(10)]||z),z},DERNode.prototype._use=function use(C,I){return"function"==typeof C&&(C=C(I)),C._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(C,I,B){"use strict";const z=B;z.der=C("./der"),z.pem=C("./pem")},{"./der":178,"./pem":180}],180:[function(C,I,B){"use strict";const z=C("inherits"),q=C("safer-buffer").Buffer,Q=C("./der");function PEMDecoder(C){Q.call(this,C),this.enc="pem"}z(PEMDecoder,Q),I.exports=PEMDecoder,PEMDecoder.prototype.decode=function decode(C,I){const B=C.toString().split(/[\r\n]+/g),z=I.label.toUpperCase(),ee=/^-----(BEGIN|END) ([^-]+)-----$/;let te=-1,ie=-1;for(let C=0;C<B.length;C++){const I=B[C].match(ee);if(null!==I&&I[2]===z){if(-1!==te){if("END"!==I[1])break;ie=C;break}if("BEGIN"!==I[1])break;te=C}}if(-1===te||-1===ie)throw new Error("PEM section not found for: "+z);const re=B.slice(te+1,ie).join("");re.replace(/[^a-z0-9+/=]+/gi,"");const ne=q.from(re,"base64");return Q.prototype.decode.call(this,ne,I)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(C,I,B){"use strict";const z=C("inherits"),q=C("safer-buffer").Buffer,Q=C("../base/node"),ee=C("../constants/der");function DEREncoder(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new DERNode,this.tree._init(C.body)}function DERNode(C){Q.call(this,"der",C)}function two(C){return C<10?"0"+C:C}function encodeTag(C,I,B,z){let q;if("seqof"===C?C="seq":"setof"===C&&(C="set"),ee.tagByName.hasOwnProperty(C))q=ee.tagByName[C];else{if("number"!=typeof C||(0|C)!==C)return z.error("Unknown tag: "+C);q=C}return q>=31?z.error("Multi-octet tag encoding unsupported"):(I||(q|=32),q|=ee.tagClassByName[B||"universal"]<<6,q)}I.exports=DEREncoder,DEREncoder.prototype.encode=function encode(C,I){return this.tree._encode(C,I).join()},z(DERNode,Q),DERNode.prototype._encodeComposite=function encodeComposite(C,I,B,z){const Q=encodeTag(C,I,B,this.reporter);if(z.length<128){const C=q.alloc(2);return C[0]=Q,C[1]=z.length,this._createEncoderBuffer([C,z])}let ee=1;for(let C=z.length;C>=256;C>>=8)ee++;const te=q.alloc(2+ee);te[0]=Q,te[1]=128|ee;for(let C=1+ee,I=z.length;I>0;C--,I>>=8)te[C]=255&I;return this._createEncoderBuffer([te,z])},DERNode.prototype._encodeStr=function encodeStr(C,I){if("bitstr"===I)return this._createEncoderBuffer([0|C.unused,C.data]);if("bmpstr"===I){const I=q.alloc(2*C.length);for(let B=0;B<C.length;B++)I.writeUInt16BE(C.charCodeAt(B),2*B);return this._createEncoderBuffer(I)}return"numstr"===I?this._isNumstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===I?this._isPrintstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(I)||"objDesc"===I?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: "+I+" unsupported")},DERNode.prototype._encodeObjid=function encodeObjid(C,I,B){if("string"==typeof C){if(!I)return this.reporter.error("string objid given, but no values map found");if(!I.hasOwnProperty(C))return this.reporter.error("objid not found in values map");C=I[C].split(/[\s.]+/g);for(let I=0;I<C.length;I++)C[I]|=0}else if(Array.isArray(C)){C=C.slice();for(let I=0;I<C.length;I++)C[I]|=0}if(!Array.isArray(C))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(C));if(!B){if(C[1]>=40)return this.reporter.error("Second objid identifier OOB");C.splice(0,2,40*C[0]+C[1])}let z=0;for(let I=0;I<C.length;I++){let B=C[I];for(z++;B>=128;B>>=7)z++}const Q=q.alloc(z);let ee=Q.length-1;for(let I=C.length-1;I>=0;I--){let B=C[I];for(Q[ee--]=127&B;(B>>=7)>0;)Q[ee--]=128|127&B}return this._createEncoderBuffer(Q)},DERNode.prototype._encodeTime=function encodeTime(C,I){let B;const z=new Date(C);return"gentime"===I?B=[two(z.getUTCFullYear()),two(z.getUTCMonth()+1),two(z.getUTCDate()),two(z.getUTCHours()),two(z.getUTCMinutes()),two(z.getUTCSeconds()),"Z"].join(""):"utctime"===I?B=[two(z.getUTCFullYear()%100),two(z.getUTCMonth()+1),two(z.getUTCDate()),two(z.getUTCHours()),two(z.getUTCMinutes()),two(z.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+I+" time is not supported yet"),this._encodeStr(B,"octstr")},DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function encodeInt(C,I){if("string"==typeof C){if(!I)return this.reporter.error("String int or enum given, but no values map");if(!I.hasOwnProperty(C))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(C));C=I[C]}if("number"!=typeof C&&!q.isBuffer(C)){const I=C.toArray();!C.sign&&128&I[0]&&I.unshift(0),C=q.from(I)}if(q.isBuffer(C)){let I=C.length;0===C.length&&I++;const B=q.alloc(I);return C.copy(B),0===C.length&&(B[0]=0),this._createEncoderBuffer(B)}if(C<128)return this._createEncoderBuffer(C);if(C<256)return this._createEncoderBuffer([0,C]);let B=1;for(let I=C;I>=256;I>>=8)B++;const z=new Array(B);for(let I=z.length-1;I>=0;I--)z[I]=255&C,C>>=8;return 128&z[0]&&z.unshift(0),this._createEncoderBuffer(q.from(z))},DERNode.prototype._encodeBool=function encodeBool(C){return this._createEncoderBuffer(C?255:0)},DERNode.prototype._use=function use(C,I){return"function"==typeof C&&(C=C(I)),C._getEncoder("der").tree},DERNode.prototype._skipDefault=function skipDefault(C,I,B){const z=this._baseState;let q;if(null===z.default)return!1;const Q=C.join();if(void 0===z.defaultBuffer&&(z.defaultBuffer=this._encodeValue(z.default,I,B).join()),Q.length!==z.defaultBuffer.length)return!1;for(q=0;q<Q.length;q++)if(Q[q]!==z.defaultBuffer[q])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(C,I,B){"use strict";const z=B;z.der=C("./der"),z.pem=C("./pem")},{"./der":181,"./pem":183}],183:[function(C,I,B){"use strict";const z=C("inherits"),q=C("./der");function PEMEncoder(C){q.call(this,C),this.enc="pem"}z(PEMEncoder,q),I.exports=PEMEncoder,PEMEncoder.prototype.encode=function encode(C,I){const B=q.prototype.encode.call(this,C).toString("base64"),z=["-----BEGIN "+I.label+"-----"];for(let C=0;C<B.length;C+=64)z.push(B.slice(C,C+64));return z.push("-----END "+I.label+"-----"),z.join("\n")}},{"./der":181,inherits:440}],184:[function(C,I,B){"use strict";!function(I,B){function assert(C,I){if(!C)throw new Error(I||"Assertion failed")}function inherits(C,I){C.super_=I;var TempCtor=function(){};TempCtor.prototype=I.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}function BN(C,I,B){if(BN.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&("le"!==I&&"be"!==I||(B=I,I=10),this._init(C||0,I||10,B||"be"))}var z;"object"==typeof I?I.exports=BN:B.BN=BN,BN.BN=BN,BN.wordSize=26;try{z="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:C("buffer").Buffer}catch(C){}function parseHex4Bits(C,I){var B=C.charCodeAt(I);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function parseHexByte(C,I,B){var z=parseHex4Bits(C,B);return B-1>=I&&(z|=parseHex4Bits(C,B-1)<<4),z}function parseBase(C,I,B,z){for(var q=0,Q=Math.min(C.length,B),ee=I;ee<Q;ee++){var te=C.charCodeAt(ee)-48;q*=z,q+=te>=49?te-49+10:te>=17?te-17+10:te}return q}BN.isBN=function isBN(C){return C instanceof BN||null!==C&&"object"==typeof C&&C.constructor.wordSize===BN.wordSize&&Array.isArray(C.words)},BN.max=function max(C,I){return C.cmp(I)>0?C:I},BN.min=function min(C,I){return C.cmp(I)<0?C:I},BN.prototype._init=function init(C,I,B){if("number"==typeof C)return this._initNumber(C,I,B);if("object"==typeof C)return this._initArray(C,I,B);"hex"===I&&(I=16),assert(I===(0|I)&&I>=2&&I<=36);var z=0;"-"===(C=C.toString().replace(/\s+/g,""))[0]&&(z++,this.negative=1),z<C.length&&(16===I?this._parseHex(C,z,B):(this._parseBase(C,I,z),"le"===B&&this._initArray(this.toArray(),I,B)))},BN.prototype._initNumber=function _initNumber(C,I,B){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(assert(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),"le"===B&&this._initArray(this.toArray(),I,B)},BN.prototype._initArray=function _initArray(C,I,B){if(assert("number"==typeof C.length),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var q,Q,ee=0;if("be"===B)for(z=C.length-1,q=0;z>=0;z-=3)Q=C[z]|C[z-1]<<8|C[z-2]<<16,this.words[q]|=Q<<ee&67108863,this.words[q+1]=Q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,q++);else if("le"===B)for(z=0,q=0;z<C.length;z+=3)Q=C[z]|C[z+1]<<8|C[z+2]<<16,this.words[q]|=Q<<ee&67108863,this.words[q+1]=Q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,q++);return this.strip()},BN.prototype._parseHex=function _parseHex(C,I,B){this.length=Math.ceil((C.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var q,Q=0,ee=0;if("be"===B)for(z=C.length-1;z>=I;z-=2)q=parseHexByte(C,I,z)<<Q,this.words[ee]|=67108863&q,Q>=18?(Q-=18,ee+=1,this.words[ee]|=q>>>26):Q+=8;else for(z=(C.length-I)%2==0?I+1:I;z<C.length;z+=2)q=parseHexByte(C,I,z)<<Q,this.words[ee]|=67108863&q,Q>=18?(Q-=18,ee+=1,this.words[ee]|=q>>>26):Q+=8;this.strip()},BN.prototype._parseBase=function _parseBase(C,I,B){this.words=[0],this.length=1;for(var z=0,q=1;q<=67108863;q*=I)z++;z--,q=q/I|0;for(var Q=C.length-B,ee=Q%z,te=Math.min(Q,Q-ee)+B,ie=0,re=B;re<te;re+=z)ie=parseBase(C,re,re+z,I),this.imuln(q),this.words[0]+ie<67108864?this.words[0]+=ie:this._iaddn(ie);if(0!==ee){var ne=1;for(ie=parseBase(C,re,C.length,I),re=0;re<ee;re++)ne*=I;this.imuln(ne),this.words[0]+ie<67108864?this.words[0]+=ie:this._iaddn(ie)}this.strip()},BN.prototype.copy=function copy(C){C.words=new Array(this.length);for(var I=0;I<this.length;I++)C.words[I]=this.words[I];C.length=this.length,C.negative=this.negative,C.red=this.red},BN.prototype.clone=function clone(){var C=new BN(null);return this.copy(C),C},BN.prototype._expand=function _expand(C){for(;this.length<C;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function toBitArray(C){for(var I=new Array(C.bitLength()),B=0;B<I.length;B++){var z=B/26|0,q=B%26;I[B]=(C.words[z]&1<<q)>>>q}return I}function smallMulTo(C,I,B){B.negative=I.negative^C.negative;var z=C.length+I.length|0;B.length=z,z=z-1|0;var q=0|C.words[0],Q=0|I.words[0],ee=q*Q,te=67108863&ee,ie=ee/67108864|0;B.words[0]=te;for(var re=1;re<z;re++){for(var ne=ie>>>26,se=67108863&ie,oe=Math.min(re,I.length-1),ae=Math.max(0,re-C.length+1);ae<=oe;ae++){var le=re-ae|0;ne+=(ee=(q=0|C.words[le])*(Q=0|I.words[ae])+se)/67108864|0,se=67108863&ee}B.words[re]=0|se,ie=0|ne}return 0!==ie?B.words[re]=0|ie:B.length--,B.strip()}BN.prototype.toString=function toString(C,I){var B;if(I=0|I||1,16===(C=C||10)||"hex"===C){B="";for(var z=0,te=0,ie=0;ie<this.length;ie++){var re=this.words[ie],ne=(16777215&(re<<z|te)).toString(16);B=0!=(te=re>>>24-z&16777215)||ie!==this.length-1?q[6-ne.length]+ne+B:ne+B,(z+=2)>=26&&(z-=26,ie--)}for(0!==te&&(B=te.toString(16)+B);B.length%I!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}if(C===(0|C)&&C>=2&&C<=36){var se=Q[C],oe=ee[C];B="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var le=ae.modn(oe).toString(C);B=(ae=ae.idivn(oe)).isZero()?le+B:q[se-le.length]+le+B}for(this.isZero()&&(B="0"+B);B.length%I!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var C=this.words[0];return 2===this.length?C+=67108864*this.words[1]:3===this.length&&1===this.words[2]?C+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-C:C},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(C,I){return assert(void 0!==z),this.toArrayLike(z,C,I)},BN.prototype.toArray=function toArray(C,I){return this.toArrayLike(Array,C,I)},BN.prototype.toArrayLike=function toArrayLike(C,I,B){var z=this.byteLength(),q=B||Math.max(1,z);assert(z<=q,"byte array longer than desired length"),assert(q>0,"Requested array length <= 0"),this.strip();var Q,ee,te="le"===I,ie=new C(q),re=this.clone();if(te){for(ee=0;!re.isZero();ee++)Q=re.andln(255),re.iushrn(8),ie[ee]=Q;for(;ee<q;ee++)ie[ee]=0}else{for(ee=0;ee<q-z;ee++)ie[ee]=0;for(ee=0;!re.isZero();ee++)Q=re.andln(255),re.iushrn(8),ie[q-ee-1]=Q}return ie},Math.clz32?BN.prototype._countBits=function _countBits(C){return 32-Math.clz32(C)}:BN.prototype._countBits=function _countBits(C){var I=C,B=0;return I>=4096&&(B+=13,I>>>=13),I>=64&&(B+=7,I>>>=7),I>=8&&(B+=4,I>>>=4),I>=2&&(B+=2,I>>>=2),B+I},BN.prototype._zeroBits=function _zeroBits(C){if(0===C)return 26;var I=C,B=0;return 8191&I||(B+=13,I>>>=13),127&I||(B+=7,I>>>=7),15&I||(B+=4,I>>>=4),3&I||(B+=2,I>>>=2),1&I||B++,B},BN.prototype.bitLength=function bitLength(){var C=this.words[this.length-1],I=this._countBits(C);return 26*(this.length-1)+I},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var C=0,I=0;I<this.length;I++){var B=this._zeroBits(this.words[I]);if(C+=B,26!==B)break}return C},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(C){return 0!==this.negative?this.abs().inotn(C).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var I=0;I<C.length;I++)this.words[I]=this.words[I]|C.words[I];return this.strip()},BN.prototype.ior=function ior(C){return assert(!(this.negative|C.negative)),this.iuor(C)},BN.prototype.or=function or(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},BN.prototype.uor=function uor(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},BN.prototype.iuand=function iuand(C){var I;I=this.length>C.length?C:this;for(var B=0;B<I.length;B++)this.words[B]=this.words[B]&C.words[B];return this.length=I.length,this.strip()},BN.prototype.iand=function iand(C){return assert(!(this.negative|C.negative)),this.iuand(C)},BN.prototype.and=function and(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},BN.prototype.uand=function uand(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},BN.prototype.iuxor=function iuxor(C){var I,B;this.length>C.length?(I=this,B=C):(I=C,B=this);for(var z=0;z<B.length;z++)this.words[z]=I.words[z]^B.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this.strip()},BN.prototype.ixor=function ixor(C){return assert(!(this.negative|C.negative)),this.iuxor(C)},BN.prototype.xor=function xor(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},BN.prototype.uxor=function uxor(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},BN.prototype.inotn=function inotn(C){assert("number"==typeof C&&C>=0);var I=0|Math.ceil(C/26),B=C%26;this._expand(I),B>0&&I--;for(var z=0;z<I;z++)this.words[z]=67108863&~this.words[z];return B>0&&(this.words[z]=~this.words[z]&67108863>>26-B),this.strip()},BN.prototype.notn=function notn(C){return this.clone().inotn(C)},BN.prototype.setn=function setn(C,I){assert("number"==typeof C&&C>=0);var B=C/26|0,z=C%26;return this._expand(B+1),this.words[B]=I?this.words[B]|1<<z:this.words[B]&~(1<<z),this.strip()},BN.prototype.iadd=function iadd(C){var I,B,z;if(0!==this.negative&&0===C.negative)return this.negative=0,I=this.isub(C),this.negative^=1,this._normSign();if(0===this.negative&&0!==C.negative)return C.negative=0,I=this.isub(C),C.negative=1,I._normSign();this.length>C.length?(B=this,z=C):(B=C,z=this);for(var q=0,Q=0;Q<z.length;Q++)I=(0|B.words[Q])+(0|z.words[Q])+q,this.words[Q]=67108863&I,q=I>>>26;for(;0!==q&&Q<B.length;Q++)I=(0|B.words[Q])+q,this.words[Q]=67108863&I,q=I>>>26;if(this.length=B.length,0!==q)this.words[this.length]=q,this.length++;else if(B!==this)for(;Q<B.length;Q++)this.words[Q]=B.words[Q];return this},BN.prototype.add=function add(C){var I;return 0!==C.negative&&0===this.negative?(C.negative=0,I=this.sub(C),C.negative^=1,I):0===C.negative&&0!==this.negative?(this.negative=0,I=C.sub(this),this.negative=1,I):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},BN.prototype.isub=function isub(C){if(0!==C.negative){C.negative=0;var I=this.iadd(C);return C.negative=1,I._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var B,z,q=this.cmp(C);if(0===q)return this.negative=0,this.length=1,this.words[0]=0,this;q>0?(B=this,z=C):(B=C,z=this);for(var Q=0,ee=0;ee<z.length;ee++)Q=(I=(0|B.words[ee])-(0|z.words[ee])+Q)>>26,this.words[ee]=67108863&I;for(;0!==Q&&ee<B.length;ee++)Q=(I=(0|B.words[ee])+Q)>>26,this.words[ee]=67108863&I;if(0===Q&&ee<B.length&&B!==this)for(;ee<B.length;ee++)this.words[ee]=B.words[ee];return this.length=Math.max(this.length,ee),B!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(C){return this.clone().isub(C)};var te=function comb10MulTo(C,I,B){var z,q,Q,ee=C.words,te=I.words,ie=B.words,re=0,ne=0|ee[0],se=8191&ne,oe=ne>>>13,ae=0|ee[1],le=8191&ae,ue=ae>>>13,de=0|ee[2],ce=8191&de,he=de>>>13,fe=0|ee[3],pe=8191&fe,me=fe>>>13,ge=0|ee[4],ve=8191&ge,ye=ge>>>13,be=0|ee[5],Ce=8191&be,we=be>>>13,_e=0|ee[6],Se=8191&_e,xe=_e>>>13,ke=0|ee[7],Te=8191&ke,Me=ke>>>13,Re=0|ee[8],Ee=8191&Re,Pe=Re>>>13,Ie=0|ee[9],Ne=8191&Ie,Ae=Ie>>>13,De=0|te[0],Fe=8191&De,Oe=De>>>13,Be=0|te[1],Le=8191&Be,je=Be>>>13,$e=0|te[2],Ve=8191&$e,He=$e>>>13,Ge=0|te[3],Ue=8191&Ge,ze=Ge>>>13,qe=0|te[4],We=8191&qe,Ke=qe>>>13,Xe=0|te[5],Je=8191&Xe,Ye=Xe>>>13,Ze=0|te[6],Qe=8191&Ze,et=Ze>>>13,tt=0|te[7],it=8191&tt,rt=tt>>>13,nt=0|te[8],st=8191&nt,ot=nt>>>13,at=0|te[9],ut=8191&at,dt=at>>>13;B.negative=C.negative^I.negative,B.length=19;var ct=(re+(z=Math.imul(se,Fe))|0)+((8191&(q=(q=Math.imul(se,Oe))+Math.imul(oe,Fe)|0))<<13)|0;re=((Q=Math.imul(oe,Oe))+(q>>>13)|0)+(ct>>>26)|0,ct&=67108863,z=Math.imul(le,Fe),q=(q=Math.imul(le,Oe))+Math.imul(ue,Fe)|0,Q=Math.imul(ue,Oe);var ht=(re+(z=z+Math.imul(se,Le)|0)|0)+((8191&(q=(q=q+Math.imul(se,je)|0)+Math.imul(oe,Le)|0))<<13)|0;re=((Q=Q+Math.imul(oe,je)|0)+(q>>>13)|0)+(ht>>>26)|0,ht&=67108863,z=Math.imul(ce,Fe),q=(q=Math.imul(ce,Oe))+Math.imul(he,Fe)|0,Q=Math.imul(he,Oe),z=z+Math.imul(le,Le)|0,q=(q=q+Math.imul(le,je)|0)+Math.imul(ue,Le)|0,Q=Q+Math.imul(ue,je)|0;var pt=(re+(z=z+Math.imul(se,Ve)|0)|0)+((8191&(q=(q=q+Math.imul(se,He)|0)+Math.imul(oe,Ve)|0))<<13)|0;re=((Q=Q+Math.imul(oe,He)|0)+(q>>>13)|0)+(pt>>>26)|0,pt&=67108863,z=Math.imul(pe,Fe),q=(q=Math.imul(pe,Oe))+Math.imul(me,Fe)|0,Q=Math.imul(me,Oe),z=z+Math.imul(ce,Le)|0,q=(q=q+Math.imul(ce,je)|0)+Math.imul(he,Le)|0,Q=Q+Math.imul(he,je)|0,z=z+Math.imul(le,Ve)|0,q=(q=q+Math.imul(le,He)|0)+Math.imul(ue,Ve)|0,Q=Q+Math.imul(ue,He)|0;var mt=(re+(z=z+Math.imul(se,Ue)|0)|0)+((8191&(q=(q=q+Math.imul(se,ze)|0)+Math.imul(oe,Ue)|0))<<13)|0;re=((Q=Q+Math.imul(oe,ze)|0)+(q>>>13)|0)+(mt>>>26)|0,mt&=67108863,z=Math.imul(ve,Fe),q=(q=Math.imul(ve,Oe))+Math.imul(ye,Fe)|0,Q=Math.imul(ye,Oe),z=z+Math.imul(pe,Le)|0,q=(q=q+Math.imul(pe,je)|0)+Math.imul(me,Le)|0,Q=Q+Math.imul(me,je)|0,z=z+Math.imul(ce,Ve)|0,q=(q=q+Math.imul(ce,He)|0)+Math.imul(he,Ve)|0,Q=Q+Math.imul(he,He)|0,z=z+Math.imul(le,Ue)|0,q=(q=q+Math.imul(le,ze)|0)+Math.imul(ue,Ue)|0,Q=Q+Math.imul(ue,ze)|0;var vt=(re+(z=z+Math.imul(se,We)|0)|0)+((8191&(q=(q=q+Math.imul(se,Ke)|0)+Math.imul(oe,We)|0))<<13)|0;re=((Q=Q+Math.imul(oe,Ke)|0)+(q>>>13)|0)+(vt>>>26)|0,vt&=67108863,z=Math.imul(Ce,Fe),q=(q=Math.imul(Ce,Oe))+Math.imul(we,Fe)|0,Q=Math.imul(we,Oe),z=z+Math.imul(ve,Le)|0,q=(q=q+Math.imul(ve,je)|0)+Math.imul(ye,Le)|0,Q=Q+Math.imul(ye,je)|0,z=z+Math.imul(pe,Ve)|0,q=(q=q+Math.imul(pe,He)|0)+Math.imul(me,Ve)|0,Q=Q+Math.imul(me,He)|0,z=z+Math.imul(ce,Ue)|0,q=(q=q+Math.imul(ce,ze)|0)+Math.imul(he,Ue)|0,Q=Q+Math.imul(he,ze)|0,z=z+Math.imul(le,We)|0,q=(q=q+Math.imul(le,Ke)|0)+Math.imul(ue,We)|0,Q=Q+Math.imul(ue,Ke)|0;var yt=(re+(z=z+Math.imul(se,Je)|0)|0)+((8191&(q=(q=q+Math.imul(se,Ye)|0)+Math.imul(oe,Je)|0))<<13)|0;re=((Q=Q+Math.imul(oe,Ye)|0)+(q>>>13)|0)+(yt>>>26)|0,yt&=67108863,z=Math.imul(Se,Fe),q=(q=Math.imul(Se,Oe))+Math.imul(xe,Fe)|0,Q=Math.imul(xe,Oe),z=z+Math.imul(Ce,Le)|0,q=(q=q+Math.imul(Ce,je)|0)+Math.imul(we,Le)|0,Q=Q+Math.imul(we,je)|0,z=z+Math.imul(ve,Ve)|0,q=(q=q+Math.imul(ve,He)|0)+Math.imul(ye,Ve)|0,Q=Q+Math.imul(ye,He)|0,z=z+Math.imul(pe,Ue)|0,q=(q=q+Math.imul(pe,ze)|0)+Math.imul(me,Ue)|0,Q=Q+Math.imul(me,ze)|0,z=z+Math.imul(ce,We)|0,q=(q=q+Math.imul(ce,Ke)|0)+Math.imul(he,We)|0,Q=Q+Math.imul(he,Ke)|0,z=z+Math.imul(le,Je)|0,q=(q=q+Math.imul(le,Ye)|0)+Math.imul(ue,Je)|0,Q=Q+Math.imul(ue,Ye)|0;var bt=(re+(z=z+Math.imul(se,Qe)|0)|0)+((8191&(q=(q=q+Math.imul(se,et)|0)+Math.imul(oe,Qe)|0))<<13)|0;re=((Q=Q+Math.imul(oe,et)|0)+(q>>>13)|0)+(bt>>>26)|0,bt&=67108863,z=Math.imul(Te,Fe),q=(q=Math.imul(Te,Oe))+Math.imul(Me,Fe)|0,Q=Math.imul(Me,Oe),z=z+Math.imul(Se,Le)|0,q=(q=q+Math.imul(Se,je)|0)+Math.imul(xe,Le)|0,Q=Q+Math.imul(xe,je)|0,z=z+Math.imul(Ce,Ve)|0,q=(q=q+Math.imul(Ce,He)|0)+Math.imul(we,Ve)|0,Q=Q+Math.imul(we,He)|0,z=z+Math.imul(ve,Ue)|0,q=(q=q+Math.imul(ve,ze)|0)+Math.imul(ye,Ue)|0,Q=Q+Math.imul(ye,ze)|0,z=z+Math.imul(pe,We)|0,q=(q=q+Math.imul(pe,Ke)|0)+Math.imul(me,We)|0,Q=Q+Math.imul(me,Ke)|0,z=z+Math.imul(ce,Je)|0,q=(q=q+Math.imul(ce,Ye)|0)+Math.imul(he,Je)|0,Q=Q+Math.imul(he,Ye)|0,z=z+Math.imul(le,Qe)|0,q=(q=q+Math.imul(le,et)|0)+Math.imul(ue,Qe)|0,Q=Q+Math.imul(ue,et)|0;var Ct=(re+(z=z+Math.imul(se,it)|0)|0)+((8191&(q=(q=q+Math.imul(se,rt)|0)+Math.imul(oe,it)|0))<<13)|0;re=((Q=Q+Math.imul(oe,rt)|0)+(q>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,z=Math.imul(Ee,Fe),q=(q=Math.imul(Ee,Oe))+Math.imul(Pe,Fe)|0,Q=Math.imul(Pe,Oe),z=z+Math.imul(Te,Le)|0,q=(q=q+Math.imul(Te,je)|0)+Math.imul(Me,Le)|0,Q=Q+Math.imul(Me,je)|0,z=z+Math.imul(Se,Ve)|0,q=(q=q+Math.imul(Se,He)|0)+Math.imul(xe,Ve)|0,Q=Q+Math.imul(xe,He)|0,z=z+Math.imul(Ce,Ue)|0,q=(q=q+Math.imul(Ce,ze)|0)+Math.imul(we,Ue)|0,Q=Q+Math.imul(we,ze)|0,z=z+Math.imul(ve,We)|0,q=(q=q+Math.imul(ve,Ke)|0)+Math.imul(ye,We)|0,Q=Q+Math.imul(ye,Ke)|0,z=z+Math.imul(pe,Je)|0,q=(q=q+Math.imul(pe,Ye)|0)+Math.imul(me,Je)|0,Q=Q+Math.imul(me,Ye)|0,z=z+Math.imul(ce,Qe)|0,q=(q=q+Math.imul(ce,et)|0)+Math.imul(he,Qe)|0,Q=Q+Math.imul(he,et)|0,z=z+Math.imul(le,it)|0,q=(q=q+Math.imul(le,rt)|0)+Math.imul(ue,it)|0,Q=Q+Math.imul(ue,rt)|0;var wt=(re+(z=z+Math.imul(se,st)|0)|0)+((8191&(q=(q=q+Math.imul(se,ot)|0)+Math.imul(oe,st)|0))<<13)|0;re=((Q=Q+Math.imul(oe,ot)|0)+(q>>>13)|0)+(wt>>>26)|0,wt&=67108863,z=Math.imul(Ne,Fe),q=(q=Math.imul(Ne,Oe))+Math.imul(Ae,Fe)|0,Q=Math.imul(Ae,Oe),z=z+Math.imul(Ee,Le)|0,q=(q=q+Math.imul(Ee,je)|0)+Math.imul(Pe,Le)|0,Q=Q+Math.imul(Pe,je)|0,z=z+Math.imul(Te,Ve)|0,q=(q=q+Math.imul(Te,He)|0)+Math.imul(Me,Ve)|0,Q=Q+Math.imul(Me,He)|0,z=z+Math.imul(Se,Ue)|0,q=(q=q+Math.imul(Se,ze)|0)+Math.imul(xe,Ue)|0,Q=Q+Math.imul(xe,ze)|0,z=z+Math.imul(Ce,We)|0,q=(q=q+Math.imul(Ce,Ke)|0)+Math.imul(we,We)|0,Q=Q+Math.imul(we,Ke)|0,z=z+Math.imul(ve,Je)|0,q=(q=q+Math.imul(ve,Ye)|0)+Math.imul(ye,Je)|0,Q=Q+Math.imul(ye,Ye)|0,z=z+Math.imul(pe,Qe)|0,q=(q=q+Math.imul(pe,et)|0)+Math.imul(me,Qe)|0,Q=Q+Math.imul(me,et)|0,z=z+Math.imul(ce,it)|0,q=(q=q+Math.imul(ce,rt)|0)+Math.imul(he,it)|0,Q=Q+Math.imul(he,rt)|0,z=z+Math.imul(le,st)|0,q=(q=q+Math.imul(le,ot)|0)+Math.imul(ue,st)|0,Q=Q+Math.imul(ue,ot)|0;var _t=(re+(z=z+Math.imul(se,ut)|0)|0)+((8191&(q=(q=q+Math.imul(se,dt)|0)+Math.imul(oe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(oe,dt)|0)+(q>>>13)|0)+(_t>>>26)|0,_t&=67108863,z=Math.imul(Ne,Le),q=(q=Math.imul(Ne,je))+Math.imul(Ae,Le)|0,Q=Math.imul(Ae,je),z=z+Math.imul(Ee,Ve)|0,q=(q=q+Math.imul(Ee,He)|0)+Math.imul(Pe,Ve)|0,Q=Q+Math.imul(Pe,He)|0,z=z+Math.imul(Te,Ue)|0,q=(q=q+Math.imul(Te,ze)|0)+Math.imul(Me,Ue)|0,Q=Q+Math.imul(Me,ze)|0,z=z+Math.imul(Se,We)|0,q=(q=q+Math.imul(Se,Ke)|0)+Math.imul(xe,We)|0,Q=Q+Math.imul(xe,Ke)|0,z=z+Math.imul(Ce,Je)|0,q=(q=q+Math.imul(Ce,Ye)|0)+Math.imul(we,Je)|0,Q=Q+Math.imul(we,Ye)|0,z=z+Math.imul(ve,Qe)|0,q=(q=q+Math.imul(ve,et)|0)+Math.imul(ye,Qe)|0,Q=Q+Math.imul(ye,et)|0,z=z+Math.imul(pe,it)|0,q=(q=q+Math.imul(pe,rt)|0)+Math.imul(me,it)|0,Q=Q+Math.imul(me,rt)|0,z=z+Math.imul(ce,st)|0,q=(q=q+Math.imul(ce,ot)|0)+Math.imul(he,st)|0,Q=Q+Math.imul(he,ot)|0;var St=(re+(z=z+Math.imul(le,ut)|0)|0)+((8191&(q=(q=q+Math.imul(le,dt)|0)+Math.imul(ue,ut)|0))<<13)|0;re=((Q=Q+Math.imul(ue,dt)|0)+(q>>>13)|0)+(St>>>26)|0,St&=67108863,z=Math.imul(Ne,Ve),q=(q=Math.imul(Ne,He))+Math.imul(Ae,Ve)|0,Q=Math.imul(Ae,He),z=z+Math.imul(Ee,Ue)|0,q=(q=q+Math.imul(Ee,ze)|0)+Math.imul(Pe,Ue)|0,Q=Q+Math.imul(Pe,ze)|0,z=z+Math.imul(Te,We)|0,q=(q=q+Math.imul(Te,Ke)|0)+Math.imul(Me,We)|0,Q=Q+Math.imul(Me,Ke)|0,z=z+Math.imul(Se,Je)|0,q=(q=q+Math.imul(Se,Ye)|0)+Math.imul(xe,Je)|0,Q=Q+Math.imul(xe,Ye)|0,z=z+Math.imul(Ce,Qe)|0,q=(q=q+Math.imul(Ce,et)|0)+Math.imul(we,Qe)|0,Q=Q+Math.imul(we,et)|0,z=z+Math.imul(ve,it)|0,q=(q=q+Math.imul(ve,rt)|0)+Math.imul(ye,it)|0,Q=Q+Math.imul(ye,rt)|0,z=z+Math.imul(pe,st)|0,q=(q=q+Math.imul(pe,ot)|0)+Math.imul(me,st)|0,Q=Q+Math.imul(me,ot)|0;var xt=(re+(z=z+Math.imul(ce,ut)|0)|0)+((8191&(q=(q=q+Math.imul(ce,dt)|0)+Math.imul(he,ut)|0))<<13)|0;re=((Q=Q+Math.imul(he,dt)|0)+(q>>>13)|0)+(xt>>>26)|0,xt&=67108863,z=Math.imul(Ne,Ue),q=(q=Math.imul(Ne,ze))+Math.imul(Ae,Ue)|0,Q=Math.imul(Ae,ze),z=z+Math.imul(Ee,We)|0,q=(q=q+Math.imul(Ee,Ke)|0)+Math.imul(Pe,We)|0,Q=Q+Math.imul(Pe,Ke)|0,z=z+Math.imul(Te,Je)|0,q=(q=q+Math.imul(Te,Ye)|0)+Math.imul(Me,Je)|0,Q=Q+Math.imul(Me,Ye)|0,z=z+Math.imul(Se,Qe)|0,q=(q=q+Math.imul(Se,et)|0)+Math.imul(xe,Qe)|0,Q=Q+Math.imul(xe,et)|0,z=z+Math.imul(Ce,it)|0,q=(q=q+Math.imul(Ce,rt)|0)+Math.imul(we,it)|0,Q=Q+Math.imul(we,rt)|0,z=z+Math.imul(ve,st)|0,q=(q=q+Math.imul(ve,ot)|0)+Math.imul(ye,st)|0,Q=Q+Math.imul(ye,ot)|0;var kt=(re+(z=z+Math.imul(pe,ut)|0)|0)+((8191&(q=(q=q+Math.imul(pe,dt)|0)+Math.imul(me,ut)|0))<<13)|0;re=((Q=Q+Math.imul(me,dt)|0)+(q>>>13)|0)+(kt>>>26)|0,kt&=67108863,z=Math.imul(Ne,We),q=(q=Math.imul(Ne,Ke))+Math.imul(Ae,We)|0,Q=Math.imul(Ae,Ke),z=z+Math.imul(Ee,Je)|0,q=(q=q+Math.imul(Ee,Ye)|0)+Math.imul(Pe,Je)|0,Q=Q+Math.imul(Pe,Ye)|0,z=z+Math.imul(Te,Qe)|0,q=(q=q+Math.imul(Te,et)|0)+Math.imul(Me,Qe)|0,Q=Q+Math.imul(Me,et)|0,z=z+Math.imul(Se,it)|0,q=(q=q+Math.imul(Se,rt)|0)+Math.imul(xe,it)|0,Q=Q+Math.imul(xe,rt)|0,z=z+Math.imul(Ce,st)|0,q=(q=q+Math.imul(Ce,ot)|0)+Math.imul(we,st)|0,Q=Q+Math.imul(we,ot)|0;var Tt=(re+(z=z+Math.imul(ve,ut)|0)|0)+((8191&(q=(q=q+Math.imul(ve,dt)|0)+Math.imul(ye,ut)|0))<<13)|0;re=((Q=Q+Math.imul(ye,dt)|0)+(q>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,z=Math.imul(Ne,Je),q=(q=Math.imul(Ne,Ye))+Math.imul(Ae,Je)|0,Q=Math.imul(Ae,Ye),z=z+Math.imul(Ee,Qe)|0,q=(q=q+Math.imul(Ee,et)|0)+Math.imul(Pe,Qe)|0,Q=Q+Math.imul(Pe,et)|0,z=z+Math.imul(Te,it)|0,q=(q=q+Math.imul(Te,rt)|0)+Math.imul(Me,it)|0,Q=Q+Math.imul(Me,rt)|0,z=z+Math.imul(Se,st)|0,q=(q=q+Math.imul(Se,ot)|0)+Math.imul(xe,st)|0,Q=Q+Math.imul(xe,ot)|0;var Mt=(re+(z=z+Math.imul(Ce,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Ce,dt)|0)+Math.imul(we,ut)|0))<<13)|0;re=((Q=Q+Math.imul(we,dt)|0)+(q>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,z=Math.imul(Ne,Qe),q=(q=Math.imul(Ne,et))+Math.imul(Ae,Qe)|0,Q=Math.imul(Ae,et),z=z+Math.imul(Ee,it)|0,q=(q=q+Math.imul(Ee,rt)|0)+Math.imul(Pe,it)|0,Q=Q+Math.imul(Pe,rt)|0,z=z+Math.imul(Te,st)|0,q=(q=q+Math.imul(Te,ot)|0)+Math.imul(Me,st)|0,Q=Q+Math.imul(Me,ot)|0;var Rt=(re+(z=z+Math.imul(Se,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Se,dt)|0)+Math.imul(xe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(xe,dt)|0)+(q>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,z=Math.imul(Ne,it),q=(q=Math.imul(Ne,rt))+Math.imul(Ae,it)|0,Q=Math.imul(Ae,rt),z=z+Math.imul(Ee,st)|0,q=(q=q+Math.imul(Ee,ot)|0)+Math.imul(Pe,st)|0,Q=Q+Math.imul(Pe,ot)|0;var Et=(re+(z=z+Math.imul(Te,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Te,dt)|0)+Math.imul(Me,ut)|0))<<13)|0;re=((Q=Q+Math.imul(Me,dt)|0)+(q>>>13)|0)+(Et>>>26)|0,Et&=67108863,z=Math.imul(Ne,st),q=(q=Math.imul(Ne,ot))+Math.imul(Ae,st)|0,Q=Math.imul(Ae,ot);var Pt=(re+(z=z+Math.imul(Ee,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Ee,dt)|0)+Math.imul(Pe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(Pe,dt)|0)+(q>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var It=(re+(z=Math.imul(Ne,ut))|0)+((8191&(q=(q=Math.imul(Ne,dt))+Math.imul(Ae,ut)|0))<<13)|0;return re=((Q=Math.imul(Ae,dt))+(q>>>13)|0)+(It>>>26)|0,It&=67108863,ie[0]=ct,ie[1]=ht,ie[2]=pt,ie[3]=mt,ie[4]=vt,ie[5]=yt,ie[6]=bt,ie[7]=Ct,ie[8]=wt,ie[9]=_t,ie[10]=St,ie[11]=xt,ie[12]=kt,ie[13]=Tt,ie[14]=Mt,ie[15]=Rt,ie[16]=Et,ie[17]=Pt,ie[18]=It,0!==re&&(ie[19]=re,B.length++),B};function bigMulTo(C,I,B){B.negative=I.negative^C.negative,B.length=C.length+I.length;for(var z=0,q=0,Q=0;Q<B.length-1;Q++){var ee=q;q=0;for(var te=67108863&z,ie=Math.min(Q,I.length-1),re=Math.max(0,Q-C.length+1);re<=ie;re++){var ne=Q-re,se=(0|C.words[ne])*(0|I.words[re]),oe=67108863&se;te=67108863&(oe=oe+te|0),q+=(ee=(ee=ee+(se/67108864|0)|0)+(oe>>>26)|0)>>>26,ee&=67108863}B.words[Q]=te,z=ee,ee=q}return 0!==z?B.words[Q]=z:B.length--,B.strip()}function jumboMulTo(C,I,B){return(new FFTM).mulp(C,I,B)}function FFTM(C,I){this.x=C,this.y=I}Math.imul||(te=smallMulTo),BN.prototype.mulTo=function mulTo(C,I){var B=this.length+C.length;return 10===this.length&&10===C.length?te(this,C,I):B<63?smallMulTo(this,C,I):B<1024?bigMulTo(this,C,I):jumboMulTo(this,C,I)},FFTM.prototype.makeRBT=function makeRBT(C){for(var I=new Array(C),B=BN.prototype._countBits(C)-1,z=0;z<C;z++)I[z]=this.revBin(z,B,C);return I},FFTM.prototype.revBin=function revBin(C,I,B){if(0===C||C===B-1)return C;for(var z=0,q=0;q<I;q++)z|=(1&C)<<I-q-1,C>>=1;return z},FFTM.prototype.permute=function permute(C,I,B,z,q,Q){for(var ee=0;ee<Q;ee++)z[ee]=I[C[ee]],q[ee]=B[C[ee]]},FFTM.prototype.transform=function transform(C,I,B,z,q,Q){this.permute(Q,C,I,B,z,q);for(var ee=1;ee<q;ee<<=1)for(var te=ee<<1,ie=Math.cos(2*Math.PI/te),re=Math.sin(2*Math.PI/te),ne=0;ne<q;ne+=te)for(var se=ie,oe=re,ae=0;ae<ee;ae++){var le=B[ne+ae],ue=z[ne+ae],de=B[ne+ae+ee],ce=z[ne+ae+ee],he=se*de-oe*ce;ce=se*ce+oe*de,de=he,B[ne+ae]=le+de,z[ne+ae]=ue+ce,B[ne+ae+ee]=le-de,z[ne+ae+ee]=ue-ce,ae!==te&&(he=ie*se-re*oe,oe=ie*oe+re*se,se=he)}},FFTM.prototype.guessLen13b=function guessLen13b(C,I){var B=1|Math.max(I,C),z=1&B,q=0;for(B=B/2|0;B;B>>>=1)q++;return 1<<q+1+z},FFTM.prototype.conjugate=function conjugate(C,I,B){if(!(B<=1))for(var z=0;z<B/2;z++){var q=C[z];C[z]=C[B-z-1],C[B-z-1]=q,q=I[z],I[z]=-I[B-z-1],I[B-z-1]=-q}},FFTM.prototype.normalize13b=function normalize13b(C,I){for(var B=0,z=0;z<I/2;z++){var q=8192*Math.round(C[2*z+1]/I)+Math.round(C[2*z]/I)+B;C[z]=67108863&q,B=q<67108864?0:q/67108864|0}return C},FFTM.prototype.convert13b=function convert13b(C,I,B,z){for(var q=0,Q=0;Q<I;Q++)q+=0|C[Q],B[2*Q]=8191&q,q>>>=13,B[2*Q+1]=8191&q,q>>>=13;for(Q=2*I;Q<z;++Q)B[Q]=0;assert(0===q),assert(!(-8192&q))},FFTM.prototype.stub=function stub(C){for(var I=new Array(C),B=0;B<C;B++)I[B]=0;return I},FFTM.prototype.mulp=function mulp(C,I,B){var z=2*this.guessLen13b(C.length,I.length),q=this.makeRBT(z),Q=this.stub(z),ee=new Array(z),te=new Array(z),ie=new Array(z),re=new Array(z),ne=new Array(z),se=new Array(z),oe=B.words;oe.length=z,this.convert13b(C.words,C.length,ee,z),this.convert13b(I.words,I.length,re,z),this.transform(ee,Q,te,ie,z,q),this.transform(re,Q,ne,se,z,q);for(var ae=0;ae<z;ae++){var le=te[ae]*ne[ae]-ie[ae]*se[ae];ie[ae]=te[ae]*se[ae]+ie[ae]*ne[ae],te[ae]=le}return this.conjugate(te,ie,z),this.transform(te,ie,oe,Q,z,q),this.conjugate(oe,Q,z),this.normalize13b(oe,z),B.negative=C.negative^I.negative,B.length=C.length+I.length,B.strip()},BN.prototype.mul=function mul(C){var I=new BN(null);return I.words=new Array(this.length+C.length),this.mulTo(C,I)},BN.prototype.mulf=function mulf(C){var I=new BN(null);return I.words=new Array(this.length+C.length),jumboMulTo(this,C,I)},BN.prototype.imul=function imul(C){return this.clone().mulTo(C,this)},BN.prototype.imuln=function imuln(C){assert("number"==typeof C),assert(C<67108864);for(var I=0,B=0;B<this.length;B++){var z=(0|this.words[B])*C,q=(67108863&z)+(67108863&I);I>>=26,I+=z/67108864|0,I+=q>>>26,this.words[B]=67108863&q}return 0!==I&&(this.words[B]=I,this.length++),this},BN.prototype.muln=function muln(C){return this.clone().imuln(C)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(C){var I=toBitArray(C);if(0===I.length)return new BN(1);for(var B=this,z=0;z<I.length&&0===I[z];z++,B=B.sqr());if(++z<I.length)for(var q=B.sqr();z<I.length;z++,q=q.sqr())0!==I[z]&&(B=B.mul(q));return B},BN.prototype.iushln=function iushln(C){assert("number"==typeof C&&C>=0);var I,B=C%26,z=(C-B)/26,q=67108863>>>26-B<<26-B;if(0!==B){var Q=0;for(I=0;I<this.length;I++){var ee=this.words[I]&q,te=(0|this.words[I])-ee<<B;this.words[I]=te|Q,Q=ee>>>26-B}Q&&(this.words[I]=Q,this.length++)}if(0!==z){for(I=this.length-1;I>=0;I--)this.words[I+z]=this.words[I];for(I=0;I<z;I++)this.words[I]=0;this.length+=z}return this.strip()},BN.prototype.ishln=function ishln(C){return assert(0===this.negative),this.iushln(C)},BN.prototype.iushrn=function iushrn(C,I,B){var z;assert("number"==typeof C&&C>=0),z=I?(I-I%26)/26:0;var q=C%26,Q=Math.min((C-q)/26,this.length),ee=67108863^67108863>>>q<<q,te=B;if(z-=Q,z=Math.max(0,z),te){for(var ie=0;ie<Q;ie++)te.words[ie]=this.words[ie];te.length=Q}if(0===Q);else if(this.length>Q)for(this.length-=Q,ie=0;ie<this.length;ie++)this.words[ie]=this.words[ie+Q];else this.words[0]=0,this.length=1;var re=0;for(ie=this.length-1;ie>=0&&(0!==re||ie>=z);ie--){var ne=0|this.words[ie];this.words[ie]=re<<26-q|ne>>>q,re=ne&ee}return te&&0!==re&&(te.words[te.length++]=re),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(C,I,B){return assert(0===this.negative),this.iushrn(C,I,B)},BN.prototype.shln=function shln(C){return this.clone().ishln(C)},BN.prototype.ushln=function ushln(C){return this.clone().iushln(C)},BN.prototype.shrn=function shrn(C){return this.clone().ishrn(C)},BN.prototype.ushrn=function ushrn(C){return this.clone().iushrn(C)},BN.prototype.testn=function testn(C){assert("number"==typeof C&&C>=0);var I=C%26,B=(C-I)/26,z=1<<I;return!(this.length<=B||!(this.words[B]&z))},BN.prototype.imaskn=function imaskn(C){assert("number"==typeof C&&C>=0);var I=C%26,B=(C-I)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=B)return this;if(0!==I&&B++,this.length=Math.min(B,this.length),0!==I){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this.strip()},BN.prototype.maskn=function maskn(C){return this.clone().imaskn(C)},BN.prototype.iaddn=function iaddn(C){return assert("number"==typeof C),assert(C<67108864),C<0?this.isubn(-C):0!==this.negative?1===this.length&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},BN.prototype._iaddn=function _iaddn(C){this.words[0]+=C;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},BN.prototype.isubn=function isubn(C){if(assert("number"==typeof C),assert(C<67108864),C<0)return this.iaddn(-C);if(0!==this.negative)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},BN.prototype.addn=function addn(C){return this.clone().iaddn(C)},BN.prototype.subn=function subn(C){return this.clone().isubn(C)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(C,I,B){var z,q,Q=C.length+B;this._expand(Q);var ee=0;for(z=0;z<C.length;z++){q=(0|this.words[z+B])+ee;var te=(0|C.words[z])*I;ee=((q-=67108863&te)>>26)-(te/67108864|0),this.words[z+B]=67108863&q}for(;z<this.length-B;z++)ee=(q=(0|this.words[z+B])+ee)>>26,this.words[z+B]=67108863&q;if(0===ee)return this.strip();for(assert(-1===ee),ee=0,z=0;z<this.length;z++)ee=(q=-(0|this.words[z])+ee)>>26,this.words[z]=67108863&q;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(C,I){var B=this.length-C.length,z=this.clone(),q=C,Q=0|q.words[q.length-1];0!=(B=26-this._countBits(Q))&&(q=q.ushln(B),z.iushln(B),Q=0|q.words[q.length-1]);var ee,te=z.length-q.length;if("mod"!==I){(ee=new BN(null)).length=te+1,ee.words=new Array(ee.length);for(var ie=0;ie<ee.length;ie++)ee.words[ie]=0}var re=z.clone()._ishlnsubmul(q,1,te);0===re.negative&&(z=re,ee&&(ee.words[te]=1));for(var ne=te-1;ne>=0;ne--){var se=67108864*(0|z.words[q.length+ne])+(0|z.words[q.length+ne-1]);for(se=Math.min(se/Q|0,67108863),z._ishlnsubmul(q,se,ne);0!==z.negative;)se--,z.negative=0,z._ishlnsubmul(q,1,ne),z.isZero()||(z.negative^=1);ee&&(ee.words[ne]=se)}return ee&&ee.strip(),z.strip(),"div"!==I&&0!==B&&z.iushrn(B),{div:ee||null,mod:z}},BN.prototype.divmod=function divmod(C,I,B){return assert(!C.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===C.negative?(Q=this.neg().divmod(C,I),"mod"!==I&&(z=Q.div.neg()),"div"!==I&&(q=Q.mod.neg(),B&&0!==q.negative&&q.iadd(C)),{div:z,mod:q}):0===this.negative&&0!==C.negative?(Q=this.divmod(C.neg(),I),"mod"!==I&&(z=Q.div.neg()),{div:z,mod:Q.mod}):this.negative&C.negative?(Q=this.neg().divmod(C.neg(),I),"div"!==I&&(q=Q.mod.neg(),B&&0!==q.negative&&q.isub(C)),{div:Q.div,mod:q}):C.length>this.length||this.cmp(C)<0?{div:new BN(0),mod:this}:1===C.length?"div"===I?{div:this.divn(C.words[0]),mod:null}:"mod"===I?{div:null,mod:new BN(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new BN(this.modn(C.words[0]))}:this._wordDiv(C,I);var z,q,Q},BN.prototype.div=function div(C){return this.divmod(C,"div",!1).div},BN.prototype.mod=function mod(C){return this.divmod(C,"mod",!1).mod},BN.prototype.umod=function umod(C){return this.divmod(C,"mod",!0).mod},BN.prototype.divRound=function divRound(C){var I=this.divmod(C);if(I.mod.isZero())return I.div;var B=0!==I.div.negative?I.mod.isub(C):I.mod,z=C.ushrn(1),q=C.andln(1),Q=B.cmp(z);return Q<0||1===q&&0===Q?I.div:0!==I.div.negative?I.div.isubn(1):I.div.iaddn(1)},BN.prototype.modn=function modn(C){assert(C<=67108863);for(var I=(1<<26)%C,B=0,z=this.length-1;z>=0;z--)B=(I*B+(0|this.words[z]))%C;return B},BN.prototype.idivn=function idivn(C){assert(C<=67108863);for(var I=0,B=this.length-1;B>=0;B--){var z=(0|this.words[B])+67108864*I;this.words[B]=z/C|0,I=z%C}return this.strip()},BN.prototype.divn=function divn(C){return this.clone().idivn(C)},BN.prototype.egcd=function egcd(C){assert(0===C.negative),assert(!C.isZero());var I=this,B=C.clone();I=0!==I.negative?I.umod(C):I.clone();for(var z=new BN(1),q=new BN(0),Q=new BN(0),ee=new BN(1),te=0;I.isEven()&&B.isEven();)I.iushrn(1),B.iushrn(1),++te;for(var ie=B.clone(),re=I.clone();!I.isZero();){for(var ne=0,se=1;!(I.words[0]&se)&&ne<26;++ne,se<<=1);if(ne>0)for(I.iushrn(ne);ne-- >0;)(z.isOdd()||q.isOdd())&&(z.iadd(ie),q.isub(re)),z.iushrn(1),q.iushrn(1);for(var oe=0,ae=1;!(B.words[0]&ae)&&oe<26;++oe,ae<<=1);if(oe>0)for(B.iushrn(oe);oe-- >0;)(Q.isOdd()||ee.isOdd())&&(Q.iadd(ie),ee.isub(re)),Q.iushrn(1),ee.iushrn(1);I.cmp(B)>=0?(I.isub(B),z.isub(Q),q.isub(ee)):(B.isub(I),Q.isub(z),ee.isub(q))}return{a:Q,b:ee,gcd:B.iushln(te)}},BN.prototype._invmp=function _invmp(C){assert(0===C.negative),assert(!C.isZero());var I=this,B=C.clone();I=0!==I.negative?I.umod(C):I.clone();for(var z,q=new BN(1),Q=new BN(0),ee=B.clone();I.cmpn(1)>0&&B.cmpn(1)>0;){for(var te=0,ie=1;!(I.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(I.iushrn(te);te-- >0;)q.isOdd()&&q.iadd(ee),q.iushrn(1);for(var re=0,ne=1;!(B.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(B.iushrn(re);re-- >0;)Q.isOdd()&&Q.iadd(ee),Q.iushrn(1);I.cmp(B)>=0?(I.isub(B),q.isub(Q)):(B.isub(I),Q.isub(q))}return(z=0===I.cmpn(1)?q:Q).cmpn(0)<0&&z.iadd(C),z},BN.prototype.gcd=function gcd(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var I=this.clone(),B=C.clone();I.negative=0,B.negative=0;for(var z=0;I.isEven()&&B.isEven();z++)I.iushrn(1),B.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;B.isEven();)B.iushrn(1);var q=I.cmp(B);if(q<0){var Q=I;I=B,B=Q}else if(0===q||0===B.cmpn(1))break;I.isub(B)}return B.iushln(z)},BN.prototype.invm=function invm(C){return this.egcd(C).a.umod(C)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(C){return this.words[0]&C},BN.prototype.bincn=function bincn(C){assert("number"==typeof C);var I=C%26,B=(C-I)/26,z=1<<I;if(this.length<=B)return this._expand(B+1),this.words[B]|=z,this;for(var q=z,Q=B;0!==q&&Q<this.length;Q++){var ee=0|this.words[Q];q=(ee+=q)>>>26,ee&=67108863,this.words[Q]=ee}return 0!==q&&(this.words[Q]=q,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(C){var I,B=C<0;if(0!==this.negative&&!B)return-1;if(0===this.negative&&B)return 1;if(this.strip(),this.length>1)I=1;else{B&&(C=-C),assert(C<=67108863,"Number is too big");var z=0|this.words[0];I=z===C?0:z<C?-1:1}return 0!==this.negative?0|-I:I},BN.prototype.cmp=function cmp(C){if(0!==this.negative&&0===C.negative)return-1;if(0===this.negative&&0!==C.negative)return 1;var I=this.ucmp(C);return 0!==this.negative?0|-I:I},BN.prototype.ucmp=function ucmp(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var I=0,B=this.length-1;B>=0;B--){var z=0|this.words[B],q=0|C.words[B];if(z!==q){z<q?I=-1:z>q&&(I=1);break}}return I},BN.prototype.gtn=function gtn(C){return 1===this.cmpn(C)},BN.prototype.gt=function gt(C){return 1===this.cmp(C)},BN.prototype.gten=function gten(C){return this.cmpn(C)>=0},BN.prototype.gte=function gte(C){return this.cmp(C)>=0},BN.prototype.ltn=function ltn(C){return-1===this.cmpn(C)},BN.prototype.lt=function lt(C){return-1===this.cmp(C)},BN.prototype.lten=function lten(C){return this.cmpn(C)<=0},BN.prototype.lte=function lte(C){return this.cmp(C)<=0},BN.prototype.eqn=function eqn(C){return 0===this.cmpn(C)},BN.prototype.eq=function eq(C){return 0===this.cmp(C)},BN.red=function red(C){return new Red(C)},BN.prototype.toRed=function toRed(C){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),C.convertTo(this)._forceRed(C)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(C){return this.red=C,this},BN.prototype.forceRed=function forceRed(C){return assert(!this.red,"Already a number in reduction context"),this._forceRed(C)},BN.prototype.redAdd=function redAdd(C){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},BN.prototype.redIAdd=function redIAdd(C){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},BN.prototype.redSub=function redSub(C){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},BN.prototype.redISub=function redISub(C){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},BN.prototype.redShl=function redShl(C){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},BN.prototype.redMul=function redMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},BN.prototype.redIMul=function redIMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(C){return assert(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var ie={k256:null,p224:null,p192:null,p25519:null};function MPrime(C,I){this.name=C,this.p=new BN(I,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(C){if("string"==typeof C){var I=BN._prime(C);this.m=I.p,this.prime=I}else assert(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Mont(C){Red.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var C=new BN(null);return C.words=new Array(Math.ceil(this.n/13)),C},MPrime.prototype.ireduce=function ireduce(C){var I,B=C;do{this.split(B,this.tmp),I=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength()}while(I>this.n);var z=I<this.n?-1:B.ucmp(this.p);return 0===z?(B.words[0]=0,B.length=1):z>0?B.isub(this.p):void 0!==B.strip?B.strip():B._strip(),B},MPrime.prototype.split=function split(C,I){C.iushrn(this.n,0,I)},MPrime.prototype.imulK=function imulK(C){return C.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(C,I){for(var B=4194303,z=Math.min(C.length,9),q=0;q<z;q++)I.words[q]=C.words[q];if(I.length=z,C.length<=9)return C.words[0]=0,void(C.length=1);var Q=C.words[9];for(I.words[I.length++]=Q&B,q=10;q<C.length;q++){var ee=0|C.words[q];C.words[q-10]=(ee&B)<<4|Q>>>22,Q=ee}Q>>>=22,C.words[q-10]=Q,0===Q&&C.length>10?C.length-=10:C.length-=9},K256.prototype.imulK=function imulK(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var I=0,B=0;B<C.length;B++){var z=0|C.words[B];I+=977*z,C.words[B]=67108863&I,I=64*z+(I/67108864|0)}return 0===C.words[C.length-1]&&(C.length--,0===C.words[C.length-1]&&C.length--),C},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(C){for(var I=0,B=0;B<C.length;B++){var z=19*(0|C.words[B])+I,q=67108863&z;z>>>=26,C.words[B]=q,I=z}return 0!==I&&(C.words[C.length++]=I),C},BN._prime=function prime(C){if(ie[C])return ie[C];var prime;if("k256"===C)prime=new K256;else if("p224"===C)prime=new P224;else if("p192"===C)prime=new P192;else{if("p25519"!==C)throw new Error("Unknown prime "+C);prime=new P25519}return ie[C]=prime,prime},Red.prototype._verify1=function _verify1(C){assert(0===C.negative,"red works only with positives"),assert(C.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(C,I){assert(!(C.negative|I.negative),"red works only with positives"),assert(C.red&&C.red===I.red,"red works only with red numbers")},Red.prototype.imod=function imod(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Red.prototype.add=function add(C,I){this._verify2(C,I);var B=C.add(I);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},Red.prototype.iadd=function iadd(C,I){this._verify2(C,I);var B=C.iadd(I);return B.cmp(this.m)>=0&&B.isub(this.m),B},Red.prototype.sub=function sub(C,I){this._verify2(C,I);var B=C.sub(I);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},Red.prototype.isub=function isub(C,I){this._verify2(C,I);var B=C.isub(I);return B.cmpn(0)<0&&B.iadd(this.m),B},Red.prototype.shl=function shl(C,I){return this._verify1(C),this.imod(C.ushln(I))},Red.prototype.imul=function imul(C,I){return this._verify2(C,I),this.imod(C.imul(I))},Red.prototype.mul=function mul(C,I){return this._verify2(C,I),this.imod(C.mul(I))},Red.prototype.isqr=function isqr(C){return this.imul(C,C.clone())},Red.prototype.sqr=function sqr(C){return this.mul(C,C)},Red.prototype.sqrt=function sqrt(C){if(C.isZero())return C.clone();var I=this.m.andln(3);if(assert(I%2==1),3===I){var B=this.m.add(new BN(1)).iushrn(2);return this.pow(C,B)}for(var z=this.m.subn(1),q=0;!z.isZero()&&0===z.andln(1);)q++,z.iushrn(1);assert(!z.isZero());var Q=new BN(1).toRed(this),ee=Q.redNeg(),te=this.m.subn(1).iushrn(1),ie=this.m.bitLength();for(ie=new BN(2*ie*ie).toRed(this);0!==this.pow(ie,te).cmp(ee);)ie.redIAdd(ee);for(var re=this.pow(ie,z),ne=this.pow(C,z.addn(1).iushrn(1)),se=this.pow(C,z),oe=q;0!==se.cmp(Q);){for(var ae=se,le=0;0!==ae.cmp(Q);le++)ae=ae.redSqr();assert(le<oe);var ue=this.pow(re,new BN(1).iushln(oe-le-1));ne=ne.redMul(ue),re=ue.redSqr(),se=se.redMul(re),oe=le}return ne},Red.prototype.invm=function invm(C){var I=C._invmp(this.m);return 0!==I.negative?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},Red.prototype.pow=function pow(C,I){if(I.isZero())return new BN(1).toRed(this);if(0===I.cmpn(1))return C.clone();var B=4,z=new Array(1<<B);z[0]=new BN(1).toRed(this),z[1]=C;for(var q=2;q<z.length;q++)z[q]=this.mul(z[q-1],C);var Q=z[0],ee=0,te=0,ie=I.bitLength()%26;for(0===ie&&(ie=26),q=I.length-1;q>=0;q--){for(var re=I.words[q],ne=ie-1;ne>=0;ne--){var se=re>>ne&1;Q!==z[0]&&(Q=this.sqr(Q)),0!==se||0!==ee?(ee<<=1,ee|=se,(++te===B||0===q&&0===ne)&&(Q=this.mul(Q,z[ee]),te=0,ee=0)):te=0}ie=26}return Q},Red.prototype.convertTo=function convertTo(C){var I=C.umod(this.m);return I===C?I.clone():I},Red.prototype.convertFrom=function convertFrom(C){var I=C.clone();return I.red=null,I},BN.mont=function mont(C){return new Mont(C)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(C){return this.imod(C.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(C){var I=this.imod(C.mul(this.rinv));return I.red=null,I},Mont.prototype.imul=function imul(C,I){if(C.isZero()||I.isZero())return C.words[0]=0,C.length=1,C;var B=C.imul(I),z=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(z).iushrn(this.shift),Q=q;return q.cmp(this.m)>=0?Q=q.isub(this.m):q.cmpn(0)<0&&(Q=q.iadd(this.m)),Q._forceRed(this)},Mont.prototype.mul=function mul(C,I){if(C.isZero()||I.isZero())return new BN(0)._forceRed(this);var B=C.mul(I),z=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(z).iushrn(this.shift),Q=q;return q.cmp(this.m)>=0?Q=q.isub(this.m):q.cmpn(0)<0&&(Q=q.iadd(this.m)),Q._forceRed(this)},Mont.prototype.invm=function invm(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===I||I,void 0)},{buffer:188}],185:[function(C,I,B){"use strict";B.byteLength=byteLength,B.toByteArray=toByteArray,B.fromByteArray=fromByteArray;for(var z=[],q=[],Q="undefined"!=typeof Uint8Array?Uint8Array:Array,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,ie=ee.length;te<ie;++te)z[te]=ee[te],q[ee.charCodeAt(te)]=te;function getLens(C){var I=C.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=C.indexOf("=");return-1===B&&(B=I),[B,B===I?0:4-B%4]}function byteLength(C){var I=getLens(C),B=I[0],z=I[1];return 3*(B+z)/4-z}function _byteLength(C,I,B){return 3*(I+B)/4-B}function toByteArray(C){var I,B,z=getLens(C),ee=z[0],te=z[1],ie=new Q(_byteLength(C,ee,te)),re=0,ne=te>0?ee-4:ee;for(B=0;B<ne;B+=4)I=q[C.charCodeAt(B)]<<18|q[C.charCodeAt(B+1)]<<12|q[C.charCodeAt(B+2)]<<6|q[C.charCodeAt(B+3)],ie[re++]=I>>16&255,ie[re++]=I>>8&255,ie[re++]=255&I;return 2===te&&(I=q[C.charCodeAt(B)]<<2|q[C.charCodeAt(B+1)]>>4,ie[re++]=255&I),1===te&&(I=q[C.charCodeAt(B)]<<10|q[C.charCodeAt(B+1)]<<4|q[C.charCodeAt(B+2)]>>2,ie[re++]=I>>8&255,ie[re++]=255&I),ie}function tripletToBase64(C){return z[C>>18&63]+z[C>>12&63]+z[C>>6&63]+z[63&C]}function encodeChunk(C,I,B){for(var z,q=[],Q=I;Q<B;Q+=3)z=(C[Q]<<16&16711680)+(C[Q+1]<<8&65280)+(255&C[Q+2]),q.push(tripletToBase64(z));return q.join("")}function fromByteArray(C){for(var I,B=C.length,q=B%3,Q=[],ee=16383,te=0,ie=B-q;te<ie;te+=ee)Q.push(encodeChunk(C,te,te+ee>ie?ie:te+ee));return 1===q?(I=C[B-1],Q.push(z[I>>2]+z[I<<4&63]+"==")):2===q&&(I=(C[B-2]<<8)+C[B-1],Q.push(z[I>>10]+z[I>>4&63]+z[I<<2&63]+"=")),Q.join("")}q["-".charCodeAt(0)]=62,q["_".charCodeAt(0)]=63},{}],186:[function(C,I,B){"use strict";!function(I,B){function assert(C,I){if(!C)throw new Error(I||"Assertion failed")}function inherits(C,I){C.super_=I;var TempCtor=function(){};TempCtor.prototype=I.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}function BN(C,I,B){if(BN.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&("le"!==I&&"be"!==I||(B=I,I=10),this._init(C||0,I||10,B||"be"))}var z;"object"==typeof I?I.exports=BN:B.BN=BN,BN.BN=BN,BN.wordSize=26;try{z="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:C("buffer").Buffer}catch(C){}function parseHex4Bits(C,I){var B=C.charCodeAt(I);return B>=48&&B<=57?B-48:B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:void assert(!1,"Invalid character in "+C)}function parseHexByte(C,I,B){var z=parseHex4Bits(C,B);return B-1>=I&&(z|=parseHex4Bits(C,B-1)<<4),z}function parseBase(C,I,B,z){for(var q=0,Q=0,ee=Math.min(C.length,B),te=I;te<ee;te++){var ie=C.charCodeAt(te)-48;q*=z,Q=ie>=49?ie-49+10:ie>=17?ie-17+10:ie,assert(ie>=0&&Q<z,"Invalid character"),q+=Q}return q}function move(C,I){C.words=I.words,C.length=I.length,C.negative=I.negative,C.red=I.red}if(BN.isBN=function isBN(C){return C instanceof BN||null!==C&&"object"==typeof C&&C.constructor.wordSize===BN.wordSize&&Array.isArray(C.words)},BN.max=function max(C,I){return C.cmp(I)>0?C:I},BN.min=function min(C,I){return C.cmp(I)<0?C:I},BN.prototype._init=function init(C,I,B){if("number"==typeof C)return this._initNumber(C,I,B);if("object"==typeof C)return this._initArray(C,I,B);"hex"===I&&(I=16),assert(I===(0|I)&&I>=2&&I<=36);var z=0;"-"===(C=C.toString().replace(/\s+/g,""))[0]&&(z++,this.negative=1),z<C.length&&(16===I?this._parseHex(C,z,B):(this._parseBase(C,I,z),"le"===B&&this._initArray(this.toArray(),I,B)))},BN.prototype._initNumber=function _initNumber(C,I,B){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(assert(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),"le"===B&&this._initArray(this.toArray(),I,B)},BN.prototype._initArray=function _initArray(C,I,B){if(assert("number"==typeof C.length),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var q,Q,ee=0;if("be"===B)for(z=C.length-1,q=0;z>=0;z-=3)Q=C[z]|C[z-1]<<8|C[z-2]<<16,this.words[q]|=Q<<ee&67108863,this.words[q+1]=Q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,q++);else if("le"===B)for(z=0,q=0;z<C.length;z+=3)Q=C[z]|C[z+1]<<8|C[z+2]<<16,this.words[q]|=Q<<ee&67108863,this.words[q+1]=Q>>>26-ee&67108863,(ee+=24)>=26&&(ee-=26,q++);return this._strip()},BN.prototype._parseHex=function _parseHex(C,I,B){this.length=Math.ceil((C.length-I)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var q,Q=0,ee=0;if("be"===B)for(z=C.length-1;z>=I;z-=2)q=parseHexByte(C,I,z)<<Q,this.words[ee]|=67108863&q,Q>=18?(Q-=18,ee+=1,this.words[ee]|=q>>>26):Q+=8;else for(z=(C.length-I)%2==0?I+1:I;z<C.length;z+=2)q=parseHexByte(C,I,z)<<Q,this.words[ee]|=67108863&q,Q>=18?(Q-=18,ee+=1,this.words[ee]|=q>>>26):Q+=8;this._strip()},BN.prototype._parseBase=function _parseBase(C,I,B){this.words=[0],this.length=1;for(var z=0,q=1;q<=67108863;q*=I)z++;z--,q=q/I|0;for(var Q=C.length-B,ee=Q%z,te=Math.min(Q,Q-ee)+B,ie=0,re=B;re<te;re+=z)ie=parseBase(C,re,re+z,I),this.imuln(q),this.words[0]+ie<67108864?this.words[0]+=ie:this._iaddn(ie);if(0!==ee){var ne=1;for(ie=parseBase(C,re,C.length,I),re=0;re<ee;re++)ne*=I;this.imuln(ne),this.words[0]+ie<67108864?this.words[0]+=ie:this._iaddn(ie)}this._strip()},BN.prototype.copy=function copy(C){C.words=new Array(this.length);for(var I=0;I<this.length;I++)C.words[I]=this.words[I];C.length=this.length,C.negative=this.negative,C.red=this.red},BN.prototype._move=function _move(C){move(C,this)},BN.prototype.clone=function clone(){var C=new BN(null);return this.copy(C),C},BN.prototype._expand=function _expand(C){for(;this.length<C;)this.words[this.length++]=0;return this},BN.prototype._strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(C){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(C,I){var B;if(I=0|I||1,16===(C=C||10)||"hex"===C){B="";for(var z=0,te=0,ie=0;ie<this.length;ie++){var re=this.words[ie],ne=(16777215&(re<<z|te)).toString(16);te=re>>>24-z&16777215,(z+=2)>=26&&(z-=26,ie--),B=0!==te||ie!==this.length-1?q[6-ne.length]+ne+B:ne+B}for(0!==te&&(B=te.toString(16)+B);B.length%I!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}if(C===(0|C)&&C>=2&&C<=36){var se=Q[C],oe=ee[C];B="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var le=ae.modrn(oe).toString(C);B=(ae=ae.idivn(oe)).isZero()?le+B:q[se-le.length]+le+B}for(this.isZero()&&(B="0"+B);B.length%I!=0;)B="0"+B;return 0!==this.negative&&(B="-"+B),B}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var C=this.words[0];return 2===this.length?C+=67108864*this.words[1]:3===this.length&&1===this.words[2]?C+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-C:C},BN.prototype.toJSON=function toJSON(){return this.toString(16,2)},z&&(BN.prototype.toBuffer=function toBuffer(C,I){return this.toArrayLike(z,C,I)}),BN.prototype.toArray=function toArray(C,I){return this.toArrayLike(Array,C,I)};var te=function allocate(C,I){return C.allocUnsafe?C.allocUnsafe(I):new C(I)};function toBitArray(C){for(var I=new Array(C.bitLength()),B=0;B<I.length;B++){var z=B/26|0,q=B%26;I[B]=C.words[z]>>>q&1}return I}function smallMulTo(C,I,B){B.negative=I.negative^C.negative;var z=C.length+I.length|0;B.length=z,z=z-1|0;var q=0|C.words[0],Q=0|I.words[0],ee=q*Q,te=67108863&ee,ie=ee/67108864|0;B.words[0]=te;for(var re=1;re<z;re++){for(var ne=ie>>>26,se=67108863&ie,oe=Math.min(re,I.length-1),ae=Math.max(0,re-C.length+1);ae<=oe;ae++){var le=re-ae|0;ne+=(ee=(q=0|C.words[le])*(Q=0|I.words[ae])+se)/67108864|0,se=67108863&ee}B.words[re]=0|se,ie=0|ne}return 0!==ie?B.words[re]=0|ie:B.length--,B._strip()}BN.prototype.toArrayLike=function toArrayLike(C,I,B){this._strip();var z=this.byteLength(),q=B||Math.max(1,z);assert(z<=q,"byte array longer than desired length"),assert(q>0,"Requested array length <= 0");var Q=te(C,q);return this["_toArrayLike"+("le"===I?"LE":"BE")](Q,z),Q},BN.prototype._toArrayLikeLE=function _toArrayLikeLE(C,I){for(var B=0,z=0,q=0,Q=0;q<this.length;q++){var ee=this.words[q]<<Q|z;C[B++]=255&ee,B<C.length&&(C[B++]=ee>>8&255),B<C.length&&(C[B++]=ee>>16&255),6===Q?(B<C.length&&(C[B++]=ee>>24&255),z=0,Q=0):(z=ee>>>24,Q+=2)}if(B<C.length)for(C[B++]=z;B<C.length;)C[B++]=0},BN.prototype._toArrayLikeBE=function _toArrayLikeBE(C,I){for(var B=C.length-1,z=0,q=0,Q=0;q<this.length;q++){var ee=this.words[q]<<Q|z;C[B--]=255&ee,B>=0&&(C[B--]=ee>>8&255),B>=0&&(C[B--]=ee>>16&255),6===Q?(B>=0&&(C[B--]=ee>>24&255),z=0,Q=0):(z=ee>>>24,Q+=2)}if(B>=0)for(C[B--]=z;B>=0;)C[B--]=0},Math.clz32?BN.prototype._countBits=function _countBits(C){return 32-Math.clz32(C)}:BN.prototype._countBits=function _countBits(C){var I=C,B=0;return I>=4096&&(B+=13,I>>>=13),I>=64&&(B+=7,I>>>=7),I>=8&&(B+=4,I>>>=4),I>=2&&(B+=2,I>>>=2),B+I},BN.prototype._zeroBits=function _zeroBits(C){if(0===C)return 26;var I=C,B=0;return 8191&I||(B+=13,I>>>=13),127&I||(B+=7,I>>>=7),15&I||(B+=4,I>>>=4),3&I||(B+=2,I>>>=2),1&I||B++,B},BN.prototype.bitLength=function bitLength(){var C=this.words[this.length-1],I=this._countBits(C);return 26*(this.length-1)+I},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var C=0,I=0;I<this.length;I++){var B=this._zeroBits(this.words[I]);if(C+=B,26!==B)break}return C},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(C){return 0!==this.negative?this.abs().inotn(C).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var I=0;I<C.length;I++)this.words[I]=this.words[I]|C.words[I];return this._strip()},BN.prototype.ior=function ior(C){return assert(!(this.negative|C.negative)),this.iuor(C)},BN.prototype.or=function or(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},BN.prototype.uor=function uor(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},BN.prototype.iuand=function iuand(C){var I;I=this.length>C.length?C:this;for(var B=0;B<I.length;B++)this.words[B]=this.words[B]&C.words[B];return this.length=I.length,this._strip()},BN.prototype.iand=function iand(C){return assert(!(this.negative|C.negative)),this.iuand(C)},BN.prototype.and=function and(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},BN.prototype.uand=function uand(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},BN.prototype.iuxor=function iuxor(C){var I,B;this.length>C.length?(I=this,B=C):(I=C,B=this);for(var z=0;z<B.length;z++)this.words[z]=I.words[z]^B.words[z];if(this!==I)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=I.length,this._strip()},BN.prototype.ixor=function ixor(C){return assert(!(this.negative|C.negative)),this.iuxor(C)},BN.prototype.xor=function xor(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},BN.prototype.uxor=function uxor(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},BN.prototype.inotn=function inotn(C){assert("number"==typeof C&&C>=0);var I=0|Math.ceil(C/26),B=C%26;this._expand(I),B>0&&I--;for(var z=0;z<I;z++)this.words[z]=67108863&~this.words[z];return B>0&&(this.words[z]=~this.words[z]&67108863>>26-B),this._strip()},BN.prototype.notn=function notn(C){return this.clone().inotn(C)},BN.prototype.setn=function setn(C,I){assert("number"==typeof C&&C>=0);var B=C/26|0,z=C%26;return this._expand(B+1),this.words[B]=I?this.words[B]|1<<z:this.words[B]&~(1<<z),this._strip()},BN.prototype.iadd=function iadd(C){var I,B,z;if(0!==this.negative&&0===C.negative)return this.negative=0,I=this.isub(C),this.negative^=1,this._normSign();if(0===this.negative&&0!==C.negative)return C.negative=0,I=this.isub(C),C.negative=1,I._normSign();this.length>C.length?(B=this,z=C):(B=C,z=this);for(var q=0,Q=0;Q<z.length;Q++)I=(0|B.words[Q])+(0|z.words[Q])+q,this.words[Q]=67108863&I,q=I>>>26;for(;0!==q&&Q<B.length;Q++)I=(0|B.words[Q])+q,this.words[Q]=67108863&I,q=I>>>26;if(this.length=B.length,0!==q)this.words[this.length]=q,this.length++;else if(B!==this)for(;Q<B.length;Q++)this.words[Q]=B.words[Q];return this},BN.prototype.add=function add(C){var I;return 0!==C.negative&&0===this.negative?(C.negative=0,I=this.sub(C),C.negative^=1,I):0===C.negative&&0!==this.negative?(this.negative=0,I=C.sub(this),this.negative=1,I):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},BN.prototype.isub=function isub(C){if(0!==C.negative){C.negative=0;var I=this.iadd(C);return C.negative=1,I._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var B,z,q=this.cmp(C);if(0===q)return this.negative=0,this.length=1,this.words[0]=0,this;q>0?(B=this,z=C):(B=C,z=this);for(var Q=0,ee=0;ee<z.length;ee++)Q=(I=(0|B.words[ee])-(0|z.words[ee])+Q)>>26,this.words[ee]=67108863&I;for(;0!==Q&&ee<B.length;ee++)Q=(I=(0|B.words[ee])+Q)>>26,this.words[ee]=67108863&I;if(0===Q&&ee<B.length&&B!==this)for(;ee<B.length;ee++)this.words[ee]=B.words[ee];return this.length=Math.max(this.length,ee),B!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function sub(C){return this.clone().isub(C)};var ie=function comb10MulTo(C,I,B){var z,q,Q,ee=C.words,te=I.words,ie=B.words,re=0,ne=0|ee[0],se=8191&ne,oe=ne>>>13,ae=0|ee[1],le=8191&ae,ue=ae>>>13,de=0|ee[2],ce=8191&de,he=de>>>13,fe=0|ee[3],pe=8191&fe,me=fe>>>13,ge=0|ee[4],ve=8191&ge,ye=ge>>>13,be=0|ee[5],Ce=8191&be,we=be>>>13,_e=0|ee[6],Se=8191&_e,xe=_e>>>13,ke=0|ee[7],Te=8191&ke,Me=ke>>>13,Re=0|ee[8],Ee=8191&Re,Pe=Re>>>13,Ie=0|ee[9],Ne=8191&Ie,Ae=Ie>>>13,De=0|te[0],Fe=8191&De,Oe=De>>>13,Be=0|te[1],Le=8191&Be,je=Be>>>13,$e=0|te[2],Ve=8191&$e,He=$e>>>13,Ge=0|te[3],Ue=8191&Ge,ze=Ge>>>13,qe=0|te[4],We=8191&qe,Ke=qe>>>13,Xe=0|te[5],Je=8191&Xe,Ye=Xe>>>13,Ze=0|te[6],Qe=8191&Ze,et=Ze>>>13,tt=0|te[7],it=8191&tt,rt=tt>>>13,nt=0|te[8],st=8191&nt,ot=nt>>>13,at=0|te[9],ut=8191&at,dt=at>>>13;B.negative=C.negative^I.negative,B.length=19;var ct=(re+(z=Math.imul(se,Fe))|0)+((8191&(q=(q=Math.imul(se,Oe))+Math.imul(oe,Fe)|0))<<13)|0;re=((Q=Math.imul(oe,Oe))+(q>>>13)|0)+(ct>>>26)|0,ct&=67108863,z=Math.imul(le,Fe),q=(q=Math.imul(le,Oe))+Math.imul(ue,Fe)|0,Q=Math.imul(ue,Oe);var ht=(re+(z=z+Math.imul(se,Le)|0)|0)+((8191&(q=(q=q+Math.imul(se,je)|0)+Math.imul(oe,Le)|0))<<13)|0;re=((Q=Q+Math.imul(oe,je)|0)+(q>>>13)|0)+(ht>>>26)|0,ht&=67108863,z=Math.imul(ce,Fe),q=(q=Math.imul(ce,Oe))+Math.imul(he,Fe)|0,Q=Math.imul(he,Oe),z=z+Math.imul(le,Le)|0,q=(q=q+Math.imul(le,je)|0)+Math.imul(ue,Le)|0,Q=Q+Math.imul(ue,je)|0;var pt=(re+(z=z+Math.imul(se,Ve)|0)|0)+((8191&(q=(q=q+Math.imul(se,He)|0)+Math.imul(oe,Ve)|0))<<13)|0;re=((Q=Q+Math.imul(oe,He)|0)+(q>>>13)|0)+(pt>>>26)|0,pt&=67108863,z=Math.imul(pe,Fe),q=(q=Math.imul(pe,Oe))+Math.imul(me,Fe)|0,Q=Math.imul(me,Oe),z=z+Math.imul(ce,Le)|0,q=(q=q+Math.imul(ce,je)|0)+Math.imul(he,Le)|0,Q=Q+Math.imul(he,je)|0,z=z+Math.imul(le,Ve)|0,q=(q=q+Math.imul(le,He)|0)+Math.imul(ue,Ve)|0,Q=Q+Math.imul(ue,He)|0;var mt=(re+(z=z+Math.imul(se,Ue)|0)|0)+((8191&(q=(q=q+Math.imul(se,ze)|0)+Math.imul(oe,Ue)|0))<<13)|0;re=((Q=Q+Math.imul(oe,ze)|0)+(q>>>13)|0)+(mt>>>26)|0,mt&=67108863,z=Math.imul(ve,Fe),q=(q=Math.imul(ve,Oe))+Math.imul(ye,Fe)|0,Q=Math.imul(ye,Oe),z=z+Math.imul(pe,Le)|0,q=(q=q+Math.imul(pe,je)|0)+Math.imul(me,Le)|0,Q=Q+Math.imul(me,je)|0,z=z+Math.imul(ce,Ve)|0,q=(q=q+Math.imul(ce,He)|0)+Math.imul(he,Ve)|0,Q=Q+Math.imul(he,He)|0,z=z+Math.imul(le,Ue)|0,q=(q=q+Math.imul(le,ze)|0)+Math.imul(ue,Ue)|0,Q=Q+Math.imul(ue,ze)|0;var vt=(re+(z=z+Math.imul(se,We)|0)|0)+((8191&(q=(q=q+Math.imul(se,Ke)|0)+Math.imul(oe,We)|0))<<13)|0;re=((Q=Q+Math.imul(oe,Ke)|0)+(q>>>13)|0)+(vt>>>26)|0,vt&=67108863,z=Math.imul(Ce,Fe),q=(q=Math.imul(Ce,Oe))+Math.imul(we,Fe)|0,Q=Math.imul(we,Oe),z=z+Math.imul(ve,Le)|0,q=(q=q+Math.imul(ve,je)|0)+Math.imul(ye,Le)|0,Q=Q+Math.imul(ye,je)|0,z=z+Math.imul(pe,Ve)|0,q=(q=q+Math.imul(pe,He)|0)+Math.imul(me,Ve)|0,Q=Q+Math.imul(me,He)|0,z=z+Math.imul(ce,Ue)|0,q=(q=q+Math.imul(ce,ze)|0)+Math.imul(he,Ue)|0,Q=Q+Math.imul(he,ze)|0,z=z+Math.imul(le,We)|0,q=(q=q+Math.imul(le,Ke)|0)+Math.imul(ue,We)|0,Q=Q+Math.imul(ue,Ke)|0;var yt=(re+(z=z+Math.imul(se,Je)|0)|0)+((8191&(q=(q=q+Math.imul(se,Ye)|0)+Math.imul(oe,Je)|0))<<13)|0;re=((Q=Q+Math.imul(oe,Ye)|0)+(q>>>13)|0)+(yt>>>26)|0,yt&=67108863,z=Math.imul(Se,Fe),q=(q=Math.imul(Se,Oe))+Math.imul(xe,Fe)|0,Q=Math.imul(xe,Oe),z=z+Math.imul(Ce,Le)|0,q=(q=q+Math.imul(Ce,je)|0)+Math.imul(we,Le)|0,Q=Q+Math.imul(we,je)|0,z=z+Math.imul(ve,Ve)|0,q=(q=q+Math.imul(ve,He)|0)+Math.imul(ye,Ve)|0,Q=Q+Math.imul(ye,He)|0,z=z+Math.imul(pe,Ue)|0,q=(q=q+Math.imul(pe,ze)|0)+Math.imul(me,Ue)|0,Q=Q+Math.imul(me,ze)|0,z=z+Math.imul(ce,We)|0,q=(q=q+Math.imul(ce,Ke)|0)+Math.imul(he,We)|0,Q=Q+Math.imul(he,Ke)|0,z=z+Math.imul(le,Je)|0,q=(q=q+Math.imul(le,Ye)|0)+Math.imul(ue,Je)|0,Q=Q+Math.imul(ue,Ye)|0;var bt=(re+(z=z+Math.imul(se,Qe)|0)|0)+((8191&(q=(q=q+Math.imul(se,et)|0)+Math.imul(oe,Qe)|0))<<13)|0;re=((Q=Q+Math.imul(oe,et)|0)+(q>>>13)|0)+(bt>>>26)|0,bt&=67108863,z=Math.imul(Te,Fe),q=(q=Math.imul(Te,Oe))+Math.imul(Me,Fe)|0,Q=Math.imul(Me,Oe),z=z+Math.imul(Se,Le)|0,q=(q=q+Math.imul(Se,je)|0)+Math.imul(xe,Le)|0,Q=Q+Math.imul(xe,je)|0,z=z+Math.imul(Ce,Ve)|0,q=(q=q+Math.imul(Ce,He)|0)+Math.imul(we,Ve)|0,Q=Q+Math.imul(we,He)|0,z=z+Math.imul(ve,Ue)|0,q=(q=q+Math.imul(ve,ze)|0)+Math.imul(ye,Ue)|0,Q=Q+Math.imul(ye,ze)|0,z=z+Math.imul(pe,We)|0,q=(q=q+Math.imul(pe,Ke)|0)+Math.imul(me,We)|0,Q=Q+Math.imul(me,Ke)|0,z=z+Math.imul(ce,Je)|0,q=(q=q+Math.imul(ce,Ye)|0)+Math.imul(he,Je)|0,Q=Q+Math.imul(he,Ye)|0,z=z+Math.imul(le,Qe)|0,q=(q=q+Math.imul(le,et)|0)+Math.imul(ue,Qe)|0,Q=Q+Math.imul(ue,et)|0;var Ct=(re+(z=z+Math.imul(se,it)|0)|0)+((8191&(q=(q=q+Math.imul(se,rt)|0)+Math.imul(oe,it)|0))<<13)|0;re=((Q=Q+Math.imul(oe,rt)|0)+(q>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,z=Math.imul(Ee,Fe),q=(q=Math.imul(Ee,Oe))+Math.imul(Pe,Fe)|0,Q=Math.imul(Pe,Oe),z=z+Math.imul(Te,Le)|0,q=(q=q+Math.imul(Te,je)|0)+Math.imul(Me,Le)|0,Q=Q+Math.imul(Me,je)|0,z=z+Math.imul(Se,Ve)|0,q=(q=q+Math.imul(Se,He)|0)+Math.imul(xe,Ve)|0,Q=Q+Math.imul(xe,He)|0,z=z+Math.imul(Ce,Ue)|0,q=(q=q+Math.imul(Ce,ze)|0)+Math.imul(we,Ue)|0,Q=Q+Math.imul(we,ze)|0,z=z+Math.imul(ve,We)|0,q=(q=q+Math.imul(ve,Ke)|0)+Math.imul(ye,We)|0,Q=Q+Math.imul(ye,Ke)|0,z=z+Math.imul(pe,Je)|0,q=(q=q+Math.imul(pe,Ye)|0)+Math.imul(me,Je)|0,Q=Q+Math.imul(me,Ye)|0,z=z+Math.imul(ce,Qe)|0,q=(q=q+Math.imul(ce,et)|0)+Math.imul(he,Qe)|0,Q=Q+Math.imul(he,et)|0,z=z+Math.imul(le,it)|0,q=(q=q+Math.imul(le,rt)|0)+Math.imul(ue,it)|0,Q=Q+Math.imul(ue,rt)|0;var wt=(re+(z=z+Math.imul(se,st)|0)|0)+((8191&(q=(q=q+Math.imul(se,ot)|0)+Math.imul(oe,st)|0))<<13)|0;re=((Q=Q+Math.imul(oe,ot)|0)+(q>>>13)|0)+(wt>>>26)|0,wt&=67108863,z=Math.imul(Ne,Fe),q=(q=Math.imul(Ne,Oe))+Math.imul(Ae,Fe)|0,Q=Math.imul(Ae,Oe),z=z+Math.imul(Ee,Le)|0,q=(q=q+Math.imul(Ee,je)|0)+Math.imul(Pe,Le)|0,Q=Q+Math.imul(Pe,je)|0,z=z+Math.imul(Te,Ve)|0,q=(q=q+Math.imul(Te,He)|0)+Math.imul(Me,Ve)|0,Q=Q+Math.imul(Me,He)|0,z=z+Math.imul(Se,Ue)|0,q=(q=q+Math.imul(Se,ze)|0)+Math.imul(xe,Ue)|0,Q=Q+Math.imul(xe,ze)|0,z=z+Math.imul(Ce,We)|0,q=(q=q+Math.imul(Ce,Ke)|0)+Math.imul(we,We)|0,Q=Q+Math.imul(we,Ke)|0,z=z+Math.imul(ve,Je)|0,q=(q=q+Math.imul(ve,Ye)|0)+Math.imul(ye,Je)|0,Q=Q+Math.imul(ye,Ye)|0,z=z+Math.imul(pe,Qe)|0,q=(q=q+Math.imul(pe,et)|0)+Math.imul(me,Qe)|0,Q=Q+Math.imul(me,et)|0,z=z+Math.imul(ce,it)|0,q=(q=q+Math.imul(ce,rt)|0)+Math.imul(he,it)|0,Q=Q+Math.imul(he,rt)|0,z=z+Math.imul(le,st)|0,q=(q=q+Math.imul(le,ot)|0)+Math.imul(ue,st)|0,Q=Q+Math.imul(ue,ot)|0;var _t=(re+(z=z+Math.imul(se,ut)|0)|0)+((8191&(q=(q=q+Math.imul(se,dt)|0)+Math.imul(oe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(oe,dt)|0)+(q>>>13)|0)+(_t>>>26)|0,_t&=67108863,z=Math.imul(Ne,Le),q=(q=Math.imul(Ne,je))+Math.imul(Ae,Le)|0,Q=Math.imul(Ae,je),z=z+Math.imul(Ee,Ve)|0,q=(q=q+Math.imul(Ee,He)|0)+Math.imul(Pe,Ve)|0,Q=Q+Math.imul(Pe,He)|0,z=z+Math.imul(Te,Ue)|0,q=(q=q+Math.imul(Te,ze)|0)+Math.imul(Me,Ue)|0,Q=Q+Math.imul(Me,ze)|0,z=z+Math.imul(Se,We)|0,q=(q=q+Math.imul(Se,Ke)|0)+Math.imul(xe,We)|0,Q=Q+Math.imul(xe,Ke)|0,z=z+Math.imul(Ce,Je)|0,q=(q=q+Math.imul(Ce,Ye)|0)+Math.imul(we,Je)|0,Q=Q+Math.imul(we,Ye)|0,z=z+Math.imul(ve,Qe)|0,q=(q=q+Math.imul(ve,et)|0)+Math.imul(ye,Qe)|0,Q=Q+Math.imul(ye,et)|0,z=z+Math.imul(pe,it)|0,q=(q=q+Math.imul(pe,rt)|0)+Math.imul(me,it)|0,Q=Q+Math.imul(me,rt)|0,z=z+Math.imul(ce,st)|0,q=(q=q+Math.imul(ce,ot)|0)+Math.imul(he,st)|0,Q=Q+Math.imul(he,ot)|0;var St=(re+(z=z+Math.imul(le,ut)|0)|0)+((8191&(q=(q=q+Math.imul(le,dt)|0)+Math.imul(ue,ut)|0))<<13)|0;re=((Q=Q+Math.imul(ue,dt)|0)+(q>>>13)|0)+(St>>>26)|0,St&=67108863,z=Math.imul(Ne,Ve),q=(q=Math.imul(Ne,He))+Math.imul(Ae,Ve)|0,Q=Math.imul(Ae,He),z=z+Math.imul(Ee,Ue)|0,q=(q=q+Math.imul(Ee,ze)|0)+Math.imul(Pe,Ue)|0,Q=Q+Math.imul(Pe,ze)|0,z=z+Math.imul(Te,We)|0,q=(q=q+Math.imul(Te,Ke)|0)+Math.imul(Me,We)|0,Q=Q+Math.imul(Me,Ke)|0,z=z+Math.imul(Se,Je)|0,q=(q=q+Math.imul(Se,Ye)|0)+Math.imul(xe,Je)|0,Q=Q+Math.imul(xe,Ye)|0,z=z+Math.imul(Ce,Qe)|0,q=(q=q+Math.imul(Ce,et)|0)+Math.imul(we,Qe)|0,Q=Q+Math.imul(we,et)|0,z=z+Math.imul(ve,it)|0,q=(q=q+Math.imul(ve,rt)|0)+Math.imul(ye,it)|0,Q=Q+Math.imul(ye,rt)|0,z=z+Math.imul(pe,st)|0,q=(q=q+Math.imul(pe,ot)|0)+Math.imul(me,st)|0,Q=Q+Math.imul(me,ot)|0;var xt=(re+(z=z+Math.imul(ce,ut)|0)|0)+((8191&(q=(q=q+Math.imul(ce,dt)|0)+Math.imul(he,ut)|0))<<13)|0;re=((Q=Q+Math.imul(he,dt)|0)+(q>>>13)|0)+(xt>>>26)|0,xt&=67108863,z=Math.imul(Ne,Ue),q=(q=Math.imul(Ne,ze))+Math.imul(Ae,Ue)|0,Q=Math.imul(Ae,ze),z=z+Math.imul(Ee,We)|0,q=(q=q+Math.imul(Ee,Ke)|0)+Math.imul(Pe,We)|0,Q=Q+Math.imul(Pe,Ke)|0,z=z+Math.imul(Te,Je)|0,q=(q=q+Math.imul(Te,Ye)|0)+Math.imul(Me,Je)|0,Q=Q+Math.imul(Me,Ye)|0,z=z+Math.imul(Se,Qe)|0,q=(q=q+Math.imul(Se,et)|0)+Math.imul(xe,Qe)|0,Q=Q+Math.imul(xe,et)|0,z=z+Math.imul(Ce,it)|0,q=(q=q+Math.imul(Ce,rt)|0)+Math.imul(we,it)|0,Q=Q+Math.imul(we,rt)|0,z=z+Math.imul(ve,st)|0,q=(q=q+Math.imul(ve,ot)|0)+Math.imul(ye,st)|0,Q=Q+Math.imul(ye,ot)|0;var kt=(re+(z=z+Math.imul(pe,ut)|0)|0)+((8191&(q=(q=q+Math.imul(pe,dt)|0)+Math.imul(me,ut)|0))<<13)|0;re=((Q=Q+Math.imul(me,dt)|0)+(q>>>13)|0)+(kt>>>26)|0,kt&=67108863,z=Math.imul(Ne,We),q=(q=Math.imul(Ne,Ke))+Math.imul(Ae,We)|0,Q=Math.imul(Ae,Ke),z=z+Math.imul(Ee,Je)|0,q=(q=q+Math.imul(Ee,Ye)|0)+Math.imul(Pe,Je)|0,Q=Q+Math.imul(Pe,Ye)|0,z=z+Math.imul(Te,Qe)|0,q=(q=q+Math.imul(Te,et)|0)+Math.imul(Me,Qe)|0,Q=Q+Math.imul(Me,et)|0,z=z+Math.imul(Se,it)|0,q=(q=q+Math.imul(Se,rt)|0)+Math.imul(xe,it)|0,Q=Q+Math.imul(xe,rt)|0,z=z+Math.imul(Ce,st)|0,q=(q=q+Math.imul(Ce,ot)|0)+Math.imul(we,st)|0,Q=Q+Math.imul(we,ot)|0;var Tt=(re+(z=z+Math.imul(ve,ut)|0)|0)+((8191&(q=(q=q+Math.imul(ve,dt)|0)+Math.imul(ye,ut)|0))<<13)|0;re=((Q=Q+Math.imul(ye,dt)|0)+(q>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,z=Math.imul(Ne,Je),q=(q=Math.imul(Ne,Ye))+Math.imul(Ae,Je)|0,Q=Math.imul(Ae,Ye),z=z+Math.imul(Ee,Qe)|0,q=(q=q+Math.imul(Ee,et)|0)+Math.imul(Pe,Qe)|0,Q=Q+Math.imul(Pe,et)|0,z=z+Math.imul(Te,it)|0,q=(q=q+Math.imul(Te,rt)|0)+Math.imul(Me,it)|0,Q=Q+Math.imul(Me,rt)|0,z=z+Math.imul(Se,st)|0,q=(q=q+Math.imul(Se,ot)|0)+Math.imul(xe,st)|0,Q=Q+Math.imul(xe,ot)|0;var Mt=(re+(z=z+Math.imul(Ce,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Ce,dt)|0)+Math.imul(we,ut)|0))<<13)|0;re=((Q=Q+Math.imul(we,dt)|0)+(q>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,z=Math.imul(Ne,Qe),q=(q=Math.imul(Ne,et))+Math.imul(Ae,Qe)|0,Q=Math.imul(Ae,et),z=z+Math.imul(Ee,it)|0,q=(q=q+Math.imul(Ee,rt)|0)+Math.imul(Pe,it)|0,Q=Q+Math.imul(Pe,rt)|0,z=z+Math.imul(Te,st)|0,q=(q=q+Math.imul(Te,ot)|0)+Math.imul(Me,st)|0,Q=Q+Math.imul(Me,ot)|0;var Rt=(re+(z=z+Math.imul(Se,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Se,dt)|0)+Math.imul(xe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(xe,dt)|0)+(q>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,z=Math.imul(Ne,it),q=(q=Math.imul(Ne,rt))+Math.imul(Ae,it)|0,Q=Math.imul(Ae,rt),z=z+Math.imul(Ee,st)|0,q=(q=q+Math.imul(Ee,ot)|0)+Math.imul(Pe,st)|0,Q=Q+Math.imul(Pe,ot)|0;var Et=(re+(z=z+Math.imul(Te,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Te,dt)|0)+Math.imul(Me,ut)|0))<<13)|0;re=((Q=Q+Math.imul(Me,dt)|0)+(q>>>13)|0)+(Et>>>26)|0,Et&=67108863,z=Math.imul(Ne,st),q=(q=Math.imul(Ne,ot))+Math.imul(Ae,st)|0,Q=Math.imul(Ae,ot);var Pt=(re+(z=z+Math.imul(Ee,ut)|0)|0)+((8191&(q=(q=q+Math.imul(Ee,dt)|0)+Math.imul(Pe,ut)|0))<<13)|0;re=((Q=Q+Math.imul(Pe,dt)|0)+(q>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var It=(re+(z=Math.imul(Ne,ut))|0)+((8191&(q=(q=Math.imul(Ne,dt))+Math.imul(Ae,ut)|0))<<13)|0;return re=((Q=Math.imul(Ae,dt))+(q>>>13)|0)+(It>>>26)|0,It&=67108863,ie[0]=ct,ie[1]=ht,ie[2]=pt,ie[3]=mt,ie[4]=vt,ie[5]=yt,ie[6]=bt,ie[7]=Ct,ie[8]=wt,ie[9]=_t,ie[10]=St,ie[11]=xt,ie[12]=kt,ie[13]=Tt,ie[14]=Mt,ie[15]=Rt,ie[16]=Et,ie[17]=Pt,ie[18]=It,0!==re&&(ie[19]=re,B.length++),B};function bigMulTo(C,I,B){B.negative=I.negative^C.negative,B.length=C.length+I.length;for(var z=0,q=0,Q=0;Q<B.length-1;Q++){var ee=q;q=0;for(var te=67108863&z,ie=Math.min(Q,I.length-1),re=Math.max(0,Q-C.length+1);re<=ie;re++){var ne=Q-re,se=(0|C.words[ne])*(0|I.words[re]),oe=67108863&se;te=67108863&(oe=oe+te|0),q+=(ee=(ee=ee+(se/67108864|0)|0)+(oe>>>26)|0)>>>26,ee&=67108863}B.words[Q]=te,z=ee,ee=q}return 0!==z?B.words[Q]=z:B.length--,B._strip()}function jumboMulTo(C,I,B){return bigMulTo(C,I,B)}function FFTM(C,I){this.x=C,this.y=I}Math.imul||(ie=smallMulTo),BN.prototype.mulTo=function mulTo(C,I){var B=this.length+C.length;return 10===this.length&&10===C.length?ie(this,C,I):B<63?smallMulTo(this,C,I):B<1024?bigMulTo(this,C,I):jumboMulTo(this,C,I)},FFTM.prototype.makeRBT=function makeRBT(C){for(var I=new Array(C),B=BN.prototype._countBits(C)-1,z=0;z<C;z++)I[z]=this.revBin(z,B,C);return I},FFTM.prototype.revBin=function revBin(C,I,B){if(0===C||C===B-1)return C;for(var z=0,q=0;q<I;q++)z|=(1&C)<<I-q-1,C>>=1;return z},FFTM.prototype.permute=function permute(C,I,B,z,q,Q){for(var ee=0;ee<Q;ee++)z[ee]=I[C[ee]],q[ee]=B[C[ee]]},FFTM.prototype.transform=function transform(C,I,B,z,q,Q){this.permute(Q,C,I,B,z,q);for(var ee=1;ee<q;ee<<=1)for(var te=ee<<1,ie=Math.cos(2*Math.PI/te),re=Math.sin(2*Math.PI/te),ne=0;ne<q;ne+=te)for(var se=ie,oe=re,ae=0;ae<ee;ae++){var le=B[ne+ae],ue=z[ne+ae],de=B[ne+ae+ee],ce=z[ne+ae+ee],he=se*de-oe*ce;ce=se*ce+oe*de,de=he,B[ne+ae]=le+de,z[ne+ae]=ue+ce,B[ne+ae+ee]=le-de,z[ne+ae+ee]=ue-ce,ae!==te&&(he=ie*se-re*oe,oe=ie*oe+re*se,se=he)}},FFTM.prototype.guessLen13b=function guessLen13b(C,I){var B=1|Math.max(I,C),z=1&B,q=0;for(B=B/2|0;B;B>>>=1)q++;return 1<<q+1+z},FFTM.prototype.conjugate=function conjugate(C,I,B){if(!(B<=1))for(var z=0;z<B/2;z++){var q=C[z];C[z]=C[B-z-1],C[B-z-1]=q,q=I[z],I[z]=-I[B-z-1],I[B-z-1]=-q}},FFTM.prototype.normalize13b=function normalize13b(C,I){for(var B=0,z=0;z<I/2;z++){var q=8192*Math.round(C[2*z+1]/I)+Math.round(C[2*z]/I)+B;C[z]=67108863&q,B=q<67108864?0:q/67108864|0}return C},FFTM.prototype.convert13b=function convert13b(C,I,B,z){for(var q=0,Q=0;Q<I;Q++)q+=0|C[Q],B[2*Q]=8191&q,q>>>=13,B[2*Q+1]=8191&q,q>>>=13;for(Q=2*I;Q<z;++Q)B[Q]=0;assert(0===q),assert(!(-8192&q))},FFTM.prototype.stub=function stub(C){for(var I=new Array(C),B=0;B<C;B++)I[B]=0;return I},FFTM.prototype.mulp=function mulp(C,I,B){var z=2*this.guessLen13b(C.length,I.length),q=this.makeRBT(z),Q=this.stub(z),ee=new Array(z),te=new Array(z),ie=new Array(z),re=new Array(z),ne=new Array(z),se=new Array(z),oe=B.words;oe.length=z,this.convert13b(C.words,C.length,ee,z),this.convert13b(I.words,I.length,re,z),this.transform(ee,Q,te,ie,z,q),this.transform(re,Q,ne,se,z,q);for(var ae=0;ae<z;ae++){var le=te[ae]*ne[ae]-ie[ae]*se[ae];ie[ae]=te[ae]*se[ae]+ie[ae]*ne[ae],te[ae]=le}return this.conjugate(te,ie,z),this.transform(te,ie,oe,Q,z,q),this.conjugate(oe,Q,z),this.normalize13b(oe,z),B.negative=C.negative^I.negative,B.length=C.length+I.length,B._strip()},BN.prototype.mul=function mul(C){var I=new BN(null);return I.words=new Array(this.length+C.length),this.mulTo(C,I)},BN.prototype.mulf=function mulf(C){var I=new BN(null);return I.words=new Array(this.length+C.length),jumboMulTo(this,C,I)},BN.prototype.imul=function imul(C){return this.clone().mulTo(C,this)},BN.prototype.imuln=function imuln(C){var I=C<0;I&&(C=-C),assert("number"==typeof C),assert(C<67108864);for(var B=0,z=0;z<this.length;z++){var q=(0|this.words[z])*C,Q=(67108863&q)+(67108863&B);B>>=26,B+=q/67108864|0,B+=Q>>>26,this.words[z]=67108863&Q}return 0!==B&&(this.words[z]=B,this.length++),I?this.ineg():this},BN.prototype.muln=function muln(C){return this.clone().imuln(C)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(C){var I=toBitArray(C);if(0===I.length)return new BN(1);for(var B=this,z=0;z<I.length&&0===I[z];z++,B=B.sqr());if(++z<I.length)for(var q=B.sqr();z<I.length;z++,q=q.sqr())0!==I[z]&&(B=B.mul(q));return B},BN.prototype.iushln=function iushln(C){assert("number"==typeof C&&C>=0);var I,B=C%26,z=(C-B)/26,q=67108863>>>26-B<<26-B;if(0!==B){var Q=0;for(I=0;I<this.length;I++){var ee=this.words[I]&q,te=(0|this.words[I])-ee<<B;this.words[I]=te|Q,Q=ee>>>26-B}Q&&(this.words[I]=Q,this.length++)}if(0!==z){for(I=this.length-1;I>=0;I--)this.words[I+z]=this.words[I];for(I=0;I<z;I++)this.words[I]=0;this.length+=z}return this._strip()},BN.prototype.ishln=function ishln(C){return assert(0===this.negative),this.iushln(C)},BN.prototype.iushrn=function iushrn(C,I,B){var z;assert("number"==typeof C&&C>=0),z=I?(I-I%26)/26:0;var q=C%26,Q=Math.min((C-q)/26,this.length),ee=67108863^67108863>>>q<<q,te=B;if(z-=Q,z=Math.max(0,z),te){for(var ie=0;ie<Q;ie++)te.words[ie]=this.words[ie];te.length=Q}if(0===Q);else if(this.length>Q)for(this.length-=Q,ie=0;ie<this.length;ie++)this.words[ie]=this.words[ie+Q];else this.words[0]=0,this.length=1;var re=0;for(ie=this.length-1;ie>=0&&(0!==re||ie>=z);ie--){var ne=0|this.words[ie];this.words[ie]=re<<26-q|ne>>>q,re=ne&ee}return te&&0!==re&&(te.words[te.length++]=re),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function ishrn(C,I,B){return assert(0===this.negative),this.iushrn(C,I,B)},BN.prototype.shln=function shln(C){return this.clone().ishln(C)},BN.prototype.ushln=function ushln(C){return this.clone().iushln(C)},BN.prototype.shrn=function shrn(C){return this.clone().ishrn(C)},BN.prototype.ushrn=function ushrn(C){return this.clone().iushrn(C)},BN.prototype.testn=function testn(C){assert("number"==typeof C&&C>=0);var I=C%26,B=(C-I)/26,z=1<<I;return!(this.length<=B||!(this.words[B]&z))},BN.prototype.imaskn=function imaskn(C){assert("number"==typeof C&&C>=0);var I=C%26,B=(C-I)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=B)return this;if(0!==I&&B++,this.length=Math.min(B,this.length),0!==I){var z=67108863^67108863>>>I<<I;this.words[this.length-1]&=z}return this._strip()},BN.prototype.maskn=function maskn(C){return this.clone().imaskn(C)},BN.prototype.iaddn=function iaddn(C){return assert("number"==typeof C),assert(C<67108864),C<0?this.isubn(-C):0!==this.negative?1===this.length&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},BN.prototype._iaddn=function _iaddn(C){this.words[0]+=C;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},BN.prototype.isubn=function isubn(C){if(assert("number"==typeof C),assert(C<67108864),C<0)return this.iaddn(-C);if(0!==this.negative)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},BN.prototype.addn=function addn(C){return this.clone().iaddn(C)},BN.prototype.subn=function subn(C){return this.clone().isubn(C)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(C,I,B){var z,q,Q=C.length+B;this._expand(Q);var ee=0;for(z=0;z<C.length;z++){q=(0|this.words[z+B])+ee;var te=(0|C.words[z])*I;ee=((q-=67108863&te)>>26)-(te/67108864|0),this.words[z+B]=67108863&q}for(;z<this.length-B;z++)ee=(q=(0|this.words[z+B])+ee)>>26,this.words[z+B]=67108863&q;if(0===ee)return this._strip();for(assert(-1===ee),ee=0,z=0;z<this.length;z++)ee=(q=-(0|this.words[z])+ee)>>26,this.words[z]=67108863&q;return this.negative=1,this._strip()},BN.prototype._wordDiv=function _wordDiv(C,I){var B=this.length-C.length,z=this.clone(),q=C,Q=0|q.words[q.length-1];0!=(B=26-this._countBits(Q))&&(q=q.ushln(B),z.iushln(B),Q=0|q.words[q.length-1]);var ee,te=z.length-q.length;if("mod"!==I){(ee=new BN(null)).length=te+1,ee.words=new Array(ee.length);for(var ie=0;ie<ee.length;ie++)ee.words[ie]=0}var re=z.clone()._ishlnsubmul(q,1,te);0===re.negative&&(z=re,ee&&(ee.words[te]=1));for(var ne=te-1;ne>=0;ne--){var se=67108864*(0|z.words[q.length+ne])+(0|z.words[q.length+ne-1]);for(se=Math.min(se/Q|0,67108863),z._ishlnsubmul(q,se,ne);0!==z.negative;)se--,z.negative=0,z._ishlnsubmul(q,1,ne),z.isZero()||(z.negative^=1);ee&&(ee.words[ne]=se)}return ee&&ee._strip(),z._strip(),"div"!==I&&0!==B&&z.iushrn(B),{div:ee||null,mod:z}},BN.prototype.divmod=function divmod(C,I,B){return assert(!C.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===C.negative?(Q=this.neg().divmod(C,I),"mod"!==I&&(z=Q.div.neg()),"div"!==I&&(q=Q.mod.neg(),B&&0!==q.negative&&q.iadd(C)),{div:z,mod:q}):0===this.negative&&0!==C.negative?(Q=this.divmod(C.neg(),I),"mod"!==I&&(z=Q.div.neg()),{div:z,mod:Q.mod}):this.negative&C.negative?(Q=this.neg().divmod(C.neg(),I),"div"!==I&&(q=Q.mod.neg(),B&&0!==q.negative&&q.isub(C)),{div:Q.div,mod:q}):C.length>this.length||this.cmp(C)<0?{div:new BN(0),mod:this}:1===C.length?"div"===I?{div:this.divn(C.words[0]),mod:null}:"mod"===I?{div:null,mod:new BN(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new BN(this.modrn(C.words[0]))}:this._wordDiv(C,I);var z,q,Q},BN.prototype.div=function div(C){return this.divmod(C,"div",!1).div},BN.prototype.mod=function mod(C){return this.divmod(C,"mod",!1).mod},BN.prototype.umod=function umod(C){return this.divmod(C,"mod",!0).mod},BN.prototype.divRound=function divRound(C){var I=this.divmod(C);if(I.mod.isZero())return I.div;var B=0!==I.div.negative?I.mod.isub(C):I.mod,z=C.ushrn(1),q=C.andln(1),Q=B.cmp(z);return Q<0||1===q&&0===Q?I.div:0!==I.div.negative?I.div.isubn(1):I.div.iaddn(1)},BN.prototype.modrn=function modrn(C){var I=C<0;I&&(C=-C),assert(C<=67108863);for(var B=(1<<26)%C,z=0,q=this.length-1;q>=0;q--)z=(B*z+(0|this.words[q]))%C;return I?-z:z},BN.prototype.modn=function modn(C){return this.modrn(C)},BN.prototype.idivn=function idivn(C){var I=C<0;I&&(C=-C),assert(C<=67108863);for(var B=0,z=this.length-1;z>=0;z--){var q=(0|this.words[z])+67108864*B;this.words[z]=q/C|0,B=q%C}return this._strip(),I?this.ineg():this},BN.prototype.divn=function divn(C){return this.clone().idivn(C)},BN.prototype.egcd=function egcd(C){assert(0===C.negative),assert(!C.isZero());var I=this,B=C.clone();I=0!==I.negative?I.umod(C):I.clone();for(var z=new BN(1),q=new BN(0),Q=new BN(0),ee=new BN(1),te=0;I.isEven()&&B.isEven();)I.iushrn(1),B.iushrn(1),++te;for(var ie=B.clone(),re=I.clone();!I.isZero();){for(var ne=0,se=1;!(I.words[0]&se)&&ne<26;++ne,se<<=1);if(ne>0)for(I.iushrn(ne);ne-- >0;)(z.isOdd()||q.isOdd())&&(z.iadd(ie),q.isub(re)),z.iushrn(1),q.iushrn(1);for(var oe=0,ae=1;!(B.words[0]&ae)&&oe<26;++oe,ae<<=1);if(oe>0)for(B.iushrn(oe);oe-- >0;)(Q.isOdd()||ee.isOdd())&&(Q.iadd(ie),ee.isub(re)),Q.iushrn(1),ee.iushrn(1);I.cmp(B)>=0?(I.isub(B),z.isub(Q),q.isub(ee)):(B.isub(I),Q.isub(z),ee.isub(q))}return{a:Q,b:ee,gcd:B.iushln(te)}},BN.prototype._invmp=function _invmp(C){assert(0===C.negative),assert(!C.isZero());var I=this,B=C.clone();I=0!==I.negative?I.umod(C):I.clone();for(var z,q=new BN(1),Q=new BN(0),ee=B.clone();I.cmpn(1)>0&&B.cmpn(1)>0;){for(var te=0,ie=1;!(I.words[0]&ie)&&te<26;++te,ie<<=1);if(te>0)for(I.iushrn(te);te-- >0;)q.isOdd()&&q.iadd(ee),q.iushrn(1);for(var re=0,ne=1;!(B.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(B.iushrn(re);re-- >0;)Q.isOdd()&&Q.iadd(ee),Q.iushrn(1);I.cmp(B)>=0?(I.isub(B),q.isub(Q)):(B.isub(I),Q.isub(q))}return(z=0===I.cmpn(1)?q:Q).cmpn(0)<0&&z.iadd(C),z},BN.prototype.gcd=function gcd(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var I=this.clone(),B=C.clone();I.negative=0,B.negative=0;for(var z=0;I.isEven()&&B.isEven();z++)I.iushrn(1),B.iushrn(1);for(;;){for(;I.isEven();)I.iushrn(1);for(;B.isEven();)B.iushrn(1);var q=I.cmp(B);if(q<0){var Q=I;I=B,B=Q}else if(0===q||0===B.cmpn(1))break;I.isub(B)}return B.iushln(z)},BN.prototype.invm=function invm(C){return this.egcd(C).a.umod(C)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(C){return this.words[0]&C},BN.prototype.bincn=function bincn(C){assert("number"==typeof C);var I=C%26,B=(C-I)/26,z=1<<I;if(this.length<=B)return this._expand(B+1),this.words[B]|=z,this;for(var q=z,Q=B;0!==q&&Q<this.length;Q++){var ee=0|this.words[Q];q=(ee+=q)>>>26,ee&=67108863,this.words[Q]=ee}return 0!==q&&(this.words[Q]=q,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(C){var I,B=C<0;if(0!==this.negative&&!B)return-1;if(0===this.negative&&B)return 1;if(this._strip(),this.length>1)I=1;else{B&&(C=-C),assert(C<=67108863,"Number is too big");var z=0|this.words[0];I=z===C?0:z<C?-1:1}return 0!==this.negative?0|-I:I},BN.prototype.cmp=function cmp(C){if(0!==this.negative&&0===C.negative)return-1;if(0===this.negative&&0!==C.negative)return 1;var I=this.ucmp(C);return 0!==this.negative?0|-I:I},BN.prototype.ucmp=function ucmp(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var I=0,B=this.length-1;B>=0;B--){var z=0|this.words[B],q=0|C.words[B];if(z!==q){z<q?I=-1:z>q&&(I=1);break}}return I},BN.prototype.gtn=function gtn(C){return 1===this.cmpn(C)},BN.prototype.gt=function gt(C){return 1===this.cmp(C)},BN.prototype.gten=function gten(C){return this.cmpn(C)>=0},BN.prototype.gte=function gte(C){return this.cmp(C)>=0},BN.prototype.ltn=function ltn(C){return-1===this.cmpn(C)},BN.prototype.lt=function lt(C){return-1===this.cmp(C)},BN.prototype.lten=function lten(C){return this.cmpn(C)<=0},BN.prototype.lte=function lte(C){return this.cmp(C)<=0},BN.prototype.eqn=function eqn(C){return 0===this.cmpn(C)},BN.prototype.eq=function eq(C){return 0===this.cmp(C)},BN.red=function red(C){return new Red(C)},BN.prototype.toRed=function toRed(C){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),C.convertTo(this)._forceRed(C)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(C){return this.red=C,this},BN.prototype.forceRed=function forceRed(C){return assert(!this.red,"Already a number in reduction context"),this._forceRed(C)},BN.prototype.redAdd=function redAdd(C){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},BN.prototype.redIAdd=function redIAdd(C){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},BN.prototype.redSub=function redSub(C){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},BN.prototype.redISub=function redISub(C){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},BN.prototype.redShl=function redShl(C){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},BN.prototype.redMul=function redMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},BN.prototype.redIMul=function redIMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(C){return assert(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var re={k256:null,p224:null,p192:null,p25519:null};function MPrime(C,I){this.name=C,this.p=new BN(I,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(C){if("string"==typeof C){var I=BN._prime(C);this.m=I.p,this.prime=I}else assert(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Mont(C){Red.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var C=new BN(null);return C.words=new Array(Math.ceil(this.n/13)),C},MPrime.prototype.ireduce=function ireduce(C){var I,B=C;do{this.split(B,this.tmp),I=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength()}while(I>this.n);var z=I<this.n?-1:B.ucmp(this.p);return 0===z?(B.words[0]=0,B.length=1):z>0?B.isub(this.p):void 0!==B.strip?B.strip():B._strip(),B},MPrime.prototype.split=function split(C,I){C.iushrn(this.n,0,I)},MPrime.prototype.imulK=function imulK(C){return C.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(C,I){for(var B=4194303,z=Math.min(C.length,9),q=0;q<z;q++)I.words[q]=C.words[q];if(I.length=z,C.length<=9)return C.words[0]=0,void(C.length=1);var Q=C.words[9];for(I.words[I.length++]=Q&B,q=10;q<C.length;q++){var ee=0|C.words[q];C.words[q-10]=(ee&B)<<4|Q>>>22,Q=ee}Q>>>=22,C.words[q-10]=Q,0===Q&&C.length>10?C.length-=10:C.length-=9},K256.prototype.imulK=function imulK(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var I=0,B=0;B<C.length;B++){var z=0|C.words[B];I+=977*z,C.words[B]=67108863&I,I=64*z+(I/67108864|0)}return 0===C.words[C.length-1]&&(C.length--,0===C.words[C.length-1]&&C.length--),C},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(C){for(var I=0,B=0;B<C.length;B++){var z=19*(0|C.words[B])+I,q=67108863&z;z>>>=26,C.words[B]=q,I=z}return 0!==I&&(C.words[C.length++]=I),C},BN._prime=function prime(C){if(re[C])return re[C];var prime;if("k256"===C)prime=new K256;else if("p224"===C)prime=new P224;else if("p192"===C)prime=new P192;else{if("p25519"!==C)throw new Error("Unknown prime "+C);prime=new P25519}return re[C]=prime,prime},Red.prototype._verify1=function _verify1(C){assert(0===C.negative,"red works only with positives"),assert(C.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(C,I){assert(!(C.negative|I.negative),"red works only with positives"),assert(C.red&&C.red===I.red,"red works only with red numbers")},Red.prototype.imod=function imod(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(move(C,C.umod(this.m)._forceRed(this)),C)},Red.prototype.neg=function neg(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Red.prototype.add=function add(C,I){this._verify2(C,I);var B=C.add(I);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},Red.prototype.iadd=function iadd(C,I){this._verify2(C,I);var B=C.iadd(I);return B.cmp(this.m)>=0&&B.isub(this.m),B},Red.prototype.sub=function sub(C,I){this._verify2(C,I);var B=C.sub(I);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},Red.prototype.isub=function isub(C,I){this._verify2(C,I);var B=C.isub(I);return B.cmpn(0)<0&&B.iadd(this.m),B},Red.prototype.shl=function shl(C,I){return this._verify1(C),this.imod(C.ushln(I))},Red.prototype.imul=function imul(C,I){return this._verify2(C,I),this.imod(C.imul(I))},Red.prototype.mul=function mul(C,I){return this._verify2(C,I),this.imod(C.mul(I))},Red.prototype.isqr=function isqr(C){return this.imul(C,C.clone())},Red.prototype.sqr=function sqr(C){return this.mul(C,C)},Red.prototype.sqrt=function sqrt(C){if(C.isZero())return C.clone();var I=this.m.andln(3);if(assert(I%2==1),3===I){var B=this.m.add(new BN(1)).iushrn(2);return this.pow(C,B)}for(var z=this.m.subn(1),q=0;!z.isZero()&&0===z.andln(1);)q++,z.iushrn(1);assert(!z.isZero());var Q=new BN(1).toRed(this),ee=Q.redNeg(),te=this.m.subn(1).iushrn(1),ie=this.m.bitLength();for(ie=new BN(2*ie*ie).toRed(this);0!==this.pow(ie,te).cmp(ee);)ie.redIAdd(ee);for(var re=this.pow(ie,z),ne=this.pow(C,z.addn(1).iushrn(1)),se=this.pow(C,z),oe=q;0!==se.cmp(Q);){for(var ae=se,le=0;0!==ae.cmp(Q);le++)ae=ae.redSqr();assert(le<oe);var ue=this.pow(re,new BN(1).iushln(oe-le-1));ne=ne.redMul(ue),re=ue.redSqr(),se=se.redMul(re),oe=le}return ne},Red.prototype.invm=function invm(C){var I=C._invmp(this.m);return 0!==I.negative?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},Red.prototype.pow=function pow(C,I){if(I.isZero())return new BN(1).toRed(this);if(0===I.cmpn(1))return C.clone();var B=4,z=new Array(1<<B);z[0]=new BN(1).toRed(this),z[1]=C;for(var q=2;q<z.length;q++)z[q]=this.mul(z[q-1],C);var Q=z[0],ee=0,te=0,ie=I.bitLength()%26;for(0===ie&&(ie=26),q=I.length-1;q>=0;q--){for(var re=I.words[q],ne=ie-1;ne>=0;ne--){var se=re>>ne&1;Q!==z[0]&&(Q=this.sqr(Q)),0!==se||0!==ee?(ee<<=1,ee|=se,(++te===B||0===q&&0===ne)&&(Q=this.mul(Q,z[ee]),te=0,ee=0)):te=0}ie=26}return Q},Red.prototype.convertTo=function convertTo(C){var I=C.umod(this.m);return I===C?I.clone():I},Red.prototype.convertFrom=function convertFrom(C){var I=C.clone();return I.red=null,I},BN.mont=function mont(C){return new Mont(C)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(C){return this.imod(C.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(C){var I=this.imod(C.mul(this.rinv));return I.red=null,I},Mont.prototype.imul=function imul(C,I){if(C.isZero()||I.isZero())return C.words[0]=0,C.length=1,C;var B=C.imul(I),z=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(z).iushrn(this.shift),Q=q;return q.cmp(this.m)>=0?Q=q.isub(this.m):q.cmpn(0)<0&&(Q=q.iadd(this.m)),Q._forceRed(this)},Mont.prototype.mul=function mul(C,I){if(C.isZero()||I.isZero())return new BN(0)._forceRed(this);var B=C.mul(I),z=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),q=B.isub(z).iushrn(this.shift),Q=q;return q.cmp(this.m)>=0?Q=q.isub(this.m):q.cmpn(0)<0&&(Q=q.iadd(this.m)),Q._forceRed(this)},Mont.prototype.invm=function invm(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===I||I,void 0)},{buffer:188}],187:[function(C,I,B){"use strict";var z;function Rand(C){this.rand=C}if(I.exports=function rand(C){return z||(z=new Rand(null)),z.generate(C)},I.exports.Rand=Rand,Rand.prototype.generate=function generate(C){return this._rand(C)},Rand.prototype._rand=function _rand(C){if(this.rand.getBytes)return this.rand.getBytes(C);for(var I=new Uint8Array(C),B=0;B<I.length;B++)I[B]=this.rand.getByte();return I},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function _rand(C){var I=new Uint8Array(C);return self.crypto.getRandomValues(I),I}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function _rand(C){var I=new Uint8Array(C);return self.msCrypto.getRandomValues(I),I}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var q=C("crypto");if("function"!=typeof q.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function _rand(C){return q.randomBytes(C)}}catch(C){}},{crypto:188}],188:[function(C,I,B){},{}],189:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer;function asUInt32Array(C){z.isBuffer(C)||(C=z.from(C));for(var I=C.length/4|0,B=new Array(I),q=0;q<I;q++)B[q]=C.readUInt32BE(4*q);return B}function scrubVec(C){for(var I=0;I<C.length;C++)C[I]=0}function cryptBlock(C,I,B,z,q){for(var Q,ee,te,ie,re=B[0],ne=B[1],se=B[2],oe=B[3],ae=C[0]^I[0],le=C[1]^I[1],ue=C[2]^I[2],de=C[3]^I[3],ce=4,he=1;he<q;he++)Q=re[ae>>>24]^ne[le>>>16&255]^se[ue>>>8&255]^oe[255&de]^I[ce++],ee=re[le>>>24]^ne[ue>>>16&255]^se[de>>>8&255]^oe[255&ae]^I[ce++],te=re[ue>>>24]^ne[de>>>16&255]^se[ae>>>8&255]^oe[255&le]^I[ce++],ie=re[de>>>24]^ne[ae>>>16&255]^se[le>>>8&255]^oe[255&ue]^I[ce++],ae=Q,le=ee,ue=te,de=ie;return Q=(z[ae>>>24]<<24|z[le>>>16&255]<<16|z[ue>>>8&255]<<8|z[255&de])^I[ce++],ee=(z[le>>>24]<<24|z[ue>>>16&255]<<16|z[de>>>8&255]<<8|z[255&ae])^I[ce++],te=(z[ue>>>24]<<24|z[de>>>16&255]<<16|z[ae>>>8&255]<<8|z[255&le])^I[ce++],ie=(z[de>>>24]<<24|z[ae>>>16&255]<<16|z[le>>>8&255]<<8|z[255&ue])^I[ce++],[Q>>>=0,ee>>>=0,te>>>=0,ie>>>=0]}var q=[0,1,2,4,8,16,32,64,128,27,54],Q=function(){for(var C=new Array(256),I=0;I<256;I++)C[I]=I<128?I<<1:I<<1^283;for(var B=[],z=[],q=[[],[],[],[]],Q=[[],[],[],[]],ee=0,te=0,ie=0;ie<256;++ie){var re=te^te<<1^te<<2^te<<3^te<<4;re=re>>>8^255&re^99,B[ee]=re,z[re]=ee;var ne=C[ee],se=C[ne],oe=C[se],ae=257*C[re]^16843008*re;q[0][ee]=ae<<24|ae>>>8,q[1][ee]=ae<<16|ae>>>16,q[2][ee]=ae<<8|ae>>>24,q[3][ee]=ae,ae=16843009*oe^65537*se^257*ne^16843008*ee,Q[0][re]=ae<<24|ae>>>8,Q[1][re]=ae<<16|ae>>>16,Q[2][re]=ae<<8|ae>>>24,Q[3][re]=ae,0===ee?ee=te=1:(ee=ne^C[C[C[oe^ne]]],te^=C[C[te]])}return{SBOX:B,INV_SBOX:z,SUB_MIX:q,INV_SUB_MIX:Q}}();function AES(C){this._key=asUInt32Array(C),this._reset()}AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var C=this._key,I=C.length,B=I+6,z=4*(B+1),ee=[],te=0;te<I;te++)ee[te]=C[te];for(te=I;te<z;te++){var ie=ee[te-1];te%I==0?(ie=ie<<8|ie>>>24,ie=Q.SBOX[ie>>>24]<<24|Q.SBOX[ie>>>16&255]<<16|Q.SBOX[ie>>>8&255]<<8|Q.SBOX[255&ie],ie^=q[te/I|0]<<24):I>6&&te%I==4&&(ie=Q.SBOX[ie>>>24]<<24|Q.SBOX[ie>>>16&255]<<16|Q.SBOX[ie>>>8&255]<<8|Q.SBOX[255&ie]),ee[te]=ee[te-I]^ie}for(var re=[],ne=0;ne<z;ne++){var se=z-ne,oe=ee[se-(ne%4?0:4)];re[ne]=ne<4||se<=4?oe:Q.INV_SUB_MIX[0][Q.SBOX[oe>>>24]]^Q.INV_SUB_MIX[1][Q.SBOX[oe>>>16&255]]^Q.INV_SUB_MIX[2][Q.SBOX[oe>>>8&255]]^Q.INV_SUB_MIX[3][Q.SBOX[255&oe]]}this._nRounds=B,this._keySchedule=ee,this._invKeySchedule=re},AES.prototype.encryptBlockRaw=function(C){return cryptBlock(C=asUInt32Array(C),this._keySchedule,Q.SUB_MIX,Q.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(C){var I=this.encryptBlockRaw(C),B=z.allocUnsafe(16);return B.writeUInt32BE(I[0],0),B.writeUInt32BE(I[1],4),B.writeUInt32BE(I[2],8),B.writeUInt32BE(I[3],12),B},AES.prototype.decryptBlock=function(C){var I=(C=asUInt32Array(C))[1];C[1]=C[3],C[3]=I;var B=cryptBlock(C,this._invKeySchedule,Q.INV_SUB_MIX,Q.INV_SBOX,this._nRounds),q=z.allocUnsafe(16);return q.writeUInt32BE(B[0],0),q.writeUInt32BE(B[3],4),q.writeUInt32BE(B[2],8),q.writeUInt32BE(B[1],12),q},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},I.exports.AES=AES},{"safe-buffer":494}],190:[function(C,I,B){"use strict";var z=C("./aes"),q=C("safe-buffer").Buffer,Q=C("cipher-base"),ee=C("inherits"),te=C("./ghash"),ie=C("buffer-xor"),re=C("./incr32");function xorTest(C,I){var B=0;C.length!==I.length&&B++;for(var z=Math.min(C.length,I.length),q=0;q<z;++q)B+=C[q]^I[q];return B}function calcIv(C,I,B){if(12===I.length)return C._finID=q.concat([I,q.from([0,0,0,1])]),q.concat([I,q.from([0,0,0,2])]);var z=new te(B),Q=I.length,ee=Q%16;z.update(I),ee&&(ee=16-ee,z.update(q.alloc(ee,0))),z.update(q.alloc(8,0));var ie=8*Q,ne=q.alloc(8);ne.writeUIntBE(ie,0,8),z.update(ne),C._finID=z.state;var se=q.from(C._finID);return re(se),se}function StreamCipher(C,I,B,ee){Q.call(this);var ie=q.alloc(4,0);this._cipher=new z.AES(I);var re=this._cipher.encryptBlock(ie);this._ghash=new te(re),B=calcIv(this,B,re),this._prev=q.from(B),this._cache=q.allocUnsafe(0),this._secCache=q.allocUnsafe(0),this._decrypt=ee,this._alen=0,this._len=0,this._mode=C,this._authTag=null,this._called=!1}ee(StreamCipher,Q),StreamCipher.prototype._update=function(C){if(!this._called&&this._alen){var I=16-this._alen%16;I<16&&(I=q.alloc(I,0),this._ghash.update(I))}this._called=!0;var B=this._mode.encrypt(this,C);return this._decrypt?this._ghash.update(C):this._ghash.update(B),this._len+=C.length,B},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var C=ie(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(C,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=C,this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function getAuthTag(){if(this._decrypt||!q.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher.prototype.setAuthTag=function setAuthTag(C){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=C},StreamCipher.prototype.setAAD=function setAAD(C){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(C),this._alen+=C.length},I.exports=StreamCipher},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(C,I,B){"use strict";var z=C("./encrypter"),q=C("./decrypter"),Q=C("./modes/list.json");function getCiphers(){return Object.keys(Q)}B.createCipher=B.Cipher=z.createCipher,B.createCipheriv=B.Cipheriv=z.createCipheriv,B.createDecipher=B.Decipher=q.createDecipher,B.createDecipheriv=B.Decipheriv=q.createDecipheriv,B.listCiphers=B.getCiphers=getCiphers},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(C,I,B){"use strict";var z=C("./authCipher"),q=C("safe-buffer").Buffer,Q=C("./modes"),ee=C("./streamCipher"),te=C("cipher-base"),ie=C("./aes"),re=C("evp_bytestokey");function Decipher(C,I,B){te.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new ie.AES(I),this._prev=q.from(B),this._mode=C,this._autopadding=!0}function Splitter(){this.cache=q.allocUnsafe(0)}function unpad(C){var I=C[15];if(I<1||I>16)throw new Error("unable to decrypt data");for(var B=-1;++B<I;)if(C[B+(16-I)]!==I)throw new Error("unable to decrypt data");if(16!==I)return C.slice(0,16-I)}function createDecipheriv(C,I,B){var te=Q[C.toLowerCase()];if(!te)throw new TypeError("invalid suite type");if("string"==typeof B&&(B=q.from(B)),"GCM"!==te.mode&&B.length!==te.iv)throw new TypeError("invalid iv length "+B.length);if("string"==typeof I&&(I=q.from(I)),I.length!==te.key/8)throw new TypeError("invalid key length "+I.length);return"stream"===te.type?new ee(te.module,I,B,!0):"auth"===te.type?new z(te.module,I,B,!0):new Decipher(te.module,I,B)}function createDecipher(C,I){var B=Q[C.toLowerCase()];if(!B)throw new TypeError("invalid suite type");var z=re(I,!1,B.key,B.iv);return createDecipheriv(C,z.key,z.iv)}C("inherits")(Decipher,te),Decipher.prototype._update=function(C){var I,B;this._cache.add(C);for(var z=[];I=this._cache.get(this._autopadding);)B=this._mode.decrypt(this,I),z.push(B);return q.concat(z)},Decipher.prototype._final=function(){var C=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,C));if(C)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(C){return this._autopadding=!!C,this},Splitter.prototype.add=function(C){this.cache=q.concat([this.cache,C])},Splitter.prototype.get=function(C){var I;if(C){if(this.cache.length>16)return I=this.cache.slice(0,16),this.cache=this.cache.slice(16),I}else if(this.cache.length>=16)return I=this.cache.slice(0,16),this.cache=this.cache.slice(16),I;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache},B.createDecipher=createDecipher,B.createDecipheriv=createDecipheriv},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(C,I,B){"use strict";var z=C("./modes"),q=C("./authCipher"),Q=C("safe-buffer").Buffer,ee=C("./streamCipher"),te=C("cipher-base"),ie=C("./aes"),re=C("evp_bytestokey");function Cipher(C,I,B){te.call(this),this._cache=new Splitter,this._cipher=new ie.AES(I),this._prev=Q.from(B),this._mode=C,this._autopadding=!0}C("inherits")(Cipher,te),Cipher.prototype._update=function(C){var I,B;this._cache.add(C);for(var z=[];I=this._cache.get();)B=this._mode.encrypt(this,I),z.push(B);return Q.concat(z)};var ne=Q.alloc(16,16);function Splitter(){this.cache=Q.allocUnsafe(0)}function createCipheriv(C,I,B){var te=z[C.toLowerCase()];if(!te)throw new TypeError("invalid suite type");if("string"==typeof I&&(I=Q.from(I)),I.length!==te.key/8)throw new TypeError("invalid key length "+I.length);if("string"==typeof B&&(B=Q.from(B)),"GCM"!==te.mode&&B.length!==te.iv)throw new TypeError("invalid iv length "+B.length);return"stream"===te.type?new ee(te.module,I,B):"auth"===te.type?new q(te.module,I,B):new Cipher(te.module,I,B)}function createCipher(C,I){var B=z[C.toLowerCase()];if(!B)throw new TypeError("invalid suite type");var q=re(I,!1,B.key,B.iv);return createCipheriv(C,q.key,q.iv)}Cipher.prototype._final=function(){var C=this._cache.flush();if(this._autopadding)return C=this._mode.encrypt(this,C),this._cipher.scrub(),C;if(!C.equals(ne))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(C){return this._autopadding=!!C,this},Splitter.prototype.add=function(C){this.cache=Q.concat([this.cache,C])},Splitter.prototype.get=function(){if(this.cache.length>15){var C=this.cache.slice(0,16);return this.cache=this.cache.slice(16),C}return null},Splitter.prototype.flush=function(){for(var C=16-this.cache.length,I=Q.allocUnsafe(C),B=-1;++B<C;)I.writeUInt8(C,B);return Q.concat([this.cache,I])},B.createCipheriv=createCipheriv,B.createCipher=createCipher},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=z.alloc(16,0);function toArray(C){return[C.readUInt32BE(0),C.readUInt32BE(4),C.readUInt32BE(8),C.readUInt32BE(12)]}function fromArray(C){var I=z.allocUnsafe(16);return I.writeUInt32BE(C[0]>>>0,0),I.writeUInt32BE(C[1]>>>0,4),I.writeUInt32BE(C[2]>>>0,8),I.writeUInt32BE(C[3]>>>0,12),I}function GHASH(C){this.h=C,this.state=z.alloc(16,0),this.cache=z.allocUnsafe(0)}GHASH.prototype.ghash=function(C){for(var I=-1;++I<C.length;)this.state[I]^=C[I];this._multiply()},GHASH.prototype._multiply=function(){for(var C,I,B=toArray(this.h),z=[0,0,0,0],q=-1;++q<128;){for(!!(this.state[~~(q/8)]&1<<7-q%8)&&(z[0]^=B[0],z[1]^=B[1],z[2]^=B[2],z[3]^=B[3]),I=!!(1&B[3]),C=3;C>0;C--)B[C]=B[C]>>>1|(1&B[C-1])<<31;B[0]=B[0]>>>1,I&&(B[0]=B[0]^225<<24)}this.state=fromArray(z)},GHASH.prototype.update=function(C){var I;for(this.cache=z.concat([this.cache,C]);this.cache.length>=16;)I=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(I)},GHASH.prototype.final=function(C,I){return this.cache.length&&this.ghash(z.concat([this.cache,q],16)),this.ghash(fromArray([0,C,0,I])),this.state},I.exports=GHASH},{"safe-buffer":494}],195:[function(C,I,B){"use strict";function incr32(C){for(var I,B=C.length;B--;){if(255!==(I=C.readUInt8(B))){I++,C.writeUInt8(I,B);break}C.writeUInt8(0,B)}}I.exports=incr32},{}],196:[function(C,I,B){"use strict";var z=C("buffer-xor");B.encrypt=function(C,I){var B=z(I,C._prev);return C._prev=C._cipher.encryptBlock(B),C._prev},B.decrypt=function(C,I){var B=C._prev;C._prev=I;var q=C._cipher.decryptBlock(I);return z(q,B)}},{"buffer-xor":219}],197:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("buffer-xor");function encryptStart(C,I,B){var Q=I.length,ee=q(I,C._cache);return C._cache=C._cache.slice(Q),C._prev=z.concat([C._prev,B?I:ee]),ee}B.encrypt=function(C,I,B){for(var q,Q=z.allocUnsafe(0);I.length;){if(0===C._cache.length&&(C._cache=C._cipher.encryptBlock(C._prev),C._prev=z.allocUnsafe(0)),!(C._cache.length<=I.length)){Q=z.concat([Q,encryptStart(C,I,B)]);break}q=C._cache.length,Q=z.concat([Q,encryptStart(C,I.slice(0,q),B)]),I=I.slice(q)}return Q}},{"buffer-xor":219,"safe-buffer":494}],198:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer;function encryptByte(C,I,B){for(var z,q,Q=-1,ee=8,te=0;++Q<ee;)z=I&1<<7-Q?128:0,te+=(128&(q=C._cipher.encryptBlock(C._prev)[0]^z))>>Q%8,C._prev=shiftIn(C._prev,B?z:q);return te}function shiftIn(C,I){var B=C.length,q=-1,Q=z.allocUnsafe(C.length);for(C=z.concat([C,z.from([I])]);++q<B;)Q[q]=C[q]<<1|C[q+1]>>7;return Q}B.encrypt=function(C,I,B){for(var q=I.length,Q=z.allocUnsafe(q),ee=-1;++ee<q;)Q[ee]=encryptByte(C,I[ee],B);return Q}},{"safe-buffer":494}],199:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer;function encryptByte(C,I,B){var q=C._cipher.encryptBlock(C._prev)[0]^I;return C._prev=z.concat([C._prev.slice(1),z.from([B?I:q])]),q}B.encrypt=function(C,I,B){for(var q=I.length,Q=z.allocUnsafe(q),ee=-1;++ee<q;)Q[ee]=encryptByte(C,I[ee],B);return Q}},{"safe-buffer":494}],200:[function(C,I,B){"use strict";var z=C("buffer-xor"),q=C("safe-buffer").Buffer,Q=C("../incr32");function getBlock(C){var I=C._cipher.encryptBlockRaw(C._prev);return Q(C._prev),I}var ee=16;B.encrypt=function(C,I){var B=Math.ceil(I.length/ee),Q=C._cache.length;C._cache=q.concat([C._cache,q.allocUnsafe(B*ee)]);for(var te=0;te<B;te++){var ie=getBlock(C),re=Q+te*ee;C._cache.writeUInt32BE(ie[0],re+0),C._cache.writeUInt32BE(ie[1],re+4),C._cache.writeUInt32BE(ie[2],re+8),C._cache.writeUInt32BE(ie[3],re+12)}var ne=C._cache.slice(0,I.length);return C._cache=C._cache.slice(I.length),z(I,ne)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(C,I,B){"use strict";B.encrypt=function(C,I){return C._cipher.encryptBlock(I)},B.decrypt=function(C,I){return C._cipher.decryptBlock(I)}},{}],202:[function(C,I,B){"use strict";var z={ECB:C("./ecb"),CBC:C("./cbc"),CFB:C("./cfb"),CFB8:C("./cfb8"),CFB1:C("./cfb1"),OFB:C("./ofb"),CTR:C("./ctr"),GCM:C("./ctr")},q=C("./list.json");for(var Q in q)q[Q].module=z[q[Q].mode];I.exports=q},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(C,I,B){I.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(C,I,B){(function(I){(function(){"use strict";var z=C("buffer-xor");function getBlock(C){return C._prev=C._cipher.encryptBlock(C._prev),C._prev}B.encrypt=function(C,B){for(;C._cache.length<B.length;)C._cache=I.concat([C._cache,getBlock(C)]);var q=C._cache.slice(0,B.length);return C._cache=C._cache.slice(B.length),z(B,q)}}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(C,I,B){"use strict";var z=C("./aes"),q=C("safe-buffer").Buffer,Q=C("cipher-base");function StreamCipher(C,I,B,ee){Q.call(this),this._cipher=new z.AES(I),this._prev=q.from(B),this._cache=q.allocUnsafe(0),this._secCache=q.allocUnsafe(0),this._decrypt=ee,this._mode=C}C("inherits")(StreamCipher,Q),StreamCipher.prototype._update=function(C){return this._mode.encrypt(this,C,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()},I.exports=StreamCipher},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(C,I,B){"use strict";var z=C("browserify-des"),q=C("browserify-aes/browser"),Q=C("browserify-aes/modes"),ee=C("browserify-des/modes"),te=C("evp_bytestokey");function createCipher(C,I){var B,z;if(C=C.toLowerCase(),Q[C])B=Q[C].key,z=Q[C].iv;else{if(!ee[C])throw new TypeError("invalid suite type");B=8*ee[C].key,z=ee[C].iv}var q=te(I,!1,B,z);return createCipheriv(C,q.key,q.iv)}function createDecipher(C,I){var B,z;if(C=C.toLowerCase(),Q[C])B=Q[C].key,z=Q[C].iv;else{if(!ee[C])throw new TypeError("invalid suite type");B=8*ee[C].key,z=ee[C].iv}var q=te(I,!1,B,z);return createDecipheriv(C,q.key,q.iv)}function createCipheriv(C,I,B){if(C=C.toLowerCase(),Q[C])return q.createCipheriv(C,I,B);if(ee[C])return new z({key:I,iv:B,mode:C});throw new TypeError("invalid suite type")}function createDecipheriv(C,I,B){if(C=C.toLowerCase(),Q[C])return q.createDecipheriv(C,I,B);if(ee[C])return new z({key:I,iv:B,mode:C,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(ee).concat(q.getCiphers())}B.createCipher=B.Cipher=createCipher,B.createCipheriv=B.Cipheriv=createCipheriv,B.createDecipher=B.Decipher=createDecipher,B.createDecipheriv=B.Decipheriv=createDecipheriv,B.listCiphers=B.getCiphers=getCiphers},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(C,I,B){"use strict";var z=C("cipher-base"),q=C("des.js"),Q=C("inherits"),ee=C("safe-buffer").Buffer,te={"des-ede3-cbc":q.CBC.instantiate(q.EDE),"des-ede3":q.EDE,"des-ede-cbc":q.CBC.instantiate(q.EDE),"des-ede":q.EDE,"des-cbc":q.CBC.instantiate(q.DES),"des-ecb":q.DES};function DES(C){z.call(this);var I,B=C.mode.toLowerCase(),q=te[B];I=C.decrypt?"decrypt":"encrypt";var Q=C.key;ee.isBuffer(Q)||(Q=ee.from(Q)),"des-ede"!==B&&"des-ede-cbc"!==B||(Q=ee.concat([Q,Q.slice(0,8)]));var ie=C.iv;ee.isBuffer(ie)||(ie=ee.from(ie)),this._des=q.create({key:Q,iv:ie,type:I})}te.des=te["des-cbc"],te.des3=te["des-ede3-cbc"],I.exports=DES,Q(DES,z),DES.prototype._update=function(C){return ee.from(this._des.update(C))},DES.prototype._final=function(){return ee.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(C,I,B){"use strict";B["des-ecb"]={key:8,iv:0},B["des-cbc"]=B.des={key:8,iv:8},B["des-ede3-cbc"]=B.des3={key:24,iv:8},B["des-ede3"]={key:24,iv:0},B["des-ede-cbc"]={key:16,iv:8},B["des-ede"]={key:16,iv:0}},{}],209:[function(C,I,B){(function(B){(function(){"use strict";var z=C("bn.js"),q=C("randombytes");function blind(C){var I=getr(C);return{blinder:I.toRed(z.mont(C.modulus)).redPow(new z(C.publicExponent)).fromRed(),unblinder:I.invm(C.modulus)}}function getr(C){var I,B=C.modulus.byteLength();do{I=new z(q(B))}while(I.cmp(C.modulus)>=0||!I.umod(C.prime1)||!I.umod(C.prime2));return I}function crt(C,I){var q=blind(I),Q=I.modulus.byteLength(),ee=new z(C).mul(q.blinder).umod(I.modulus),te=ee.toRed(z.mont(I.prime1)),ie=ee.toRed(z.mont(I.prime2)),re=I.coefficient,ne=I.prime1,se=I.prime2,oe=te.redPow(I.exponent1).fromRed(),ae=ie.redPow(I.exponent2).fromRed(),le=oe.isub(ae).imul(re).umod(ne).imul(se);return ae.iadd(le).imul(q.unblinder).umod(I.modulus).toArrayLike(B,"be",Q)}crt.getr=getr,I.exports=crt}).call(this)}).call(this,C("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(C,I,B){"use strict";I.exports=C("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(C,I,B){I.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(C,I,B){I.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("create-hash"),Q=C("readable-stream"),ee=C("inherits"),te=C("./sign"),ie=C("./verify"),re=C("./algorithms.json");function Sign(C){Q.Writable.call(this);var I=re[C];if(!I)throw new Error("Unknown message digest");this._hashType=I.hash,this._hash=q(I.hash),this._tag=I.id,this._signType=I.sign}function Verify(C){Q.Writable.call(this);var I=re[C];if(!I)throw new Error("Unknown message digest");this._hash=q(I.hash),this._tag=I.id,this._signType=I.sign}function createSign(C){return new Sign(C)}function createVerify(C){return new Verify(C)}Object.keys(re).forEach((function(C){re[C].id=z.from(re[C].id,"hex"),re[C.toLowerCase()]=re[C]})),ee(Sign,Q.Writable),Sign.prototype._write=function _write(C,I,B){this._hash.update(C),B()},Sign.prototype.update=function update(C,I){return"string"==typeof C&&(C=z.from(C,I)),this._hash.update(C),this},Sign.prototype.sign=function signMethod(C,I){this.end();var B=this._hash.digest(),z=te(B,C,this._hashType,this._signType,this._tag);return I?z.toString(I):z},ee(Verify,Q.Writable),Verify.prototype._write=function _write(C,I,B){this._hash.update(C),B()},Verify.prototype.update=function update(C,I){return"string"==typeof C&&(C=z.from(C,I)),this._hash.update(C),this},Verify.prototype.verify=function verifyMethod(C,I,B){"string"==typeof I&&(I=z.from(I,B)),this.end();var q=this._hash.digest();return ie(I,q,C,this._signType,this._tag)},I.exports={Sign:createSign,Verify:createVerify,createSign,createVerify}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("create-hmac"),Q=C("browserify-rsa"),ee=C("elliptic").ec,te=C("bn.js"),ie=C("parse-asn1"),re=C("./curves.json");function sign(C,I,B,q,ee){var te=ie(I);if(te.curve){if("ecdsa"!==q&&"ecdsa/rsa"!==q)throw new Error("wrong private key type");return ecSign(C,te)}if("dsa"===te.type){if("dsa"!==q)throw new Error("wrong private key type");return dsaSign(C,te,B)}if("rsa"!==q&&"ecdsa/rsa"!==q)throw new Error("wrong private key type");C=z.concat([ee,C]);for(var re=te.modulus.byteLength(),ne=[0,1];C.length+ne.length+1<re;)ne.push(255);ne.push(0);for(var se=-1;++se<C.length;)ne.push(C[se]);return Q(ne,te)}function ecSign(C,I){var B=re[I.curve.join(".")];if(!B)throw new Error("unknown curve "+I.curve.join("."));var q=new ee(B).keyFromPrivate(I.privateKey).sign(C);return z.from(q.toDER())}function dsaSign(C,I,B){for(var z,q=I.params.priv_key,Q=I.params.p,ee=I.params.q,ie=I.params.g,re=new te(0),ne=bits2int(C,ee).mod(ee),se=!1,oe=getKey(q,ee,C,B);!1===se;)re=makeR(ie,z=makeKey(ee,oe,B),Q,ee),0===(se=z.invm(ee).imul(ne.add(q.mul(re))).mod(ee)).cmpn(0)&&(se=!1,re=new te(0));return toDER(re,se)}function toDER(C,I){C=C.toArray(),I=I.toArray(),128&C[0]&&(C=[0].concat(C)),128&I[0]&&(I=[0].concat(I));var B=[48,C.length+I.length+4,2,C.length];return B=B.concat(C,[2,I.length],I),z.from(B)}function getKey(C,I,B,Q){if((C=z.from(C.toArray())).length<I.byteLength()){var ee=z.alloc(I.byteLength()-C.length);C=z.concat([ee,C])}var te=B.length,ie=bits2octets(B,I),re=z.alloc(te);re.fill(1);var ne=z.alloc(te);return ne=q(Q,ne).update(re).update(z.from([0])).update(C).update(ie).digest(),re=q(Q,ne).update(re).digest(),{k:ne=q(Q,ne).update(re).update(z.from([1])).update(C).update(ie).digest(),v:re=q(Q,ne).update(re).digest()}}function bits2int(C,I){var B=new te(C),z=(C.length<<3)-I.bitLength();return z>0&&B.ishrn(z),B}function bits2octets(C,I){C=(C=bits2int(C,I)).mod(I);var B=z.from(C.toArray());if(B.length<I.byteLength()){var q=z.alloc(I.byteLength()-B.length);B=z.concat([q,B])}return B}function makeKey(C,I,B){var Q,ee;do{for(Q=z.alloc(0);8*Q.length<C.bitLength();)I.v=q(B,I.k).update(I.v).digest(),Q=z.concat([Q,I.v]);ee=bits2int(Q,C),I.k=q(B,I.k).update(I.v).update(z.from([0])).digest(),I.v=q(B,I.k).update(I.v).digest()}while(-1!==ee.cmp(C));return ee}function makeR(C,I,B,z){return C.toRed(te.mont(B)).redPow(I).fromRed().mod(z)}I.exports=sign,I.exports.getKey=getKey,I.exports.makeKey=makeKey},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("bn.js"),Q=C("elliptic").ec,ee=C("parse-asn1"),te=C("./curves.json");function verify(C,I,B,Q,te){var ie=ee(B);if("ec"===ie.type){if("ecdsa"!==Q&&"ecdsa/rsa"!==Q)throw new Error("wrong public key type");return ecVerify(C,I,ie)}if("dsa"===ie.type){if("dsa"!==Q)throw new Error("wrong public key type");return dsaVerify(C,I,ie)}if("rsa"!==Q&&"ecdsa/rsa"!==Q)throw new Error("wrong public key type");I=z.concat([te,I]);for(var re=ie.modulus.byteLength(),ne=[1],se=0;I.length+ne.length+2<re;)ne.push(255),se++;ne.push(0);for(var oe=-1;++oe<I.length;)ne.push(I[oe]);ne=z.from(ne);var ae=q.mont(ie.modulus);C=(C=new q(C).toRed(ae)).redPow(new q(ie.publicExponent)),C=z.from(C.fromRed().toArray());var le=se<8?1:0;for(re=Math.min(C.length,ne.length),C.length!==ne.length&&(le=1),oe=-1;++oe<re;)le|=C[oe]^ne[oe];return 0===le}function ecVerify(C,I,B){var z=te[B.data.algorithm.curve.join(".")];if(!z)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var q=new Q(z),ee=B.data.subjectPrivateKey.data;return q.verify(I,C,ee)}function dsaVerify(C,I,B){var z=B.data.p,Q=B.data.q,te=B.data.g,ie=B.data.pub_key,re=ee.signature.decode(C,"der"),ne=re.s,se=re.r;checkValue(ne,Q),checkValue(se,Q);var oe=q.mont(z),ae=ne.invm(Q);return 0===te.toRed(oe).redPow(new q(I).mul(ae).mod(Q)).fromRed().mul(ie.toRed(oe).redPow(se.mul(ae).mod(Q)).fromRed()).mod(z).mod(Q).cmp(se)}function checkValue(C,I){if(C.cmpn(0)<=0)throw new Error("invalid sig");if(C.cmp(I)>=I)throw new Error("invalid sig")}I.exports=verify},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(C,I,B){},{}],217:[function(C,I,B){"use strict";var z=C("buffer"),q=z.Buffer;function copyProps(C,I){for(var B in C)I[B]=C[B]}function SafeBuffer(C,I,B){return q(C,I,B)}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?I.exports=z:(copyProps(z,B),B.Buffer=SafeBuffer),copyProps(q,SafeBuffer),SafeBuffer.from=function(C,I,B){if("number"==typeof C)throw new TypeError("Argument must not be a number");return q(C,I,B)},SafeBuffer.alloc=function(C,I,B){if("number"!=typeof C)throw new TypeError("Argument must be a number");var z=q(C);return void 0!==I?"string"==typeof B?z.fill(I,B):z.fill(I):z.fill(0),z},SafeBuffer.allocUnsafe=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return q(C)},SafeBuffer.allocUnsafeSlow=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return z.SlowBuffer(C)}},{buffer:220}],218:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=z.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}function normalizeEncoding(C){var I=_normalizeEncoding(C);if("string"!=typeof I&&(z.isEncoding===q||!q(C)))throw new Error("Unknown encoding: "+C);return I||C}function StringDecoder(C){var I;switch(this.encoding=normalizeEncoding(C),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,I=4;break;case"utf8":this.fillLast=utf8FillLast,I=4;break;case"base64":this.text=base64Text,this.end=base64End,I=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=z.allocUnsafe(I)}function utf8CheckByte(C){return C<=127?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function utf8CheckIncomplete(C,I,B){var z=I.length-1;if(z<B)return 0;var q=utf8CheckByte(I[z]);return q>=0?(q>0&&(C.lastNeed=q-1),q):--z<B||-2===q?0:(q=utf8CheckByte(I[z]))>=0?(q>0&&(C.lastNeed=q-2),q):--z<B||-2===q?0:(q=utf8CheckByte(I[z]))>=0?(q>0&&(2===q?q=0:C.lastNeed=q-3),q):0}function utf8CheckExtraBytes(C,I,B){if(128!=(192&I[0]))return C.lastNeed=0,"�";if(C.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return C.lastNeed=1,"�";if(C.lastNeed>2&&I.length>2&&128!=(192&I[2]))return C.lastNeed=2,"�"}}function utf8FillLast(C){var I=this.lastTotal-this.lastNeed,B=utf8CheckExtraBytes(this,C,I);return void 0!==B?B:this.lastNeed<=C.length?(C.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,I,0,C.length),void(this.lastNeed-=C.length))}function utf8Text(C,I){var B=utf8CheckIncomplete(this,C,I);if(!this.lastNeed)return C.toString("utf8",I);this.lastTotal=B;var z=C.length-(B-this.lastNeed);return C.copy(this.lastChar,0,z),C.toString("utf8",I,z)}function utf8End(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+"�":I}function utf16Text(C,I){if((C.length-I)%2==0){var B=C.toString("utf16le",I);if(B){var z=B.charCodeAt(B.length-1);if(z>=55296&&z<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",I,C.length-1)}function utf16End(C){var I=C&&C.length?this.write(C):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,B)}return I}function base64Text(C,I){var B=(C.length-I)%3;return 0===B?C.toString("base64",I):(this.lastNeed=3-B,this.lastTotal=3,1===B?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",I,C.length-B))}function base64End(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function simpleWrite(C){return C.toString(this.encoding)}function simpleEnd(C){return C&&C.length?this.write(C):""}B.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(C){if(0===C.length)return"";var I,B;if(this.lastNeed){if(void 0===(I=this.fillLast(C)))return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<C.length?I?I+this.text(C,B):this.text(C,B):I||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length}},{"safe-buffer":217}],219:[function(C,I,B){(function(C){(function(){"use strict";I.exports=function xor(I,B){for(var z=Math.min(I.length,B.length),q=new C(z),Q=0;Q<z;++Q)q[Q]=I[Q]^B[Q];return q}}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220}],220:[function(C,I,B){(function(I){(function(){"use strict";var I=C("base64-js"),z=C("ieee754");B.Buffer=Buffer,B.SlowBuffer=SlowBuffer,B.INSPECT_MAX_BYTES=50;var q=2147483647;function typedArraySupport(){try{var C=new Uint8Array(1);return C.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===C.foo()}catch(C){return!1}}function createBuffer(C){if(C>q)throw new RangeError('The value "'+C+'" is invalid for option "size"');var I=new Uint8Array(C);return I.__proto__=Buffer.prototype,I}function Buffer(C,I,B){if("number"==typeof C){if("string"==typeof I)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(C)}return from(C,I,B)}function from(C,I,B){if("string"==typeof C)return fromString(C,I);if(ArrayBuffer.isView(C))return fromArrayLike(C);if(null==C)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(isInstance(C,ArrayBuffer)||C&&isInstance(C.buffer,ArrayBuffer))return fromArrayBuffer(C,I,B);if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type number');var z=C.valueOf&&C.valueOf();if(null!=z&&z!==C)return Buffer.from(z,I,B);var q=fromObject(C);if(q)return q;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof C[Symbol.toPrimitive])return Buffer.from(C[Symbol.toPrimitive]("string"),I,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function assertSize(C){if("number"!=typeof C)throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function alloc(C,I,B){return assertSize(C),C<=0?createBuffer(C):void 0!==I?"string"==typeof B?createBuffer(C).fill(I,B):createBuffer(C).fill(I):createBuffer(C)}function allocUnsafe(C){return assertSize(C),createBuffer(C<0?0:0|checked(C))}function fromString(C,I){if("string"==typeof I&&""!==I||(I="utf8"),!Buffer.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var B=0|byteLength(C,I),z=createBuffer(B),q=z.write(C,I);return q!==B&&(z=z.slice(0,q)),z}function fromArrayLike(C){for(var I=C.length<0?0:0|checked(C.length),B=createBuffer(I),z=0;z<I;z+=1)B[z]=255&C[z];return B}function fromArrayBuffer(C,I,B){if(I<0||C.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<I+(B||0))throw new RangeError('"length" is outside of buffer bounds');var z;return(z=void 0===I&&void 0===B?new Uint8Array(C):void 0===B?new Uint8Array(C,I):new Uint8Array(C,I,B)).__proto__=Buffer.prototype,z}function fromObject(C){if(Buffer.isBuffer(C)){var I=0|checked(C.length),B=createBuffer(I);return 0===B.length||C.copy(B,0,0,I),B}return void 0!==C.length?"number"!=typeof C.length||numberIsNaN(C.length)?createBuffer(0):fromArrayLike(C):"Buffer"===C.type&&Array.isArray(C.data)?fromArrayLike(C.data):void 0}function checked(C){if(C>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|C}function SlowBuffer(C){return+C!=C&&(C=0),Buffer.alloc(+C)}function byteLength(C,I){if(Buffer.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||isInstance(C,ArrayBuffer))return C.byteLength;if("string"!=typeof C)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var B=C.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===B)return 0;for(var q=!1;;)switch(I){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return utf8ToBytes(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return base64ToBytes(C).length;default:if(q)return z?-1:utf8ToBytes(C).length;I=(""+I).toLowerCase(),q=!0}}function slowToString(C,I,B){var z=!1;if((void 0===I||I<0)&&(I=0),I>this.length)return"";if((void 0===B||B>this.length)&&(B=this.length),B<=0)return"";if((B>>>=0)<=(I>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return hexSlice(this,I,B);case"utf8":case"utf-8":return utf8Slice(this,I,B);case"ascii":return asciiSlice(this,I,B);case"latin1":case"binary":return latin1Slice(this,I,B);case"base64":return base64Slice(this,I,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,I,B);default:if(z)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),z=!0}}function swap(C,I,B){var z=C[I];C[I]=C[B],C[B]=z}function bidirectionalIndexOf(C,I,B,z,q){if(0===C.length)return-1;if("string"==typeof B?(z=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),numberIsNaN(B=+B)&&(B=q?0:C.length-1),B<0&&(B=C.length+B),B>=C.length){if(q)return-1;B=C.length-1}else if(B<0){if(!q)return-1;B=0}if("string"==typeof I&&(I=Buffer.from(I,z)),Buffer.isBuffer(I))return 0===I.length?-1:arrayIndexOf(C,I,B,z,q);if("number"==typeof I)return I&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(C,I,B):Uint8Array.prototype.lastIndexOf.call(C,I,B):arrayIndexOf(C,[I],B,z,q);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(C,I,B,z,q){var Q,ee=1,te=C.length,ie=I.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(C.length<2||I.length<2)return-1;ee=2,te/=2,ie/=2,B/=2}function read(C,I){return 1===ee?C[I]:C.readUInt16BE(I*ee)}if(q){var re=-1;for(Q=B;Q<te;Q++)if(read(C,Q)===read(I,-1===re?0:Q-re)){if(-1===re&&(re=Q),Q-re+1===ie)return re*ee}else-1!==re&&(Q-=Q-re),re=-1}else for(B+ie>te&&(B=te-ie),Q=B;Q>=0;Q--){for(var ne=!0,se=0;se<ie;se++)if(read(C,Q+se)!==read(I,se)){ne=!1;break}if(ne)return Q}return-1}function hexWrite(C,I,B,z){B=Number(B)||0;var q=C.length-B;z?(z=Number(z))>q&&(z=q):z=q;var Q=I.length;z>Q/2&&(z=Q/2);for(var ee=0;ee<z;++ee){var te=parseInt(I.substr(2*ee,2),16);if(numberIsNaN(te))return ee;C[B+ee]=te}return ee}function utf8Write(C,I,B,z){return blitBuffer(utf8ToBytes(I,C.length-B),C,B,z)}function asciiWrite(C,I,B,z){return blitBuffer(asciiToBytes(I),C,B,z)}function latin1Write(C,I,B,z){return asciiWrite(C,I,B,z)}function base64Write(C,I,B,z){return blitBuffer(base64ToBytes(I),C,B,z)}function ucs2Write(C,I,B,z){return blitBuffer(utf16leToBytes(I,C.length-B),C,B,z)}function base64Slice(C,B,z){return 0===B&&z===C.length?I.fromByteArray(C):I.fromByteArray(C.slice(B,z))}function utf8Slice(C,I,B){B=Math.min(C.length,B);for(var z=[],q=I;q<B;){var Q,ee,te,ie,re=C[q],ne=null,se=re>239?4:re>223?3:re>191?2:1;if(q+se<=B)switch(se){case 1:re<128&&(ne=re);break;case 2:128==(192&(Q=C[q+1]))&&(ie=(31&re)<<6|63&Q)>127&&(ne=ie);break;case 3:Q=C[q+1],ee=C[q+2],128==(192&Q)&&128==(192&ee)&&(ie=(15&re)<<12|(63&Q)<<6|63&ee)>2047&&(ie<55296||ie>57343)&&(ne=ie);break;case 4:Q=C[q+1],ee=C[q+2],te=C[q+3],128==(192&Q)&&128==(192&ee)&&128==(192&te)&&(ie=(15&re)<<18|(63&Q)<<12|(63&ee)<<6|63&te)>65535&&ie<1114112&&(ne=ie)}null===ne?(ne=65533,se=1):ne>65535&&(ne-=65536,z.push(ne>>>10&1023|55296),ne=56320|1023&ne),z.push(ne),q+=se}return decodeCodePointsArray(z)}B.kMaxLength=q,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),!Buffer.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(C,I,B){return from(C,I,B)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(C,I,B){return alloc(C,I,B)},Buffer.allocUnsafe=function(C){return allocUnsafe(C)},Buffer.allocUnsafeSlow=function(C){return allocUnsafe(C)},Buffer.isBuffer=function isBuffer(C){return null!=C&&!0===C._isBuffer&&C!==Buffer.prototype},Buffer.compare=function compare(C,I){if(isInstance(C,Uint8Array)&&(C=Buffer.from(C,C.offset,C.byteLength)),isInstance(I,Uint8Array)&&(I=Buffer.from(I,I.offset,I.byteLength)),!Buffer.isBuffer(C)||!Buffer.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===I)return 0;for(var B=C.length,z=I.length,q=0,Q=Math.min(B,z);q<Q;++q)if(C[q]!==I[q]){B=C[q],z=I[q];break}return B<z?-1:z<B?1:0},Buffer.isEncoding=function isEncoding(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(C,I){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return Buffer.alloc(0);var B;if(void 0===I)for(I=0,B=0;B<C.length;++B)I+=C[B].length;var z=Buffer.allocUnsafe(I),q=0;for(B=0;B<C.length;++B){var Q=C[B];if(isInstance(Q,Uint8Array)&&(Q=Buffer.from(Q)),!Buffer.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(z,q),q+=Q.length}return z},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<C;I+=2)swap(this,I,I+1);return this},Buffer.prototype.swap32=function swap32(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<C;I+=4)swap(this,I,I+3),swap(this,I+1,I+2);return this},Buffer.prototype.swap64=function swap64(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<C;I+=8)swap(this,I,I+7),swap(this,I+1,I+6),swap(this,I+2,I+5),swap(this,I+3,I+4);return this},Buffer.prototype.toString=function toString(){var C=this.length;return 0===C?"":0===arguments.length?utf8Slice(this,0,C):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function equals(C){if(!Buffer.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===Buffer.compare(this,C)},Buffer.prototype.inspect=function inspect(){var C="",I=B.INSPECT_MAX_BYTES;return C=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(C+=" ... "),"<Buffer "+C+">"},Buffer.prototype.compare=function compare(C,I,B,z,q){if(isInstance(C,Uint8Array)&&(C=Buffer.from(C,C.offset,C.byteLength)),!Buffer.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===I&&(I=0),void 0===B&&(B=C?C.length:0),void 0===z&&(z=0),void 0===q&&(q=this.length),I<0||B>C.length||z<0||q>this.length)throw new RangeError("out of range index");if(z>=q&&I>=B)return 0;if(z>=q)return-1;if(I>=B)return 1;if(this===C)return 0;for(var Q=(q>>>=0)-(z>>>=0),ee=(B>>>=0)-(I>>>=0),te=Math.min(Q,ee),ie=this.slice(z,q),re=C.slice(I,B),ne=0;ne<te;++ne)if(ie[ne]!==re[ne]){Q=ie[ne],ee=re[ne];break}return Q<ee?-1:ee<Q?1:0},Buffer.prototype.includes=function includes(C,I,B){return-1!==this.indexOf(C,I,B)},Buffer.prototype.indexOf=function indexOf(C,I,B){return bidirectionalIndexOf(this,C,I,B,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(C,I,B){return bidirectionalIndexOf(this,C,I,B,!1)},Buffer.prototype.write=function write(C,I,B,z){if(void 0===I)z="utf8",B=this.length,I=0;else if(void 0===B&&"string"==typeof I)z=I,B=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I>>>=0,isFinite(B)?(B>>>=0,void 0===z&&(z="utf8")):(z=B,B=void 0)}var q=this.length-I;if((void 0===B||B>q)&&(B=q),C.length>0&&(B<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");for(var Q=!1;;)switch(z){case"hex":return hexWrite(this,C,I,B);case"utf8":case"utf-8":return utf8Write(this,C,I,B);case"ascii":return asciiWrite(this,C,I,B);case"latin1":case"binary":return latin1Write(this,C,I,B);case"base64":return base64Write(this,C,I,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,C,I,B);default:if(Q)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),Q=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;function decodeCodePointsArray(C){var I=C.length;if(I<=Q)return String.fromCharCode.apply(String,C);for(var B="",z=0;z<I;)B+=String.fromCharCode.apply(String,C.slice(z,z+=Q));return B}function asciiSlice(C,I,B){var z="";B=Math.min(C.length,B);for(var q=I;q<B;++q)z+=String.fromCharCode(127&C[q]);return z}function latin1Slice(C,I,B){var z="";B=Math.min(C.length,B);for(var q=I;q<B;++q)z+=String.fromCharCode(C[q]);return z}function hexSlice(C,I,B){var z=C.length;(!I||I<0)&&(I=0),(!B||B<0||B>z)&&(B=z);for(var q="",Q=I;Q<B;++Q)q+=toHex(C[Q]);return q}function utf16leSlice(C,I,B){for(var z=C.slice(I,B),q="",Q=0;Q<z.length;Q+=2)q+=String.fromCharCode(z[Q]+256*z[Q+1]);return q}function checkOffset(C,I,B){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+I>B)throw new RangeError("Trying to access beyond buffer length")}function checkInt(C,I,B,z,q,Q){if(!Buffer.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>q||I<Q)throw new RangeError('"value" argument is out of bounds');if(B+z>C.length)throw new RangeError("Index out of range")}function checkIEEE754(C,I,B,z,q,Q){if(B+z>C.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function writeFloat(C,I,B,q,Q){return I=+I,B>>>=0,Q||checkIEEE754(C,I,B,4,34028234663852886e22,-34028234663852886e22),z.write(C,I,B,q,23,4),B+4}function writeDouble(C,I,B,q,Q){return I=+I,B>>>=0,Q||checkIEEE754(C,I,B,8,17976931348623157e292,-17976931348623157e292),z.write(C,I,B,q,52,8),B+8}Buffer.prototype.slice=function slice(C,I){var B=this.length;(C=~~C)<0?(C+=B)<0&&(C=0):C>B&&(C=B),(I=void 0===I?B:~~I)<0?(I+=B)<0&&(I=0):I>B&&(I=B),I<C&&(I=C);var z=this.subarray(C,I);return z.__proto__=Buffer.prototype,z},Buffer.prototype.readUIntLE=function readUIntLE(C,I,B){C>>>=0,I>>>=0,B||checkOffset(C,I,this.length);for(var z=this[C],q=1,Q=0;++Q<I&&(q*=256);)z+=this[C+Q]*q;return z},Buffer.prototype.readUIntBE=function readUIntBE(C,I,B){C>>>=0,I>>>=0,B||checkOffset(C,I,this.length);for(var z=this[C+--I],q=1;I>0&&(q*=256);)z+=this[C+--I]*q;return z},Buffer.prototype.readUInt8=function readUInt8(C,I){return C>>>=0,I||checkOffset(C,1,this.length),this[C]},Buffer.prototype.readUInt16LE=function readUInt16LE(C,I){return C>>>=0,I||checkOffset(C,2,this.length),this[C]|this[C+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(C,I){return C>>>=0,I||checkOffset(C,2,this.length),this[C]<<8|this[C+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},Buffer.prototype.readIntLE=function readIntLE(C,I,B){C>>>=0,I>>>=0,B||checkOffset(C,I,this.length);for(var z=this[C],q=1,Q=0;++Q<I&&(q*=256);)z+=this[C+Q]*q;return z>=(q*=128)&&(z-=Math.pow(2,8*I)),z},Buffer.prototype.readIntBE=function readIntBE(C,I,B){C>>>=0,I>>>=0,B||checkOffset(C,I,this.length);for(var z=I,q=1,Q=this[C+--z];z>0&&(q*=256);)Q+=this[C+--z]*q;return Q>=(q*=128)&&(Q-=Math.pow(2,8*I)),Q},Buffer.prototype.readInt8=function readInt8(C,I){return C>>>=0,I||checkOffset(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},Buffer.prototype.readInt16LE=function readInt16LE(C,I){C>>>=0,I||checkOffset(C,2,this.length);var B=this[C]|this[C+1]<<8;return 32768&B?4294901760|B:B},Buffer.prototype.readInt16BE=function readInt16BE(C,I){C>>>=0,I||checkOffset(C,2,this.length);var B=this[C+1]|this[C]<<8;return 32768&B?4294901760|B:B},Buffer.prototype.readInt32LE=function readInt32LE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},Buffer.prototype.readFloatLE=function readFloatLE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),z.read(this,C,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(C,I){return C>>>=0,I||checkOffset(C,4,this.length),z.read(this,C,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(C,I){return C>>>=0,I||checkOffset(C,8,this.length),z.read(this,C,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(C,I){return C>>>=0,I||checkOffset(C,8,this.length),z.read(this,C,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(C,I,B,z){C=+C,I>>>=0,B>>>=0,z||checkInt(this,C,I,B,Math.pow(2,8*B)-1,0);var q=1,Q=0;for(this[I]=255&C;++Q<B&&(q*=256);)this[I+Q]=C/q&255;return I+B},Buffer.prototype.writeUIntBE=function writeUIntBE(C,I,B,z){C=+C,I>>>=0,B>>>=0,z||checkInt(this,C,I,B,Math.pow(2,8*B)-1,0);var q=B-1,Q=1;for(this[I+q]=255&C;--q>=0&&(Q*=256);)this[I+q]=C/Q&255;return I+B},Buffer.prototype.writeUInt8=function writeUInt8(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,1,255,0),this[I]=255&C,I+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,2,65535,0),this[I]=255&C,this[I+1]=C>>>8,I+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,2,65535,0),this[I]=C>>>8,this[I+1]=255&C,I+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,4,4294967295,0),this[I+3]=C>>>24,this[I+2]=C>>>16,this[I+1]=C>>>8,this[I]=255&C,I+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,4,4294967295,0),this[I]=C>>>24,this[I+1]=C>>>16,this[I+2]=C>>>8,this[I+3]=255&C,I+4},Buffer.prototype.writeIntLE=function writeIntLE(C,I,B,z){if(C=+C,I>>>=0,!z){var q=Math.pow(2,8*B-1);checkInt(this,C,I,B,q-1,-q)}var Q=0,ee=1,te=0;for(this[I]=255&C;++Q<B&&(ee*=256);)C<0&&0===te&&0!==this[I+Q-1]&&(te=1),this[I+Q]=(C/ee|0)-te&255;return I+B},Buffer.prototype.writeIntBE=function writeIntBE(C,I,B,z){if(C=+C,I>>>=0,!z){var q=Math.pow(2,8*B-1);checkInt(this,C,I,B,q-1,-q)}var Q=B-1,ee=1,te=0;for(this[I+Q]=255&C;--Q>=0&&(ee*=256);)C<0&&0===te&&0!==this[I+Q+1]&&(te=1),this[I+Q]=(C/ee|0)-te&255;return I+B},Buffer.prototype.writeInt8=function writeInt8(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,1,127,-128),C<0&&(C=255+C+1),this[I]=255&C,I+1},Buffer.prototype.writeInt16LE=function writeInt16LE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,2,32767,-32768),this[I]=255&C,this[I+1]=C>>>8,I+2},Buffer.prototype.writeInt16BE=function writeInt16BE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,2,32767,-32768),this[I]=C>>>8,this[I+1]=255&C,I+2},Buffer.prototype.writeInt32LE=function writeInt32LE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,4,2147483647,-2147483648),this[I]=255&C,this[I+1]=C>>>8,this[I+2]=C>>>16,this[I+3]=C>>>24,I+4},Buffer.prototype.writeInt32BE=function writeInt32BE(C,I,B){return C=+C,I>>>=0,B||checkInt(this,C,I,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[I]=C>>>24,this[I+1]=C>>>16,this[I+2]=C>>>8,this[I+3]=255&C,I+4},Buffer.prototype.writeFloatLE=function writeFloatLE(C,I,B){return writeFloat(this,C,I,!0,B)},Buffer.prototype.writeFloatBE=function writeFloatBE(C,I,B){return writeFloat(this,C,I,!1,B)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(C,I,B){return writeDouble(this,C,I,!0,B)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(C,I,B){return writeDouble(this,C,I,!1,B)},Buffer.prototype.copy=function copy(C,I,B,z){if(!Buffer.isBuffer(C))throw new TypeError("argument should be a Buffer");if(B||(B=0),z||0===z||(z=this.length),I>=C.length&&(I=C.length),I||(I=0),z>0&&z<B&&(z=B),z===B)return 0;if(0===C.length||0===this.length)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),C.length-I<z-B&&(z=C.length-I+B);var q=z-B;if(this===C&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(I,B,z);else if(this===C&&B<I&&I<z)for(var Q=q-1;Q>=0;--Q)C[Q+I]=this[Q+B];else Uint8Array.prototype.set.call(C,this.subarray(B,z),I);return q},Buffer.prototype.fill=function fill(C,I,B,z){if("string"==typeof C){if("string"==typeof I?(z=I,I=0,B=this.length):"string"==typeof B&&(z=B,B=this.length),void 0!==z&&"string"!=typeof z)throw new TypeError("encoding must be a string");if("string"==typeof z&&!Buffer.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(1===C.length){var q=C.charCodeAt(0);("utf8"===z&&q<128||"latin1"===z)&&(C=q)}}else"number"==typeof C&&(C&=255);if(I<0||this.length<I||this.length<B)throw new RangeError("Out of range index");if(B<=I)return this;var Q;if(I>>>=0,B=void 0===B?this.length:B>>>0,C||(C=0),"number"==typeof C)for(Q=I;Q<B;++Q)this[Q]=C;else{var ee=Buffer.isBuffer(C)?C:Buffer.from(C,z),te=ee.length;if(0===te)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Q=0;Q<B-I;++Q)this[Q+I]=ee[Q%te]}return this};var ee=/[^+/0-9A-Za-z-_]/g;function base64clean(C){if((C=(C=C.split("=")[0]).trim().replace(ee,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}function toHex(C){return C<16?"0"+C.toString(16):C.toString(16)}function utf8ToBytes(C,I){var B;I=I||1/0;for(var z=C.length,q=null,Q=[],ee=0;ee<z;++ee){if((B=C.charCodeAt(ee))>55295&&B<57344){if(!q){if(B>56319){(I-=3)>-1&&Q.push(239,191,189);continue}if(ee+1===z){(I-=3)>-1&&Q.push(239,191,189);continue}q=B;continue}if(B<56320){(I-=3)>-1&&Q.push(239,191,189),q=B;continue}B=65536+(q-55296<<10|B-56320)}else q&&(I-=3)>-1&&Q.push(239,191,189);if(q=null,B<128){if((I-=1)<0)break;Q.push(B)}else if(B<2048){if((I-=2)<0)break;Q.push(B>>6|192,63&B|128)}else if(B<65536){if((I-=3)<0)break;Q.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;Q.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return Q}function asciiToBytes(C){for(var I=[],B=0;B<C.length;++B)I.push(255&C.charCodeAt(B));return I}function utf16leToBytes(C,I){for(var B,z,q,Q=[],ee=0;ee<C.length&&!((I-=2)<0);++ee)z=(B=C.charCodeAt(ee))>>8,q=B%256,Q.push(q),Q.push(z);return Q}function base64ToBytes(C){return I.toByteArray(base64clean(C))}function blitBuffer(C,I,B,z){for(var q=0;q<z&&!(q+B>=I.length||q>=C.length);++q)I[q+B]=C[q];return q}function isInstance(C,I){return C instanceof I||null!=C&&null!=C.constructor&&null!=C.constructor.name&&C.constructor.name===I.name}function numberIsNaN(C){return C!=C}}).call(this)}).call(this,C("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("stream").Transform,Q=C("string_decoder").StringDecoder;function CipherBase(C){q.call(this),this.hashMode="string"==typeof C,this.hashMode?this[C]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}C("inherits")(CipherBase,q),CipherBase.prototype.update=function(C,I,B){"string"==typeof C&&(C=z.from(C,I));var q=this._update(C);return this.hashMode?this:(B&&(q=this._toString(q,B)),q)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(C,I,B){var z;try{this.hashMode?this._update(C):this.push(this._update(C))}catch(C){z=C}finally{B(z)}},CipherBase.prototype._flush=function(C){var I;try{this.push(this.__final())}catch(C){I=C}C(I)},CipherBase.prototype._finalOrDigest=function(C){var I=this.__final()||z.alloc(0);return C&&(I=this._toString(I,C,!0)),I},CipherBase.prototype._toString=function(C,I,B){if(this._decoder||(this._decoder=new Q(I),this._encoding=I),this._encoding!==I)throw new Error("can't switch encodings");var z=this._decoder.write(C);return B&&(z+=this._decoder.end()),z},I.exports=CipherBase},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(C,I,B){"use strict";var z=C("../internals/is-callable"),q=C("../internals/try-to-string"),Q=TypeError;I.exports=function(C){if(z(C))return C;throw new Q(q(C)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(C,I,B){"use strict";var z=C("../internals/is-constructor"),q=C("../internals/try-to-string"),Q=TypeError;I.exports=function(C){if(z(C))return C;throw new Q(q(C)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(C,I,B){"use strict";var z=C("../internals/is-callable"),q=String,Q=TypeError;I.exports=function(C){if("object"==typeof C||z(C))return C;throw new Q("Can't set "+q(C)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(C,I,B){"use strict";var z=C("../internals/well-known-symbol"),q=C("../internals/object-create"),Q=C("../internals/object-define-property").f,ee=z("unscopables"),te=Array.prototype;void 0===te[ee]&&Q(te,ee,{configurable:!0,value:q(null)}),I.exports=function(C){te[ee][C]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(C,I,B){"use strict";var z=C("../internals/object-is-prototype-of"),q=TypeError;I.exports=function(C,I){if(z(I,C))return C;throw new q("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(C,I,B){"use strict";var z=C("../internals/is-object"),q=String,Q=TypeError;I.exports=function(C){if(z(C))return C;throw new Q(q(C)+" is not an object")}},{"../internals/is-object":289}],228:[function(C,I,B){"use strict";var z=C("../internals/to-indexed-object"),q=C("../internals/to-absolute-index"),Q=C("../internals/length-of-array-like"),createMethod=function(C){return function(I,B,ee){var te,ie=z(I),re=Q(ie),ne=q(ee,re);if(C&&B!=B){for(;re>ne;)if((te=ie[ne++])!=te)return!0}else for(;re>ne;ne++)if((C||ne in ie)&&ie[ne]===B)return C||ne||0;return!C&&-1}};I.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(C,I,B){"use strict";var z=C("../internals/function-bind-context"),q=C("../internals/function-uncurry-this"),Q=C("../internals/indexed-object"),ee=C("../internals/to-object"),te=C("../internals/length-of-array-like"),ie=C("../internals/array-species-create"),re=q([].push),createMethod=function(C){var I=1===C,B=2===C,q=3===C,ne=4===C,se=6===C,oe=7===C,ae=5===C||se;return function(le,ue,de,ce){for(var he,fe,pe=ee(le),me=Q(pe),ge=z(ue,de),ve=te(me),ye=0,be=ce||ie,Ce=I?be(le,ve):B||oe?be(le,0):void 0;ve>ye;ye++)if((ae||ye in me)&&(fe=ge(he=me[ye],ye,pe),C))if(I)Ce[ye]=fe;else if(fe)switch(C){case 3:return!0;case 5:return he;case 6:return ye;case 2:re(Ce,he)}else switch(C){case 4:return!1;case 7:re(Ce,he)}return se?-1:q||ne?ne:Ce}};I.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(C,I,B){"use strict";var z=C("../internals/to-absolute-index"),q=C("../internals/length-of-array-like"),Q=C("../internals/create-property"),ee=Array,te=Math.max;I.exports=function(C,I,B){for(var ie=q(C),re=z(I,ie),ne=z(void 0===B?ie:B,ie),se=ee(te(ne-re,0)),oe=0;re<ne;re++,oe++)Q(se,oe,C[re]);return se.length=oe,se}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this");I.exports=z([].slice)},{"../internals/function-uncurry-this":268}],232:[function(C,I,B){"use strict";var z=C("../internals/is-array"),q=C("../internals/is-constructor"),Q=C("../internals/is-object"),ee=C("../internals/well-known-symbol")("species"),te=Array;I.exports=function(C){var I;return z(C)&&(I=C.constructor,(q(I)&&(I===te||z(I.prototype))||Q(I)&&null===(I=I[ee]))&&(I=void 0)),void 0===I?te:I}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(C,I,B){"use strict";var z=C("../internals/array-species-constructor");I.exports=function(C,I){return new(z(C))(0===I?0:I)}},{"../internals/array-species-constructor":232}],234:[function(C,I,B){"use strict";var z=C("../internals/well-known-symbol")("iterator"),q=!1;try{var Q=0,ee={next:function(){return{done:!!Q++}},return:function(){q=!0}};ee[z]=function(){return this},Array.from(ee,(function(){throw 2}))}catch(C){}I.exports=function(C,I){try{if(!I&&!q)return!1}catch(C){return!1}var B=!1;try{var Q={};Q[z]=function(){return{next:function(){return{done:B=!0}}}},C(Q)}catch(C){}return B}},{"../internals/well-known-symbol":357}],235:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=z({}.toString),Q=z("".slice);I.exports=function(C){return Q(q(C),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(C,I,B){"use strict";var z=C("../internals/to-string-tag-support"),q=C("../internals/is-callable"),Q=C("../internals/classof-raw"),ee=C("../internals/well-known-symbol")("toStringTag"),te=Object,ie="Arguments"===Q(function(){return arguments}()),tryGet=function(C,I){try{return C[I]}catch(C){}};I.exports=z?Q:function(C){var I,B,z;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(B=tryGet(I=te(C),ee))?B:ie?Q(I):"Object"===(z=Q(I))&&q(I.callee)?"Arguments":z}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(C,I,B){"use strict";var z=C("../internals/has-own-property"),q=C("../internals/own-keys"),Q=C("../internals/object-get-own-property-descriptor"),ee=C("../internals/object-define-property");I.exports=function(C,I,B){for(var te=q(I),ie=ee.f,re=Q.f,ne=0;ne<te.length;ne++){var se=te[ne];z(C,se)||B&&z(B,se)||ie(C,se,re(I,se))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(C,I,B){"use strict";var z=C("../internals/well-known-symbol")("match");I.exports=function(C){var I=/./;try{"/./"[C](I)}catch(B){try{return I[z]=!1,"/./"[C](I)}catch(C){}}return!1}},{"../internals/well-known-symbol":357}],239:[function(C,I,B){"use strict";var z=C("../internals/fails");I.exports=!z((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},{"../internals/fails":260}],240:[function(C,I,B){"use strict";I.exports=function(C,I){return{value:C,done:I}}},{}],241:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/object-define-property"),Q=C("../internals/create-property-descriptor");I.exports=z?function(C,I,B){return q.f(C,I,Q(1,B))}:function(C,I,B){return C[I]=B,C}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(C,I,B){"use strict";I.exports=function(C,I){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:I}}},{}],243:[function(C,I,B){"use strict";var z=C("../internals/to-property-key"),q=C("../internals/object-define-property"),Q=C("../internals/create-property-descriptor");I.exports=function(C,I,B){var ee=z(I);ee in C?q.f(C,ee,Q(0,B)):C[ee]=B}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(C,I,B){"use strict";var z=C("../internals/make-built-in"),q=C("../internals/object-define-property");I.exports=function(C,I,B){return B.get&&z(B.get,I,{getter:!0}),B.set&&z(B.set,I,{setter:!0}),q.f(C,I,B)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(C,I,B){"use strict";var z=C("../internals/is-callable"),q=C("../internals/object-define-property"),Q=C("../internals/make-built-in"),ee=C("../internals/define-global-property");I.exports=function(C,I,B,te){te||(te={});var ie=te.enumerable,re=void 0!==te.name?te.name:I;if(z(B)&&Q(B,re,te),te.global)ie?C[I]=B:ee(I,B);else{try{te.unsafe?C[I]&&(ie=!0):delete C[I]}catch(C){}ie?C[I]=B:q.f(C,I,{value:B,enumerable:!1,configurable:!te.nonConfigurable,writable:!te.nonWritable})}return C}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(C,I,B){"use strict";var z=C("../internals/global"),q=Object.defineProperty;I.exports=function(C,I){try{q(z,C,{value:I,configurable:!0,writable:!0})}catch(B){z[C]=I}return I}},{"../internals/global":274}],247:[function(C,I,B){"use strict";var z=C("../internals/fails");I.exports=!z((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":260}],248:[function(C,I,B){"use strict";var z="object"==typeof document&&document.all,q=void 0===z&&void 0!==z;I.exports={all:z,IS_HTMLDDA:q}},{}],249:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/is-object"),Q=z.document,ee=q(Q)&&q(Q.createElement);I.exports=function(C){return ee?Q.createElement(C):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(C,I,B){"use strict";var z=C("../internals/engine-is-deno"),q=C("../internals/engine-is-node");I.exports=!z&&!q&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(C,I,B){"use strict";I.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],252:[function(C,I,B){"use strict";var z=C("../internals/engine-user-agent");I.exports=/ipad|iphone|ipod/i.test(z)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":256}],253:[function(C,I,B){"use strict";var z=C("../internals/engine-user-agent");I.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(z)},{"../internals/engine-user-agent":256}],254:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/classof-raw");I.exports="process"===q(z.process)},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(C,I,B){"use strict";var z=C("../internals/engine-user-agent");I.exports=/web0s(?!.*chrome)/i.test(z)},{"../internals/engine-user-agent":256}],256:[function(C,I,B){"use strict";I.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},{}],257:[function(C,I,B){"use strict";var z,q,Q=C("../internals/global"),ee=C("../internals/engine-user-agent"),te=Q.process,ie=Q.Deno,re=te&&te.versions||ie&&ie.version,ne=re&&re.v8;ne&&(q=(z=ne.split("."))[0]>0&&z[0]<4?1:+(z[0]+z[1])),!q&&ee&&(!(z=ee.match(/Edge\/(\d+)/))||z[1]>=74)&&(z=ee.match(/Chrome\/(\d+)/))&&(q=+z[1]),I.exports=q},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(C,I,B){"use strict";I.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/object-get-own-property-descriptor").f,Q=C("../internals/create-non-enumerable-property"),ee=C("../internals/define-built-in"),te=C("../internals/define-global-property"),ie=C("../internals/copy-constructor-properties"),re=C("../internals/is-forced");I.exports=function(C,I){var B,ne,se,oe,ae,le=C.target,ue=C.global,de=C.stat;if(B=ue?z:de?z[le]||te(le,{}):(z[le]||{}).prototype)for(ne in I){if(oe=I[ne],se=C.dontCallGetSet?(ae=q(B,ne))&&ae.value:B[ne],!re(ue?ne:le+(de?".":"#")+ne,C.forced)&&void 0!==se){if(typeof oe==typeof se)continue;ie(oe,se)}(C.sham||se&&se.sham)&&Q(oe,"sham",!0),ee(B,ne,oe,C)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(C,I,B){"use strict";I.exports=function(C){try{return!!C()}catch(C){return!0}}},{}],261:[function(C,I,B){"use strict";var z=C("../internals/function-bind-native"),q=Function.prototype,Q=q.apply,ee=q.call;I.exports="object"==typeof Reflect&&Reflect.apply||(z?ee.bind(Q):function(){return ee.apply(Q,arguments)})},{"../internals/function-bind-native":263}],262:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this-clause"),q=C("../internals/a-callable"),Q=C("../internals/function-bind-native"),ee=z(z.bind);I.exports=function(C,I){return q(C),void 0===I?C:Q?ee(C,I):function(){return C.apply(I,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(C,I,B){"use strict";var z=C("../internals/fails");I.exports=!z((function(){var C=function(){}.bind();return"function"!=typeof C||C.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(C,I,B){"use strict";var z=C("../internals/function-bind-native"),q=Function.prototype.call;I.exports=z?q.bind(q):function(){return q.apply(q,arguments)}},{"../internals/function-bind-native":263}],265:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/has-own-property"),Q=Function.prototype,ee=z&&Object.getOwnPropertyDescriptor,te=q(Q,"name"),ie=te&&"something"===function something(){}.name,re=te&&(!z||z&&ee(Q,"name").configurable);I.exports={EXISTS:te,PROPER:ie,CONFIGURABLE:re}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/a-callable");I.exports=function(C,I,B){try{return z(q(Object.getOwnPropertyDescriptor(C,I)[B]))}catch(C){}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(C,I,B){"use strict";var z=C("../internals/classof-raw"),q=C("../internals/function-uncurry-this");I.exports=function(C){if("Function"===z(C))return q(C)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(C,I,B){"use strict";var z=C("../internals/function-bind-native"),q=Function.prototype,Q=q.call,ee=z&&q.bind.bind(Q,Q);I.exports=z?ee:function(C){return function(){return Q.apply(C,arguments)}}},{"../internals/function-bind-native":263}],269:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/is-callable"),aFunction=function(C){return q(C)?C:void 0};I.exports=function(C,I){return arguments.length<2?aFunction(z[C]):z[C]&&z[C][I]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(C,I,B){"use strict";var z=C("../internals/classof"),q=C("../internals/get-method"),Q=C("../internals/is-null-or-undefined"),ee=C("../internals/iterators"),te=C("../internals/well-known-symbol")("iterator");I.exports=function(C){if(!Q(C))return q(C,te)||q(C,"@@iterator")||ee[z(C)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(C,I,B){"use strict";var z=C("../internals/function-call"),q=C("../internals/a-callable"),Q=C("../internals/an-object"),ee=C("../internals/try-to-string"),te=C("../internals/get-iterator-method"),ie=TypeError;I.exports=function(C,I){var B=arguments.length<2?te(C):I;if(q(B))return Q(z(B,C));throw new ie(ee(C)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/is-array"),Q=C("../internals/is-callable"),ee=C("../internals/classof-raw"),te=C("../internals/to-string"),ie=z([].push);I.exports=function(C){if(Q(C))return C;if(q(C)){for(var I=C.length,B=[],z=0;z<I;z++){var re=C[z];"string"==typeof re?ie(B,re):"number"!=typeof re&&"Number"!==ee(re)&&"String"!==ee(re)||ie(B,te(re))}var ne=B.length,se=!0;return function(C,I){if(se)return se=!1,I;if(q(this))return I;for(var z=0;z<ne;z++)if(B[z]===C)return I}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(C,I,B){"use strict";var z=C("../internals/a-callable"),q=C("../internals/is-null-or-undefined");I.exports=function(C,I){var B=C[I];return q(B)?void 0:z(B)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(C,I,z){(function(C){(function(){"use strict";var check=function(C){return C&&C.Math===Math&&C};I.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof C&&C)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],275:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/to-object"),Q=z({}.hasOwnProperty);I.exports=Object.hasOwn||function hasOwn(C,I){return Q(q(C),I)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(C,I,B){"use strict";I.exports={}},{}],277:[function(C,I,B){"use strict";I.exports=function(C,I){}},{}],278:[function(C,I,B){"use strict";var z=C("../internals/get-built-in");I.exports=z("document","documentElement")},{"../internals/get-built-in":269}],279:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/fails"),Q=C("../internals/document-create-element");I.exports=!z&&!q((function(){return 7!==Object.defineProperty(Q("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/fails"),Q=C("../internals/classof-raw"),ee=Object,te=z("".split);I.exports=q((function(){return!ee("z").propertyIsEnumerable(0)}))?function(C){return"String"===Q(C)?te(C,""):ee(C)}:ee},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/is-callable"),Q=C("../internals/shared-store"),ee=z(Function.toString);q(Q.inspectSource)||(Q.inspectSource=function(C){return ee(C)}),I.exports=Q.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(C,I,B){"use strict";var z,q,Q,ee=C("../internals/weak-map-basic-detection"),te=C("../internals/global"),ie=C("../internals/is-object"),re=C("../internals/create-non-enumerable-property"),ne=C("../internals/has-own-property"),se=C("../internals/shared-store"),oe=C("../internals/shared-key"),ae=C("../internals/hidden-keys"),le="Object already initialized",ue=te.TypeError,de=te.WeakMap,enforce=function(C){return Q(C)?q(C):z(C,{})},getterFor=function(C){return function(I){var B;if(!ie(I)||(B=q(I)).type!==C)throw new ue("Incompatible receiver, "+C+" required");return B}};if(ee||se.state){var ce=se.state||(se.state=new de);ce.get=ce.get,ce.has=ce.has,ce.set=ce.set,z=function(C,I){if(ce.has(C))throw new ue(le);return I.facade=C,ce.set(C,I),I},q=function(C){return ce.get(C)||{}},Q=function(C){return ce.has(C)}}else{var he=oe("state");ae[he]=!0,z=function(C,I){if(ne(C,he))throw new ue(le);return I.facade=C,re(C,he,I),I},q=function(C){return ne(C,he)?C[he]:{}},Q=function(C){return ne(C,he)}}I.exports={set:z,get:q,has:Q,enforce,getterFor}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(C,I,B){"use strict";var z=C("../internals/well-known-symbol"),q=C("../internals/iterators"),Q=z("iterator"),ee=Array.prototype;I.exports=function(C){return void 0!==C&&(q.Array===C||ee[Q]===C)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(C,I,B){"use strict";var z=C("../internals/classof-raw");I.exports=Array.isArray||function isArray(C){return"Array"===z(C)}},{"../internals/classof-raw":235}],285:[function(C,I,B){"use strict";var z=C("../internals/document-all"),q=z.all;I.exports=z.IS_HTMLDDA?function(C){return"function"==typeof C||C===q}:function(C){return"function"==typeof C}},{"../internals/document-all":248}],286:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/fails"),Q=C("../internals/is-callable"),ee=C("../internals/classof"),te=C("../internals/get-built-in"),ie=C("../internals/inspect-source"),noop=function(){},re=[],ne=te("Reflect","construct"),se=/^\s*(?:class|function)\b/,oe=z(se.exec),ae=!se.test(noop),le=function isConstructor(C){if(!Q(C))return!1;try{return ne(noop,re,C),!0}catch(C){return!1}},ue=function isConstructor(C){if(!Q(C))return!1;switch(ee(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ae||!!oe(se,ie(C))}catch(C){return!0}};ue.sham=!0,I.exports=!ne||q((function(){var C;return le(le.call)||!le(Object)||!le((function(){C=!0}))||C}))?ue:le},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(C,I,B){"use strict";var z=C("../internals/fails"),q=C("../internals/is-callable"),Q=/#|\.prototype\./,isForced=function(C,I){var B=te[ee(C)];return B===re||B!==ie&&(q(I)?z(I):!!I)},ee=isForced.normalize=function(C){return String(C).replace(Q,".").toLowerCase()},te=isForced.data={},ie=isForced.NATIVE="N",re=isForced.POLYFILL="P";I.exports=isForced},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(C,I,B){"use strict";I.exports=function(C){return null==C}},{}],289:[function(C,I,B){"use strict";var z=C("../internals/is-callable"),q=C("../internals/document-all"),Q=q.all;I.exports=q.IS_HTMLDDA?function(C){return"object"==typeof C?null!==C:z(C)||C===Q}:function(C){return"object"==typeof C?null!==C:z(C)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(C,I,B){"use strict";I.exports=!1},{}],291:[function(C,I,B){"use strict";var z=C("../internals/is-object"),q=C("../internals/classof-raw"),Q=C("../internals/well-known-symbol")("match");I.exports=function(C){var I;return z(C)&&(void 0!==(I=C[Q])?!!I:"RegExp"===q(C))}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(C,I,B){"use strict";var z=C("../internals/get-built-in"),q=C("../internals/is-callable"),Q=C("../internals/object-is-prototype-of"),ee=C("../internals/use-symbol-as-uid"),te=Object;I.exports=ee?function(C){return"symbol"==typeof C}:function(C){var I=z("Symbol");return q(I)&&Q(I.prototype,te(C))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(C,I,B){"use strict";var z=C("../internals/function-bind-context"),q=C("../internals/function-call"),Q=C("../internals/an-object"),ee=C("../internals/try-to-string"),te=C("../internals/is-array-iterator-method"),ie=C("../internals/length-of-array-like"),re=C("../internals/object-is-prototype-of"),ne=C("../internals/get-iterator"),se=C("../internals/get-iterator-method"),oe=C("../internals/iterator-close"),ae=TypeError,Result=function(C,I){this.stopped=C,this.result=I},le=Result.prototype;I.exports=function(C,I,B){var ue,de,ce,he,fe,pe,me,ge=B&&B.that,ve=!(!B||!B.AS_ENTRIES),ye=!(!B||!B.IS_RECORD),be=!(!B||!B.IS_ITERATOR),Ce=!(!B||!B.INTERRUPTED),we=z(I,ge),stop=function(C){return ue&&oe(ue,"normal",C),new Result(!0,C)},callFn=function(C){return ve?(Q(C),Ce?we(C[0],C[1],stop):we(C[0],C[1])):Ce?we(C,stop):we(C)};if(ye)ue=C.iterator;else if(be)ue=C;else{if(!(de=se(C)))throw new ae(ee(C)+" is not iterable");if(te(de)){for(ce=0,he=ie(C);he>ce;ce++)if((fe=callFn(C[ce]))&&re(le,fe))return fe;return new Result(!1)}ue=ne(C,de)}for(pe=ye?C.next:ue.next;!(me=q(pe,ue)).done;){try{fe=callFn(me.value)}catch(C){oe(ue,"throw",C)}if("object"==typeof fe&&fe&&re(le,fe))return fe}return new Result(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(C,I,B){"use strict";var z=C("../internals/function-call"),q=C("../internals/an-object"),Q=C("../internals/get-method");I.exports=function(C,I,B){var ee,te;q(C);try{if(!(ee=Q(C,"return"))){if("throw"===I)throw B;return B}ee=z(ee,C)}catch(C){te=!0,ee=C}if("throw"===I)throw B;if(te)throw ee;return q(ee),B}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(C,I,B){"use strict";var z=C("../internals/iterators-core").IteratorPrototype,q=C("../internals/object-create"),Q=C("../internals/create-property-descriptor"),ee=C("../internals/set-to-string-tag"),te=C("../internals/iterators"),returnThis=function(){return this};I.exports=function(C,I,B,ie){var re=I+" Iterator";return C.prototype=q(z,{next:Q(+!ie,B)}),ee(C,re,!1,!0),te[re]=returnThis,C}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-call"),Q=C("../internals/is-pure"),ee=C("../internals/function-name"),te=C("../internals/is-callable"),ie=C("../internals/iterator-create-constructor"),re=C("../internals/object-get-prototype-of"),ne=C("../internals/object-set-prototype-of"),se=C("../internals/set-to-string-tag"),oe=C("../internals/create-non-enumerable-property"),ae=C("../internals/define-built-in"),le=C("../internals/well-known-symbol"),ue=C("../internals/iterators"),de=C("../internals/iterators-core"),ce=ee.PROPER,he=ee.CONFIGURABLE,fe=de.IteratorPrototype,pe=de.BUGGY_SAFARI_ITERATORS,me=le("iterator"),ge="keys",ve="values",ye="entries",returnThis=function(){return this};I.exports=function(C,I,B,ee,le,de,be){ie(B,I,ee);var Ce,we,_e,getIterationMethod=function(C){if(C===le&&Me)return Me;if(!pe&&C&&C in ke)return ke[C];switch(C){case ge:return function keys(){return new B(this,C)};case ve:return function values(){return new B(this,C)};case ye:return function entries(){return new B(this,C)}}return function(){return new B(this)}},Se=I+" Iterator",xe=!1,ke=C.prototype,Te=ke[me]||ke["@@iterator"]||le&&ke[le],Me=!pe&&Te||getIterationMethod(le),Re="Array"===I&&ke.entries||Te;if(Re&&(Ce=re(Re.call(new C)))!==Object.prototype&&Ce.next&&(Q||re(Ce)===fe||(ne?ne(Ce,fe):te(Ce[me])||ae(Ce,me,returnThis)),se(Ce,Se,!0,!0),Q&&(ue[Se]=returnThis)),ce&&le===ve&&Te&&Te.name!==ve&&(!Q&&he?oe(ke,"name",ve):(xe=!0,Me=function values(){return q(Te,this)})),le)if(we={values:getIterationMethod(ve),keys:de?Me:getIterationMethod(ge),entries:getIterationMethod(ye)},be)for(_e in we)(pe||xe||!(_e in ke))&&ae(ke,_e,we[_e]);else z({target:I,proto:!0,forced:pe||xe},we);return Q&&!be||ke[me]===Me||ae(ke,me,Me,{name:le}),ue[I]=Me,we}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(C,I,B){"use strict";var z,q,Q,ee=C("../internals/fails"),te=C("../internals/is-callable"),ie=C("../internals/is-object"),re=C("../internals/object-create"),ne=C("../internals/object-get-prototype-of"),se=C("../internals/define-built-in"),oe=C("../internals/well-known-symbol"),ae=C("../internals/is-pure"),le=oe("iterator"),ue=!1;[].keys&&("next"in(Q=[].keys())?(q=ne(ne(Q)))!==Object.prototype&&(z=q):ue=!0),!ie(z)||ee((function(){var C={};return z[le].call(C)!==C}))?z={}:ae&&(z=re(z)),te(z[le])||se(z,le,(function(){return this})),I.exports={IteratorPrototype:z,BUGGY_SAFARI_ITERATORS:ue}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(C,I,B){arguments[4][276][0].apply(B,arguments)},{dup:276}],299:[function(C,I,B){"use strict";var z=C("../internals/to-length");I.exports=function(C){return z(C.length)}},{"../internals/to-length":343}],300:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/fails"),Q=C("../internals/is-callable"),ee=C("../internals/has-own-property"),te=C("../internals/descriptors"),ie=C("../internals/function-name").CONFIGURABLE,re=C("../internals/inspect-source"),ne=C("../internals/internal-state"),se=ne.enforce,oe=ne.get,ae=String,le=Object.defineProperty,ue=z("".slice),de=z("".replace),ce=z([].join),he=te&&!q((function(){return 8!==le((function(){}),"length",{value:8}).length})),fe=String(String).split("String"),pe=I.exports=function(C,I,B){"Symbol("===ue(ae(I),0,7)&&(I="["+de(ae(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(I="get "+I),B&&B.setter&&(I="set "+I),(!ee(C,"name")||ie&&C.name!==I)&&(te?le(C,"name",{value:I,configurable:!0}):C.name=I),he&&B&&ee(B,"arity")&&C.length!==B.arity&&le(C,"length",{value:B.arity});try{B&&ee(B,"constructor")&&B.constructor?te&&le(C,"prototype",{writable:!1}):C.prototype&&(C.prototype=void 0)}catch(C){}var z=se(C);return ee(z,"source")||(z.source=ce(fe,"string"==typeof I?I:"")),C};Function.prototype.toString=pe((function toString(){return Q(this)&&oe(this).source||re(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(C,I,B){"use strict";var z=Math.ceil,q=Math.floor;I.exports=Math.trunc||function trunc(C){var I=+C;return(I>0?q:z)(I)}},{}],302:[function(C,I,B){"use strict";var z,q,Q,ee,te,ie=C("../internals/global"),re=C("../internals/function-bind-context"),ne=C("../internals/object-get-own-property-descriptor").f,se=C("../internals/task").set,oe=C("../internals/queue"),ae=C("../internals/engine-is-ios"),le=C("../internals/engine-is-ios-pebble"),ue=C("../internals/engine-is-webos-webkit"),de=C("../internals/engine-is-node"),ce=ie.MutationObserver||ie.WebKitMutationObserver,he=ie.document,fe=ie.process,pe=ie.Promise,me=ne(ie,"queueMicrotask"),ge=me&&me.value;if(!ge){var ve=new oe,flush=function(){var C,I;for(de&&(C=fe.domain)&&C.exit();I=ve.get();)try{I()}catch(C){throw ve.head&&z(),C}C&&C.enter()};ae||de||ue||!ce||!he?!le&&pe&&pe.resolve?((ee=pe.resolve(void 0)).constructor=pe,te=re(ee.then,ee),z=function(){te(flush)}):de?z=function(){fe.nextTick(flush)}:(se=re(se,ie),z=function(){se(flush)}):(q=!0,Q=he.createTextNode(""),new ce(flush).observe(Q,{characterData:!0}),z=function(){Q.data=q=!q}),ge=function(C){ve.head||z(),ve.add(C)}}I.exports=ge},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(C,I,B){"use strict";var z=C("../internals/a-callable"),q=TypeError,PromiseCapability=function(C){var I,B;this.promise=new C((function(C,z){if(void 0!==I||void 0!==B)throw new q("Bad Promise constructor");I=C,B=z})),this.resolve=z(I),this.reject=z(B)};I.exports.f=function(C){return new PromiseCapability(C)}},{"../internals/a-callable":222}],304:[function(C,I,B){"use strict";var z=C("../internals/is-regexp"),q=TypeError;I.exports=function(C){if(z(C))throw new q("The method doesn't accept regular expressions");return C}},{"../internals/is-regexp":291}],305:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/function-uncurry-this"),Q=C("../internals/function-call"),ee=C("../internals/fails"),te=C("../internals/object-keys"),ie=C("../internals/object-get-own-property-symbols"),re=C("../internals/object-property-is-enumerable"),ne=C("../internals/to-object"),se=C("../internals/indexed-object"),oe=Object.assign,ae=Object.defineProperty,le=q([].concat);I.exports=!oe||ee((function(){if(z&&1!==oe({b:1},oe(ae({},"a",{enumerable:!0,get:function(){ae(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var C={},I={},B=Symbol("assign detection"),q="abcdefghijklmnopqrst";return C[B]=7,q.split("").forEach((function(C){I[C]=C})),7!==oe({},C)[B]||te(oe({},I)).join("")!==q}))?function assign(C,I){for(var B=ne(C),q=arguments.length,ee=1,oe=ie.f,ae=re.f;q>ee;)for(var ue,de=se(arguments[ee++]),ce=oe?le(te(de),oe(de)):te(de),he=ce.length,fe=0;he>fe;)ue=ce[fe++],z&&!Q(ae,de,ue)||(B[ue]=de[ue]);return B}:oe},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(C,I,B){"use strict";var z,q=C("../internals/an-object"),Q=C("../internals/object-define-properties"),ee=C("../internals/enum-bug-keys"),te=C("../internals/hidden-keys"),ie=C("../internals/html"),re=C("../internals/document-create-element"),ne=C("../internals/shared-key"),se=">",oe="<",ae="prototype",le="script",ue=ne("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(C){return oe+le+se+C+oe+"/"+le+se},NullProtoObjectViaActiveX=function(C){C.write(scriptTag("")),C.close();var I=C.parentWindow.Object;return C=null,I},NullProtoObjectViaIFrame=function(){var C,I=re("iframe"),B="java"+le+":";return I.style.display="none",ie.appendChild(I),I.src=String(B),(C=I.contentWindow.document).open(),C.write(scriptTag("document.F=Object")),C.close(),C.F},NullProtoObject=function(){try{z=new ActiveXObject("htmlfile")}catch(C){}NullProtoObject="undefined"!=typeof document?document.domain&&z?NullProtoObjectViaActiveX(z):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(z);for(var C=ee.length;C--;)delete NullProtoObject[ae][ee[C]];return NullProtoObject()};te[ue]=!0,I.exports=Object.create||function create(C,I){var B;return null!==C?(EmptyConstructor[ae]=q(C),B=new EmptyConstructor,EmptyConstructor[ae]=null,B[ue]=C):B=NullProtoObject(),void 0===I?B:Q.f(B,I)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/v8-prototype-define-bug"),Q=C("../internals/object-define-property"),ee=C("../internals/an-object"),te=C("../internals/to-indexed-object"),ie=C("../internals/object-keys");B.f=z&&!q?Object.defineProperties:function defineProperties(C,I){ee(C);for(var B,z=te(I),q=ie(I),re=q.length,ne=0;re>ne;)Q.f(C,B=q[ne++],z[B]);return C}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/ie8-dom-define"),Q=C("../internals/v8-prototype-define-bug"),ee=C("../internals/an-object"),te=C("../internals/to-property-key"),ie=TypeError,re=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,se="enumerable",oe="configurable",ae="writable";B.f=z?Q?function defineProperty(C,I,B){if(ee(C),I=te(I),ee(B),"function"==typeof C&&"prototype"===I&&"value"in B&&ae in B&&!B[ae]){var z=ne(C,I);z&&z[ae]&&(C[I]=B.value,B={configurable:oe in B?B[oe]:z[oe],enumerable:se in B?B[se]:z[se],writable:!1})}return re(C,I,B)}:re:function defineProperty(C,I,B){if(ee(C),I=te(I),ee(B),q)try{return re(C,I,B)}catch(C){}if("get"in B||"set"in B)throw new ie("Accessors not supported");return"value"in B&&(C[I]=B.value),C}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/function-call"),Q=C("../internals/object-property-is-enumerable"),ee=C("../internals/create-property-descriptor"),te=C("../internals/to-indexed-object"),ie=C("../internals/to-property-key"),re=C("../internals/has-own-property"),ne=C("../internals/ie8-dom-define"),se=Object.getOwnPropertyDescriptor;B.f=z?se:function getOwnPropertyDescriptor(C,I){if(C=te(C),I=ie(I),ne)try{return se(C,I)}catch(C){}if(re(C,I))return ee(!q(Q.f,C,I),C[I])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(C,I,B){"use strict";var z=C("../internals/classof-raw"),q=C("../internals/to-indexed-object"),Q=C("../internals/object-get-own-property-names").f,ee=C("../internals/array-slice-simple"),te="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(C){try{return Q(C)}catch(C){return ee(te)}};I.exports.f=function getOwnPropertyNames(C){return te&&"Window"===z(C)?getWindowNames(C):Q(q(C))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(C,I,B){"use strict";var z=C("../internals/object-keys-internal"),q=C("../internals/enum-bug-keys").concat("length","prototype");B.f=Object.getOwnPropertyNames||function getOwnPropertyNames(C){return z(C,q)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(C,I,B){"use strict";B.f=Object.getOwnPropertySymbols},{}],313:[function(C,I,B){"use strict";var z=C("../internals/has-own-property"),q=C("../internals/is-callable"),Q=C("../internals/to-object"),ee=C("../internals/shared-key"),te=C("../internals/correct-prototype-getter"),ie=ee("IE_PROTO"),re=Object,ne=re.prototype;I.exports=te?re.getPrototypeOf:function(C){var I=Q(C);if(z(I,ie))return I[ie];var B=I.constructor;return q(B)&&I instanceof B?B.prototype:I instanceof re?ne:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this");I.exports=z({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=C("../internals/has-own-property"),Q=C("../internals/to-indexed-object"),ee=C("../internals/array-includes").indexOf,te=C("../internals/hidden-keys"),ie=z([].push);I.exports=function(C,I){var B,z=Q(C),re=0,ne=[];for(B in z)!q(te,B)&&q(z,B)&&ie(ne,B);for(;I.length>re;)q(z,B=I[re++])&&(~ee(ne,B)||ie(ne,B));return ne}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(C,I,B){"use strict";var z=C("../internals/object-keys-internal"),q=C("../internals/enum-bug-keys");I.exports=Object.keys||function keys(C){return z(C,q)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(C,I,B){"use strict";var z={}.propertyIsEnumerable,q=Object.getOwnPropertyDescriptor,Q=q&&!z.call({1:2},1);B.f=Q?function propertyIsEnumerable(C){var I=q(this,C);return!!I&&I.enumerable}:z},{}],318:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this-accessor"),q=C("../internals/an-object"),Q=C("../internals/a-possible-prototype");I.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var C,I=!1,B={};try{(C=z(Object.prototype,"__proto__","set"))(B,[]),I=B instanceof Array}catch(C){}return function setPrototypeOf(B,z){return q(B),Q(z),I?C(B,z):B.__proto__=z,B}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/fails"),Q=C("../internals/function-uncurry-this"),ee=C("../internals/object-get-prototype-of"),te=C("../internals/object-keys"),ie=C("../internals/to-indexed-object"),re=Q(C("../internals/object-property-is-enumerable").f),ne=Q([].push),se=z&&q((function(){var C=Object.create(null);return C[2]=2,!re(C,2)})),createMethod=function(C){return function(I){for(var B,q=ie(I),Q=te(q),oe=se&&null===ee(q),ae=Q.length,le=0,ue=[];ae>le;)B=Q[le++],z&&!(oe?B in q:re(q,B))||ne(ue,C?[B,q[B]]:q[B]);return ue}};I.exports={entries:createMethod(!0),values:createMethod(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(C,I,B){"use strict";var z=C("../internals/function-call"),q=C("../internals/is-callable"),Q=C("../internals/is-object"),ee=TypeError;I.exports=function(C,I){var B,te;if("string"===I&&q(B=C.toString)&&!Q(te=z(B,C)))return te;if(q(B=C.valueOf)&&!Q(te=z(B,C)))return te;if("string"!==I&&q(B=C.toString)&&!Q(te=z(B,C)))return te;throw new ee("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(C,I,B){"use strict";var z=C("../internals/get-built-in"),q=C("../internals/function-uncurry-this"),Q=C("../internals/object-get-own-property-names"),ee=C("../internals/object-get-own-property-symbols"),te=C("../internals/an-object"),ie=q([].concat);I.exports=z("Reflect","ownKeys")||function ownKeys(C){var I=Q.f(te(C)),B=ee.f;return B?ie(I,B(C)):I}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(C,I,B){"use strict";var z=C("../internals/global");I.exports=z},{"../internals/global":274}],323:[function(C,I,B){"use strict";I.exports=function(C){try{return{error:!1,value:C()}}catch(C){return{error:!0,value:C}}}},{}],324:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/promise-native-constructor"),Q=C("../internals/is-callable"),ee=C("../internals/is-forced"),te=C("../internals/inspect-source"),ie=C("../internals/well-known-symbol"),re=C("../internals/engine-is-browser"),ne=C("../internals/engine-is-deno"),se=C("../internals/is-pure"),oe=C("../internals/engine-v8-version"),ae=q&&q.prototype,le=ie("species"),ue=!1,de=Q(z.PromiseRejectionEvent),ce=ee("Promise",(function(){var C=te(q),I=C!==String(q);if(!I&&66===oe)return!0;if(se&&(!ae.catch||!ae.finally))return!0;if(!oe||oe<51||!/native code/.test(C)){var B=new q((function(C){C(1)})),FakePromise=function(C){C((function(){}),(function(){}))};if((B.constructor={})[le]=FakePromise,!(ue=B.then((function(){}))instanceof FakePromise))return!0}return!I&&(re||ne)&&!de}));I.exports={CONSTRUCTOR:ce,REJECTION_EVENT:de,SUBCLASSING:ue}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(C,I,B){"use strict";var z=C("../internals/global");I.exports=z.Promise},{"../internals/global":274}],326:[function(C,I,B){"use strict";var z=C("../internals/an-object"),q=C("../internals/is-object"),Q=C("../internals/new-promise-capability");I.exports=function(C,I){if(z(C),q(I)&&I.constructor===C)return I;var B=Q.f(C);return(0,B.resolve)(I),B.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(C,I,B){"use strict";var z=C("../internals/promise-native-constructor"),q=C("../internals/check-correctness-of-iteration"),Q=C("../internals/promise-constructor-detection").CONSTRUCTOR;I.exports=Q||!q((function(C){z.all(C).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(C,I,B){"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(C){var I={item:C,next:null},B=this.tail;B?B.next=I:this.head=I,this.tail=I},get:function(){var C=this.head;if(C)return null===(this.head=C.next)&&(this.tail=null),C.item}},I.exports=Queue},{}],329:[function(C,I,B){"use strict";var z=C("../internals/is-null-or-undefined"),q=TypeError;I.exports=function(C){if(z(C))throw new q("Can't call method on "+C);return C}},{"../internals/is-null-or-undefined":288}],330:[function(C,I,B){"use strict";var z=C("../internals/get-built-in"),q=C("../internals/define-built-in-accessor"),Q=C("../internals/well-known-symbol"),ee=C("../internals/descriptors"),te=Q("species");I.exports=function(C){var I=z(C);ee&&I&&!I[te]&&q(I,te,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(C,I,B){"use strict";var z=C("../internals/object-define-property").f,q=C("../internals/has-own-property"),Q=C("../internals/well-known-symbol")("toStringTag");I.exports=function(C,I,B){C&&!B&&(C=C.prototype),C&&!q(C,Q)&&z(C,Q,{configurable:!0,value:I})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(C,I,B){"use strict";var z=C("../internals/shared"),q=C("../internals/uid"),Q=z("keys");I.exports=function(C){return Q[C]||(Q[C]=q(C))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/define-global-property"),Q="__core-js_shared__",ee=z[Q]||q(Q,{});I.exports=ee},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(C,I,B){"use strict";var z=C("../internals/is-pure"),q=C("../internals/shared-store");(I.exports=function(C,I){return q[C]||(q[C]=void 0!==I?I:{})})("versions",[]).push({version:"3.33.0",mode:z?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(C,I,B){"use strict";var z=C("../internals/an-object"),q=C("../internals/a-constructor"),Q=C("../internals/is-null-or-undefined"),ee=C("../internals/well-known-symbol")("species");I.exports=function(C,I){var B,te=z(C).constructor;return void 0===te||Q(B=z(te)[ee])?I:q(B)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(C,I,B){"use strict";var z=C("../internals/engine-v8-version"),q=C("../internals/fails"),Q=C("../internals/global").String;I.exports=!!Object.getOwnPropertySymbols&&!q((function(){var C=Symbol("symbol detection");return!Q(C)||!(Object(C)instanceof Symbol)||!Symbol.sham&&z&&z<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(C,I,B){"use strict";var z=C("../internals/function-call"),q=C("../internals/get-built-in"),Q=C("../internals/well-known-symbol"),ee=C("../internals/define-built-in");I.exports=function(){var C=q("Symbol"),I=C&&C.prototype,B=I&&I.valueOf,te=Q("toPrimitive");I&&!I[te]&&ee(I,te,(function(C){return z(B,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(C,I,B){"use strict";var z=C("../internals/symbol-constructor-detection");I.exports=z&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(C,I,B){"use strict";var z,q,Q,ee,te=C("../internals/global"),ie=C("../internals/function-apply"),re=C("../internals/function-bind-context"),ne=C("../internals/is-callable"),se=C("../internals/has-own-property"),oe=C("../internals/fails"),ae=C("../internals/html"),le=C("../internals/array-slice"),ue=C("../internals/document-create-element"),de=C("../internals/validate-arguments-length"),ce=C("../internals/engine-is-ios"),he=C("../internals/engine-is-node"),fe=te.setImmediate,pe=te.clearImmediate,me=te.process,ge=te.Dispatch,ve=te.Function,ye=te.MessageChannel,be=te.String,Ce=0,we={},_e="onreadystatechange";oe((function(){z=te.location}));var run=function(C){if(se(we,C)){var I=we[C];delete we[C],I()}},runner=function(C){return function(){run(C)}},eventListener=function(C){run(C.data)},globalPostMessageDefer=function(C){te.postMessage(be(C),z.protocol+"//"+z.host)};fe&&pe||(fe=function setImmediate(C){de(arguments.length,1);var I=ne(C)?C:ve(C),B=le(arguments,1);return we[++Ce]=function(){ie(I,void 0,B)},q(Ce),Ce},pe=function clearImmediate(C){delete we[C]},he?q=function(C){me.nextTick(runner(C))}:ge&&ge.now?q=function(C){ge.now(runner(C))}:ye&&!ce?(ee=(Q=new ye).port2,Q.port1.onmessage=eventListener,q=re(ee.postMessage,ee)):te.addEventListener&&ne(te.postMessage)&&!te.importScripts&&z&&"file:"!==z.protocol&&!oe(globalPostMessageDefer)?(q=globalPostMessageDefer,te.addEventListener("message",eventListener,!1)):q=_e in ue("script")?function(C){ae.appendChild(ue("script"))[_e]=function(){ae.removeChild(this),run(C)}}:function(C){setTimeout(runner(C),0)}),I.exports={set:fe,clear:pe}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(C,I,B){"use strict";var z=C("../internals/to-integer-or-infinity"),q=Math.max,Q=Math.min;I.exports=function(C,I){var B=z(C);return B<0?q(B+I,0):Q(B,I)}},{"../internals/to-integer-or-infinity":342}],341:[function(C,I,B){"use strict";var z=C("../internals/indexed-object"),q=C("../internals/require-object-coercible");I.exports=function(C){return z(q(C))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(C,I,B){"use strict";var z=C("../internals/math-trunc");I.exports=function(C){var I=+C;return I!=I||0===I?0:z(I)}},{"../internals/math-trunc":301}],343:[function(C,I,B){"use strict";var z=C("../internals/to-integer-or-infinity"),q=Math.min;I.exports=function(C){return C>0?q(z(C),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(C,I,B){"use strict";var z=C("../internals/require-object-coercible"),q=Object;I.exports=function(C){return q(z(C))}},{"../internals/require-object-coercible":329}],345:[function(C,I,B){"use strict";var z=C("../internals/function-call"),q=C("../internals/is-object"),Q=C("../internals/is-symbol"),ee=C("../internals/get-method"),te=C("../internals/ordinary-to-primitive"),ie=C("../internals/well-known-symbol"),re=TypeError,ne=ie("toPrimitive");I.exports=function(C,I){if(!q(C)||Q(C))return C;var B,ie=ee(C,ne);if(ie){if(void 0===I&&(I="default"),B=z(ie,C,I),!q(B)||Q(B))return B;throw new re("Can't convert object to primitive value")}return void 0===I&&(I="number"),te(C,I)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(C,I,B){"use strict";var z=C("../internals/to-primitive"),q=C("../internals/is-symbol");I.exports=function(C){var I=z(C,"string");return q(I)?I:I+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(C,I,B){"use strict";var z={};z[C("../internals/well-known-symbol")("toStringTag")]="z",I.exports="[object z]"===String(z)},{"../internals/well-known-symbol":357}],348:[function(C,I,B){"use strict";var z=C("../internals/classof"),q=String;I.exports=function(C){if("Symbol"===z(C))throw new TypeError("Cannot convert a Symbol value to a string");return q(C)}},{"../internals/classof":236}],349:[function(C,I,B){"use strict";var z=String;I.exports=function(C){try{return z(C)}catch(C){return"Object"}}},{}],350:[function(C,I,B){"use strict";var z=C("../internals/function-uncurry-this"),q=0,Q=Math.random(),ee=z(1..toString);I.exports=function(C){return"Symbol("+(void 0===C?"":C)+")_"+ee(++q+Q,36)}},{"../internals/function-uncurry-this":268}],351:[function(C,I,B){"use strict";var z=C("../internals/symbol-constructor-detection");I.exports=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":336}],352:[function(C,I,B){"use strict";var z=C("../internals/descriptors"),q=C("../internals/fails");I.exports=z&&q((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(C,I,B){"use strict";var z=TypeError;I.exports=function(C,I){if(C<I)throw new z("Not enough arguments");return C}},{}],354:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/is-callable"),Q=z.WeakMap;I.exports=q(Q)&&/native code/.test(String(Q))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(C,I,B){"use strict";var z=C("../internals/path"),q=C("../internals/has-own-property"),Q=C("../internals/well-known-symbol-wrapped"),ee=C("../internals/object-define-property").f;I.exports=function(C){var I=z.Symbol||(z.Symbol={});q(I,C)||ee(I,C,{value:Q.f(C)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(C,I,B){"use strict";var z=C("../internals/well-known-symbol");B.f=z},{"../internals/well-known-symbol":357}],357:[function(C,I,B){"use strict";var z=C("../internals/global"),q=C("../internals/shared"),Q=C("../internals/has-own-property"),ee=C("../internals/uid"),te=C("../internals/symbol-constructor-detection"),ie=C("../internals/use-symbol-as-uid"),re=z.Symbol,ne=q("wks"),se=ie?re.for||re:re&&re.withoutSetter||ee;I.exports=function(C){return Q(ne,C)||(ne[C]=te&&Q(re,C)?re[C]:se("Symbol."+C)),ne[C]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/array-iteration").findIndex,Q=C("../internals/add-to-unscopables"),ee="findIndex",te=!0;ee in[]&&Array(1)[ee]((function(){te=!1})),z({target:"Array",proto:!0,forced:te},{findIndex:function findIndex(C){return q(this,C,arguments.length>1?arguments[1]:void 0)}}),Q(ee)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/array-iteration").find,Q=C("../internals/add-to-unscopables"),ee="find",te=!0;ee in[]&&Array(1)[ee]((function(){te=!1})),z({target:"Array",proto:!0,forced:te},{find:function find(C){return q(this,C,arguments.length>1?arguments[1]:void 0)}}),Q(ee)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/array-includes").includes,Q=C("../internals/fails"),ee=C("../internals/add-to-unscopables");z({target:"Array",proto:!0,forced:Q((function(){return!Array(1).includes()}))},{includes:function includes(C){return q(this,C,arguments.length>1?arguments[1]:void 0)}}),ee("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(C,I,B){"use strict";var z=C("../internals/to-indexed-object"),q=C("../internals/add-to-unscopables"),Q=C("../internals/iterators"),ee=C("../internals/internal-state"),te=C("../internals/object-define-property").f,ie=C("../internals/iterator-define"),re=C("../internals/create-iter-result-object"),ne=C("../internals/is-pure"),se=C("../internals/descriptors"),oe="Array Iterator",ae=ee.set,le=ee.getterFor(oe);I.exports=ie(Array,"Array",(function(C,I){ae(this,{type:oe,target:z(C),index:0,kind:I})}),(function(){var C=le(this),I=C.target,B=C.kind,z=C.index++;if(!I||z>=I.length)return C.target=void 0,re(void 0,!0);switch(B){case"keys":return re(z,!1);case"values":return re(I[z],!1)}return re([z,I[z]],!1)}),"values");var ue=Q.Arguments=Q.Array;if(q("keys"),q("values"),q("entries"),!ne&&se&&"values"!==ue.name)try{te(ue,"name",{value:"values"})}catch(C){}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/get-built-in"),Q=C("../internals/function-apply"),ee=C("../internals/function-call"),te=C("../internals/function-uncurry-this"),ie=C("../internals/fails"),re=C("../internals/is-callable"),ne=C("../internals/is-symbol"),se=C("../internals/array-slice"),oe=C("../internals/get-json-replacer-function"),ae=C("../internals/symbol-constructor-detection"),le=String,ue=q("JSON","stringify"),de=te(/./.exec),ce=te("".charAt),he=te("".charCodeAt),fe=te("".replace),pe=te(1..toString),me=/[\uD800-\uDFFF]/g,ge=/^[\uD800-\uDBFF]$/,ve=/^[\uDC00-\uDFFF]$/,ye=!ae||ie((function(){var C=q("Symbol")("stringify detection");return"[null]"!==ue([C])||"{}"!==ue({a:C})||"{}"!==ue(Object(C))})),be=ie((function(){return'"\\udf06\\ud834"'!==ue("\udf06\ud834")||'"\\udead"'!==ue("\udead")})),stringifyWithSymbolsFix=function(C,I){var B=se(arguments),z=oe(I);if(re(z)||void 0!==C&&!ne(C))return B[1]=function(C,I){if(re(z)&&(I=ee(z,this,le(C),I)),!ne(I))return I},Q(ue,null,B)},fixIllFormed=function(C,I,B){var z=ce(B,I-1),q=ce(B,I+1);return de(ge,C)&&!de(ve,q)||de(ve,C)&&!de(ge,z)?"\\u"+pe(he(C,0),16):C};ue&&z({target:"JSON",stat:!0,arity:3,forced:ye||be},{stringify:function stringify(C,I,B){var z=se(arguments),q=Q(ye?stringifyWithSymbolsFix:ue,null,z);return be&&"string"==typeof q?fe(q,me,fixIllFormed):q}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(C,I,B){"use strict";C("../internals/export")({target:"Number",stat:!0},{isNaN:function isNaN(C){return C!=C}})},{"../internals/export":259}],364:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/object-assign");z({target:"Object",stat:!0,arity:2,forced:Object.assign!==q},{assign:q})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/symbol-constructor-detection"),Q=C("../internals/fails"),ee=C("../internals/object-get-own-property-symbols"),te=C("../internals/to-object");z({target:"Object",stat:!0,forced:!q||Q((function(){ee.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(C){var I=ee.f;return I?I(te(C)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/to-object"),Q=C("../internals/object-keys");z({target:"Object",stat:!0,forced:C("../internals/fails")((function(){Q(1)}))},{keys:function keys(C){return Q(q(C))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/object-to-array").values;z({target:"Object",stat:!0},{values:function values(C){return q(C)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-call"),Q=C("../internals/a-callable"),ee=C("../internals/new-promise-capability"),te=C("../internals/perform"),ie=C("../internals/iterate");z({target:"Promise",stat:!0,forced:C("../internals/promise-statics-incorrect-iteration")},{all:function all(C){var I=this,B=ee.f(I),z=B.resolve,re=B.reject,ne=te((function(){var B=Q(I.resolve),ee=[],te=0,ne=1;ie(C,(function(C){var Q=te++,ie=!1;ne++,q(B,I,C).then((function(C){ie||(ie=!0,ee[Q]=C,--ne||z(ee))}),re)})),--ne||z(ee)}));return ne.error&&re(ne.value),B.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/is-pure"),Q=C("../internals/promise-constructor-detection").CONSTRUCTOR,ee=C("../internals/promise-native-constructor"),te=C("../internals/get-built-in"),ie=C("../internals/is-callable"),re=C("../internals/define-built-in"),ne=ee&&ee.prototype;if(z({target:"Promise",proto:!0,forced:Q,real:!0},{catch:function(C){return this.then(void 0,C)}}),!q&&ie(ee)){var se=te("Promise").prototype.catch;ne.catch!==se&&re(ne,"catch",se,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(C,I,B){"use strict";var z,q,Q,ee,te=C("../internals/export"),ie=C("../internals/is-pure"),re=C("../internals/engine-is-node"),ne=C("../internals/global"),se=C("../internals/function-call"),oe=C("../internals/define-built-in"),ae=C("../internals/object-set-prototype-of"),le=C("../internals/set-to-string-tag"),ue=C("../internals/set-species"),de=C("../internals/a-callable"),ce=C("../internals/is-callable"),he=C("../internals/is-object"),fe=C("../internals/an-instance"),pe=C("../internals/species-constructor"),me=C("../internals/task").set,ge=C("../internals/microtask"),ve=C("../internals/host-report-errors"),ye=C("../internals/perform"),be=C("../internals/queue"),Ce=C("../internals/internal-state"),we=C("../internals/promise-native-constructor"),_e=C("../internals/promise-constructor-detection"),Se=C("../internals/new-promise-capability"),xe="Promise",ke=_e.CONSTRUCTOR,Te=_e.REJECTION_EVENT,Me=_e.SUBCLASSING,Re=Ce.getterFor(xe),Ee=Ce.set,Pe=we&&we.prototype,Ie=we,Ne=Pe,Ae=ne.TypeError,De=ne.document,Fe=ne.process,Oe=Se.f,Be=Oe,Le=!!(De&&De.createEvent&&ne.dispatchEvent),je="unhandledrejection",$e="rejectionhandled",Ve=0,He=1,Ge=2,Ue=1,ze=2,isThenable=function(C){var I;return!(!he(C)||!ce(I=C.then))&&I},callReaction=function(C,I){var B,z,q,Q=I.value,ee=I.state===He,te=ee?C.ok:C.fail,ie=C.resolve,re=C.reject,ne=C.domain;try{te?(ee||(I.rejection===ze&&onHandleUnhandled(I),I.rejection=Ue),!0===te?B=Q:(ne&&ne.enter(),B=te(Q),ne&&(ne.exit(),q=!0)),B===C.promise?re(new Ae("Promise-chain cycle")):(z=isThenable(B))?se(z,B,ie,re):ie(B)):re(Q)}catch(C){ne&&!q&&ne.exit(),re(C)}},notify=function(C,I){C.notified||(C.notified=!0,ge((function(){for(var B,z=C.reactions;B=z.get();)callReaction(B,C);C.notified=!1,I&&!C.rejection&&onUnhandled(C)})))},dispatchEvent=function(C,I,B){var z,q;Le?((z=De.createEvent("Event")).promise=I,z.reason=B,z.initEvent(C,!1,!0),ne.dispatchEvent(z)):z={promise:I,reason:B},!Te&&(q=ne["on"+C])?q(z):C===je&&ve("Unhandled promise rejection",B)},onUnhandled=function(C){se(me,ne,(function(){var I,B=C.facade,z=C.value;if(isUnhandled(C)&&(I=ye((function(){re?Fe.emit("unhandledRejection",z,B):dispatchEvent(je,B,z)})),C.rejection=re||isUnhandled(C)?ze:Ue,I.error))throw I.value}))},isUnhandled=function(C){return C.rejection!==Ue&&!C.parent},onHandleUnhandled=function(C){se(me,ne,(function(){var I=C.facade;re?Fe.emit("rejectionHandled",I):dispatchEvent($e,I,C.value)}))},bind=function(C,I,B){return function(z){C(I,z,B)}},internalReject=function(C,I,B){C.done||(C.done=!0,B&&(C=B),C.value=I,C.state=Ge,notify(C,!0))},internalResolve=function(C,I,B){if(!C.done){C.done=!0,B&&(C=B);try{if(C.facade===I)throw new Ae("Promise can't be resolved itself");var z=isThenable(I);z?ge((function(){var B={done:!1};try{se(z,I,bind(internalResolve,B,C),bind(internalReject,B,C))}catch(I){internalReject(B,I,C)}})):(C.value=I,C.state=He,notify(C,!1))}catch(I){internalReject({done:!1},I,C)}}};if(ke&&(Ne=(Ie=function Promise(C){fe(this,Ne),de(C),se(z,this);var I=Re(this);try{C(bind(internalResolve,I),bind(internalReject,I))}catch(C){internalReject(I,C)}}).prototype,(z=function Promise(C){Ee(this,{type:xe,done:!1,notified:!1,parent:!1,reactions:new be,rejection:!1,state:Ve,value:void 0})}).prototype=oe(Ne,"then",(function then(C,I){var B=Re(this),z=Oe(pe(this,Ie));return B.parent=!0,z.ok=!ce(C)||C,z.fail=ce(I)&&I,z.domain=re?Fe.domain:void 0,B.state===Ve?B.reactions.add(z):ge((function(){callReaction(z,B)})),z.promise})),q=function(){var C=new z,I=Re(C);this.promise=C,this.resolve=bind(internalResolve,I),this.reject=bind(internalReject,I)},Se.f=Oe=function(C){return C===Ie||C===Q?new q(C):Be(C)},!ie&&ce(we)&&Pe!==Object.prototype)){ee=Pe.then,Me||oe(Pe,"then",(function then(C,I){var B=this;return new Ie((function(C,I){se(ee,B,C,I)})).then(C,I)}),{unsafe:!0});try{delete Pe.constructor}catch(C){}ae&&ae(Pe,Ne)}te({global:!0,constructor:!0,wrap:!0,forced:ke},{Promise:Ie}),le(Ie,xe,!1,!0),ue(xe)},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/is-pure"),Q=C("../internals/promise-native-constructor"),ee=C("../internals/fails"),te=C("../internals/get-built-in"),ie=C("../internals/is-callable"),re=C("../internals/species-constructor"),ne=C("../internals/promise-resolve"),se=C("../internals/define-built-in"),oe=Q&&Q.prototype;if(z({target:"Promise",proto:!0,real:!0,forced:!!Q&&ee((function(){oe.finally.call({then:function(){}},(function(){}))}))},{finally:function(C){var I=re(this,te("Promise")),B=ie(C);return this.then(B?function(B){return ne(I,C()).then((function(){return B}))}:C,B?function(B){return ne(I,C()).then((function(){throw B}))}:C)}}),!q&&ie(Q)){var ae=te("Promise").prototype.finally;oe.finally!==ae&&se(oe,"finally",ae,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(C,I,B){"use strict";C("../modules/es.promise.constructor"),C("../modules/es.promise.all"),C("../modules/es.promise.catch"),C("../modules/es.promise.race"),C("../modules/es.promise.reject"),C("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-call"),Q=C("../internals/a-callable"),ee=C("../internals/new-promise-capability"),te=C("../internals/perform"),ie=C("../internals/iterate");z({target:"Promise",stat:!0,forced:C("../internals/promise-statics-incorrect-iteration")},{race:function race(C){var I=this,B=ee.f(I),z=B.reject,re=te((function(){var ee=Q(I.resolve);ie(C,(function(C){q(ee,I,C).then(B.resolve,z)}))}));return re.error&&z(re.value),B.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-call"),Q=C("../internals/new-promise-capability");z({target:"Promise",stat:!0,forced:C("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function reject(C){var I=Q.f(this);return q(I.reject,void 0,C),I.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/get-built-in"),Q=C("../internals/is-pure"),ee=C("../internals/promise-native-constructor"),te=C("../internals/promise-constructor-detection").CONSTRUCTOR,ie=C("../internals/promise-resolve"),re=q("Promise"),ne=Q&&!te;z({target:"Promise",stat:!0,forced:Q||te},{resolve:function resolve(C){return ie(ne&&this===re?ee:this,C)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-uncurry-this"),Q=C("../internals/to-absolute-index"),ee=RangeError,te=String.fromCharCode,ie=String.fromCodePoint,re=q([].join);z({target:"String",stat:!0,arity:1,forced:!!ie&&1!==ie.length},{fromCodePoint:function fromCodePoint(C){for(var I,B=[],z=arguments.length,q=0;z>q;){if(I=+arguments[q++],Q(I,1114111)!==I)throw new ee(I+" is not a valid code point");B[q]=I<65536?te(I):te(55296+((I-=65536)>>10),I%1024+56320)}return re(B,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/function-uncurry-this"),Q=C("../internals/not-a-regexp"),ee=C("../internals/require-object-coercible"),te=C("../internals/to-string"),ie=C("../internals/correct-is-regexp-logic"),re=q("".indexOf);z({target:"String",proto:!0,forced:!ie("includes")},{includes:function includes(C){return!!~re(te(ee(this)),te(Q(C)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(C,I,B){"use strict";C("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/global"),Q=C("../internals/function-call"),ee=C("../internals/function-uncurry-this"),te=C("../internals/is-pure"),ie=C("../internals/descriptors"),re=C("../internals/symbol-constructor-detection"),ne=C("../internals/fails"),se=C("../internals/has-own-property"),oe=C("../internals/object-is-prototype-of"),ae=C("../internals/an-object"),le=C("../internals/to-indexed-object"),ue=C("../internals/to-property-key"),de=C("../internals/to-string"),ce=C("../internals/create-property-descriptor"),he=C("../internals/object-create"),fe=C("../internals/object-keys"),pe=C("../internals/object-get-own-property-names"),me=C("../internals/object-get-own-property-names-external"),ge=C("../internals/object-get-own-property-symbols"),ve=C("../internals/object-get-own-property-descriptor"),ye=C("../internals/object-define-property"),be=C("../internals/object-define-properties"),Ce=C("../internals/object-property-is-enumerable"),we=C("../internals/define-built-in"),_e=C("../internals/define-built-in-accessor"),Se=C("../internals/shared"),xe=C("../internals/shared-key"),ke=C("../internals/hidden-keys"),Te=C("../internals/uid"),Me=C("../internals/well-known-symbol"),Re=C("../internals/well-known-symbol-wrapped"),Ee=C("../internals/well-known-symbol-define"),Pe=C("../internals/symbol-define-to-primitive"),Ie=C("../internals/set-to-string-tag"),Ne=C("../internals/internal-state"),Ae=C("../internals/array-iteration").forEach,De=xe("hidden"),Fe="Symbol",Oe="prototype",Be=Ne.set,Le=Ne.getterFor(Fe),je=Object[Oe],$e=q.Symbol,Ve=$e&&$e[Oe],He=q.RangeError,Ge=q.TypeError,Ue=q.QObject,ze=ve.f,qe=ye.f,We=me.f,Ke=Ce.f,Xe=ee([].push),Je=Se("symbols"),Ye=Se("op-symbols"),Ze=Se("wks"),Qe=!Ue||!Ue[Oe]||!Ue[Oe].findChild,fallbackDefineProperty=function(C,I,B){var z=ze(je,I);z&&delete je[I],qe(C,I,B),z&&C!==je&&qe(je,I,z)},et=ie&&ne((function(){return 7!==he(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a}))?fallbackDefineProperty:qe,wrap=function(C,I){var B=Je[C]=he(Ve);return Be(B,{type:Fe,tag:C,description:I}),ie||(B.description=I),B},tt=function defineProperty(C,I,B){C===je&&tt(Ye,I,B),ae(C);var z=ue(I);return ae(B),se(Je,z)?(B.enumerable?(se(C,De)&&C[De][z]&&(C[De][z]=!1),B=he(B,{enumerable:ce(0,!1)})):(se(C,De)||qe(C,De,ce(1,{})),C[De][z]=!0),et(C,z,B)):qe(C,z,B)},it=function defineProperties(C,I){ae(C);var B=le(I),z=fe(B).concat($getOwnPropertySymbols(B));return Ae(z,(function(I){ie&&!Q(nt,B,I)||tt(C,I,B[I])})),C},rt=function create(C,I){return void 0===I?he(C):it(he(C),I)},nt=function propertyIsEnumerable(C){var I=ue(C),B=Q(Ke,this,I);return!(this===je&&se(Je,I)&&!se(Ye,I))&&(!(B||!se(this,I)||!se(Je,I)||se(this,De)&&this[De][I])||B)},st=function getOwnPropertyDescriptor(C,I){var B=le(C),z=ue(I);if(B!==je||!se(Je,z)||se(Ye,z)){var q=ze(B,z);return!q||!se(Je,z)||se(B,De)&&B[De][z]||(q.enumerable=!0),q}},ot=function getOwnPropertyNames(C){var I=We(le(C)),B=[];return Ae(I,(function(C){se(Je,C)||se(ke,C)||Xe(B,C)})),B},$getOwnPropertySymbols=function(C){var I=C===je,B=We(I?Ye:le(C)),z=[];return Ae(B,(function(C){!se(Je,C)||I&&!se(je,C)||Xe(z,Je[C])})),z};re||($e=function Symbol(){if(oe(Ve,this))throw new Ge("Symbol is not a constructor");var C=arguments.length&&void 0!==arguments[0]?de(arguments[0]):void 0,I=Te(C),setter=function(C){this===je&&Q(setter,Ye,C),se(this,De)&&se(this[De],I)&&(this[De][I]=!1);var B=ce(1,C);try{et(this,I,B)}catch(C){if(!(C instanceof He))throw C;fallbackDefineProperty(this,I,B)}};return ie&&Qe&&et(je,I,{configurable:!0,set:setter}),wrap(I,C)},we(Ve=$e[Oe],"toString",(function toString(){return Le(this).tag})),we($e,"withoutSetter",(function(C){return wrap(Te(C),C)})),Ce.f=nt,ye.f=tt,be.f=it,ve.f=st,pe.f=me.f=ot,ge.f=$getOwnPropertySymbols,Re.f=function(C){return wrap(Me(C),C)},ie&&(_e(Ve,"description",{configurable:!0,get:function description(){return Le(this).description}}),te||we(je,"propertyIsEnumerable",nt,{unsafe:!0}))),z({global:!0,constructor:!0,wrap:!0,forced:!re,sham:!re},{Symbol:$e}),Ae(fe(Ze),(function(C){Ee(C)})),z({target:Fe,stat:!0,forced:!re},{useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),z({target:"Object",stat:!0,forced:!re,sham:!ie},{create:rt,defineProperty:tt,defineProperties:it,getOwnPropertyDescriptor:st}),z({target:"Object",stat:!0,forced:!re},{getOwnPropertyNames:ot}),Pe(),Ie($e,Fe),ke[De]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/get-built-in"),Q=C("../internals/has-own-property"),ee=C("../internals/to-string"),te=C("../internals/shared"),ie=C("../internals/symbol-registry-detection"),re=te("string-to-symbol-registry"),ne=te("symbol-to-string-registry");z({target:"Symbol",stat:!0,forced:!ie},{for:function(C){var I=ee(C);if(Q(re,I))return re[I];var B=q("Symbol")(I);return re[I]=B,ne[B]=I,B}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(C,I,B){"use strict";C("../modules/es.symbol.constructor"),C("../modules/es.symbol.for"),C("../modules/es.symbol.key-for"),C("../modules/es.json.stringify"),C("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(C,I,B){"use strict";var z=C("../internals/export"),q=C("../internals/has-own-property"),Q=C("../internals/is-symbol"),ee=C("../internals/try-to-string"),te=C("../internals/shared"),ie=C("../internals/symbol-registry-detection"),re=te("symbol-to-string-registry");z({target:"Symbol",stat:!0,forced:!ie},{keyFor:function keyFor(C){if(!Q(C))throw new TypeError(ee(C)+" is not a symbol");if(q(re,C))return re[C]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(C,I,B){"use strict";function isArray(C){return Array.isArray?Array.isArray(C):"[object Array]"===objectToString(C)}function isBoolean(C){return"boolean"==typeof C}function isNull(C){return null===C}function isNullOrUndefined(C){return null==C}function isNumber(C){return"number"==typeof C}function isString(C){return"string"==typeof C}function isSymbol(C){return"symbol"==typeof C}function isUndefined(C){return void 0===C}function isRegExp(C){return"[object RegExp]"===objectToString(C)}function isObject(C){return"object"==typeof C&&null!==C}function isDate(C){return"[object Date]"===objectToString(C)}function isError(C){return"[object Error]"===objectToString(C)||C instanceof Error}function isFunction(C){return"function"==typeof C}function isPrimitive(C){return null===C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||"symbol"==typeof C||void 0===C}function objectToString(C){return Object.prototype.toString.call(C)}B.isArray=isArray,B.isBoolean=isBoolean,B.isNull=isNull,B.isNullOrUndefined=isNullOrUndefined,B.isNumber=isNumber,B.isString=isString,B.isSymbol=isSymbol,B.isUndefined=isUndefined,B.isRegExp=isRegExp,B.isObject=isObject,B.isDate=isDate,B.isError=isError,B.isFunction=isFunction,B.isPrimitive=isPrimitive,B.isBuffer=C("buffer").Buffer.isBuffer},{buffer:220}],384:[function(C,I,B){(function(B){(function(){"use strict";var z=C("elliptic"),q=C("bn.js");I.exports=function createECDH(C){return new ECDH(C)};var Q={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function ECDH(C){this.curveType=Q[C],this.curveType||(this.curveType={name:C}),this.curve=new z.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(C,I,z){Array.isArray(C)||(C=C.toArray());var q=new B(C);if(z&&q.length<z){var Q=new B(z-q.length);Q.fill(0),q=B.concat([Q,q])}return I?q.toString(I):q}Q.p224=Q.secp224r1,Q.p256=Q.secp256r1=Q.prime256v1,Q.p192=Q.secp192r1=Q.prime192v1,Q.p384=Q.secp384r1,Q.p521=Q.secp521r1,ECDH.prototype.generateKeys=function(C,I){return this.keys=this.curve.genKeyPair(),this.getPublicKey(C,I)},ECDH.prototype.computeSecret=function(C,I,z){return I=I||"utf8",B.isBuffer(C)||(C=new B(C,I)),formatReturnValue(this.curve.keyFromPublic(C).getPublic().mul(this.keys.getPrivate()).getX(),z,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(C,I){var B=this.keys.getPublic("compressed"===I,!0);return"hybrid"===I&&(B[B.length-1]%2?B[0]=7:B[0]=6),formatReturnValue(B,C)},ECDH.prototype.getPrivateKey=function(C){return formatReturnValue(this.keys.getPrivate(),C)},ECDH.prototype.setPublicKey=function(C,I){return I=I||"utf8",B.isBuffer(C)||(C=new B(C,I)),this.keys._importPublic(C),this},ECDH.prototype.setPrivateKey=function(C,I){I=I||"utf8",B.isBuffer(C)||(C=new B(C,I));var z=new q(C);return z=z.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(z),this}}).call(this)}).call(this,C("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(C,I,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],386:[function(C,I,B){"use strict";var z=C("inherits"),q=C("md5.js"),Q=C("ripemd160"),ee=C("sha.js"),te=C("cipher-base");function Hash(C){te.call(this,"digest"),this._hash=C}z(Hash,te),Hash.prototype._update=function(C){this._hash.update(C)},Hash.prototype._final=function(){return this._hash.digest()},I.exports=function createHash(C){return"md5"===(C=C.toLowerCase())?new q:"rmd160"===C||"ripemd160"===C?new Q:new Hash(ee(C))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(C,I,B){"use strict";var z=C("md5.js");I.exports=function(C){return(new z).update(C).digest()}},{"md5.js":450}],388:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./legacy"),Q=C("cipher-base"),ee=C("safe-buffer").Buffer,te=C("create-hash/md5"),ie=C("ripemd160"),re=C("sha.js"),ne=ee.alloc(128);function Hmac(C,I){Q.call(this,"digest"),"string"==typeof I&&(I=ee.from(I));var B="sha512"===C||"sha384"===C?128:64;this._alg=C,this._key=I,I.length>B?I=("rmd160"===C?new ie:re(C)).update(I).digest():I.length<B&&(I=ee.concat([I,ne],B));for(var z=this._ipad=ee.allocUnsafe(B),q=this._opad=ee.allocUnsafe(B),te=0;te<B;te++)z[te]=54^I[te],q[te]=92^I[te];this._hash="rmd160"===C?new ie:re(C),this._hash.update(z)}z(Hmac,Q),Hmac.prototype._update=function(C){this._hash.update(C)},Hmac.prototype._final=function(){var C=this._hash.digest();return("rmd160"===this._alg?new ie:re(this._alg)).update(this._opad).update(C).digest()},I.exports=function createHmac(C,I){return"rmd160"===(C=C.toLowerCase())||"ripemd160"===C?new Hmac("rmd160",I):"md5"===C?new q(te,I):new Hmac(C,I)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(C,I,B){"use strict";var z=C("inherits"),q=C("safe-buffer").Buffer,Q=C("cipher-base"),ee=q.alloc(128),te=64;function Hmac(C,I){Q.call(this,"digest"),"string"==typeof I&&(I=q.from(I)),this._alg=C,this._key=I,I.length>te?I=C(I):I.length<te&&(I=q.concat([I,ee],te));for(var B=this._ipad=q.allocUnsafe(te),z=this._opad=q.allocUnsafe(te),ie=0;ie<te;ie++)B[ie]=54^I[ie],z[ie]=92^I[ie];this._hash=[B]}z(Hmac,Q),Hmac.prototype._update=function(C){this._hash.push(C)},Hmac.prototype._final=function(){var C=this._alg(q.concat(this._hash));return this._alg(q.concat([this._opad,C]))},I.exports=Hmac},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(C,I,B){"use strict";B.randomBytes=B.rng=B.pseudoRandomBytes=B.prng=C("randombytes"),B.createHash=B.Hash=C("create-hash"),B.createHmac=B.Hmac=C("create-hmac");var z=C("browserify-sign/algos"),q=Object.keys(z),Q=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(q);B.getHashes=function(){return Q};var ee=C("pbkdf2");B.pbkdf2=ee.pbkdf2,B.pbkdf2Sync=ee.pbkdf2Sync;var te=C("browserify-cipher");B.Cipher=te.Cipher,B.createCipher=te.createCipher,B.Cipheriv=te.Cipheriv,B.createCipheriv=te.createCipheriv,B.Decipher=te.Decipher,B.createDecipher=te.createDecipher,B.Decipheriv=te.Decipheriv,B.createDecipheriv=te.createDecipheriv,B.getCiphers=te.getCiphers,B.listCiphers=te.listCiphers;var ie=C("diffie-hellman");B.DiffieHellmanGroup=ie.DiffieHellmanGroup,B.createDiffieHellmanGroup=ie.createDiffieHellmanGroup,B.getDiffieHellman=ie.getDiffieHellman,B.createDiffieHellman=ie.createDiffieHellman,B.DiffieHellman=ie.DiffieHellman;var re=C("browserify-sign");B.createSign=re.createSign,B.Sign=re.Sign,B.createVerify=re.createVerify,B.Verify=re.Verify,B.createECDH=C("create-ecdh");var ne=C("public-encrypt");B.publicEncrypt=ne.publicEncrypt,B.privateEncrypt=ne.privateEncrypt,B.publicDecrypt=ne.publicDecrypt,B.privateDecrypt=ne.privateDecrypt;var se=C("randomfill");B.randomFill=se.randomFill,B.randomFillSync=se.randomFillSync,B.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},B.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(I,B,z){"use strict";var q,Q;q=void 0,Q=function(){var C=1e3,I=6e4,B=36e5,z="millisecond",q="second",Q="minute",ee="hour",te="day",ie="week",re="month",ne="quarter",se="year",oe="date",ae="Invalid Date",le=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ue=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,de={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var I=["th","st","nd","rd"],B=C%100;return"["+C+(I[(B-20)%10]||I[B]||I[0])+"]"}},m=function(C,I,B){var z=String(C);return!z||z.length>=I?C:""+Array(I+1-z.length).join(B)+C},ce={s:m,z:function(C){var I=-C.utcOffset(),B=Math.abs(I),z=Math.floor(B/60),q=B%60;return(I<=0?"+":"-")+m(z,2,"0")+":"+m(q,2,"0")},m:function t(C,I){if(C.date()<I.date())return-t(I,C);var B=12*(I.year()-C.year())+(I.month()-C.month()),z=C.clone().add(B,re),q=I-z<0,Q=C.clone().add(B+(q?-1:1),re);return+(-(B+(I-z)/(q?z-Q:Q-z))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:re,y:se,w:ie,d:te,D:oe,h:ee,m:Q,s:q,ms:z,Q:ne}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return void 0===C}},he="en",fe={};fe[he]=de;var pe="$isDayjsObject",S=function(C){return C instanceof ve||!(!C||!C[pe])},me=function t(C,I,B){var z;if(!C)return he;if("string"==typeof C){var q=C.toLowerCase();fe[q]&&(z=q),I&&(fe[q]=I,z=q);var Q=C.split("-");if(!z&&Q.length>1)return t(Q[0])}else{var ee=C.name;fe[ee]=C,z=ee}return!B&&z&&(he=z),z||!B&&he},O=function(C,I){if(S(C))return C.clone();var B="object"==typeof I?I:{};return B.date=C,B.args=arguments,new ve(B)},ge=ce;ge.l=me,ge.i=S,ge.w=function(C,I){return O(C,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var ve=function(){function M(C){this.$L=me(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[pe]=!0}var de=M.prototype;return de.parse=function(C){this.$d=function(C){var I=C.date,B=C.utc;if(null===I)return new Date(NaN);if(ge.u(I))return new Date;if(I instanceof Date)return new Date(I);if("string"==typeof I&&!/Z$/i.test(I)){var z=I.match(le);if(z){var q=z[2]-1||0,Q=(z[7]||"0").substring(0,3);return B?new Date(Date.UTC(z[1],q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Q)):new Date(z[1],q,z[3]||1,z[4]||0,z[5]||0,z[6]||0,Q)}}return new Date(I)}(C),this.init()},de.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},de.$utils=function(){return ge},de.isValid=function(){return!(this.$d.toString()===ae)},de.isSame=function(C,I){var B=O(C);return this.startOf(I)<=B&&B<=this.endOf(I)},de.isAfter=function(C,I){return O(C)<this.startOf(I)},de.isBefore=function(C,I){return this.endOf(I)<O(C)},de.$g=function(C,I,B){return ge.u(C)?this[I]:this.set(B,C)},de.unix=function(){return Math.floor(this.valueOf()/1e3)},de.valueOf=function(){return this.$d.getTime()},de.startOf=function(C,I){var B=this,z=!!ge.u(I)||I,ne=ge.p(C),l=function(C,I){var q=ge.w(B.$u?Date.UTC(B.$y,I,C):new Date(B.$y,I,C),B);return z?q:q.endOf(te)},$=function(C,I){return ge.w(B.toDate()[C].apply(B.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(I)),B)},ae=this.$W,le=this.$M,ue=this.$D,de="set"+(this.$u?"UTC":"");switch(ne){case se:return z?l(1,0):l(31,11);case re:return z?l(1,le):l(0,le+1);case ie:var ce=this.$locale().weekStart||0,he=(ae<ce?ae+7:ae)-ce;return l(z?ue-he:ue+(6-he),le);case te:case oe:return $(de+"Hours",0);case ee:return $(de+"Minutes",1);case Q:return $(de+"Seconds",2);case q:return $(de+"Milliseconds",3);default:return this.clone()}},de.endOf=function(C){return this.startOf(C,!1)},de.$set=function(C,I){var B,ie=ge.p(C),ne="set"+(this.$u?"UTC":""),ae=(B={},B[te]=ne+"Date",B[oe]=ne+"Date",B[re]=ne+"Month",B[se]=ne+"FullYear",B[ee]=ne+"Hours",B[Q]=ne+"Minutes",B[q]=ne+"Seconds",B[z]=ne+"Milliseconds",B)[ie],le=ie===te?this.$D+(I-this.$W):I;if(ie===re||ie===se){var ue=this.clone().set(oe,1);ue.$d[ae](le),ue.init(),this.$d=ue.set(oe,Math.min(this.$D,ue.daysInMonth())).$d}else ae&&this.$d[ae](le);return this.init(),this},de.set=function(C,I){return this.clone().$set(C,I)},de.get=function(C){return this[ge.p(C)]()},de.add=function(z,ne){var oe,ae=this;z=Number(z);var le=ge.p(ne),y=function(C){var I=O(ae);return ge.w(I.date(I.date()+Math.round(C*z)),ae)};if(le===re)return this.set(re,this.$M+z);if(le===se)return this.set(se,this.$y+z);if(le===te)return y(1);if(le===ie)return y(7);var ue=(oe={},oe[Q]=I,oe[ee]=B,oe[q]=C,oe)[le]||1,de=this.$d.getTime()+z*ue;return ge.w(de,this)},de.subtract=function(C,I){return this.add(-1*C,I)},de.format=function(C){var I=this,B=this.$locale();if(!this.isValid())return B.invalidDate||ae;var z=C||"YYYY-MM-DDTHH:mm:ssZ",q=ge.z(this),Q=this.$H,ee=this.$m,te=this.$M,ie=B.weekdays,re=B.months,ne=B.meridiem,h=function(C,B,q,Q){return C&&(C[B]||C(I,z))||q[B].slice(0,Q)},d=function(C){return ge.s(Q%12||12,C,"0")},se=ne||function(C,I,B){var z=C<12?"AM":"PM";return B?z.toLowerCase():z};return z.replace(ue,(function(C,z){return z||function(C){switch(C){case"YY":return String(I.$y).slice(-2);case"YYYY":return ge.s(I.$y,4,"0");case"M":return te+1;case"MM":return ge.s(te+1,2,"0");case"MMM":return h(B.monthsShort,te,re,3);case"MMMM":return h(re,te);case"D":return I.$D;case"DD":return ge.s(I.$D,2,"0");case"d":return String(I.$W);case"dd":return h(B.weekdaysMin,I.$W,ie,2);case"ddd":return h(B.weekdaysShort,I.$W,ie,3);case"dddd":return ie[I.$W];case"H":return String(Q);case"HH":return ge.s(Q,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return se(Q,ee,!0);case"A":return se(Q,ee,!1);case"m":return String(ee);case"mm":return ge.s(ee,2,"0");case"s":return String(I.$s);case"ss":return ge.s(I.$s,2,"0");case"SSS":return ge.s(I.$ms,3,"0");case"Z":return q}return null}(C)||q.replace(":","")}))},de.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},de.diff=function(z,oe,ae){var le,ue=this,de=ge.p(oe),ce=O(z),he=(ce.utcOffset()-this.utcOffset())*I,fe=this-ce,D=function(){return ge.m(ue,ce)};switch(de){case se:le=D()/12;break;case re:le=D();break;case ne:le=D()/3;break;case ie:le=(fe-he)/6048e5;break;case te:le=(fe-he)/864e5;break;case ee:le=fe/B;break;case Q:le=fe/I;break;case q:le=fe/C;break;default:le=fe}return ae?le:ge.a(le)},de.daysInMonth=function(){return this.endOf(re).$D},de.$locale=function(){return fe[this.$L]},de.locale=function(C,I){if(!C)return this.$L;var B=this.clone(),z=me(C,I,!0);return z&&(B.$L=z),B},de.clone=function(){return ge.w(this.$d,this)},de.toDate=function(){return new Date(this.valueOf())},de.toJSON=function(){return this.isValid()?this.toISOString():null},de.toISOString=function(){return this.$d.toISOString()},de.toString=function(){return this.$d.toUTCString()},M}(),ye=ve.prototype;return O.prototype=ye,[["$ms",z],["$s",q],["$m",Q],["$H",ee],["$W",te],["$M",re],["$y",se],["$D",oe]].forEach((function(C){ye[C[1]]=function(I){return this.$g(I,C[0],C[1])}})),O.extend=function(C,I){return C.$i||(C(I,ve,O),C.$i=!0),O},O.locale=me,O.isDayjs=S,O.unix=function(C){return O(1e3*C)},O.en=fe[he],O.Ls=fe,O.p={},O},"object"==typeof z&&void 0!==B?B.exports=Q():"function"==typeof C&&C.amd?C(Q):(q="undefined"!=typeof globalThis?globalThis:q||self).dayjs=Q()},{}],392:[function(I,B,z){"use strict";var q,Q;q=void 0,Q=function(){var C={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},I=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,B=/\d\d/,z=/\d\d?/,q=/\d*[^-_:/,()\s\d]+/,Q={},s=function(C){return(C=+C)+(C>68?1900:2e3)},a=function(C){return function(I){this[C]=+I}},ee=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(C){if(!C)return 0;if("Z"===C)return 0;var I=C.match(/([+-]|\d\d)/g),B=60*I[1]+(+I[2]||0);return 0===B?0:"+"===I[0]?-B:B}(C)}],h=function(C){var I=Q[C];return I&&(I.indexOf?I:I.s.concat(I.f))},u=function(C,I){var B,z=Q.meridiem;if(z){for(var q=1;q<=24;q+=1)if(C.indexOf(z(q,0,I))>-1){B=q>12;break}}else B=C===(I?"pm":"PM");return B},te={A:[q,function(C){this.afternoon=u(C,!1)}],a:[q,function(C){this.afternoon=u(C,!0)}],S:[/\d/,function(C){this.milliseconds=100*+C}],SS:[B,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[z,a("seconds")],ss:[z,a("seconds")],m:[z,a("minutes")],mm:[z,a("minutes")],H:[z,a("hours")],h:[z,a("hours")],HH:[z,a("hours")],hh:[z,a("hours")],D:[z,a("day")],DD:[B,a("day")],Do:[q,function(C){var I=Q.ordinal,B=C.match(/\d+/);if(this.day=B[0],I)for(var z=1;z<=31;z+=1)I(z).replace(/\[|\]/g,"")===C&&(this.day=z)}],M:[z,a("month")],MM:[B,a("month")],MMM:[q,function(C){var I=h("months"),B=(h("monthsShort")||I.map((function(C){return C.slice(0,3)}))).indexOf(C)+1;if(B<1)throw new Error;this.month=B%12||B}],MMMM:[q,function(C){var I=h("months").indexOf(C)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[/[+-]?\d+/,a("year")],YY:[B,function(C){this.year=s(C)}],YYYY:[/\d{4}/,a("year")],Z:ee,ZZ:ee};function c(B){var z,q;z=B,q=Q&&Q.formats;for(var ee=(B=z.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,B,z){var Q=z&&z.toUpperCase();return B||q[z]||C[z]||q[Q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,I,B){return I||B.slice(1)}))}))).match(I),ie=ee.length,re=0;re<ie;re+=1){var ne=ee[re],se=te[ne],oe=se&&se[0],ae=se&&se[1];ee[re]=ae?{regex:oe,parser:ae}:ne.replace(/^\[|\]$/g,"")}return function(C){for(var I={},B=0,z=0;B<ie;B+=1){var q=ee[B];if("string"==typeof q)z+=q.length;else{var Q=q.regex,te=q.parser,re=C.slice(z),ne=Q.exec(re)[0];te.call(I,ne),C=C.replace(ne,"")}}return function(C){var I=C.afternoon;if(void 0!==I){var B=C.hours;I?B<12&&(C.hours+=12):12===B&&(C.hours=0),delete C.afternoon}}(I),I}}return function(C,I,B){B.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(s=C.parseTwoDigitYear);var z=I.prototype,q=z.parse;z.parse=function(C){var I=C.date,z=C.utc,ee=C.args;this.$u=z;var te=ee[1];if("string"==typeof te){var ie=!0===ee[2],re=!0===ee[3],ne=ie||re,se=ee[2];re&&(se=ee[2]),Q=this.$locale(),!ie&&se&&(Q=B.Ls[se]),this.$d=function(C,I,B){try{if(["x","X"].indexOf(I)>-1)return new Date(("X"===I?1e3:1)*C);var z=c(I)(C),q=z.year,Q=z.month,ee=z.day,te=z.hours,ie=z.minutes,re=z.seconds,ne=z.milliseconds,se=z.zone,oe=new Date,ae=ee||(q||Q?1:oe.getDate()),le=q||oe.getFullYear(),ue=0;q&&!Q||(ue=Q>0?Q-1:oe.getMonth());var de=te||0,ce=ie||0,he=re||0,fe=ne||0;return se?new Date(Date.UTC(le,ue,ae,de,ce,he,fe+60*se.offset*1e3)):B?new Date(Date.UTC(le,ue,ae,de,ce,he,fe)):new Date(le,ue,ae,de,ce,he,fe)}catch(C){return new Date("")}}(I,te,z),this.init(),se&&!0!==se&&(this.$L=this.locale(se).$L),ne&&I!=this.format(te)&&(this.$d=new Date("")),Q={}}else if(te instanceof Array)for(var oe=te.length,ae=1;ae<=oe;ae+=1){ee[1]=te[ae-1];var le=B.apply(this,ee);if(le.isValid()){this.$d=le.$d,this.$L=le.$L,this.init();break}ae===oe&&(this.$d=new Date(""))}else q.call(this,C)}}},"object"==typeof z&&void 0!==B?B.exports=Q():"function"==typeof C&&C.amd?C(Q):(q="undefined"!=typeof globalThis?globalThis:q||self).dayjs_plugin_customParseFormat=Q()},{}],393:[function(I,B,z){"use strict";var q,Q;q=void 0,Q=function(){var C="minute",I=/[+-]\d\d(?::?\d\d)?/g,B=/([+-]|\d\d)/g;return function(z,q,Q){var ee=q.prototype;Q.utc=function(C){return new q({date:C,utc:!0,args:arguments})},ee.utc=function(I){var B=Q(this.toDate(),{locale:this.$L,utc:!0});return I?B.add(this.utcOffset(),C):B},ee.local=function(){return Q(this.toDate(),{locale:this.$L,utc:!1})};var te=ee.parse;ee.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),te.call(this,C)};var ie=ee.init;ee.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else ie.call(this)};var re=ee.utcOffset;ee.utcOffset=function(z,q){var Q=this.$utils().u;if(Q(z))return this.$u?0:Q(this.$offset)?re.call(this):this.$offset;if("string"==typeof z&&(z=function(C){void 0===C&&(C="");var z=C.match(I);if(!z)return null;var q=(""+z[0]).match(B)||["-",0,0],Q=q[0],ee=60*+q[1]+ +q[2];return 0===ee?0:"+"===Q?ee:-ee}(z),null===z))return this;var ee=Math.abs(z)<=16?60*z:z,te=this;if(q)return te.$offset=ee,te.$u=0===z,te;if(0!==z){var ie=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(te=this.local().add(ee+ie,C)).$offset=ee,te.$x.$localOffset=ie}else te=this.utc();return te};var ne=ee.format;ee.format=function(C){var I=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return ne.call(this,I)},ee.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},ee.isUTC=function(){return!!this.$u},ee.toISOString=function(){return this.toDate().toISOString()},ee.toString=function(){return this.toDate().toUTCString()};var se=ee.toDate;ee.toDate=function(C){return"s"===C&&this.$offset?Q(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():se.call(this)};var oe=ee.diff;ee.diff=function(C,I,B){if(C&&this.$u===C.$u)return oe.call(this,C,I,B);var z=this.local(),q=Q(C).local();return oe.call(z,q,I,B)}}},"object"==typeof z&&void 0!==B?B.exports=Q():"function"==typeof C&&C.amd?C(Q):(q="undefined"!=typeof globalThis?globalThis:q||self).dayjs_plugin_utc=Q()},{}],394:[function(C,I,B){"use strict";B.utils=C("./des/utils"),B.Cipher=C("./des/cipher"),B.DES=C("./des/des"),B.CBC=C("./des/cbc"),B.EDE=C("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(C,I,B){"use strict";var z=C("minimalistic-assert"),q=C("inherits"),Q={};function CBCState(C){z.equal(C.length,8,"Invalid IV length"),this.iv=new Array(8);for(var I=0;I<this.iv.length;I++)this.iv[I]=C[I]}function instantiate(C){function CBC(I){C.call(this,I),this._cbcInit()}q(CBC,C);for(var I=Object.keys(Q),B=0;B<I.length;B++){var z=I[B];CBC.prototype[z]=Q[z]}return CBC.create=function create(C){return new CBC(C)},CBC}B.instantiate=instantiate,Q._cbcInit=function _cbcInit(){var C=new CBCState(this.options.iv);this._cbcState=C},Q._update=function _update(C,I,B,z){var q=this._cbcState,Q=this.constructor.super_.prototype,ee=q.iv;if("encrypt"===this.type){for(var te=0;te<this.blockSize;te++)ee[te]^=C[I+te];for(Q._update.call(this,ee,0,B,z),te=0;te<this.blockSize;te++)ee[te]=B[z+te]}else{for(Q._update.call(this,C,I,B,z),te=0;te<this.blockSize;te++)B[z+te]^=ee[te];for(te=0;te<this.blockSize;te++)ee[te]=C[I+te]}}},{inherits:440,"minimalistic-assert":453}],396:[function(C,I,B){"use strict";var z=C("minimalistic-assert");function Cipher(C){this.options=C,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==C.padding}I.exports=Cipher,Cipher.prototype._init=function _init(){},Cipher.prototype.update=function update(C){return 0===C.length?[]:"decrypt"===this.type?this._updateDecrypt(C):this._updateEncrypt(C)},Cipher.prototype._buffer=function _buffer(C,I){for(var B=Math.min(this.buffer.length-this.bufferOff,C.length-I),z=0;z<B;z++)this.buffer[this.bufferOff+z]=C[I+z];return this.bufferOff+=B,B},Cipher.prototype._flushBuffer=function _flushBuffer(C,I){return this._update(this.buffer,0,C,I),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function _updateEncrypt(C){var I=0,B=0,z=(this.bufferOff+C.length)/this.blockSize|0,q=new Array(z*this.blockSize);0!==this.bufferOff&&(I+=this._buffer(C,I),this.bufferOff===this.buffer.length&&(B+=this._flushBuffer(q,B)));for(var Q=C.length-(C.length-I)%this.blockSize;I<Q;I+=this.blockSize)this._update(C,I,q,B),B+=this.blockSize;for(;I<C.length;I++,this.bufferOff++)this.buffer[this.bufferOff]=C[I];return q},Cipher.prototype._updateDecrypt=function _updateDecrypt(C){for(var I=0,B=0,z=Math.ceil((this.bufferOff+C.length)/this.blockSize)-1,q=new Array(z*this.blockSize);z>0;z--)I+=this._buffer(C,I),B+=this._flushBuffer(q,B);return I+=this._buffer(C,I),q},Cipher.prototype.final=function final(C){var I,B;return C&&(I=this.update(C)),B="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),I?I.concat(B):B},Cipher.prototype._pad=function _pad(C,I){if(0===I)return!1;for(;I<C.length;)C[I++]=0;return!0},Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var C=new Array(this.blockSize);return this._update(this.buffer,0,C,0),C},Cipher.prototype._unpad=function _unpad(C){return C},Cipher.prototype._finalDecrypt=function _finalDecrypt(){z.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var C=new Array(this.blockSize);return this._flushBuffer(C,0),this._unpad(C)}},{"minimalistic-assert":453}],397:[function(C,I,B){"use strict";var z=C("minimalistic-assert"),q=C("inherits"),Q=C("./utils"),ee=C("./cipher");function DESState(){this.tmp=new Array(2),this.keys=null}function DES(C){ee.call(this,C);var I=new DESState;this._desState=I,this.deriveKeys(I,C.key)}q(DES,ee),I.exports=DES,DES.create=function create(C){return new DES(C)};var te=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(C,I){C.keys=new Array(32),z.equal(I.length,this.blockSize,"Invalid key length");var B=Q.readUInt32BE(I,0),q=Q.readUInt32BE(I,4);Q.pc1(B,q,C.tmp,0),B=C.tmp[0],q=C.tmp[1];for(var ee=0;ee<C.keys.length;ee+=2){var ie=te[ee>>>1];B=Q.r28shl(B,ie),q=Q.r28shl(q,ie),Q.pc2(B,q,C.keys,ee)}},DES.prototype._update=function _update(C,I,B,z){var q=this._desState,ee=Q.readUInt32BE(C,I),te=Q.readUInt32BE(C,I+4);Q.ip(ee,te,q.tmp,0),ee=q.tmp[0],te=q.tmp[1],"encrypt"===this.type?this._encrypt(q,ee,te,q.tmp,0):this._decrypt(q,ee,te,q.tmp,0),ee=q.tmp[0],te=q.tmp[1],Q.writeUInt32BE(B,ee,z),Q.writeUInt32BE(B,te,z+4)},DES.prototype._pad=function _pad(C,I){if(!1===this.padding)return!1;for(var B=C.length-I,z=I;z<C.length;z++)C[z]=B;return!0},DES.prototype._unpad=function _unpad(C){if(!1===this.padding)return C;for(var I=C[C.length-1],B=C.length-I;B<C.length;B++)z.equal(C[B],I);return C.slice(0,C.length-I)},DES.prototype._encrypt=function _encrypt(C,I,B,z,q){for(var ee=I,te=B,ie=0;ie<C.keys.length;ie+=2){var re=C.keys[ie],ne=C.keys[ie+1];Q.expand(te,C.tmp,0),re^=C.tmp[0],ne^=C.tmp[1];var se=Q.substitute(re,ne),oe=te;te=(ee^Q.permute(se))>>>0,ee=oe}Q.rip(te,ee,z,q)},DES.prototype._decrypt=function _decrypt(C,I,B,z,q){for(var ee=B,te=I,ie=C.keys.length-2;ie>=0;ie-=2){var re=C.keys[ie],ne=C.keys[ie+1];Q.expand(ee,C.tmp,0),re^=C.tmp[0],ne^=C.tmp[1];var se=Q.substitute(re,ne),oe=ee;ee=(te^Q.permute(se))>>>0,te=oe}Q.rip(ee,te,z,q)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(C,I,B){"use strict";var z=C("minimalistic-assert"),q=C("inherits"),Q=C("./cipher"),ee=C("./des");function EDEState(C,I){z.equal(I.length,24,"Invalid key length");var B=I.slice(0,8),q=I.slice(8,16),Q=I.slice(16,24);this.ciphers="encrypt"===C?[ee.create({type:"encrypt",key:B}),ee.create({type:"decrypt",key:q}),ee.create({type:"encrypt",key:Q})]:[ee.create({type:"decrypt",key:Q}),ee.create({type:"encrypt",key:q}),ee.create({type:"decrypt",key:B})]}function EDE(C){Q.call(this,C);var I=new EDEState(this.type,this.options.key);this._edeState=I}q(EDE,Q),I.exports=EDE,EDE.create=function create(C){return new EDE(C)},EDE.prototype._update=function _update(C,I,B,z){var q=this._edeState;q.ciphers[0]._update(C,I,B,z),q.ciphers[1]._update(B,z,B,z),q.ciphers[2]._update(B,z,B,z)},EDE.prototype._pad=ee.prototype._pad,EDE.prototype._unpad=ee.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(C,I,B){"use strict";B.readUInt32BE=function readUInt32BE(C,I){return(C[0+I]<<24|C[1+I]<<16|C[2+I]<<8|C[3+I])>>>0},B.writeUInt32BE=function writeUInt32BE(C,I,B){C[0+B]=I>>>24,C[1+B]=I>>>16&255,C[2+B]=I>>>8&255,C[3+B]=255&I},B.ip=function ip(C,I,B,z){for(var q=0,Q=0,ee=6;ee>=0;ee-=2){for(var te=0;te<=24;te+=8)q<<=1,q|=I>>>te+ee&1;for(te=0;te<=24;te+=8)q<<=1,q|=C>>>te+ee&1}for(ee=6;ee>=0;ee-=2){for(te=1;te<=25;te+=8)Q<<=1,Q|=I>>>te+ee&1;for(te=1;te<=25;te+=8)Q<<=1,Q|=C>>>te+ee&1}B[z+0]=q>>>0,B[z+1]=Q>>>0},B.rip=function rip(C,I,B,z){for(var q=0,Q=0,ee=0;ee<4;ee++)for(var te=24;te>=0;te-=8)q<<=1,q|=I>>>te+ee&1,q<<=1,q|=C>>>te+ee&1;for(ee=4;ee<8;ee++)for(te=24;te>=0;te-=8)Q<<=1,Q|=I>>>te+ee&1,Q<<=1,Q|=C>>>te+ee&1;B[z+0]=q>>>0,B[z+1]=Q>>>0},B.pc1=function pc1(C,I,B,z){for(var q=0,Q=0,ee=7;ee>=5;ee--){for(var te=0;te<=24;te+=8)q<<=1,q|=I>>te+ee&1;for(te=0;te<=24;te+=8)q<<=1,q|=C>>te+ee&1}for(te=0;te<=24;te+=8)q<<=1,q|=I>>te+ee&1;for(ee=1;ee<=3;ee++){for(te=0;te<=24;te+=8)Q<<=1,Q|=I>>te+ee&1;for(te=0;te<=24;te+=8)Q<<=1,Q|=C>>te+ee&1}for(te=0;te<=24;te+=8)Q<<=1,Q|=C>>te+ee&1;B[z+0]=q>>>0,B[z+1]=Q>>>0},B.r28shl=function r28shl(C,I){return C<<I&268435455|C>>>28-I};var z=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];B.pc2=function pc2(C,I,B,q){for(var Q=0,ee=0,te=z.length>>>1,ie=0;ie<te;ie++)Q<<=1,Q|=C>>>z[ie]&1;for(ie=te;ie<z.length;ie++)ee<<=1,ee|=I>>>z[ie]&1;B[q+0]=Q>>>0,B[q+1]=ee>>>0},B.expand=function expand(C,I,B){var z=0,q=0;z=(1&C)<<5|C>>>27;for(var Q=23;Q>=15;Q-=4)z<<=6,z|=C>>>Q&63;for(Q=11;Q>=3;Q-=4)q|=C>>>Q&63,q<<=6;q|=(31&C)<<1|C>>>31,I[B+0]=z>>>0,I[B+1]=q>>>0};var q=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];B.substitute=function substitute(C,I){for(var B=0,z=0;z<4;z++)B<<=4,B|=q[64*z+(C>>>18-6*z&63)];for(z=0;z<4;z++)B<<=4,B|=q[256+64*z+(I>>>18-6*z&63)];return B>>>0};var Q=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];B.permute=function permute(C){for(var I=0,B=0;B<Q.length;B++)I<<=1,I|=C>>>Q[B]&1;return I>>>0},B.padSplit=function padSplit(C,I,B){for(var z=C.toString(2);z.length<I;)z="0"+z;for(var q=[],Q=0;Q<I;Q+=B)q.push(z.slice(Q,Q+B));return q.join(" ")}},{}],400:[function(C,I,B){(function(I){(function(){"use strict";var z=C("./lib/generatePrime"),q=C("./lib/primes.json"),Q=C("./lib/dh");function getDiffieHellman(C){var B=new I(q[C].prime,"hex"),z=new I(q[C].gen,"hex");return new Q(B,z)}var ee={binary:!0,hex:!0,base64:!0};function createDiffieHellman(C,B,q,te){return I.isBuffer(B)||void 0===ee[B]?createDiffieHellman(C,"binary",B,q):(B=B||"binary",te=te||"binary",q=q||new I([2]),I.isBuffer(q)||(q=new I(q,te)),"number"==typeof C?new Q(z(C,q),q,!0):(I.isBuffer(C)||(C=new I(C,B)),new Q(C,q,!0)))}B.DiffieHellmanGroup=B.createDiffieHellmanGroup=B.getDiffieHellman=getDiffieHellman,B.createDiffieHellman=B.DiffieHellman=createDiffieHellman}).call(this)}).call(this,C("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(C,I,B){(function(B){(function(){"use strict";var z=C("bn.js"),q=new(C("miller-rabin")),Q=new z(24),ee=new z(11),te=new z(10),ie=new z(3),re=new z(7),ne=C("./generatePrime"),se=C("randombytes");function setPublicKey(C,I){return I=I||"utf8",B.isBuffer(C)||(C=new B(C,I)),this._pub=new z(C),this}function setPrivateKey(C,I){return I=I||"utf8",B.isBuffer(C)||(C=new B(C,I)),this._priv=new z(C),this}I.exports=DH;var oe={};function checkPrime(C,I){var B=I.toString("hex"),z=[B,C.toString(16)].join("_");if(z in oe)return oe[z];var se,ae=0;if(C.isEven()||!ne.simpleSieve||!ne.fermatTest(C)||!q.test(C))return ae+=1,ae+="02"===B||"05"===B?8:4,oe[z]=ae,ae;switch(q.test(C.shrn(1))||(ae+=2),B){case"02":C.mod(Q).cmp(ee)&&(ae+=8);break;case"05":(se=C.mod(te)).cmp(ie)&&se.cmp(re)&&(ae+=8);break;default:ae+=4}return oe[z]=ae,ae}function DH(C,I,B){this.setGenerator(I),this.__prime=new z(C),this._prime=z.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(C,I){var z=new B(C.toArray());return I?z.toString(I):z}Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new z(se(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(C){var I=(C=(C=new z(C)).toRed(this._prime)).redPow(this._priv).fromRed(),q=new B(I.toArray()),Q=this.getPrime();if(q.length<Q.length){var ee=new B(Q.length-q.length);ee.fill(0),q=B.concat([ee,q])}return q},DH.prototype.getPublicKey=function getPublicKey(C){return formatReturnValue(this._pub,C)},DH.prototype.getPrivateKey=function getPrivateKey(C){return formatReturnValue(this._priv,C)},DH.prototype.getPrime=function(C){return formatReturnValue(this.__prime,C)},DH.prototype.getGenerator=function(C){return formatReturnValue(this._gen,C)},DH.prototype.setGenerator=function(C,I){return I=I||"utf8",B.isBuffer(C)||(C=new B(C,I)),this.__gen=C,this._gen=new z(C),this}}).call(this)}).call(this,C("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(C,I,B){"use strict";var z=C("randombytes");I.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var q=C("bn.js"),Q=new q(24),ee=new(C("miller-rabin")),te=new q(1),ie=new q(2),re=new q(5),ne=(new q(16),new q(8),new q(10)),se=new q(3),oe=(new q(7),new q(11)),ae=new q(4),le=(new q(12),null);function _getPrimes(){if(null!==le)return le;var C=1048576,I=[];I[0]=2;for(var B=1,z=3;z<C;z+=2){for(var q=Math.ceil(Math.sqrt(z)),Q=0;Q<B&&I[Q]<=q&&z%I[Q]!=0;Q++);B!==Q&&I[Q]<=q||(I[B++]=z)}return le=I,I}function simpleSieve(C){for(var I=_getPrimes(),B=0;B<I.length;B++)if(0===C.modn(I[B]))return 0===C.cmpn(I[B]);return!0}function fermatTest(C){var I=q.mont(C);return 0===ie.toRed(I).redPow(C.subn(1)).fromRed().cmpn(1)}function findPrime(C,I){if(C<16)return new q(2===I||5===I?[140,123]:[140,39]);var B,le;for(I=new q(I);;){for(B=new q(z(Math.ceil(C/8)));B.bitLength()>C;)B.ishrn(1);if(B.isEven()&&B.iadd(te),B.testn(1)||B.iadd(ie),I.cmp(ie)){if(!I.cmp(re))for(;B.mod(ne).cmp(se);)B.iadd(ae)}else for(;B.mod(Q).cmp(oe);)B.iadd(ae);if(simpleSieve(le=B.shrn(1))&&simpleSieve(B)&&fermatTest(le)&&fermatTest(B)&&ee.test(le)&&ee.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(C,I,B){I.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(C,I,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],405:[function(C,I,B){"use strict";var z=B;z.version=C("../package.json").version,z.utils=C("./elliptic/utils"),z.rand=C("brorand"),z.curve=C("./elliptic/curve"),z.curves=C("./elliptic/curves"),z.ec=C("./elliptic/ec"),z.eddsa=C("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("../utils"),Q=q.getNAF,ee=q.getJSF,te=q.assert;function BaseCurve(C,I){this.type=C,this.p=new z(I.p,16),this.red=I.prime?z.red(I.prime):z.mont(this.p),this.zero=new z(0).toRed(this.red),this.one=new z(1).toRed(this.red),this.two=new z(2).toRed(this.red),this.n=I.n&&new z(I.n,16),this.g=I.g&&this.pointFromJSON(I.g,I.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var B=this.n&&this.p.div(this.n);!B||B.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(C,I){this.curve=C,this.type=I,this.precomputed=null}I.exports=BaseCurve,BaseCurve.prototype.point=function point(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function _fixedNafMul(C,I){te(C.precomputed);var B=C._getDoubles(),z=Q(I,1,this._bitLength),q=(1<<B.step+1)-(B.step%2==0?2:1);q/=3;var ee,ie,re=[];for(ee=0;ee<z.length;ee+=B.step){ie=0;for(var ne=ee+B.step-1;ne>=ee;ne--)ie=(ie<<1)+z[ne];re.push(ie)}for(var se=this.jpoint(null,null,null),oe=this.jpoint(null,null,null),ae=q;ae>0;ae--){for(ee=0;ee<re.length;ee++)(ie=re[ee])===ae?oe=oe.mixedAdd(B.points[ee]):ie===-ae&&(oe=oe.mixedAdd(B.points[ee].neg()));se=se.add(oe)}return se.toP()},BaseCurve.prototype._wnafMul=function _wnafMul(C,I){var B=4,z=C._getNAFPoints(B);B=z.wnd;for(var q=z.points,ee=Q(I,B,this._bitLength),ie=this.jpoint(null,null,null),re=ee.length-1;re>=0;re--){for(var ne=0;re>=0&&0===ee[re];re--)ne++;if(re>=0&&ne++,ie=ie.dblp(ne),re<0)break;var se=ee[re];te(0!==se),ie="affine"===C.type?se>0?ie.mixedAdd(q[se-1>>1]):ie.mixedAdd(q[-se-1>>1].neg()):se>0?ie.add(q[se-1>>1]):ie.add(q[-se-1>>1].neg())}return"affine"===C.type?ie.toP():ie},BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(C,I,B,z,q){var te,ie,re,ne=this._wnafT1,se=this._wnafT2,oe=this._wnafT3,ae=0;for(te=0;te<z;te++){var le=(re=I[te])._getNAFPoints(C);ne[te]=le.wnd,se[te]=le.points}for(te=z-1;te>=1;te-=2){var ue=te-1,de=te;if(1===ne[ue]&&1===ne[de]){var ce=[I[ue],null,null,I[de]];0===I[ue].y.cmp(I[de].y)?(ce[1]=I[ue].add(I[de]),ce[2]=I[ue].toJ().mixedAdd(I[de].neg())):0===I[ue].y.cmp(I[de].y.redNeg())?(ce[1]=I[ue].toJ().mixedAdd(I[de]),ce[2]=I[ue].add(I[de].neg())):(ce[1]=I[ue].toJ().mixedAdd(I[de]),ce[2]=I[ue].toJ().mixedAdd(I[de].neg()));var he=[-3,-1,-5,-7,0,7,5,1,3],fe=ee(B[ue],B[de]);for(ae=Math.max(fe[0].length,ae),oe[ue]=new Array(ae),oe[de]=new Array(ae),ie=0;ie<ae;ie++){var pe=0|fe[0][ie],me=0|fe[1][ie];oe[ue][ie]=he[3*(pe+1)+(me+1)],oe[de][ie]=0,se[ue]=ce}}else oe[ue]=Q(B[ue],ne[ue],this._bitLength),oe[de]=Q(B[de],ne[de],this._bitLength),ae=Math.max(oe[ue].length,ae),ae=Math.max(oe[de].length,ae)}var ge=this.jpoint(null,null,null),ve=this._wnafT4;for(te=ae;te>=0;te--){for(var ye=0;te>=0;){var be=!0;for(ie=0;ie<z;ie++)ve[ie]=0|oe[ie][te],0!==ve[ie]&&(be=!1);if(!be)break;ye++,te--}if(te>=0&&ye++,ge=ge.dblp(ye),te<0)break;for(ie=0;ie<z;ie++){var Ce=ve[ie];0!==Ce&&(Ce>0?re=se[ie][Ce-1>>1]:Ce<0&&(re=se[ie][-Ce-1>>1].neg()),ge="affine"===re.type?ge.mixedAdd(re):ge.add(re))}}for(te=0;te<z;te++)se[te]=null;return q?ge:ge.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")},BasePoint.prototype.validate=function validate(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function decodePoint(C,I){C=q.toArray(C,I);var B=this.p.byteLength();if((4===C[0]||6===C[0]||7===C[0])&&C.length-1==2*B)return 6===C[0]?te(C[C.length-1]%2==0):7===C[0]&&te(C[C.length-1]%2==1),this.point(C.slice(1,1+B),C.slice(1+B,1+2*B));if((2===C[0]||3===C[0])&&C.length-1===B)return this.pointFromX(C.slice(1,1+B),3===C[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function encodeCompressed(C){return this.encode(C,!0)},BasePoint.prototype._encode=function _encode(C){var I=this.curve.p.byteLength(),B=this.getX().toArray("be",I);return C?[this.getY().isEven()?2:3].concat(B):[4].concat(B,this.getY().toArray("be",I))},BasePoint.prototype.encode=function encode(C,I){return q.encode(this._encode(I),C)},BasePoint.prototype.precompute=function precompute(C){if(this.precomputed)return this;var I={doubles:null,naf:null,beta:null};return I.naf=this._getNAFPoints(8),I.doubles=this._getDoubles(4,C),I.beta=this._getBeta(),this.precomputed=I,this},BasePoint.prototype._hasDoubles=function _hasDoubles(C){if(!this.precomputed)return!1;var I=this.precomputed.doubles;return!!I&&I.points.length>=Math.ceil((C.bitLength()+1)/I.step)},BasePoint.prototype._getDoubles=function _getDoubles(C,I){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var B=[this],z=this,q=0;q<I;q+=C){for(var Q=0;Q<C;Q++)z=z.dbl();B.push(z)}return{step:C,points:B}},BasePoint.prototype._getNAFPoints=function _getNAFPoints(C){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var I=[this],B=(1<<C)-1,z=1===B?null:this.dbl(),q=1;q<B;q++)I[q]=I[q-1].add(z);return{wnd:C,points:I}},BasePoint.prototype._getBeta=function _getBeta(){return null},BasePoint.prototype.dblp=function dblp(C){for(var I=this,B=0;B<C;B++)I=I.dbl();return I}},{"../utils":419,"bn.js":420}],407:[function(C,I,B){"use strict";var z=C("../utils"),q=C("bn.js"),Q=C("inherits"),ee=C("./base"),te=z.assert;function EdwardsCurve(C){this.twisted=1!=(0|C.a),this.mOneA=this.twisted&&-1==(0|C.a),this.extended=this.mOneA,ee.call(this,"edwards",C),this.a=new q(C.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new q(C.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new q(C.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),te(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|C.c)}function Point(C,I,B,z,Q){ee.BasePoint.call(this,C,"projective"),null===I&&null===B&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new q(I,16),this.y=new q(B,16),this.z=z?new q(z,16):this.curve.one,this.t=Q&&new q(Q,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Q(EdwardsCurve,ee),I.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function _mulA(C){return this.mOneA?C.redNeg():this.a.redMul(C)},EdwardsCurve.prototype._mulC=function _mulC(C){return this.oneC?C:this.c.redMul(C)},EdwardsCurve.prototype.jpoint=function jpoint(C,I,B,z){return this.point(C,I,B,z)},EdwardsCurve.prototype.pointFromX=function pointFromX(C,I){(C=new q(C,16)).red||(C=C.toRed(this.red));var B=C.redSqr(),z=this.c2.redSub(this.a.redMul(B)),Q=this.one.redSub(this.c2.redMul(this.d).redMul(B)),ee=z.redMul(Q.redInvm()),te=ee.redSqrt();if(0!==te.redSqr().redSub(ee).cmp(this.zero))throw new Error("invalid point");var ie=te.fromRed().isOdd();return(I&&!ie||!I&&ie)&&(te=te.redNeg()),this.point(C,te)},EdwardsCurve.prototype.pointFromY=function pointFromY(C,I){(C=new q(C,16)).red||(C=C.toRed(this.red));var B=C.redSqr(),z=B.redSub(this.c2),Q=B.redMul(this.d).redMul(this.c2).redSub(this.a),ee=z.redMul(Q.redInvm());if(0===ee.cmp(this.zero)){if(I)throw new Error("invalid point");return this.point(this.zero,C)}var te=ee.redSqrt();if(0!==te.redSqr().redSub(ee).cmp(this.zero))throw new Error("invalid point");return te.fromRed().isOdd()!==I&&(te=te.redNeg()),this.point(te,C)},EdwardsCurve.prototype.validate=function validate(C){if(C.isInfinity())return!0;C.normalize();var I=C.x.redSqr(),B=C.y.redSqr(),z=I.redMul(this.a).redAdd(B),q=this.c2.redMul(this.one.redAdd(this.d.redMul(I).redMul(B)));return 0===z.cmp(q)},Q(Point,ee.BasePoint),EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(C){return Point.fromJSON(this,C)},EdwardsCurve.prototype.point=function point(C,I,B,z){return new Point(this,C,I,B,z)},Point.fromJSON=function fromJSON(C,I){return new Point(C,I[0],I[1],I[2])},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function _extDbl(){var C=this.x.redSqr(),I=this.y.redSqr(),B=this.z.redSqr();B=B.redIAdd(B);var z=this.curve._mulA(C),q=this.x.redAdd(this.y).redSqr().redISub(C).redISub(I),Q=z.redAdd(I),ee=Q.redSub(B),te=z.redSub(I),ie=q.redMul(ee),re=Q.redMul(te),ne=q.redMul(te),se=ee.redMul(Q);return this.curve.point(ie,re,se,ne)},Point.prototype._projDbl=function _projDbl(){var C,I,B,z,q,Q,ee=this.x.redAdd(this.y).redSqr(),te=this.x.redSqr(),ie=this.y.redSqr();if(this.curve.twisted){var re=(z=this.curve._mulA(te)).redAdd(ie);this.zOne?(C=ee.redSub(te).redSub(ie).redMul(re.redSub(this.curve.two)),I=re.redMul(z.redSub(ie)),B=re.redSqr().redSub(re).redSub(re)):(q=this.z.redSqr(),Q=re.redSub(q).redISub(q),C=ee.redSub(te).redISub(ie).redMul(Q),I=re.redMul(z.redSub(ie)),B=re.redMul(Q))}else z=te.redAdd(ie),q=this.curve._mulC(this.z).redSqr(),Q=z.redSub(q).redSub(q),C=this.curve._mulC(ee.redISub(z)).redMul(Q),I=this.curve._mulC(z).redMul(te.redISub(ie)),B=z.redMul(Q);return this.curve.point(C,I,B)},Point.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function _extAdd(C){var I=this.y.redSub(this.x).redMul(C.y.redSub(C.x)),B=this.y.redAdd(this.x).redMul(C.y.redAdd(C.x)),z=this.t.redMul(this.curve.dd).redMul(C.t),q=this.z.redMul(C.z.redAdd(C.z)),Q=B.redSub(I),ee=q.redSub(z),te=q.redAdd(z),ie=B.redAdd(I),re=Q.redMul(ee),ne=te.redMul(ie),se=Q.redMul(ie),oe=ee.redMul(te);return this.curve.point(re,ne,oe,se)},Point.prototype._projAdd=function _projAdd(C){var I,B,z=this.z.redMul(C.z),q=z.redSqr(),Q=this.x.redMul(C.x),ee=this.y.redMul(C.y),te=this.curve.d.redMul(Q).redMul(ee),ie=q.redSub(te),re=q.redAdd(te),ne=this.x.redAdd(this.y).redMul(C.x.redAdd(C.y)).redISub(Q).redISub(ee),se=z.redMul(ie).redMul(ne);return this.curve.twisted?(I=z.redMul(re).redMul(ee.redSub(this.curve._mulA(Q))),B=ie.redMul(re)):(I=z.redMul(re).redMul(ee.redSub(Q)),B=this.curve._mulC(ie).redMul(re)),this.curve.point(se,I,B)},Point.prototype.add=function add(C){return this.isInfinity()?C:C.isInfinity()?this:this.curve.extended?this._extAdd(C):this._projAdd(C)},Point.prototype.mul=function mul(C){return this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve._wnafMul(this,C)},Point.prototype.mulAdd=function mulAdd(C,I,B){return this.curve._wnafMulAdd(1,[this,I],[C,B],2,!1)},Point.prototype.jmulAdd=function jmulAdd(C,I,B){return this.curve._wnafMulAdd(1,[this,I],[C,B],2,!0)},Point.prototype.normalize=function normalize(){if(this.zOne)return this;var C=this.z.redInvm();return this.x=this.x.redMul(C),this.y=this.y.redMul(C),this.t&&(this.t=this.t.redMul(C)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function getY(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function eq(C){return this===C||0===this.getX().cmp(C.getX())&&0===this.getY().cmp(C.getY())},Point.prototype.eqXToP=function eqXToP(C){var I=C.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(I))return!0;for(var B=C.clone(),z=this.curve.redN.redMul(this.z);;){if(B.iadd(this.curve.n),B.cmp(this.curve.p)>=0)return!1;if(I.redIAdd(z),0===this.x.cmp(I))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(C,I,B){"use strict";var z=B;z.base=C("./base"),z.short=C("./short"),z.mont=C("./mont"),z.edwards=C("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("inherits"),Q=C("./base"),ee=C("../utils");function MontCurve(C){Q.call(this,"mont",C),this.a=new z(C.a,16).toRed(this.red),this.b=new z(C.b,16).toRed(this.red),this.i4=new z(4).toRed(this.red).redInvm(),this.two=new z(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(C,I,B){Q.BasePoint.call(this,C,"projective"),null===I&&null===B?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new z(I,16),this.z=new z(B,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}q(MontCurve,Q),I.exports=MontCurve,MontCurve.prototype.validate=function validate(C){var I=C.normalize().x,B=I.redSqr(),z=B.redMul(I).redAdd(B.redMul(this.a)).redAdd(I);return 0===z.redSqrt().redSqr().cmp(z)},q(Point,Q.BasePoint),MontCurve.prototype.decodePoint=function decodePoint(C,I){return this.point(ee.toArray(C,I),1)},MontCurve.prototype.point=function point(C,I){return new Point(this,C,I)},MontCurve.prototype.pointFromJSON=function pointFromJSON(C){return Point.fromJSON(this,C)},Point.prototype.precompute=function precompute(){},Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function fromJSON(C,I){return new Point(C,I[0],I[1]||C.one)},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function dbl(){var C=this.x.redAdd(this.z).redSqr(),I=this.x.redSub(this.z).redSqr(),B=C.redSub(I),z=C.redMul(I),q=B.redMul(I.redAdd(this.curve.a24.redMul(B)));return this.curve.point(z,q)},Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function diffAdd(C,I){var B=this.x.redAdd(this.z),z=this.x.redSub(this.z),q=C.x.redAdd(C.z),Q=C.x.redSub(C.z).redMul(B),ee=q.redMul(z),te=I.z.redMul(Q.redAdd(ee).redSqr()),ie=I.x.redMul(Q.redISub(ee).redSqr());return this.curve.point(te,ie)},Point.prototype.mul=function mul(C){for(var I=C.clone(),B=this,z=this.curve.point(null,null),q=this,Q=[];0!==I.cmpn(0);I.iushrn(1))Q.push(I.andln(1));for(var ee=Q.length-1;ee>=0;ee--)0===Q[ee]?(B=B.diffAdd(z,q),z=z.dbl()):(z=B.diffAdd(z,q),B=B.dbl());return z},Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function eq(C){return 0===this.getX().cmp(C.getX())},Point.prototype.normalize=function normalize(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(C,I,B){"use strict";var z=C("../utils"),q=C("bn.js"),Q=C("inherits"),ee=C("./base"),te=z.assert;function ShortCurve(C){ee.call(this,"short",C),this.a=new q(C.a,16).toRed(this.red),this.b=new q(C.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(C),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(C,I,B,z){ee.BasePoint.call(this,C,"affine"),null===I&&null===B?(this.x=null,this.y=null,this.inf=!0):(this.x=new q(I,16),this.y=new q(B,16),z&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(C,I,B,z){ee.BasePoint.call(this,C,"jacobian"),null===I&&null===B&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new q(0)):(this.x=new q(I,16),this.y=new q(B,16),this.z=new q(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Q(ShortCurve,ee),I.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function _getEndomorphism(C){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var I,B;if(C.beta)I=new q(C.beta,16).toRed(this.red);else{var z=this._getEndoRoots(this.p);I=(I=z[0].cmp(z[1])<0?z[0]:z[1]).toRed(this.red)}if(C.lambda)B=new q(C.lambda,16);else{var Q=this._getEndoRoots(this.n);0===this.g.mul(Q[0]).x.cmp(this.g.x.redMul(I))?B=Q[0]:(B=Q[1],te(0===this.g.mul(B).x.cmp(this.g.x.redMul(I))))}return{beta:I,lambda:B,basis:C.basis?C.basis.map((function(C){return{a:new q(C.a,16),b:new q(C.b,16)}})):this._getEndoBasis(B)}}},ShortCurve.prototype._getEndoRoots=function _getEndoRoots(C){var I=C===this.p?this.red:q.mont(C),B=new q(2).toRed(I).redInvm(),z=B.redNeg(),Q=new q(3).toRed(I).redNeg().redSqrt().redMul(B);return[z.redAdd(Q).fromRed(),z.redSub(Q).fromRed()]},ShortCurve.prototype._getEndoBasis=function _getEndoBasis(C){for(var I,B,z,Q,ee,te,ie,re,ne,se=this.n.ushrn(Math.floor(this.n.bitLength()/2)),oe=C,ae=this.n.clone(),le=new q(1),ue=new q(0),de=new q(0),ce=new q(1),he=0;0!==oe.cmpn(0);){var fe=ae.div(oe);re=ae.sub(fe.mul(oe)),ne=de.sub(fe.mul(le));var pe=ce.sub(fe.mul(ue));if(!z&&re.cmp(se)<0)I=ie.neg(),B=le,z=re.neg(),Q=ne;else if(z&&2==++he)break;ie=re,ae=oe,oe=re,de=le,le=ne,ce=ue,ue=pe}ee=re.neg(),te=ne;var me=z.sqr().add(Q.sqr());return ee.sqr().add(te.sqr()).cmp(me)>=0&&(ee=I,te=B),z.negative&&(z=z.neg(),Q=Q.neg()),ee.negative&&(ee=ee.neg(),te=te.neg()),[{a:z,b:Q},{a:ee,b:te}]},ShortCurve.prototype._endoSplit=function _endoSplit(C){var I=this.endo.basis,B=I[0],z=I[1],q=z.b.mul(C).divRound(this.n),Q=B.b.neg().mul(C).divRound(this.n),ee=q.mul(B.a),te=Q.mul(z.a),ie=q.mul(B.b),re=Q.mul(z.b);return{k1:C.sub(ee).sub(te),k2:ie.add(re).neg()}},ShortCurve.prototype.pointFromX=function pointFromX(C,I){(C=new q(C,16)).red||(C=C.toRed(this.red));var B=C.redSqr().redMul(C).redIAdd(C.redMul(this.a)).redIAdd(this.b),z=B.redSqrt();if(0!==z.redSqr().redSub(B).cmp(this.zero))throw new Error("invalid point");var Q=z.fromRed().isOdd();return(I&&!Q||!I&&Q)&&(z=z.redNeg()),this.point(C,z)},ShortCurve.prototype.validate=function validate(C){if(C.inf)return!0;var I=C.x,B=C.y,z=this.a.redMul(I),q=I.redSqr().redMul(I).redIAdd(z).redIAdd(this.b);return 0===B.redSqr().redISub(q).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(C,I,B){for(var z=this._endoWnafT1,q=this._endoWnafT2,Q=0;Q<C.length;Q++){var ee=this._endoSplit(I[Q]),te=C[Q],ie=te._getBeta();ee.k1.negative&&(ee.k1.ineg(),te=te.neg(!0)),ee.k2.negative&&(ee.k2.ineg(),ie=ie.neg(!0)),z[2*Q]=te,z[2*Q+1]=ie,q[2*Q]=ee.k1,q[2*Q+1]=ee.k2}for(var re=this._wnafMulAdd(1,z,q,2*Q,B),ne=0;ne<2*Q;ne++)z[ne]=null,q[ne]=null;return re},Q(Point,ee.BasePoint),ShortCurve.prototype.point=function point(C,I,B){return new Point(this,C,I,B)},ShortCurve.prototype.pointFromJSON=function pointFromJSON(C,I){return Point.fromJSON(this,C,I)},Point.prototype._getBeta=function _getBeta(){if(this.curve.endo){var C=this.precomputed;if(C&&C.beta)return C.beta;var I=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(C){var B=this.curve,endoMul=function(C){return B.point(C.x.redMul(B.endo.beta),C.y)};C.beta=I,I.precomputed={beta:null,naf:C.naf&&{wnd:C.naf.wnd,points:C.naf.points.map(endoMul)},doubles:C.doubles&&{step:C.doubles.step,points:C.doubles.points.map(endoMul)}}}return I}},Point.prototype.toJSON=function toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function fromJSON(C,I,B){"string"==typeof I&&(I=JSON.parse(I));var z=C.point(I[0],I[1],B);if(!I[2])return z;function obj2point(I){return C.point(I[0],I[1],B)}var q=I[2];return z.precomputed={beta:null,doubles:q.doubles&&{step:q.doubles.step,points:[z].concat(q.doubles.points.map(obj2point))},naf:q.naf&&{wnd:q.naf.wnd,points:[z].concat(q.naf.points.map(obj2point))}},z},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return this.inf},Point.prototype.add=function add(C){if(this.inf)return C;if(C.inf)return this;if(this.eq(C))return this.dbl();if(this.neg().eq(C))return this.curve.point(null,null);if(0===this.x.cmp(C.x))return this.curve.point(null,null);var I=this.y.redSub(C.y);0!==I.cmpn(0)&&(I=I.redMul(this.x.redSub(C.x).redInvm()));var B=I.redSqr().redISub(this.x).redISub(C.x),z=I.redMul(this.x.redSub(B)).redISub(this.y);return this.curve.point(B,z)},Point.prototype.dbl=function dbl(){if(this.inf)return this;var C=this.y.redAdd(this.y);if(0===C.cmpn(0))return this.curve.point(null,null);var I=this.curve.a,B=this.x.redSqr(),z=C.redInvm(),q=B.redAdd(B).redIAdd(B).redIAdd(I).redMul(z),Q=q.redSqr().redISub(this.x.redAdd(this.x)),ee=q.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,ee)},Point.prototype.getX=function getX(){return this.x.fromRed()},Point.prototype.getY=function getY(){return this.y.fromRed()},Point.prototype.mul=function mul(C){return C=new q(C,16),this.isInfinity()?this:this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve.endo?this.curve._endoWnafMulAdd([this],[C]):this.curve._wnafMul(this,C)},Point.prototype.mulAdd=function mulAdd(C,I,B){var z=[this,I],q=[C,B];return this.curve.endo?this.curve._endoWnafMulAdd(z,q):this.curve._wnafMulAdd(1,z,q,2)},Point.prototype.jmulAdd=function jmulAdd(C,I,B){var z=[this,I],q=[C,B];return this.curve.endo?this.curve._endoWnafMulAdd(z,q,!0):this.curve._wnafMulAdd(1,z,q,2,!0)},Point.prototype.eq=function eq(C){return this===C||this.inf===C.inf&&(this.inf||0===this.x.cmp(C.x)&&0===this.y.cmp(C.y))},Point.prototype.neg=function neg(C){if(this.inf)return this;var I=this.curve.point(this.x,this.y.redNeg());if(C&&this.precomputed){var B=this.precomputed,negate=function(C){return C.neg()};I.precomputed={naf:B.naf&&{wnd:B.naf.wnd,points:B.naf.points.map(negate)},doubles:B.doubles&&{step:B.doubles.step,points:B.doubles.points.map(negate)}}}return I},Point.prototype.toJ=function toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Q(JPoint,ee.BasePoint),ShortCurve.prototype.jpoint=function jpoint(C,I,B){return new JPoint(this,C,I,B)},JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var C=this.z.redInvm(),I=C.redSqr(),B=this.x.redMul(I),z=this.y.redMul(I).redMul(C);return this.curve.point(B,z)},JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function add(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var I=C.z.redSqr(),B=this.z.redSqr(),z=this.x.redMul(I),q=C.x.redMul(B),Q=this.y.redMul(I.redMul(C.z)),ee=C.y.redMul(B.redMul(this.z)),te=z.redSub(q),ie=Q.redSub(ee);if(0===te.cmpn(0))return 0!==ie.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var re=te.redSqr(),ne=re.redMul(te),se=z.redMul(re),oe=ie.redSqr().redIAdd(ne).redISub(se).redISub(se),ae=ie.redMul(se.redISub(oe)).redISub(Q.redMul(ne)),le=this.z.redMul(C.z).redMul(te);return this.curve.jpoint(oe,ae,le)},JPoint.prototype.mixedAdd=function mixedAdd(C){if(this.isInfinity())return C.toJ();if(C.isInfinity())return this;var I=this.z.redSqr(),B=this.x,z=C.x.redMul(I),q=this.y,Q=C.y.redMul(I).redMul(this.z),ee=B.redSub(z),te=q.redSub(Q);if(0===ee.cmpn(0))return 0!==te.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ie=ee.redSqr(),re=ie.redMul(ee),ne=B.redMul(ie),se=te.redSqr().redIAdd(re).redISub(ne).redISub(ne),oe=te.redMul(ne.redISub(se)).redISub(q.redMul(re)),ae=this.z.redMul(ee);return this.curve.jpoint(se,oe,ae)},JPoint.prototype.dblp=function dblp(C){if(0===C)return this;if(this.isInfinity())return this;if(!C)return this.dbl();var I;if(this.curve.zeroA||this.curve.threeA){var B=this;for(I=0;I<C;I++)B=B.dbl();return B}var z=this.curve.a,q=this.curve.tinv,Q=this.x,ee=this.y,te=this.z,ie=te.redSqr().redSqr(),re=ee.redAdd(ee);for(I=0;I<C;I++){var ne=Q.redSqr(),se=re.redSqr(),oe=se.redSqr(),ae=ne.redAdd(ne).redIAdd(ne).redIAdd(z.redMul(ie)),le=Q.redMul(se),ue=ae.redSqr().redISub(le.redAdd(le)),de=le.redISub(ue),ce=ae.redMul(de);ce=ce.redIAdd(ce).redISub(oe);var he=re.redMul(te);I+1<C&&(ie=ie.redMul(oe)),Q=ue,te=he,re=ce}return this.curve.jpoint(Q,re.redMul(q),te)},JPoint.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function _zeroDbl(){var C,I,B;if(this.zOne){var z=this.x.redSqr(),q=this.y.redSqr(),Q=q.redSqr(),ee=this.x.redAdd(q).redSqr().redISub(z).redISub(Q);ee=ee.redIAdd(ee);var te=z.redAdd(z).redIAdd(z),ie=te.redSqr().redISub(ee).redISub(ee),re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),C=ie,I=te.redMul(ee.redISub(ie)).redISub(re),B=this.y.redAdd(this.y)}else{var ne=this.x.redSqr(),se=this.y.redSqr(),oe=se.redSqr(),ae=this.x.redAdd(se).redSqr().redISub(ne).redISub(oe);ae=ae.redIAdd(ae);var le=ne.redAdd(ne).redIAdd(ne),ue=le.redSqr(),de=oe.redIAdd(oe);de=(de=de.redIAdd(de)).redIAdd(de),C=ue.redISub(ae).redISub(ae),I=le.redMul(ae.redISub(C)).redISub(de),B=(B=this.y.redMul(this.z)).redIAdd(B)}return this.curve.jpoint(C,I,B)},JPoint.prototype._threeDbl=function _threeDbl(){var C,I,B;if(this.zOne){var z=this.x.redSqr(),q=this.y.redSqr(),Q=q.redSqr(),ee=this.x.redAdd(q).redSqr().redISub(z).redISub(Q);ee=ee.redIAdd(ee);var te=z.redAdd(z).redIAdd(z).redIAdd(this.curve.a),ie=te.redSqr().redISub(ee).redISub(ee);C=ie;var re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),I=te.redMul(ee.redISub(ie)).redISub(re),B=this.y.redAdd(this.y)}else{var ne=this.z.redSqr(),se=this.y.redSqr(),oe=this.x.redMul(se),ae=this.x.redSub(ne).redMul(this.x.redAdd(ne));ae=ae.redAdd(ae).redIAdd(ae);var le=oe.redIAdd(oe),ue=(le=le.redIAdd(le)).redAdd(le);C=ae.redSqr().redISub(ue),B=this.y.redAdd(this.z).redSqr().redISub(se).redISub(ne);var de=se.redSqr();de=(de=(de=de.redIAdd(de)).redIAdd(de)).redIAdd(de),I=ae.redMul(le.redISub(C)).redISub(de)}return this.curve.jpoint(C,I,B)},JPoint.prototype._dbl=function _dbl(){var C=this.curve.a,I=this.x,B=this.y,z=this.z,q=z.redSqr().redSqr(),Q=I.redSqr(),ee=B.redSqr(),te=Q.redAdd(Q).redIAdd(Q).redIAdd(C.redMul(q)),ie=I.redAdd(I),re=(ie=ie.redIAdd(ie)).redMul(ee),ne=te.redSqr().redISub(re.redAdd(re)),se=re.redISub(ne),oe=ee.redSqr();oe=(oe=(oe=oe.redIAdd(oe)).redIAdd(oe)).redIAdd(oe);var ae=te.redMul(se).redISub(oe),le=B.redAdd(B).redMul(z);return this.curve.jpoint(ne,ae,le)},JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var C=this.x.redSqr(),I=this.y.redSqr(),B=this.z.redSqr(),z=I.redSqr(),q=C.redAdd(C).redIAdd(C),Q=q.redSqr(),ee=this.x.redAdd(I).redSqr().redISub(C).redISub(z),te=(ee=(ee=(ee=ee.redIAdd(ee)).redAdd(ee).redIAdd(ee)).redISub(Q)).redSqr(),ie=z.redIAdd(z);ie=(ie=(ie=ie.redIAdd(ie)).redIAdd(ie)).redIAdd(ie);var re=q.redIAdd(ee).redSqr().redISub(Q).redISub(te).redISub(ie),ne=I.redMul(re);ne=(ne=ne.redIAdd(ne)).redIAdd(ne);var se=this.x.redMul(te).redISub(ne);se=(se=se.redIAdd(se)).redIAdd(se);var oe=this.y.redMul(re.redMul(ie.redISub(re)).redISub(ee.redMul(te)));oe=(oe=(oe=oe.redIAdd(oe)).redIAdd(oe)).redIAdd(oe);var ae=this.z.redAdd(ee).redSqr().redISub(B).redISub(te);return this.curve.jpoint(se,oe,ae)},JPoint.prototype.mul=function mul(C,I){return C=new q(C,I),this.curve._wnafMul(this,C)},JPoint.prototype.eq=function eq(C){if("affine"===C.type)return this.eq(C.toJ());if(this===C)return!0;var I=this.z.redSqr(),B=C.z.redSqr();if(0!==this.x.redMul(B).redISub(C.x.redMul(I)).cmpn(0))return!1;var z=I.redMul(this.z),q=B.redMul(C.z);return 0===this.y.redMul(q).redISub(C.y.redMul(z)).cmpn(0)},JPoint.prototype.eqXToP=function eqXToP(C){var I=this.z.redSqr(),B=C.toRed(this.curve.red).redMul(I);if(0===this.x.cmp(B))return!0;for(var z=C.clone(),q=this.curve.redN.redMul(I);;){if(z.iadd(this.curve.n),z.cmp(this.curve.p)>=0)return!1;if(B.redIAdd(q),0===this.x.cmp(B))return!0}},JPoint.prototype.inspect=function inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(C,I,B){"use strict";var z,q=B,Q=C("hash.js"),ee=C("./curve"),te=C("./utils").assert;function PresetCurve(C){"short"===C.type?this.curve=new ee.short(C):"edwards"===C.type?this.curve=new ee.edwards(C):this.curve=new ee.mont(C),this.g=this.curve.g,this.n=this.curve.n,this.hash=C.hash,te(this.g.validate(),"Invalid curve"),te(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(C,I){Object.defineProperty(q,C,{configurable:!0,enumerable:!0,get:function(){var B=new PresetCurve(I);return Object.defineProperty(q,C,{configurable:!0,enumerable:!0,value:B}),B}})}q.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Q.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Q.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Q.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Q.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Q.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Q.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Q.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{z=C("./precomputed/secp256k1")}catch(C){z=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Q.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",z]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("hmac-drbg"),Q=C("../utils"),ee=C("../curves"),te=C("brorand"),ie=Q.assert,re=C("./key"),ne=C("./signature");function EC(C){if(!(this instanceof EC))return new EC(C);"string"==typeof C&&(ie(Object.prototype.hasOwnProperty.call(ee,C),"Unknown curve "+C),C=ee[C]),C instanceof ee.PresetCurve&&(C={curve:C}),this.curve=C.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=C.curve.g,this.g.precompute(C.curve.n.bitLength()+1),this.hash=C.hash||C.curve.hash}I.exports=EC,EC.prototype.keyPair=function keyPair(C){return new re(this,C)},EC.prototype.keyFromPrivate=function keyFromPrivate(C,I){return re.fromPrivate(this,C,I)},EC.prototype.keyFromPublic=function keyFromPublic(C,I){return re.fromPublic(this,C,I)},EC.prototype.genKeyPair=function genKeyPair(C){C||(C={});for(var I=new q({hash:this.hash,pers:C.pers,persEnc:C.persEnc||"utf8",entropy:C.entropy||te(this.hash.hmacStrength),entropyEnc:C.entropy&&C.entropyEnc||"utf8",nonce:this.n.toArray()}),B=this.n.byteLength(),Q=this.n.sub(new z(2));;){var ee=new z(I.generate(B));if(!(ee.cmp(Q)>0))return ee.iaddn(1),this.keyFromPrivate(ee)}},EC.prototype._truncateToN=function _truncateToN(C,I){var B=8*C.byteLength()-this.n.bitLength();return B>0&&(C=C.ushrn(B)),!I&&C.cmp(this.n)>=0?C.sub(this.n):C},EC.prototype.sign=function sign(C,I,B,Q){"object"==typeof B&&(Q=B,B=null),Q||(Q={}),I=this.keyFromPrivate(I,B),C=this._truncateToN(new z(C,16));for(var ee=this.n.byteLength(),te=I.getPrivate().toArray("be",ee),ie=C.toArray("be",ee),re=new q({hash:this.hash,entropy:te,nonce:ie,pers:Q.pers,persEnc:Q.persEnc||"utf8"}),se=this.n.sub(new z(1)),oe=0;;oe++){var ae=Q.k?Q.k(oe):new z(re.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(se)>=0)){var le=this.g.mul(ae);if(!le.isInfinity()){var ue=le.getX(),de=ue.umod(this.n);if(0!==de.cmpn(0)){var ce=ae.invm(this.n).mul(de.mul(I.getPrivate()).iadd(C));if(0!==(ce=ce.umod(this.n)).cmpn(0)){var he=(le.getY().isOdd()?1:0)|(0!==ue.cmp(de)?2:0);return Q.canonical&&ce.cmp(this.nh)>0&&(ce=this.n.sub(ce),he^=1),new ne({r:de,s:ce,recoveryParam:he})}}}}}},EC.prototype.verify=function verify(C,I,B,q){C=this._truncateToN(new z(C,16)),B=this.keyFromPublic(B,q);var Q=(I=new ne(I,"hex")).r,ee=I.s;if(Q.cmpn(1)<0||Q.cmp(this.n)>=0)return!1;if(ee.cmpn(1)<0||ee.cmp(this.n)>=0)return!1;var te,ie=ee.invm(this.n),re=ie.mul(C).umod(this.n),se=ie.mul(Q).umod(this.n);return this.curve._maxwellTrick?!(te=this.g.jmulAdd(re,B.getPublic(),se)).isInfinity()&&te.eqXToP(Q):!(te=this.g.mulAdd(re,B.getPublic(),se)).isInfinity()&&0===te.getX().umod(this.n).cmp(Q)},EC.prototype.recoverPubKey=function(C,I,B,q){ie((3&B)===B,"The recovery param is more than two bits"),I=new ne(I,q);var Q=this.n,ee=new z(C),te=I.r,re=I.s,se=1&B,oe=B>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&oe)throw new Error("Unable to find sencond key candinate");te=oe?this.curve.pointFromX(te.add(this.curve.n),se):this.curve.pointFromX(te,se);var ae=I.r.invm(Q),le=Q.sub(ee).mul(ae).umod(Q),ue=re.mul(ae).umod(Q);return this.g.mulAdd(le,te,ue)},EC.prototype.getKeyRecoveryParam=function(C,I,B,z){if(null!==(I=new ne(I,z)).recoveryParam)return I.recoveryParam;for(var q=0;q<4;q++){var Q;try{Q=this.recoverPubKey(C,I,q)}catch(C){continue}if(Q.eq(B))return q}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("../utils").assert;function KeyPair(C,I){this.ec=C,this.priv=null,this.pub=null,I.priv&&this._importPrivate(I.priv,I.privEnc),I.pub&&this._importPublic(I.pub,I.pubEnc)}I.exports=KeyPair,KeyPair.fromPublic=function fromPublic(C,I,B){return I instanceof KeyPair?I:new KeyPair(C,{pub:I,pubEnc:B})},KeyPair.fromPrivate=function fromPrivate(C,I,B){return I instanceof KeyPair?I:new KeyPair(C,{priv:I,privEnc:B})},KeyPair.prototype.validate=function validate(){var C=this.getPublic();return C.isInfinity()?{result:!1,reason:"Invalid public key"}:C.validate()?C.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function getPublic(C,I){return"string"==typeof C&&(I=C,C=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),I?this.pub.encode(I,C):this.pub},KeyPair.prototype.getPrivate=function getPrivate(C){return"hex"===C?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function _importPrivate(C,I){this.priv=new z(C,I||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function _importPublic(C,I){if(C.x||C.y)return"mont"===this.ec.curve.type?q(C.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||q(C.x&&C.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(C.x,C.y));this.pub=this.ec.curve.decodePoint(C,I)},KeyPair.prototype.derive=function derive(C){return C.validate()||q(C.validate(),"public point not validated"),C.mul(this.priv).getX()},KeyPair.prototype.sign=function sign(C,I,B){return this.ec.sign(C,this,I,B)},KeyPair.prototype.verify=function verify(C,I){return this.ec.verify(C,I,this)},KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("../utils"),Q=q.assert;function Signature(C,I){if(C instanceof Signature)return C;this._importDER(C,I)||(Q(C.r&&C.s,"Signature without r or s"),this.r=new z(C.r,16),this.s=new z(C.s,16),void 0===C.recoveryParam?this.recoveryParam=null:this.recoveryParam=C.recoveryParam)}function Position(){this.place=0}function getLength(C,I){var B=C[I.place++];if(!(128&B))return B;var z=15&B;if(0===z||z>4)return!1;for(var q=0,Q=0,ee=I.place;Q<z;Q++,ee++)q<<=8,q|=C[ee],q>>>=0;return!(q<=127)&&(I.place=ee,q)}function rmPadding(C){for(var I=0,B=C.length-1;!C[I]&&!(128&C[I+1])&&I<B;)I++;return 0===I?C:C.slice(I)}function constructLength(C,I){if(I<128)C.push(I);else{var B=1+(Math.log(I)/Math.LN2>>>3);for(C.push(128|B);--B;)C.push(I>>>(B<<3)&255);C.push(I)}}I.exports=Signature,Signature.prototype._importDER=function _importDER(C,I){C=q.toArray(C,I);var B=new Position;if(48!==C[B.place++])return!1;var Q=getLength(C,B);if(!1===Q)return!1;if(Q+B.place!==C.length)return!1;if(2!==C[B.place++])return!1;var ee=getLength(C,B);if(!1===ee)return!1;var te=C.slice(B.place,ee+B.place);if(B.place+=ee,2!==C[B.place++])return!1;var ie=getLength(C,B);if(!1===ie)return!1;if(C.length!==ie+B.place)return!1;var re=C.slice(B.place,ie+B.place);if(0===te[0]){if(!(128&te[1]))return!1;te=te.slice(1)}if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}return this.r=new z(te),this.s=new z(re),this.recoveryParam=null,!0},Signature.prototype.toDER=function toDER(C){var I=this.r.toArray(),B=this.s.toArray();for(128&I[0]&&(I=[0].concat(I)),128&B[0]&&(B=[0].concat(B)),I=rmPadding(I),B=rmPadding(B);!(B[0]||128&B[1]);)B=B.slice(1);var z=[2];constructLength(z,I.length),(z=z.concat(I)).push(2),constructLength(z,B.length);var Q=z.concat(B),ee=[48];return constructLength(ee,Q.length),ee=ee.concat(Q),q.encode(ee,C)}},{"../utils":419,"bn.js":420}],415:[function(C,I,B){"use strict";var z=C("hash.js"),q=C("../curves"),Q=C("../utils"),ee=Q.assert,te=Q.parseBytes,ie=C("./key"),re=C("./signature");function EDDSA(C){if(ee("ed25519"===C,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(C);C=q[C].curve,this.curve=C,this.g=C.g,this.g.precompute(C.n.bitLength()+1),this.pointClass=C.point().constructor,this.encodingLength=Math.ceil(C.n.bitLength()/8),this.hash=z.sha512}I.exports=EDDSA,EDDSA.prototype.sign=function sign(C,I){C=te(C);var B=this.keyFromSecret(I),z=this.hashInt(B.messagePrefix(),C),q=this.g.mul(z),Q=this.encodePoint(q),ee=this.hashInt(Q,B.pubBytes(),C).mul(B.priv()),ie=z.add(ee).umod(this.curve.n);return this.makeSignature({R:q,S:ie,Rencoded:Q})},EDDSA.prototype.verify=function verify(C,I,B){C=te(C),I=this.makeSignature(I);var z=this.keyFromPublic(B),q=this.hashInt(I.Rencoded(),z.pubBytes(),C),Q=this.g.mul(I.S());return I.R().add(z.pub().mul(q)).eq(Q)},EDDSA.prototype.hashInt=function hashInt(){for(var C=this.hash(),I=0;I<arguments.length;I++)C.update(arguments[I]);return Q.intFromLE(C.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function keyFromPublic(C){return ie.fromPublic(this,C)},EDDSA.prototype.keyFromSecret=function keyFromSecret(C){return ie.fromSecret(this,C)},EDDSA.prototype.makeSignature=function makeSignature(C){return C instanceof re?C:new re(this,C)},EDDSA.prototype.encodePoint=function encodePoint(C){var I=C.getY().toArray("le",this.encodingLength);return I[this.encodingLength-1]|=C.getX().isOdd()?128:0,I},EDDSA.prototype.decodePoint=function decodePoint(C){var I=(C=Q.parseBytes(C)).length-1,B=C.slice(0,I).concat(-129&C[I]),z=!!(128&C[I]),q=Q.intFromLE(B);return this.curve.pointFromY(q,z)},EDDSA.prototype.encodeInt=function encodeInt(C){return C.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function decodeInt(C){return Q.intFromLE(C)},EDDSA.prototype.isPoint=function isPoint(C){return C instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(C,I,B){"use strict";var z=C("../utils"),q=z.assert,Q=z.parseBytes,ee=z.cachedProperty;function KeyPair(C,I){this.eddsa=C,this._secret=Q(I.secret),C.isPoint(I.pub)?this._pub=I.pub:this._pubBytes=Q(I.pub)}KeyPair.fromPublic=function fromPublic(C,I){return I instanceof KeyPair?I:new KeyPair(C,{pub:I})},KeyPair.fromSecret=function fromSecret(C,I){return I instanceof KeyPair?I:new KeyPair(C,{secret:I})},KeyPair.prototype.secret=function secret(){return this._secret},ee(KeyPair,"pubBytes",(function pubBytes(){return this.eddsa.encodePoint(this.pub())})),ee(KeyPair,"pub",(function pub(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),ee(KeyPair,"privBytes",(function privBytes(){var C=this.eddsa,I=this.hash(),B=C.encodingLength-1,z=I.slice(0,C.encodingLength);return z[0]&=248,z[B]&=127,z[B]|=64,z})),ee(KeyPair,"priv",(function priv(){return this.eddsa.decodeInt(this.privBytes())})),ee(KeyPair,"hash",(function hash(){return this.eddsa.hash().update(this.secret()).digest()})),ee(KeyPair,"messagePrefix",(function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair.prototype.sign=function sign(C){return q(this._secret,"KeyPair can only verify"),this.eddsa.sign(C,this)},KeyPair.prototype.verify=function verify(C,I){return this.eddsa.verify(C,I,this)},KeyPair.prototype.getSecret=function getSecret(C){return q(this._secret,"KeyPair is public only"),z.encode(this.secret(),C)},KeyPair.prototype.getPublic=function getPublic(C){return z.encode(this.pubBytes(),C)},I.exports=KeyPair},{"../utils":419}],417:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("../utils"),Q=q.assert,ee=q.cachedProperty,te=q.parseBytes;function Signature(C,I){this.eddsa=C,"object"!=typeof I&&(I=te(I)),Array.isArray(I)&&(I={R:I.slice(0,C.encodingLength),S:I.slice(C.encodingLength)}),Q(I.R&&I.S,"Signature without R or S"),C.isPoint(I.R)&&(this._R=I.R),I.S instanceof z&&(this._S=I.S),this._Rencoded=Array.isArray(I.R)?I.R:I.Rencoded,this._Sencoded=Array.isArray(I.S)?I.S:I.Sencoded}ee(Signature,"S",(function S(){return this.eddsa.decodeInt(this.Sencoded())})),ee(Signature,"R",(function R(){return this.eddsa.decodePoint(this.Rencoded())})),ee(Signature,"Rencoded",(function Rencoded(){return this.eddsa.encodePoint(this.R())})),ee(Signature,"Sencoded",(function Sencoded(){return this.eddsa.encodeInt(this.S())})),Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function toHex(){return q.encode(this.toBytes(),"hex").toUpperCase()},I.exports=Signature},{"../utils":419,"bn.js":420}],418:[function(C,I,B){"use strict";I.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(C,I,B){"use strict";var z=B,q=C("bn.js"),Q=C("minimalistic-assert"),ee=C("minimalistic-crypto-utils");function getNAF(C,I,B){var z=new Array(Math.max(C.bitLength(),B)+1);z.fill(0);for(var q=1<<I+1,Q=C.clone(),ee=0;ee<z.length;ee++){var te,ie=Q.andln(q-1);Q.isOdd()?(te=ie>(q>>1)-1?(q>>1)-ie:ie,Q.isubn(te)):te=0,z[ee]=te,Q.iushrn(1)}return z}function getJSF(C,I){var B=[[],[]];C=C.clone(),I=I.clone();for(var z,q=0,Q=0;C.cmpn(-q)>0||I.cmpn(-Q)>0;){var ee,te,ie=C.andln(3)+q&3,re=I.andln(3)+Q&3;3===ie&&(ie=-1),3===re&&(re=-1),ee=1&ie?3!=(z=C.andln(7)+q&7)&&5!==z||2!==re?ie:-ie:0,B[0].push(ee),te=1&re?3!=(z=I.andln(7)+Q&7)&&5!==z||2!==ie?re:-re:0,B[1].push(te),2*q===ee+1&&(q=1-q),2*Q===te+1&&(Q=1-Q),C.iushrn(1),I.iushrn(1)}return B}function cachedProperty(C,I,B){var z="_"+I;C.prototype[I]=function cachedProperty(){return void 0!==this[z]?this[z]:this[z]=B.call(this)}}function parseBytes(C){return"string"==typeof C?z.toArray(C,"hex"):C}function intFromLE(C){return new q(C,"hex","le")}z.assert=Q,z.toArray=ee.toArray,z.zero2=ee.zero2,z.toHex=ee.toHex,z.encode=ee.encode,z.getNAF=getNAF,z.getJSF=getJSF,z.cachedProperty=cachedProperty,z.parseBytes=parseBytes,z.intFromLE=intFromLE},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(C,I,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],421:[function(C,I,B){I.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(C,I,B){"use strict";var z=Object.create||objectCreatePolyfill,q=Object.keys||objectKeysPolyfill,Q=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=z(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}I.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var ee,te=10;try{var ie={};Object.defineProperty&&Object.defineProperty(ie,"x",{value:0}),ee=0===ie.x}catch(C){ee=!1}function $getMaxListeners(C){return void 0===C._maxListeners?EventEmitter.defaultMaxListeners:C._maxListeners}function emitNone(C,I,B){if(I)C.call(B);else for(var z=C.length,q=arrayClone(C,z),Q=0;Q<z;++Q)q[Q].call(B)}function emitOne(C,I,B,z){if(I)C.call(B,z);else for(var q=C.length,Q=arrayClone(C,q),ee=0;ee<q;++ee)Q[ee].call(B,z)}function emitTwo(C,I,B,z,q){if(I)C.call(B,z,q);else for(var Q=C.length,ee=arrayClone(C,Q),te=0;te<Q;++te)ee[te].call(B,z,q)}function emitThree(C,I,B,z,q,Q){if(I)C.call(B,z,q,Q);else for(var ee=C.length,te=arrayClone(C,ee),ie=0;ie<ee;++ie)te[ie].call(B,z,q,Q)}function emitMany(C,I,B,z){if(I)C.apply(B,z);else for(var q=C.length,Q=arrayClone(C,q),ee=0;ee<q;++ee)Q[ee].apply(B,z)}function _addListener(C,I,B,q){var Q,ee,te;if("function"!=typeof B)throw new TypeError('"listener" argument must be a function');if((ee=C._events)?(ee.newListener&&(C.emit("newListener",I,B.listener?B.listener:B),ee=C._events),te=ee[I]):(ee=C._events=z(null),C._eventsCount=0),te){if("function"==typeof te?te=ee[I]=q?[B,te]:[te,B]:q?te.unshift(B):te.push(B),!te.warned&&(Q=$getMaxListeners(C))&&Q>0&&te.length>Q){te.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+te.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');ie.name="MaxListenersExceededWarning",ie.emitter=C,ie.type=I,ie.count=te.length,"object"==typeof console&&console.warn}}else te=ee[I]=B,++C._eventsCount;return C}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var C=new Array(arguments.length),I=0;I<C.length;++I)C[I]=arguments[I];this.listener.apply(this.target,C)}}function _onceWrap(C,I,B){var z={fired:!1,wrapFn:void 0,target:C,type:I,listener:B},q=Q.call(onceWrapper,z);return q.listener=B,z.wrapFn=q,q}function _listeners(C,I,B){var z=C._events;if(!z)return[];var q=z[I];return q?"function"==typeof q?B?[q.listener||q]:[q]:B?unwrapListeners(q):arrayClone(q,q.length):[]}function listenerCount(C){var I=this._events;if(I){var B=I[C];if("function"==typeof B)return 1;if(B)return B.length}return 0}function spliceOne(C,I){for(var B=I,z=B+1,q=C.length;z<q;B+=1,z+=1)C[B]=C[z];C.pop()}function arrayClone(C,I){for(var B=new Array(I),z=0;z<I;++z)B[z]=C[z];return B}function unwrapListeners(C){for(var I=new Array(C.length),B=0;B<I.length;++B)I[B]=C[B].listener||C[B];return I}function objectCreatePolyfill(C){var F=function(){};return F.prototype=C,new F}function objectKeysPolyfill(C){var I=[];for(var B in C)Object.prototype.hasOwnProperty.call(C,B)&&I.push(B);return B}function functionBindPolyfill(C){var I=this;return function(){return I.apply(C,arguments)}}ee?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return te},set:function(C){if("number"!=typeof C||C<0||C!=C)throw new TypeError('"defaultMaxListeners" must be a positive number');te=C}}):EventEmitter.defaultMaxListeners=te,EventEmitter.prototype.setMaxListeners=function setMaxListeners(C){if("number"!=typeof C||C<0||isNaN(C))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=C,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(C){var I,B,z,q,Q,ee,te="error"===C;if(ee=this._events)te=te&&null==ee.error;else if(!te)return!1;if(te){if(arguments.length>1&&(I=arguments[1]),I instanceof Error)throw I;var ie=new Error('Unhandled "error" event. ('+I+")");throw ie.context=I,ie}if(!(B=ee[C]))return!1;var re="function"==typeof B;switch(z=arguments.length){case 1:emitNone(B,re,this);break;case 2:emitOne(B,re,this,arguments[1]);break;case 3:emitTwo(B,re,this,arguments[1],arguments[2]);break;case 4:emitThree(B,re,this,arguments[1],arguments[2],arguments[3]);break;default:for(q=new Array(z-1),Q=1;Q<z;Q++)q[Q-1]=arguments[Q];emitMany(B,re,this,q)}return!0},EventEmitter.prototype.addListener=function addListener(C,I){return _addListener(this,C,I,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(C,I){return _addListener(this,C,I,!0)},EventEmitter.prototype.once=function once(C,I){if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');return this.on(C,_onceWrap(this,C,I)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(C,I){if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');return this.prependListener(C,_onceWrap(this,C,I)),this},EventEmitter.prototype.removeListener=function removeListener(C,I){var B,q,Q,ee,te;if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(B=q[C]))return this;if(B===I||B.listener===I)0==--this._eventsCount?this._events=z(null):(delete q[C],q.removeListener&&this.emit("removeListener",C,B.listener||I));else if("function"!=typeof B){for(Q=-1,ee=B.length-1;ee>=0;ee--)if(B[ee]===I||B[ee].listener===I){te=B[ee].listener,Q=ee;break}if(Q<0)return this;0===Q?B.shift():spliceOne(B,Q),1===B.length&&(q[C]=B[0]),q.removeListener&&this.emit("removeListener",C,te||I)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(C){var I,B,Q;if(!(B=this._events))return this;if(!B.removeListener)return 0===arguments.length?(this._events=z(null),this._eventsCount=0):B[C]&&(0==--this._eventsCount?this._events=z(null):delete B[C]),this;if(0===arguments.length){var ee,te=q(B);for(Q=0;Q<te.length;++Q)"removeListener"!==(ee=te[Q])&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=z(null),this._eventsCount=0,this}if("function"==typeof(I=B[C]))this.removeListener(C,I);else if(I)for(Q=I.length-1;Q>=0;Q--)this.removeListener(C,I[Q]);return this},EventEmitter.prototype.listeners=function listeners(C){return _listeners(this,C,!0)},EventEmitter.prototype.rawListeners=function rawListeners(C){return _listeners(this,C,!1)},EventEmitter.listenerCount=function(C,I){return"function"==typeof C.listenerCount?C.listenerCount(I):listenerCount.call(C,I)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("md5.js");function EVP_BytesToKey(C,I,B,Q){if(z.isBuffer(C)||(C=z.from(C,"binary")),I&&(z.isBuffer(I)||(I=z.from(I,"binary")),8!==I.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var ee=B/8,te=z.alloc(ee),ie=z.alloc(Q||0),re=z.alloc(0);ee>0||Q>0;){var ne=new q;ne.update(re),ne.update(C),I&&ne.update(I),re=ne.digest();var se=0;if(ee>0){var oe=te.length-ee;se=Math.min(ee,re.length),re.copy(te,oe,0,se),ee-=se}if(se<re.length&&Q>0){var ae=ie.length-Q,le=Math.min(Q,re.length-se);re.copy(ie,ae,se,se+le),Q-=le}}return re.fill(0),{key:te,iv:ie}}I.exports=EVP_BytesToKey},{"md5.js":450,"safe-buffer":494}],424:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CsvParserStream=B.ParserOptions=B.parseFile=B.parseStream=B.parseString=B.parse=B.FormatterOptions=B.CsvFormatterStream=B.writeToPath=B.writeToString=B.writeToBuffer=B.writeToStream=B.write=B.format=void 0;var z=C("@fast-csv/format");Object.defineProperty(B,"format",{enumerable:!0,get:function(){return z.format}}),Object.defineProperty(B,"write",{enumerable:!0,get:function(){return z.write}}),Object.defineProperty(B,"writeToStream",{enumerable:!0,get:function(){return z.writeToStream}}),Object.defineProperty(B,"writeToBuffer",{enumerable:!0,get:function(){return z.writeToBuffer}}),Object.defineProperty(B,"writeToString",{enumerable:!0,get:function(){return z.writeToString}}),Object.defineProperty(B,"writeToPath",{enumerable:!0,get:function(){return z.writeToPath}}),Object.defineProperty(B,"CsvFormatterStream",{enumerable:!0,get:function(){return z.CsvFormatterStream}}),Object.defineProperty(B,"FormatterOptions",{enumerable:!0,get:function(){return z.FormatterOptions}});var q=C("@fast-csv/parse");Object.defineProperty(B,"parse",{enumerable:!0,get:function(){return q.parse}}),Object.defineProperty(B,"parseString",{enumerable:!0,get:function(){return q.parseString}}),Object.defineProperty(B,"parseStream",{enumerable:!0,get:function(){return q.parseStream}}),Object.defineProperty(B,"parseFile",{enumerable:!0,get:function(){return q.parseFile}}),Object.defineProperty(B,"ParserOptions",{enumerable:!0,get:function(){return q.ParserOptions}}),Object.defineProperty(B,"CsvParserStream",{enumerable:!0,get:function(){return q.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer,q=C("readable-stream").Transform;function throwIfNotStringOrBuffer(C,I){if(!z.isBuffer(C)&&"string"!=typeof C)throw new TypeError(I+" must be a string or a buffer")}function HashBase(C){q.call(this),this._block=z.allocUnsafe(C),this._blockSize=C,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}C("inherits")(HashBase,q),HashBase.prototype._transform=function(C,I,B){var z=null;try{this.update(C,I)}catch(C){z=C}B(z)},HashBase.prototype._flush=function(C){var I=null;try{this.push(this.digest())}catch(C){I=C}C(I)},HashBase.prototype.update=function(C,I){if(throwIfNotStringOrBuffer(C,"Data"),this._finalized)throw new Error("Digest already called");z.isBuffer(C)||(C=z.from(C,I));for(var B=this._block,q=0;this._blockOffset+C.length-q>=this._blockSize;){for(var Q=this._blockOffset;Q<this._blockSize;)B[Q++]=C[q++];this._update(),this._blockOffset=0}for(;q<C.length;)B[this._blockOffset++]=C[q++];for(var ee=0,te=8*C.length;te>0;++ee)this._length[ee]+=te,(te=this._length[ee]/4294967296|0)>0&&(this._length[ee]-=4294967296*te);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(C){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var I=this._digest();void 0!==C&&(I=I.toString(C)),this._block.fill(0),this._blockOffset=0;for(var B=0;B<4;++B)this._length[B]=0;return I},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},I.exports=HashBase},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(C,I,B){"use strict";var z=B;z.utils=C("./hash/utils"),z.common=C("./hash/common"),z.sha=C("./hash/sha"),z.ripemd=C("./hash/ripemd"),z.hmac=C("./hash/hmac"),z.sha1=z.sha.sha1,z.sha256=z.sha.sha256,z.sha224=z.sha.sha224,z.sha384=z.sha.sha384,z.sha512=z.sha.sha512,z.ripemd160=z.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(C,I,B){"use strict";var z=C("./utils"),q=C("minimalistic-assert");function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}B.BlockHash=BlockHash,BlockHash.prototype.update=function update(C,I){if(C=z.toArray(C,I),this.pending?this.pending=this.pending.concat(C):this.pending=C,this.pendingTotal+=C.length,this.pending.length>=this._delta8){var B=(C=this.pending).length%this._delta8;this.pending=C.slice(C.length-B,C.length),0===this.pending.length&&(this.pending=null),C=z.join32(C,0,C.length-B,this.endian);for(var q=0;q<C.length;q+=this._delta32)this._update(C,q,q+this._delta32)}return this},BlockHash.prototype.digest=function digest(C){return this.update(this._pad()),q(null===this.pending),this._digest(C)},BlockHash.prototype._pad=function pad(){var C=this.pendingTotal,I=this._delta8,B=I-(C+this.padLength)%I,z=new Array(B+this.padLength);z[0]=128;for(var q=1;q<B;q++)z[q]=0;if(C<<=3,"big"===this.endian){for(var Q=8;Q<this.padLength;Q++)z[q++]=0;z[q++]=0,z[q++]=0,z[q++]=0,z[q++]=0,z[q++]=C>>>24&255,z[q++]=C>>>16&255,z[q++]=C>>>8&255,z[q++]=255&C}else for(z[q++]=255&C,z[q++]=C>>>8&255,z[q++]=C>>>16&255,z[q++]=C>>>24&255,z[q++]=0,z[q++]=0,z[q++]=0,z[q++]=0,Q=8;Q<this.padLength;Q++)z[q++]=0;return z}},{"./utils":437,"minimalistic-assert":453}],428:[function(C,I,B){"use strict";var z=C("./utils"),q=C("minimalistic-assert");function Hmac(C,I,B){if(!(this instanceof Hmac))return new Hmac(C,I,B);this.Hash=C,this.blockSize=C.blockSize/8,this.outSize=C.outSize/8,this.inner=null,this.outer=null,this._init(z.toArray(I,B))}I.exports=Hmac,Hmac.prototype._init=function init(C){C.length>this.blockSize&&(C=(new this.Hash).update(C).digest()),q(C.length<=this.blockSize);for(var I=C.length;I<this.blockSize;I++)C.push(0);for(I=0;I<C.length;I++)C[I]^=54;for(this.inner=(new this.Hash).update(C),I=0;I<C.length;I++)C[I]^=106;this.outer=(new this.Hash).update(C)},Hmac.prototype.update=function update(C,I){return this.inner.update(C,I),this},Hmac.prototype.digest=function digest(C){return this.outer.update(this.inner.digest()),this.outer.digest(C)}},{"./utils":437,"minimalistic-assert":453}],429:[function(C,I,B){"use strict";var z=C("./utils"),q=C("./common"),Q=z.rotl32,ee=z.sum32,te=z.sum32_3,ie=z.sum32_4,re=q.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;re.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(C,I,B,z){return C<=15?I^B^z:C<=31?I&B|~I&z:C<=47?(I|~B)^z:C<=63?I&z|B&~z:I^(B|~z)}function K(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function Kh(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}z.inherits(RIPEMD160,re),B.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function update(C,I){for(var B=this.h[0],z=this.h[1],q=this.h[2],re=this.h[3],le=this.h[4],ue=B,de=z,ce=q,he=re,fe=le,pe=0;pe<80;pe++){var me=ee(Q(ie(B,f(pe,z,q,re),C[ne[pe]+I],K(pe)),oe[pe]),le);B=le,le=re,re=Q(q,10),q=z,z=me,me=ee(Q(ie(ue,f(79-pe,de,ce,he),C[se[pe]+I],Kh(pe)),ae[pe]),fe),ue=fe,fe=he,he=Q(ce,10),ce=de,de=me}me=te(this.h[1],q,he),this.h[1]=te(this.h[2],re,fe),this.h[2]=te(this.h[3],le,ue),this.h[3]=te(this.h[4],B,de),this.h[4]=te(this.h[0],z,ce),this.h[0]=me},RIPEMD160.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h,"little"):z.split32(this.h,"little")};var ne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],se=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ae=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(C,I,B){"use strict";B.sha1=C("./sha/1"),B.sha224=C("./sha/224"),B.sha256=C("./sha/256"),B.sha384=C("./sha/384"),B.sha512=C("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(C,I,B){"use strict";var z=C("../utils"),q=C("../common"),Q=C("./common"),ee=z.rotl32,te=z.sum32,ie=z.sum32_5,re=Q.ft_1,ne=q.BlockHash,se=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;ne.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}z.inherits(SHA1,ne),I.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function _update(C,I){for(var B=this.W,z=0;z<16;z++)B[z]=C[I+z];for(;z<B.length;z++)B[z]=ee(B[z-3]^B[z-8]^B[z-14]^B[z-16],1);var q=this.h[0],Q=this.h[1],ne=this.h[2],oe=this.h[3],ae=this.h[4];for(z=0;z<B.length;z++){var le=~~(z/20),ue=ie(ee(q,5),re(le,Q,ne,oe),ae,B[z],se[le]);ae=oe,oe=ne,ne=ee(Q,30),Q=q,q=ue}this.h[0]=te(this.h[0],q),this.h[1]=te(this.h[1],Q),this.h[2]=te(this.h[2],ne),this.h[3]=te(this.h[3],oe),this.h[4]=te(this.h[4],ae)},SHA1.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h,"big"):z.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(C,I,B){"use strict";var z=C("../utils"),q=C("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;q.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}z.inherits(SHA224,q),I.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h.slice(0,7),"big"):z.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(C,I,B){"use strict";var z=C("../utils"),q=C("../common"),Q=C("./common"),ee=C("minimalistic-assert"),te=z.sum32,ie=z.sum32_4,re=z.sum32_5,ne=Q.ch32,se=Q.maj32,oe=Q.s0_256,ae=Q.s1_256,le=Q.g0_256,ue=Q.g1_256,de=q.BlockHash,ce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;de.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ce,this.W=new Array(64)}z.inherits(SHA256,de),I.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function _update(C,I){for(var B=this.W,z=0;z<16;z++)B[z]=C[I+z];for(;z<B.length;z++)B[z]=ie(ue(B[z-2]),B[z-7],le(B[z-15]),B[z-16]);var q=this.h[0],Q=this.h[1],de=this.h[2],ce=this.h[3],he=this.h[4],fe=this.h[5],pe=this.h[6],me=this.h[7];for(ee(this.k.length===B.length),z=0;z<B.length;z++){var ge=re(me,ae(he),ne(he,fe,pe),this.k[z],B[z]),ve=te(oe(q),se(q,Q,de));me=pe,pe=fe,fe=he,he=te(ce,ge),ce=de,de=Q,Q=q,q=te(ge,ve)}this.h[0]=te(this.h[0],q),this.h[1]=te(this.h[1],Q),this.h[2]=te(this.h[2],de),this.h[3]=te(this.h[3],ce),this.h[4]=te(this.h[4],he),this.h[5]=te(this.h[5],fe),this.h[6]=te(this.h[6],pe),this.h[7]=te(this.h[7],me)},SHA256.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h,"big"):z.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(C,I,B){"use strict";var z=C("../utils"),q=C("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;q.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}z.inherits(SHA384,q),I.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h.slice(0,12),"big"):z.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(C,I,B){"use strict";var z=C("../utils"),q=C("../common"),Q=C("minimalistic-assert"),ee=z.rotr64_hi,te=z.rotr64_lo,ie=z.shr64_hi,re=z.shr64_lo,ne=z.sum64,se=z.sum64_hi,oe=z.sum64_lo,ae=z.sum64_4_hi,le=z.sum64_4_lo,ue=z.sum64_5_hi,de=z.sum64_5_lo,ce=q.BlockHash,he=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;ce.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=he,this.W=new Array(160)}function ch64_hi(C,I,B,z,q){var Q=C&B^~C&q;return Q<0&&(Q+=4294967296),Q}function ch64_lo(C,I,B,z,q,Q){var ee=I&z^~I&Q;return ee<0&&(ee+=4294967296),ee}function maj64_hi(C,I,B,z,q){var Q=C&B^C&q^B&q;return Q<0&&(Q+=4294967296),Q}function maj64_lo(C,I,B,z,q,Q){var ee=I&z^I&Q^z&Q;return ee<0&&(ee+=4294967296),ee}function s0_512_hi(C,I){var B=ee(C,I,28)^ee(I,C,2)^ee(I,C,7);return B<0&&(B+=4294967296),B}function s0_512_lo(C,I){var B=te(C,I,28)^te(I,C,2)^te(I,C,7);return B<0&&(B+=4294967296),B}function s1_512_hi(C,I){var B=ee(C,I,14)^ee(C,I,18)^ee(I,C,9);return B<0&&(B+=4294967296),B}function s1_512_lo(C,I){var B=te(C,I,14)^te(C,I,18)^te(I,C,9);return B<0&&(B+=4294967296),B}function g0_512_hi(C,I){var B=ee(C,I,1)^ee(C,I,8)^ie(C,I,7);return B<0&&(B+=4294967296),B}function g0_512_lo(C,I){var B=te(C,I,1)^te(C,I,8)^re(C,I,7);return B<0&&(B+=4294967296),B}function g1_512_hi(C,I){var B=ee(C,I,19)^ee(I,C,29)^ie(C,I,6);return B<0&&(B+=4294967296),B}function g1_512_lo(C,I){var B=te(C,I,19)^te(I,C,29)^re(C,I,6);return B<0&&(B+=4294967296),B}z.inherits(SHA512,ce),I.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function _prepareBlock(C,I){for(var B=this.W,z=0;z<32;z++)B[z]=C[I+z];for(;z<B.length;z+=2){var q=g1_512_hi(B[z-4],B[z-3]),Q=g1_512_lo(B[z-4],B[z-3]),ee=B[z-14],te=B[z-13],ie=g0_512_hi(B[z-30],B[z-29]),re=g0_512_lo(B[z-30],B[z-29]),ne=B[z-32],se=B[z-31];B[z]=ae(q,Q,ee,te,ie,re,ne,se),B[z+1]=le(q,Q,ee,te,ie,re,ne,se)}},SHA512.prototype._update=function _update(C,I){this._prepareBlock(C,I);var B=this.W,z=this.h[0],q=this.h[1],ee=this.h[2],te=this.h[3],ie=this.h[4],re=this.h[5],ae=this.h[6],le=this.h[7],ce=this.h[8],he=this.h[9],fe=this.h[10],pe=this.h[11],me=this.h[12],ge=this.h[13],ve=this.h[14],ye=this.h[15];Q(this.k.length===B.length);for(var be=0;be<B.length;be+=2){var Ce=ve,we=ye,_e=s1_512_hi(ce,he),Se=s1_512_lo(ce,he),xe=ch64_hi(ce,he,fe,pe,me,ge),ke=ch64_lo(ce,he,fe,pe,me,ge),Te=this.k[be],Me=this.k[be+1],Re=B[be],Ee=B[be+1],Pe=ue(Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee),Ie=de(Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee);Ce=s0_512_hi(z,q),we=s0_512_lo(z,q),_e=maj64_hi(z,q,ee,te,ie,re),Se=maj64_lo(z,q,ee,te,ie,re);var Ne=se(Ce,we,_e,Se),Ae=oe(Ce,we,_e,Se);ve=me,ye=ge,me=fe,ge=pe,fe=ce,pe=he,ce=se(ae,le,Pe,Ie),he=oe(le,le,Pe,Ie),ae=ie,le=re,ie=ee,re=te,ee=z,te=q,z=se(Pe,Ie,Ne,Ae),q=oe(Pe,Ie,Ne,Ae)}ne(this.h,0,z,q),ne(this.h,2,ee,te),ne(this.h,4,ie,re),ne(this.h,6,ae,le),ne(this.h,8,ce,he),ne(this.h,10,fe,pe),ne(this.h,12,me,ge),ne(this.h,14,ve,ye)},SHA512.prototype._digest=function digest(C){return"hex"===C?z.toHex32(this.h,"big"):z.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(C,I,B){"use strict";var z=C("../utils").rotr32;function ft_1(C,I,B,z){return 0===C?ch32(I,B,z):1===C||3===C?p32(I,B,z):2===C?maj32(I,B,z):void 0}function ch32(C,I,B){return C&I^~C&B}function maj32(C,I,B){return C&I^C&B^I&B}function p32(C,I,B){return C^I^B}function s0_256(C){return z(C,2)^z(C,13)^z(C,22)}function s1_256(C){return z(C,6)^z(C,11)^z(C,25)}function g0_256(C){return z(C,7)^z(C,18)^C>>>3}function g1_256(C){return z(C,17)^z(C,19)^C>>>10}B.ft_1=ft_1,B.ch32=ch32,B.maj32=maj32,B.p32=p32,B.s0_256=s0_256,B.s1_256=s1_256,B.g0_256=g0_256,B.g1_256=g1_256},{"../utils":437}],437:[function(C,I,B){"use strict";var z=C("minimalistic-assert"),q=C("inherits");function isSurrogatePair(C,I){return 55296==(64512&C.charCodeAt(I))&&!(I<0||I+1>=C.length)&&56320==(64512&C.charCodeAt(I+1))}function toArray(C,I){if(Array.isArray(C))return C.slice();if(!C)return[];var B=[];if("string"==typeof C)if(I){if("hex"===I)for((C=C.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(C="0"+C),q=0;q<C.length;q+=2)B.push(parseInt(C[q]+C[q+1],16))}else for(var z=0,q=0;q<C.length;q++){var Q=C.charCodeAt(q);Q<128?B[z++]=Q:Q<2048?(B[z++]=Q>>6|192,B[z++]=63&Q|128):isSurrogatePair(C,q)?(Q=65536+((1023&Q)<<10)+(1023&C.charCodeAt(++q)),B[z++]=Q>>18|240,B[z++]=Q>>12&63|128,B[z++]=Q>>6&63|128,B[z++]=63&Q|128):(B[z++]=Q>>12|224,B[z++]=Q>>6&63|128,B[z++]=63&Q|128)}else for(q=0;q<C.length;q++)B[q]=0|C[q];return B}function toHex(C){for(var I="",B=0;B<C.length;B++)I+=zero2(C[B].toString(16));return I}function htonl(C){return(C>>>24|C>>>8&65280|C<<8&16711680|(255&C)<<24)>>>0}function toHex32(C,I){for(var B="",z=0;z<C.length;z++){var q=C[z];"little"===I&&(q=htonl(q)),B+=zero8(q.toString(16))}return B}function zero2(C){return 1===C.length?"0"+C:C}function zero8(C){return 7===C.length?"0"+C:6===C.length?"00"+C:5===C.length?"000"+C:4===C.length?"0000"+C:3===C.length?"00000"+C:2===C.length?"000000"+C:1===C.length?"0000000"+C:C}function join32(C,I,B,q){var Q=B-I;z(Q%4==0);for(var ee=new Array(Q/4),te=0,ie=I;te<ee.length;te++,ie+=4){var re;re="big"===q?C[ie]<<24|C[ie+1]<<16|C[ie+2]<<8|C[ie+3]:C[ie+3]<<24|C[ie+2]<<16|C[ie+1]<<8|C[ie],ee[te]=re>>>0}return ee}function split32(C,I){for(var B=new Array(4*C.length),z=0,q=0;z<C.length;z++,q+=4){var Q=C[z];"big"===I?(B[q]=Q>>>24,B[q+1]=Q>>>16&255,B[q+2]=Q>>>8&255,B[q+3]=255&Q):(B[q+3]=Q>>>24,B[q+2]=Q>>>16&255,B[q+1]=Q>>>8&255,B[q]=255&Q)}return B}function rotr32(C,I){return C>>>I|C<<32-I}function rotl32(C,I){return C<<I|C>>>32-I}function sum32(C,I){return C+I>>>0}function sum32_3(C,I,B){return C+I+B>>>0}function sum32_4(C,I,B,z){return C+I+B+z>>>0}function sum32_5(C,I,B,z,q){return C+I+B+z+q>>>0}function sum64(C,I,B,z){var q=C[I],Q=z+C[I+1]>>>0,ee=(Q<z?1:0)+B+q;C[I]=ee>>>0,C[I+1]=Q}function sum64_hi(C,I,B,z){return(I+z>>>0<I?1:0)+C+B>>>0}function sum64_lo(C,I,B,z){return I+z>>>0}function sum64_4_hi(C,I,B,z,q,Q,ee,te){var ie=0,re=I;return ie+=(re=re+z>>>0)<I?1:0,ie+=(re=re+Q>>>0)<Q?1:0,C+B+q+ee+(ie+=(re=re+te>>>0)<te?1:0)>>>0}function sum64_4_lo(C,I,B,z,q,Q,ee,te){return I+z+Q+te>>>0}function sum64_5_hi(C,I,B,z,q,Q,ee,te,ie,re){var ne=0,se=I;return ne+=(se=se+z>>>0)<I?1:0,ne+=(se=se+Q>>>0)<Q?1:0,ne+=(se=se+te>>>0)<te?1:0,C+B+q+ee+ie+(ne+=(se=se+re>>>0)<re?1:0)>>>0}function sum64_5_lo(C,I,B,z,q,Q,ee,te,ie,re){return I+z+Q+te+re>>>0}function rotr64_hi(C,I,B){return(I<<32-B|C>>>B)>>>0}function rotr64_lo(C,I,B){return(C<<32-B|I>>>B)>>>0}function shr64_hi(C,I,B){return C>>>B}function shr64_lo(C,I,B){return(C<<32-B|I>>>B)>>>0}B.inherits=q,B.toArray=toArray,B.toHex=toHex,B.htonl=htonl,B.toHex32=toHex32,B.zero2=zero2,B.zero8=zero8,B.join32=join32,B.split32=split32,B.rotr32=rotr32,B.rotl32=rotl32,B.sum32=sum32,B.sum32_3=sum32_3,B.sum32_4=sum32_4,B.sum32_5=sum32_5,B.sum64=sum64,B.sum64_hi=sum64_hi,B.sum64_lo=sum64_lo,B.sum64_4_hi=sum64_4_hi,B.sum64_4_lo=sum64_4_lo,B.sum64_5_hi=sum64_5_hi,B.sum64_5_lo=sum64_5_lo,B.rotr64_hi=rotr64_hi,B.rotr64_lo=rotr64_lo,B.shr64_hi=shr64_hi,B.shr64_lo=shr64_lo},{inherits:440,"minimalistic-assert":453}],438:[function(C,I,B){"use strict";var z=C("hash.js"),q=C("minimalistic-crypto-utils"),Q=C("minimalistic-assert");function HmacDRBG(C){if(!(this instanceof HmacDRBG))return new HmacDRBG(C);this.hash=C.hash,this.predResist=!!C.predResist,this.outLen=this.hash.outSize,this.minEntropy=C.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var I=q.toArray(C.entropy,C.entropyEnc||"hex"),B=q.toArray(C.nonce,C.nonceEnc||"hex"),z=q.toArray(C.pers,C.persEnc||"hex");Q(I.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(I,B,z)}I.exports=HmacDRBG,HmacDRBG.prototype._init=function init(C,I,B){var z=C.concat(I).concat(B);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var q=0;q<this.V.length;q++)this.K[q]=0,this.V[q]=1;this._update(z),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function hmac(){return new z.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function update(C){var I=this._hmac().update(this.V).update([0]);C&&(I=I.update(C)),this.K=I.digest(),this.V=this._hmac().update(this.V).digest(),C&&(this.K=this._hmac().update(this.V).update([1]).update(C).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function reseed(C,I,B,z){"string"!=typeof I&&(z=B,B=I,I=null),C=q.toArray(C,I),B=q.toArray(B,z),Q(C.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(C.concat(B||[])),this._reseed=1},HmacDRBG.prototype.generate=function generate(C,I,B,z){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof I&&(z=B,B=I,I=null),B&&(B=q.toArray(B,z||"hex"),this._update(B));for(var Q=[];Q.length<C;)this.V=this._hmac().update(this.V).digest(),Q=Q.concat(this.V);var ee=Q.slice(0,C);return this._update(B),this._reseed++,q.encode(ee,I)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(C,I,B){"use strict";B.read=function(C,I,B,z,q){var Q,ee,te=8*q-z-1,ie=(1<<te)-1,re=ie>>1,ne=-7,se=B?q-1:0,oe=B?-1:1,ae=C[I+se];for(se+=oe,Q=ae&(1<<-ne)-1,ae>>=-ne,ne+=te;ne>0;Q=256*Q+C[I+se],se+=oe,ne-=8);for(ee=Q&(1<<-ne)-1,Q>>=-ne,ne+=z;ne>0;ee=256*ee+C[I+se],se+=oe,ne-=8);if(0===Q)Q=1-re;else{if(Q===ie)return ee?NaN:1/0*(ae?-1:1);ee+=Math.pow(2,z),Q-=re}return(ae?-1:1)*ee*Math.pow(2,Q-z)},B.write=function(C,I,B,z,q,Q){var ee,te,ie,re=8*Q-q-1,ne=(1<<re)-1,se=ne>>1,oe=23===q?Math.pow(2,-24)-Math.pow(2,-77):0,ae=z?0:Q-1,le=z?1:-1,ue=I<0||0===I&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(te=isNaN(I)?1:0,ee=ne):(ee=Math.floor(Math.log(I)/Math.LN2),I*(ie=Math.pow(2,-ee))<1&&(ee--,ie*=2),(I+=ee+se>=1?oe/ie:oe*Math.pow(2,1-se))*ie>=2&&(ee++,ie/=2),ee+se>=ne?(te=0,ee=ne):ee+se>=1?(te=(I*ie-1)*Math.pow(2,q),ee+=se):(te=I*Math.pow(2,se-1)*Math.pow(2,q),ee=0));q>=8;C[B+ae]=255&te,ae+=le,te/=256,q-=8);for(ee=ee<<q|te,re+=q;re>0;C[B+ae]=255&ee,ae+=le,ee/=256,re-=8);C[B+ae-le]|=128*ue}},{}],440:[function(C,I,B){"use strict";"function"==typeof Object.create?I.exports=function inherits(C,I){I&&(C.super_=I,C.prototype=Object.create(I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:I.exports=function inherits(C,I){if(I){C.super_=I;var TempCtor=function(){};TempCtor.prototype=I.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}}},{}],441:[function(I,z,q){(function(B,Q,ee,te,ie,re,ne,se){(function(){"use strict";!function(I){"object"==typeof q&&void 0!==z?z.exports=I():"function"==typeof C&&C.amd?C([],I):("undefined"!=typeof window?window:void 0!==Q?Q:"undefined"!=typeof self?self:this).JSZip=I()}((function(){return function s(C,B,z){function u(Q,ee){if(!B[Q]){if(!C[Q]){var te="function"==typeof I&&I;if(!ee&&te)return te(Q,!0);if(q)return q(Q,!0);var ie=new Error("Cannot find module '"+Q+"'");throw ie.code="MODULE_NOT_FOUND",ie}var re=B[Q]={exports:{}};C[Q][0].call(re.exports,(function(I){return u(C[Q][1][I]||I)}),re,re.exports,s,C,B,z)}return B[Q].exports}for(var q="function"==typeof I&&I,Q=0;Q<z.length;Q++)u(z[Q]);return u}({1:[function(C,I,B){var z=C("./utils"),q=C("./support"),Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";B.encode=function(C){for(var I,B,q,ee,te,ie,re,ne=[],se=0,oe=C.length,ae=oe,le="string"!==z.getTypeOf(C);se<C.length;)ae=oe-se,q=le?(I=C[se++],B=se<oe?C[se++]:0,se<oe?C[se++]:0):(I=C.charCodeAt(se++),B=se<oe?C.charCodeAt(se++):0,se<oe?C.charCodeAt(se++):0),ee=I>>2,te=(3&I)<<4|B>>4,ie=1<ae?(15&B)<<2|q>>6:64,re=2<ae?63&q:64,ne.push(Q.charAt(ee)+Q.charAt(te)+Q.charAt(ie)+Q.charAt(re));return ne.join("")},B.decode=function(C){var I,B,z,ee,te,ie,re=0,ne=0,se="data:";if(C.substr(0,se.length)===se)throw new Error("Invalid base64 input, it looks like a data url.");var oe,ae=3*(C=C.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(C.charAt(C.length-1)===Q.charAt(64)&&ae--,C.charAt(C.length-2)===Q.charAt(64)&&ae--,ae%1!=0)throw new Error("Invalid base64 input, bad content length.");for(oe=q.uint8array?new Uint8Array(0|ae):new Array(0|ae);re<C.length;)I=Q.indexOf(C.charAt(re++))<<2|(ee=Q.indexOf(C.charAt(re++)))>>4,B=(15&ee)<<4|(te=Q.indexOf(C.charAt(re++)))>>2,z=(3&te)<<6|(ie=Q.indexOf(C.charAt(re++))),oe[ne++]=I,64!==te&&(oe[ne++]=B),64!==ie&&(oe[ne++]=z);return oe}},{"./support":30,"./utils":32}],2:[function(C,I,B){var z=C("./external"),q=C("./stream/DataWorker"),Q=C("./stream/Crc32Probe"),ee=C("./stream/DataLengthProbe");function o(C,I,B,z,q){this.compressedSize=C,this.uncompressedSize=I,this.crc32=B,this.compression=z,this.compressedContent=q}o.prototype={getContentWorker:function(){var C=new q(z.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ee("data_length")),I=this;return C.on("end",(function(){if(this.streamInfo.data_length!==I.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),C},getCompressedWorker:function(){return new q(z.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(C,I,B){return C.pipe(new Q).pipe(new ee("uncompressedSize")).pipe(I.compressWorker(B)).pipe(new ee("compressedSize")).withStreamInfo("compression",I)},I.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(C,I,B){var z=C("./stream/GenericWorker");B.STORE={magic:"\0\0",compressWorker:function(){return new z("STORE compression")},uncompressWorker:function(){return new z("STORE decompression")}},B.DEFLATE=C("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(C,I,B){var z=C("./utils"),q=function(){for(var C,I=[],B=0;B<256;B++){C=B;for(var z=0;z<8;z++)C=1&C?3988292384^C>>>1:C>>>1;I[B]=C}return I}();I.exports=function(C,I){return void 0!==C&&C.length?"string"!==z.getTypeOf(C)?function(C,I,B,z){var Q=q,ee=z+B;C^=-1;for(var te=z;te<ee;te++)C=C>>>8^Q[255&(C^I[te])];return~C}(0|I,C,C.length,0):function(C,I,B,z){var Q=q,ee=z+B;C^=-1;for(var te=z;te<ee;te++)C=C>>>8^Q[255&(C^I.charCodeAt(te))];return~C}(0|I,C,C.length,0):0}},{"./utils":32}],5:[function(C,I,B){B.base64=!1,B.binary=!1,B.dir=!1,B.createFolders=!0,B.date=null,B.compression=null,B.compressionOptions=null,B.comment=null,B.unixPermissions=null,B.dosPermissions=null},{}],6:[function(C,I,B){var z=null;z="undefined"!=typeof Promise?Promise:C("lie"),I.exports={Promise:z}},{lie:37}],7:[function(C,I,B){var z="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,q=C("pako"),Q=C("./utils"),ee=C("./stream/GenericWorker"),te=z?"uint8array":"array";function h(C,I){ee.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=I,this.meta={}}B.magic="\b\0",Q.inherits(h,ee),h.prototype.processChunk=function(C){this.meta=C.meta,null===this._pako&&this._createPako(),this._pako.push(Q.transformTo(te,C.data),!1)},h.prototype.flush=function(){ee.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){ee.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new q[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(I){C.push({data:I,meta:C.meta})}},B.compressWorker=function(C){return new h("Deflate",C)},B.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(C,I,B){function A(C,I){var B,z="";for(B=0;B<I;B++)z+=String.fromCharCode(255&C),C>>>=8;return z}function n(C,I,B,q,ie,re){var ne,se,oe=C.file,ae=C.compression,le=re!==Q.utf8encode,ue=z.transformTo("string",re(oe.name)),de=z.transformTo("string",Q.utf8encode(oe.name)),ce=oe.comment,he=z.transformTo("string",re(ce)),fe=z.transformTo("string",Q.utf8encode(ce)),pe=de.length!==oe.name.length,me=fe.length!==ce.length,ge="",ve="",ye="",be=oe.dir,Ce=oe.date,we={crc32:0,compressedSize:0,uncompressedSize:0};I&&!B||(we.crc32=C.crc32,we.compressedSize=C.compressedSize,we.uncompressedSize=C.uncompressedSize);var _e=0;I&&(_e|=8),le||!pe&&!me||(_e|=2048);var Se=0,xe=0;be&&(Se|=16),"UNIX"===ie?(xe=798,Se|=function(C,I){var B=C;return C||(B=I?16893:33204),(65535&B)<<16}(oe.unixPermissions,be)):(xe=20,Se|=function(C){return 63&(C||0)}(oe.dosPermissions)),ne=Ce.getUTCHours(),ne<<=6,ne|=Ce.getUTCMinutes(),ne<<=5,ne|=Ce.getUTCSeconds()/2,se=Ce.getUTCFullYear()-1980,se<<=4,se|=Ce.getUTCMonth()+1,se<<=5,se|=Ce.getUTCDate(),pe&&(ve=A(1,1)+A(ee(ue),4)+de,ge+="up"+A(ve.length,2)+ve),me&&(ye=A(1,1)+A(ee(he),4)+fe,ge+="uc"+A(ye.length,2)+ye);var ke="";return ke+="\n\0",ke+=A(_e,2),ke+=ae.magic,ke+=A(ne,2),ke+=A(se,2),ke+=A(we.crc32,4),ke+=A(we.compressedSize,4),ke+=A(we.uncompressedSize,4),ke+=A(ue.length,2),ke+=A(ge.length,2),{fileRecord:te.LOCAL_FILE_HEADER+ke+ue+ge,dirRecord:te.CENTRAL_FILE_HEADER+A(xe,2)+ke+A(he.length,2)+"\0\0\0\0"+A(Se,4)+A(q,4)+ue+ge+he}}var z=C("../utils"),q=C("../stream/GenericWorker"),Q=C("../utf8"),ee=C("../crc32"),te=C("../signature");function s(C,I,B,z){q.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=B,this.encodeFileName=z,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}z.inherits(s,q),s.prototype.push=function(C){var I=C.meta.percent||0,B=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,q.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:B?(I+100*(B-z-1))/B:100}}))},s.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var I=this.streamFiles&&!C.file.dir;if(I){var B=n(C,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(C){this.accumulate=!1;var I=this.streamFiles&&!C.file.dir,B=n(C,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),I)this.push({data:function(C){return te.DATA_DESCRIPTOR+A(C.crc32,4)+A(C.compressedSize,4)+A(C.uncompressedSize,4)}(C),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var C=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var B=this.bytesWritten-C,q=function(C,I,B,q,Q){var ee=z.transformTo("string",Q(q));return te.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(C,2)+A(C,2)+A(I,4)+A(B,4)+A(ee.length,2)+ee}(this.dirRecords.length,B,C,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(C){this._sources.push(C);var I=this;return C.on("data",(function(C){I.processChunk(C)})),C.on("end",(function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()})),C.on("error",(function(C){I.error(C)})),this},s.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(C){var I=this._sources;if(!q.prototype.error.call(this,C))return!1;for(var B=0;B<I.length;B++)try{I[B].error(C)}catch(C){}return!0},s.prototype.lock=function(){q.prototype.lock.call(this);for(var C=this._sources,I=0;I<C.length;I++)C[I].lock()},I.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(C,I,B){var z=C("../compressions"),q=C("./ZipFileWorker");B.generateWorker=function(C,I,B){var Q=new q(I.streamFiles,B,I.platform,I.encodeFileName),ee=0;try{C.forEach((function(C,B){ee++;var q=function(C,I){var B=C||I,q=z[B];if(!q)throw new Error(B+" is not a valid compression method !");return q}(B.options.compression,I.compression),te=B.options.compressionOptions||I.compressionOptions||{},ie=B.dir,re=B.date;B._compressWorker(q,te).withStreamInfo("file",{name:C,dir:ie,date:re,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(Q)})),Q.entriesCount=ee}catch(C){Q.error(C)}return Q}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(C,I,B){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var C=new n;for(var I in this)"function"!=typeof this[I]&&(C[I]=this[I]);return C}}(n.prototype=C("./object")).loadAsync=C("./load"),n.support=C("./support"),n.defaults=C("./defaults"),n.version="3.10.1",n.loadAsync=function(C,I){return(new n).loadAsync(C,I)},n.external=C("./external"),I.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(C,I,B){var z=C("./utils"),q=C("./external"),Q=C("./utf8"),ee=C("./zipEntries"),te=C("./stream/Crc32Probe"),ie=C("./nodejsUtils");function f(C){return new q.Promise((function(I,B){var z=C.decompressed.getContentWorker().pipe(new te);z.on("error",(function(C){B(C)})).on("end",(function(){z.streamInfo.crc32!==C.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):I()})).resume()}))}I.exports=function(C,I){var B=this;return I=z.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Q.utf8decode}),ie.isNode&&ie.isStream(C)?q.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):z.prepareContent("the loaded zip file",C,!0,I.optimizedBinaryString,I.base64).then((function(C){var B=new ee(I);return B.load(C),B})).then((function(C){var B=[q.Promise.resolve(C)],z=C.files;if(I.checkCRC32)for(var Q=0;Q<z.length;Q++)B.push(f(z[Q]));return q.Promise.all(B)})).then((function(C){for(var q=C.shift(),Q=q.files,ee=0;ee<Q.length;ee++){var te=Q[ee],ie=te.fileNameStr,re=z.resolve(te.fileNameStr);B.file(re,te.decompressed,{binary:!0,optimizedBinaryString:!0,date:te.date,dir:te.dir,comment:te.fileCommentStr.length?te.fileCommentStr:null,unixPermissions:te.unixPermissions,dosPermissions:te.dosPermissions,createFolders:I.createFolders}),te.dir||(B.file(re).unsafeOriginalName=ie)}return q.zipComment.length&&(B.comment=q.zipComment),B}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(C,I,B){var z=C("../utils"),q=C("../stream/GenericWorker");function s(C,I){q.call(this,"Nodejs stream input adapter for "+C),this._upstreamEnded=!1,this._bindStream(I)}z.inherits(s,q),s.prototype._bindStream=function(C){var I=this;(this._stream=C).pause(),C.on("data",(function(C){I.push({data:C,meta:{percent:0}})})).on("error",(function(C){I.isPaused?this.generatedError=C:I.error(C)})).on("end",(function(){I.isPaused?I._upstreamEnded=!0:I.end()}))},s.prototype.pause=function(){return!!q.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},I.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(C,I,B){var z=C("readable-stream").Readable;function n(C,I,B){z.call(this,I),this._helper=C;var q=this;C.on("data",(function(C,I){q.push(C)||q._helper.pause(),B&&B(I)})).on("error",(function(C){q.emit("error",C)})).on("end",(function(){q.push(null)}))}C("../utils").inherits(n,z),n.prototype._read=function(){this._helper.resume()},I.exports=n},{"../utils":32,"readable-stream":16}],14:[function(C,I,B){I.exports={isNode:void 0!==ee,newBufferFrom:function(C,I){if(ee.from&&ee.from!==Uint8Array.from)return ee.from(C,I);if("number"==typeof C)throw new Error('The "data" argument must not be a number');return new ee(C,I)},allocBuffer:function(C){if(ee.alloc)return ee.alloc(C);var I=new ee(C);return I.fill(0),I},isBuffer:function(C){return ee.isBuffer(C)},isStream:function(C){return C&&"function"==typeof C.on&&"function"==typeof C.pause&&"function"==typeof C.resume}}},{}],15:[function(C,I,B){function s(C,I,B){var z,ee=q.getTypeOf(I),ne=q.extend(B||{},te);ne.date=ne.date||new Date,null!==ne.compression&&(ne.compression=ne.compression.toUpperCase()),"string"==typeof ne.unixPermissions&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(C=g(C)),ne.createFolders&&(z=_(C))&&b.call(this,z,!0);var ae="string"===ee&&!1===ne.binary&&!1===ne.base64;B&&void 0!==B.binary||(ne.binary=!ae),(I instanceof ie&&0===I.uncompressedSize||ne.dir||!I||0===I.length)&&(ne.base64=!1,ne.binary=!0,I="",ne.compression="STORE",ee="string");var le=null;le=I instanceof ie||I instanceof Q?I:se.isNode&&se.isStream(I)?new oe(C,I):q.prepareContent(C,I,ne.binary,ne.optimizedBinaryString,ne.base64);var ue=new re(C,le,ne);this.files[C]=ue}var z=C("./utf8"),q=C("./utils"),Q=C("./stream/GenericWorker"),ee=C("./stream/StreamHelper"),te=C("./defaults"),ie=C("./compressedObject"),re=C("./zipObject"),ne=C("./generate"),se=C("./nodejsUtils"),oe=C("./nodejs/NodejsStreamInputAdapter"),_=function(C){"/"===C.slice(-1)&&(C=C.substring(0,C.length-1));var I=C.lastIndexOf("/");return 0<I?C.substring(0,I):""},g=function(C){return"/"!==C.slice(-1)&&(C+="/"),C},b=function(C,I){return I=void 0!==I?I:te.createFolders,C=g(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:I}),this.files[C]};function h(C){return"[object RegExp]"===Object.prototype.toString.call(C)}var ae={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var I,B,z;for(I in this.files)z=this.files[I],(B=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&C(B,z)},filter:function(C){var I=[];return this.forEach((function(B,z){C(B,z)&&I.push(z)})),I},file:function(C,I,B){if(1!==arguments.length)return C=this.root+C,s.call(this,C,I,B),this;if(h(C)){var z=C;return this.filter((function(C,I){return!I.dir&&z.test(C)}))}var q=this.files[this.root+C];return q&&!q.dir?q:null},folder:function(C){if(!C)return this;if(h(C))return this.filter((function(I,B){return B.dir&&C.test(I)}));var I=this.root+C,B=b.call(this,I),z=this.clone();return z.root=B.name,z},remove:function(C){C=this.root+C;var I=this.files[C];if(I||("/"!==C.slice(-1)&&(C+="/"),I=this.files[C]),I&&!I.dir)delete this.files[C];else for(var B=this.filter((function(I,B){return B.name.slice(0,C.length)===C})),z=0;z<B.length;z++)delete this.files[B[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var I,B={};try{if((B=q.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:z.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),"binarystring"===B.type&&(B.type="string"),!B.type)throw new Error("No output type specified.");q.checkSupport(B.type),"darwin"!==B.platform&&"freebsd"!==B.platform&&"linux"!==B.platform&&"sunos"!==B.platform||(B.platform="UNIX"),"win32"===B.platform&&(B.platform="DOS");var te=B.comment||this.comment||"";I=ne.generateWorker(this,B,te)}catch(C){(I=new Q("error")).error(C)}return new ee(I,B.type||"string",B.mimeType)},generateAsync:function(C,I){return this.generateInternalStream(C).accumulate(I)},generateNodeStream:function(C,I){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(I)}};I.exports=ae},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(C,I,B){I.exports=C("stream")},{stream:void 0}],17:[function(C,I,B){var z=C("./DataReader");function i(C){z.call(this,C);for(var I=0;I<this.data.length;I++)C[I]=255&C[I]}C("../utils").inherits(i,z),i.prototype.byteAt=function(C){return this.data[this.zero+C]},i.prototype.lastIndexOfSignature=function(C){for(var I=C.charCodeAt(0),B=C.charCodeAt(1),z=C.charCodeAt(2),q=C.charCodeAt(3),Q=this.length-4;0<=Q;--Q)if(this.data[Q]===I&&this.data[Q+1]===B&&this.data[Q+2]===z&&this.data[Q+3]===q)return Q-this.zero;return-1},i.prototype.readAndCheckSignature=function(C){var I=C.charCodeAt(0),B=C.charCodeAt(1),z=C.charCodeAt(2),q=C.charCodeAt(3),Q=this.readData(4);return I===Q[0]&&B===Q[1]&&z===Q[2]&&q===Q[3]},i.prototype.readData=function(C){if(this.checkOffset(C),0===C)return[];var I=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,I},I.exports=i},{"../utils":32,"./DataReader":18}],18:[function(C,I,B){var z=C("../utils");function i(C){this.data=C,this.length=C.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(C){this.checkIndex(this.index+C)},checkIndex:function(C){if(this.length<this.zero+C||C<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+C+"). Corrupted zip ?")},setIndex:function(C){this.checkIndex(C),this.index=C},skip:function(C){this.setIndex(this.index+C)},byteAt:function(){},readInt:function(C){var I,B=0;for(this.checkOffset(C),I=this.index+C-1;I>=this.index;I--)B=(B<<8)+this.byteAt(I);return this.index+=C,B},readString:function(C){return z.transformTo("string",this.readData(C))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var C=this.readInt(4);return new Date(Date.UTC(1980+(C>>25&127),(C>>21&15)-1,C>>16&31,C>>11&31,C>>5&63,(31&C)<<1))}},I.exports=i},{"../utils":32}],19:[function(C,I,B){var z=C("./Uint8ArrayReader");function i(C){z.call(this,C)}C("../utils").inherits(i,z),i.prototype.readData=function(C){this.checkOffset(C);var I=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,I},I.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(C,I,B){var z=C("./DataReader");function i(C){z.call(this,C)}C("../utils").inherits(i,z),i.prototype.byteAt=function(C){return this.data.charCodeAt(this.zero+C)},i.prototype.lastIndexOfSignature=function(C){return this.data.lastIndexOf(C)-this.zero},i.prototype.readAndCheckSignature=function(C){return C===this.readData(4)},i.prototype.readData=function(C){this.checkOffset(C);var I=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,I},I.exports=i},{"../utils":32,"./DataReader":18}],21:[function(C,I,B){var z=C("./ArrayReader");function i(C){z.call(this,C)}C("../utils").inherits(i,z),i.prototype.readData=function(C){if(this.checkOffset(C),0===C)return new Uint8Array(0);var I=this.data.subarray(this.zero+this.index,this.zero+this.index+C);return this.index+=C,I},I.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(C,I,B){var z=C("../utils"),q=C("../support"),Q=C("./ArrayReader"),ee=C("./StringReader"),te=C("./NodeBufferReader"),ie=C("./Uint8ArrayReader");I.exports=function(C){var I=z.getTypeOf(C);return z.checkSupport(I),"string"!==I||q.uint8array?"nodebuffer"===I?new te(C):q.uint8array?new ie(z.transformTo("uint8array",C)):new Q(z.transformTo("array",C)):new ee(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(C,I,B){B.LOCAL_FILE_HEADER="PK",B.CENTRAL_FILE_HEADER="PK",B.CENTRAL_DIRECTORY_END="PK",B.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",B.ZIP64_CENTRAL_DIRECTORY_END="PK",B.DATA_DESCRIPTOR="PK\b"},{}],24:[function(C,I,B){var z=C("./GenericWorker"),q=C("../utils");function s(C){z.call(this,"ConvertWorker to "+C),this.destType=C}q.inherits(s,z),s.prototype.processChunk=function(C){this.push({data:q.transformTo(this.destType,C.data),meta:C.meta})},I.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(C,I,B){var z=C("./GenericWorker"),q=C("../crc32");function s(){z.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}C("../utils").inherits(s,z),s.prototype.processChunk=function(C){this.streamInfo.crc32=q(C.data,this.streamInfo.crc32||0),this.push(C)},I.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(C,I,B){var z=C("../utils"),q=C("./GenericWorker");function s(C){q.call(this,"DataLengthProbe for "+C),this.propName=C,this.withStreamInfo(C,0)}z.inherits(s,q),s.prototype.processChunk=function(C){if(C){var I=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=I+C.data.length}q.prototype.processChunk.call(this,C)},I.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(C,I,B){var z=C("../utils"),q=C("./GenericWorker");function s(C){q.call(this,"DataWorker");var I=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,C.then((function(C){I.dataIsReady=!0,I.data=C,I.max=C&&C.length||0,I.type=z.getTypeOf(C),I.isPaused||I._tickAndRepeat()}),(function(C){I.error(C)}))}z.inherits(s,q),s.prototype.cleanUp=function(){q.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!q.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,z.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(z.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var C=null,I=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":C=this.data.substring(this.index,I);break;case"uint8array":C=this.data.subarray(this.index,I);break;case"array":case"nodebuffer":C=this.data.slice(this.index,I)}return this.index=I,this.push({data:C,meta:{percent:this.max?this.index/this.max*100:0}})},I.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(C,I,B){function n(C){this.name=C||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(C){this.emit("data",C)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(C){this.emit("error",C)}return!0},error:function(C){return!this.isFinished&&(this.isPaused?this.generatedError=C:(this.isFinished=!0,this.emit("error",C),this.previous&&this.previous.error(C),this.cleanUp()),!0)},on:function(C,I){return this._listeners[C].push(I),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(C,I){if(this._listeners[C])for(var B=0;B<this._listeners[C].length;B++)this._listeners[C][B].call(this,I)},pipe:function(C){return C.registerPrevious(this)},registerPrevious:function(C){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=C.streamInfo,this.mergeStreamInfo(),this.previous=C;var I=this;return C.on("data",(function(C){I.processChunk(C)})),C.on("end",(function(){I.end()})),C.on("error",(function(C){I.error(C)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var C=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),C=!0),this.previous&&this.previous.resume(),!C},flush:function(){},processChunk:function(C){this.push(C)},withStreamInfo:function(C,I){return this.extraStreamInfo[C]=I,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var C in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,C)&&(this.streamInfo[C]=this.extraStreamInfo[C])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var C="Worker "+this.name;return this.previous?this.previous+" -> "+C:C}},I.exports=n},{}],29:[function(C,I,B){var z=C("../utils"),q=C("./ConvertWorker"),Q=C("./GenericWorker"),te=C("../base64"),ie=C("../support"),re=C("../external"),ne=null;if(ie.nodestream)try{ne=C("../nodejs/NodejsStreamOutputAdapter")}catch(C){}function l(C,I){return new re.Promise((function(B,q){var Q=[],ie=C._internalType,re=C._outputType,ne=C._mimeType;C.on("data",(function(C,B){Q.push(C),I&&I(B)})).on("error",(function(C){Q=[],q(C)})).on("end",(function(){try{var C=function(C,I,B){switch(C){case"blob":return z.newBlob(z.transformTo("arraybuffer",I),B);case"base64":return te.encode(I);default:return z.transformTo(C,I)}}(re,function(C,I){var B,z=0,q=null,Q=0;for(B=0;B<I.length;B++)Q+=I[B].length;switch(C){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(q=new Uint8Array(Q),B=0;B<I.length;B++)q.set(I[B],z),z+=I[B].length;return q;case"nodebuffer":return ee.concat(I);default:throw new Error("concat : unsupported type '"+C+"'")}}(ie,Q),ne);B(C)}catch(C){q(C)}Q=[]})).resume()}))}function f(C,I,B){var ee=I;switch(I){case"blob":case"arraybuffer":ee="uint8array";break;case"base64":ee="string"}try{this._internalType=ee,this._outputType=I,this._mimeType=B,z.checkSupport(ee),this._worker=C.pipe(new q(ee)),C.lock()}catch(C){this._worker=new Q("error"),this._worker.error(C)}}f.prototype={accumulate:function(C){return l(this,C)},on:function(C,I){var B=this;return"data"===C?this._worker.on(C,(function(C){I.call(B,C.data,C.meta)})):this._worker.on(C,(function(){z.delay(I,arguments,B)})),this},resume:function(){return z.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(z.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new ne(this,{objectMode:"nodebuffer"!==this._outputType},C)}},I.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(C,I,B){if(B.base64=!0,B.array=!0,B.string=!0,B.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,B.nodebuffer=void 0!==ee,B.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)B.blob=!1;else{var z=new ArrayBuffer(0);try{B.blob=0===new Blob([z],{type:"application/zip"}).size}catch(C){try{var q=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);q.append(z),B.blob=0===q.getBlob("application/zip").size}catch(C){B.blob=!1}}}try{B.nodestream=!!C("readable-stream").Readable}catch(C){B.nodestream=!1}},{"readable-stream":16}],31:[function(C,I,B){for(var z=C("./utils"),q=C("./support"),Q=C("./nodejsUtils"),ee=C("./stream/GenericWorker"),te=new Array(256),ie=0;ie<256;ie++)te[ie]=252<=ie?6:248<=ie?5:240<=ie?4:224<=ie?3:192<=ie?2:1;function a(){ee.call(this,"utf-8 decode"),this.leftOver=null}function l(){ee.call(this,"utf-8 encode")}te[254]=te[254]=1,B.utf8encode=function(C){return q.nodebuffer?Q.newBufferFrom(C,"utf-8"):function(C){var I,B,z,Q,ee,te=C.length,ie=0;for(Q=0;Q<te;Q++)55296==(64512&(B=C.charCodeAt(Q)))&&Q+1<te&&56320==(64512&(z=C.charCodeAt(Q+1)))&&(B=65536+(B-55296<<10)+(z-56320),Q++),ie+=B<128?1:B<2048?2:B<65536?3:4;for(I=q.uint8array?new Uint8Array(ie):new Array(ie),Q=ee=0;ee<ie;Q++)55296==(64512&(B=C.charCodeAt(Q)))&&Q+1<te&&56320==(64512&(z=C.charCodeAt(Q+1)))&&(B=65536+(B-55296<<10)+(z-56320),Q++),B<128?I[ee++]=B:(B<2048?I[ee++]=192|B>>>6:(B<65536?I[ee++]=224|B>>>12:(I[ee++]=240|B>>>18,I[ee++]=128|B>>>12&63),I[ee++]=128|B>>>6&63),I[ee++]=128|63&B);return I}(C)},B.utf8decode=function(C){return q.nodebuffer?z.transformTo("nodebuffer",C).toString("utf-8"):function(C){var I,B,q,Q,ee=C.length,ie=new Array(2*ee);for(I=B=0;I<ee;)if((q=C[I++])<128)ie[B++]=q;else if(4<(Q=te[q]))ie[B++]=65533,I+=Q-1;else{for(q&=2===Q?31:3===Q?15:7;1<Q&&I<ee;)q=q<<6|63&C[I++],Q--;1<Q?ie[B++]=65533:q<65536?ie[B++]=q:(q-=65536,ie[B++]=55296|q>>10&1023,ie[B++]=56320|1023&q)}return ie.length!==B&&(ie.subarray?ie=ie.subarray(0,B):ie.length=B),z.applyFromCharCode(ie)}(C=z.transformTo(q.uint8array?"uint8array":"array",C))},z.inherits(a,ee),a.prototype.processChunk=function(C){var I=z.transformTo(q.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(q.uint8array){var Q=I;(I=new Uint8Array(Q.length+this.leftOver.length)).set(this.leftOver,0),I.set(Q,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var ee=function(C,I){var B;for((I=I||C.length)>C.length&&(I=C.length),B=I-1;0<=B&&128==(192&C[B]);)B--;return B<0||0===B?I:B+te[C[B]]>I?B:I}(I),ie=I;ee!==I.length&&(q.uint8array?(ie=I.subarray(0,ee),this.leftOver=I.subarray(ee,I.length)):(ie=I.slice(0,ee),this.leftOver=I.slice(ee,I.length))),this.push({data:B.utf8decode(ie),meta:C.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:B.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},B.Utf8DecodeWorker=a,z.inherits(l,ee),l.prototype.processChunk=function(C){this.push({data:B.utf8encode(C.data),meta:C.meta})},B.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(C,I,B){var z=C("./support"),q=C("./base64"),Q=C("./nodejsUtils"),ee=C("./external");function n(C){return C}function l(C,I){for(var B=0;B<C.length;++B)I[B]=255&C.charCodeAt(B);return I}C("setimmediate"),B.newBlob=function(C,I){B.checkSupport("blob");try{return new Blob([C],{type:I})}catch(B){try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return z.append(C),z.getBlob(I)}catch(C){throw new Error("Bug : can't construct the Blob.")}}};var te={stringifyByChunk:function(C,I,B){var z=[],q=0,Q=C.length;if(Q<=B)return String.fromCharCode.apply(null,C);for(;q<Q;)"array"===I||"nodebuffer"===I?z.push(String.fromCharCode.apply(null,C.slice(q,Math.min(q+B,Q)))):z.push(String.fromCharCode.apply(null,C.subarray(q,Math.min(q+B,Q)))),q+=B;return z.join("")},stringifyByChar:function(C){for(var I="",B=0;B<C.length;B++)I+=String.fromCharCode(C[B]);return I},applyCanBeUsed:{uint8array:function(){try{return z.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(C){return!1}}(),nodebuffer:function(){try{return z.nodebuffer&&1===String.fromCharCode.apply(null,Q.allocBuffer(1)).length}catch(C){return!1}}()}};function s(C){var I=65536,z=B.getTypeOf(C),q=!0;if("uint8array"===z?q=te.applyCanBeUsed.uint8array:"nodebuffer"===z&&(q=te.applyCanBeUsed.nodebuffer),q)for(;1<I;)try{return te.stringifyByChunk(C,z,I)}catch(C){I=Math.floor(I/2)}return te.stringifyByChar(C)}function f(C,I){for(var B=0;B<C.length;B++)I[B]=C[B];return I}B.applyFromCharCode=s;var ie={};ie.string={string:n,array:function(C){return l(C,new Array(C.length))},arraybuffer:function(C){return ie.string.uint8array(C).buffer},uint8array:function(C){return l(C,new Uint8Array(C.length))},nodebuffer:function(C){return l(C,Q.allocBuffer(C.length))}},ie.array={string:s,array:n,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return Q.newBufferFrom(C)}},ie.arraybuffer={string:function(C){return s(new Uint8Array(C))},array:function(C){return f(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:n,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return Q.newBufferFrom(new Uint8Array(C))}},ie.uint8array={string:s,array:function(C){return f(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:n,nodebuffer:function(C){return Q.newBufferFrom(C)}},ie.nodebuffer={string:s,array:function(C){return f(C,new Array(C.length))},arraybuffer:function(C){return ie.nodebuffer.uint8array(C).buffer},uint8array:function(C){return f(C,new Uint8Array(C.length))},nodebuffer:n},B.transformTo=function(C,I){if(I=I||"",!C)return I;B.checkSupport(C);var z=B.getTypeOf(I);return ie[z][C](I)},B.resolve=function(C){for(var I=C.split("/"),B=[],z=0;z<I.length;z++){var q=I[z];"."===q||""===q&&0!==z&&z!==I.length-1||(".."===q?B.pop():B.push(q))}return B.join("/")},B.getTypeOf=function(C){return"string"==typeof C?"string":"[object Array]"===Object.prototype.toString.call(C)?"array":z.nodebuffer&&Q.isBuffer(C)?"nodebuffer":z.uint8array&&C instanceof Uint8Array?"uint8array":z.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},B.checkSupport=function(C){if(!z[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},B.MAX_VALUE_16BITS=65535,B.MAX_VALUE_32BITS=-1,B.pretty=function(C){var I,B,z="";for(B=0;B<(C||"").length;B++)z+="\\x"+((I=C.charCodeAt(B))<16?"0":"")+I.toString(16).toUpperCase();return z},B.delay=function(C,I,B){se((function(){C.apply(B||null,I||[])}))},B.inherits=function(C,I){function r(){}r.prototype=I.prototype,C.prototype=new r},B.extend=function(){var C,I,B={};for(C=0;C<arguments.length;C++)for(I in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],I)&&void 0===B[I]&&(B[I]=arguments[C][I]);return B},B.prepareContent=function(C,I,Q,te,ie){return ee.Promise.resolve(I).then((function(C){return z.blob&&(C instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C)))&&"undefined"!=typeof FileReader?new ee.Promise((function(I,B){var z=new FileReader;z.onload=function(C){I(C.target.result)},z.onerror=function(C){B(C.target.error)},z.readAsArrayBuffer(C)})):C})).then((function(I){var re=B.getTypeOf(I);return re?("arraybuffer"===re?I=B.transformTo("uint8array",I):"string"===re&&(ie?I=q.decode(I):Q&&!0!==te&&(I=function(C){return l(C,z.uint8array?new Uint8Array(C.length):new Array(C.length))}(I))),I):ee.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(C,I,B){var z=C("./reader/readerFor"),q=C("./utils"),Q=C("./signature"),ee=C("./zipEntry"),te=C("./support");function h(C){this.files=[],this.loadOptions=C}h.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+q.pretty(I)+", expected "+q.pretty(C)+")")}},isSignature:function(C,I){var B=this.reader.index;this.reader.setIndex(C);var z=this.reader.readString(4)===I;return this.reader.setIndex(B),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),I=te.uint8array?"uint8array":"array",B=q.transformTo(I,C);this.zipComment=this.loadOptions.decodeFileName(B)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,I,B,z=this.zip64EndOfCentralSize-44;0<z;)C=this.reader.readInt(2),I=this.reader.readInt(4),B=this.reader.readData(I),this.zip64ExtensibleData[C]={id:C,length:I,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,I;for(C=0;C<this.files.length;C++)I=this.files[C],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(Q.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Q.CENTRAL_FILE_HEADER);)(C=new ee({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(Q.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,Q.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var I=C;if(this.checkSignature(Q.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===q.MAX_VALUE_16BITS||this.diskWithCentralDirStart===q.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===q.MAX_VALUE_16BITS||this.centralDirRecords===q.MAX_VALUE_16BITS||this.centralDirSize===q.MAX_VALUE_32BITS||this.centralDirOffset===q.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(Q.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(Q.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Q.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Q.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Q.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var B=this.centralDirOffset+this.centralDirSize;this.zip64&&(B+=20,B+=12+this.zip64EndOfCentralSize);var z=I-B;if(0<z)this.isSignature(I,Q.CENTRAL_FILE_HEADER)||(this.reader.zero=z);else if(z<0)throw new Error("Corrupted zip: missing "+Math.abs(z)+" bytes.")},prepareReader:function(C){this.reader=z(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},I.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(C,I,B){var z=C("./reader/readerFor"),q=C("./utils"),Q=C("./compressedObject"),ee=C("./crc32"),te=C("./utf8"),ie=C("./compressions"),re=C("./support");function l(C,I){this.options=C,this.loadOptions=I}l.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(C){var I,B;if(C.skip(22),this.fileNameLength=C.readInt(2),B=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(B),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(I=function(C){for(var I in ie)if(Object.prototype.hasOwnProperty.call(ie,I)&&ie[I].magic===C)return ie[I];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+q.pretty(this.compressionMethod)+" unknown (inner file : "+q.transformTo("string",this.fileName)+")");this.decompressed=new Q(this.compressedSize,this.uncompressedSize,this.crc32,I,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var I=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(I),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==C&&(this.dosPermissions=63&this.externalFileAttributes),3==C&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=z(this.extraFields[1].value);this.uncompressedSize===q.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===q.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===q.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===q.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var I,B,z,q=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<q;)I=C.readInt(2),B=C.readInt(2),z=C.readData(B),this.extraFields[I]={id:I,length:B,value:z};C.setIndex(q)},handleUTF8:function(){var C=re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=te.utf8decode(this.fileName),this.fileCommentStr=te.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(null!==I)this.fileNameStr=I;else{var B=q.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var z=this.findExtraFieldUnicodeComment();if(null!==z)this.fileCommentStr=z;else{var Q=q.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Q)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var I=z(C.value);return 1!==I.readInt(1)||ee(this.fileName)!==I.readInt(4)?null:te.utf8decode(I.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var I=z(C.value);return 1!==I.readInt(1)||ee(this.fileComment)!==I.readInt(4)?null:te.utf8decode(I.readData(C.length-5))}return null}},I.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(C,I,B){function n(C,I,B){this.name=C,this.dir=B.dir,this.date=B.date,this.comment=B.comment,this.unixPermissions=B.unixPermissions,this.dosPermissions=B.dosPermissions,this._data=I,this._dataBinary=B.binary,this.options={compression:B.compression,compressionOptions:B.compressionOptions}}var z=C("./stream/StreamHelper"),q=C("./stream/DataWorker"),Q=C("./utf8"),ee=C("./compressedObject"),te=C("./stream/GenericWorker");n.prototype={internalStream:function(C){var I=null,B="string";try{if(!C)throw new Error("No output type specified.");var q="string"===(B=C.toLowerCase())||"text"===B;"binarystring"!==B&&"text"!==B||(B="string"),I=this._decompressWorker();var ee=!this._dataBinary;ee&&!q&&(I=I.pipe(new Q.Utf8EncodeWorker)),!ee&&q&&(I=I.pipe(new Q.Utf8DecodeWorker))}catch(C){(I=new te("error")).error(C)}return new z(I,B,"")},async:function(C,I){return this.internalStream(C).accumulate(I)},nodeStream:function(C,I){return this.internalStream(C||"nodebuffer").toNodejsStream(I)},_compressWorker:function(C,I){if(this._data instanceof ee&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var B=this._decompressWorker();return this._dataBinary||(B=B.pipe(new Q.Utf8EncodeWorker)),ee.createWorkerFrom(B,C,I)},_decompressWorker:function(){return this._data instanceof ee?this._data.getContentWorker():this._data instanceof te?this._data:new q(this._data)}};for(var ie=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},re=0;re<ie.length;re++)n.prototype[ie[re]]=l;I.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(C,I,B){(function(C){var B,z,q=C.MutationObserver||C.WebKitMutationObserver;if(q){var Q=0,ee=new q(u),te=C.document.createTextNode("");ee.observe(te,{characterData:!0}),B=function(){te.data=Q=++Q%2}}else if(C.setImmediate||void 0===C.MessageChannel)B="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var I=C.document.createElement("script");I.onreadystatechange=function(){u(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},C.document.documentElement.appendChild(I)}:function(){setTimeout(u,0)};else{var ie=new C.MessageChannel;ie.port1.onmessage=u,B=function(){ie.port2.postMessage(0)}}var re=[];function u(){var C,I;z=!0;for(var B=re.length;B;){for(I=re,re=[],C=-1;++C<B;)I[C]();B=re.length}z=!1}I.exports=function(C){1!==re.push(C)||z||B()}}).call(this,void 0!==Q?Q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(C,I,B){var z=C("immediate");function u(){}var q={},Q=["REJECTED"],ee=["FULFILLED"],te=["PENDING"];function o(C){if("function"!=typeof C)throw new TypeError("resolver must be a function");this.state=te,this.queue=[],this.outcome=void 0,C!==u&&d(this,C)}function h(C,I,B){this.promise=C,"function"==typeof I&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),"function"==typeof B&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function f(C,I,B){z((function(){var z;try{z=I(B)}catch(z){return q.reject(C,z)}z===C?q.reject(C,new TypeError("Cannot resolve promise with itself")):q.resolve(C,z)}))}function c(C){var I=C&&C.then;if(C&&("object"==typeof C||"function"==typeof C)&&"function"==typeof I)return function(){I.apply(C,arguments)}}function d(C,I){var B=!1;function n(I){B||(B=!0,q.reject(C,I))}function i(I){B||(B=!0,q.resolve(C,I))}var z=p((function(){I(i,n)}));"error"===z.status&&n(z.value)}function p(C,I){var B={};try{B.value=C(I),B.status="success"}catch(C){B.status="error",B.value=C}return B}(I.exports=o).prototype.finally=function(C){if("function"!=typeof C)return this;var I=this.constructor;return this.then((function(B){return I.resolve(C()).then((function(){return B}))}),(function(B){return I.resolve(C()).then((function(){throw B}))}))},o.prototype.catch=function(C){return this.then(null,C)},o.prototype.then=function(C,I){if("function"!=typeof C&&this.state===ee||"function"!=typeof I&&this.state===Q)return this;var B=new this.constructor(u);return this.state!==te?f(B,this.state===ee?C:I,this.outcome):this.queue.push(new h(B,C,I)),B},h.prototype.callFulfilled=function(C){q.resolve(this.promise,C)},h.prototype.otherCallFulfilled=function(C){f(this.promise,this.onFulfilled,C)},h.prototype.callRejected=function(C){q.reject(this.promise,C)},h.prototype.otherCallRejected=function(C){f(this.promise,this.onRejected,C)},q.resolve=function(C,I){var B=p(c,I);if("error"===B.status)return q.reject(C,B.value);var z=B.value;if(z)d(C,z);else{C.state=ee,C.outcome=I;for(var Q=-1,te=C.queue.length;++Q<te;)C.queue[Q].callFulfilled(I)}return C},q.reject=function(C,I){C.state=Q,C.outcome=I;for(var B=-1,z=C.queue.length;++B<z;)C.queue[B].callRejected(I);return C},o.resolve=function(C){return C instanceof this?C:q.resolve(new this(u),C)},o.reject=function(C){var I=new this(u);return q.reject(I,C)},o.all=function(C){var I=this;if("[object Array]"!==Object.prototype.toString.call(C))return this.reject(new TypeError("must be an array"));var B=C.length,z=!1;if(!B)return this.resolve([]);for(var Q=new Array(B),ee=0,te=-1,ie=new this(u);++te<B;)h(C[te],te);return ie;function h(C,te){I.resolve(C).then((function(C){Q[te]=C,++ee!==B||z||(z=!0,q.resolve(ie,Q))}),(function(C){z||(z=!0,q.reject(ie,C))}))}},o.race=function(C){var I=this;if("[object Array]"!==Object.prototype.toString.call(C))return this.reject(new TypeError("must be an array"));var B=C.length,z=!1;if(!B)return this.resolve([]);for(var Q,ee=-1,te=new this(u);++ee<B;)Q=C[ee],I.resolve(Q).then((function(C){z||(z=!0,q.resolve(te,C))}),(function(C){z||(z=!0,q.reject(te,C))}));return te}},{immediate:36}],38:[function(C,I,B){var z={};(0,C("./lib/utils/common").assign)(z,C("./lib/deflate"),C("./lib/inflate"),C("./lib/zlib/constants")),I.exports=z},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(C,I,B){var z=C("./zlib/deflate"),q=C("./utils/common"),Q=C("./utils/strings"),ee=C("./zlib/messages"),te=C("./zlib/zstream"),ie=Object.prototype.toString,re=0,ne=-1,se=0,oe=8;function p(C){if(!(this instanceof p))return new p(C);this.options=q.assign({level:ne,method:oe,chunkSize:16384,windowBits:15,memLevel:8,strategy:se,to:""},C||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new te,this.strm.avail_out=0;var B=z.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(B!==re)throw new Error(ee[B]);if(I.header&&z.deflateSetHeader(this.strm,I.header),I.dictionary){var ae;if(ae="string"==typeof I.dictionary?Q.string2buf(I.dictionary):"[object ArrayBuffer]"===ie.call(I.dictionary)?new Uint8Array(I.dictionary):I.dictionary,(B=z.deflateSetDictionary(this.strm,ae))!==re)throw new Error(ee[B]);this._dict_set=!0}}function n(C,I){var B=new p(I);if(B.push(C,!0),B.err)throw B.msg||ee[B.err];return B.result}p.prototype.push=function(C,I){var B,ee,te=this.strm,ne=this.options.chunkSize;if(this.ended)return!1;ee=I===~~I?I:!0===I?4:0,"string"==typeof C?te.input=Q.string2buf(C):"[object ArrayBuffer]"===ie.call(C)?te.input=new Uint8Array(C):te.input=C,te.next_in=0,te.avail_in=te.input.length;do{if(0===te.avail_out&&(te.output=new q.Buf8(ne),te.next_out=0,te.avail_out=ne),1!==(B=z.deflate(te,ee))&&B!==re)return this.onEnd(B),!(this.ended=!0);0!==te.avail_out&&(0!==te.avail_in||4!==ee&&2!==ee)||("string"===this.options.to?this.onData(Q.buf2binstring(q.shrinkBuf(te.output,te.next_out))):this.onData(q.shrinkBuf(te.output,te.next_out)))}while((0<te.avail_in||0===te.avail_out)&&1!==B);return 4===ee?(B=z.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===re):2!==ee||(this.onEnd(re),!(te.avail_out=0))},p.prototype.onData=function(C){this.chunks.push(C)},p.prototype.onEnd=function(C){C===re&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=q.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},B.Deflate=p,B.deflate=n,B.deflateRaw=function(C,I){return(I=I||{}).raw=!0,n(C,I)},B.gzip=function(C,I){return(I=I||{}).gzip=!0,n(C,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(C,I,B){var z=C("./zlib/inflate"),q=C("./utils/common"),Q=C("./utils/strings"),ee=C("./zlib/constants"),te=C("./zlib/messages"),ie=C("./zlib/zstream"),re=C("./zlib/gzheader"),ne=Object.prototype.toString;function a(C){if(!(this instanceof a))return new a(C);this.options=q.assign({chunkSize:16384,windowBits:0,to:""},C||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,0===I.windowBits&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||C&&C.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&!(15&I.windowBits)&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ie,this.strm.avail_out=0;var B=z.inflateInit2(this.strm,I.windowBits);if(B!==ee.Z_OK)throw new Error(te[B]);this.header=new re,z.inflateGetHeader(this.strm,this.header)}function o(C,I){var B=new a(I);if(B.push(C,!0),B.err)throw B.msg||te[B.err];return B.result}a.prototype.push=function(C,I){var B,te,ie,re,se,oe,ae=this.strm,le=this.options.chunkSize,ue=this.options.dictionary,de=!1;if(this.ended)return!1;te=I===~~I?I:!0===I?ee.Z_FINISH:ee.Z_NO_FLUSH,"string"==typeof C?ae.input=Q.binstring2buf(C):"[object ArrayBuffer]"===ne.call(C)?ae.input=new Uint8Array(C):ae.input=C,ae.next_in=0,ae.avail_in=ae.input.length;do{if(0===ae.avail_out&&(ae.output=new q.Buf8(le),ae.next_out=0,ae.avail_out=le),(B=z.inflate(ae,ee.Z_NO_FLUSH))===ee.Z_NEED_DICT&&ue&&(oe="string"==typeof ue?Q.string2buf(ue):"[object ArrayBuffer]"===ne.call(ue)?new Uint8Array(ue):ue,B=z.inflateSetDictionary(this.strm,oe)),B===ee.Z_BUF_ERROR&&!0===de&&(B=ee.Z_OK,de=!1),B!==ee.Z_STREAM_END&&B!==ee.Z_OK)return this.onEnd(B),!(this.ended=!0);ae.next_out&&(0!==ae.avail_out&&B!==ee.Z_STREAM_END&&(0!==ae.avail_in||te!==ee.Z_FINISH&&te!==ee.Z_SYNC_FLUSH)||("string"===this.options.to?(ie=Q.utf8border(ae.output,ae.next_out),re=ae.next_out-ie,se=Q.buf2string(ae.output,ie),ae.next_out=re,ae.avail_out=le-re,re&&q.arraySet(ae.output,ae.output,ie,re,0),this.onData(se)):this.onData(q.shrinkBuf(ae.output,ae.next_out)))),0===ae.avail_in&&0===ae.avail_out&&(de=!0)}while((0<ae.avail_in||0===ae.avail_out)&&B!==ee.Z_STREAM_END);return B===ee.Z_STREAM_END&&(te=ee.Z_FINISH),te===ee.Z_FINISH?(B=z.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===ee.Z_OK):te!==ee.Z_SYNC_FLUSH||(this.onEnd(ee.Z_OK),!(ae.avail_out=0))},a.prototype.onData=function(C){this.chunks.push(C)},a.prototype.onEnd=function(C){C===ee.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=q.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},B.Inflate=a,B.inflate=o,B.inflateRaw=function(C,I){return(I=I||{}).raw=!0,o(C,I)},B.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(C,I,B){var z="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;B.assign=function(C){for(var I=Array.prototype.slice.call(arguments,1);I.length;){var B=I.shift();if(B){if("object"!=typeof B)throw new TypeError(B+"must be non-object");for(var z in B)B.hasOwnProperty(z)&&(C[z]=B[z])}}return C},B.shrinkBuf=function(C,I){return C.length===I?C:C.subarray?C.subarray(0,I):(C.length=I,C)};var q={arraySet:function(C,I,B,z,q){if(I.subarray&&C.subarray)C.set(I.subarray(B,B+z),q);else for(var Q=0;Q<z;Q++)C[q+Q]=I[B+Q]},flattenChunks:function(C){var I,B,z,q,Q,ee;for(I=z=0,B=C.length;I<B;I++)z+=C[I].length;for(ee=new Uint8Array(z),I=q=0,B=C.length;I<B;I++)Q=C[I],ee.set(Q,q),q+=Q.length;return ee}},Q={arraySet:function(C,I,B,z,q){for(var Q=0;Q<z;Q++)C[q+Q]=I[B+Q]},flattenChunks:function(C){return[].concat.apply([],C)}};B.setTyped=function(C){C?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,q)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,Q))},B.setTyped(z)},{}],42:[function(C,I,B){var z=C("./common"),q=!0,Q=!0;try{String.fromCharCode.apply(null,[0])}catch(C){q=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(C){Q=!1}for(var ee=new z.Buf8(256),te=0;te<256;te++)ee[te]=252<=te?6:248<=te?5:240<=te?4:224<=te?3:192<=te?2:1;function l(C,I){if(I<65537&&(C.subarray&&Q||!C.subarray&&q))return String.fromCharCode.apply(null,z.shrinkBuf(C,I));for(var B="",ee=0;ee<I;ee++)B+=String.fromCharCode(C[ee]);return B}ee[254]=ee[254]=1,B.string2buf=function(C){var I,B,q,Q,ee,te=C.length,ie=0;for(Q=0;Q<te;Q++)55296==(64512&(B=C.charCodeAt(Q)))&&Q+1<te&&56320==(64512&(q=C.charCodeAt(Q+1)))&&(B=65536+(B-55296<<10)+(q-56320),Q++),ie+=B<128?1:B<2048?2:B<65536?3:4;for(I=new z.Buf8(ie),Q=ee=0;ee<ie;Q++)55296==(64512&(B=C.charCodeAt(Q)))&&Q+1<te&&56320==(64512&(q=C.charCodeAt(Q+1)))&&(B=65536+(B-55296<<10)+(q-56320),Q++),B<128?I[ee++]=B:(B<2048?I[ee++]=192|B>>>6:(B<65536?I[ee++]=224|B>>>12:(I[ee++]=240|B>>>18,I[ee++]=128|B>>>12&63),I[ee++]=128|B>>>6&63),I[ee++]=128|63&B);return I},B.buf2binstring=function(C){return l(C,C.length)},B.binstring2buf=function(C){for(var I=new z.Buf8(C.length),B=0,q=I.length;B<q;B++)I[B]=C.charCodeAt(B);return I},B.buf2string=function(C,I){var B,z,q,Q,te=I||C.length,ie=new Array(2*te);for(B=z=0;B<te;)if((q=C[B++])<128)ie[z++]=q;else if(4<(Q=ee[q]))ie[z++]=65533,B+=Q-1;else{for(q&=2===Q?31:3===Q?15:7;1<Q&&B<te;)q=q<<6|63&C[B++],Q--;1<Q?ie[z++]=65533:q<65536?ie[z++]=q:(q-=65536,ie[z++]=55296|q>>10&1023,ie[z++]=56320|1023&q)}return l(ie,z)},B.utf8border=function(C,I){var B;for((I=I||C.length)>C.length&&(I=C.length),B=I-1;0<=B&&128==(192&C[B]);)B--;return B<0||0===B?I:B+ee[C[B]]>I?B:I}},{"./common":41}],43:[function(C,I,B){I.exports=function(C,I,B,z){for(var q=65535&C,Q=C>>>16&65535,ee=0;0!==B;){for(B-=ee=2e3<B?2e3:B;Q=Q+(q=q+I[z++]|0)|0,--ee;);q%=65521,Q%=65521}return q|Q<<16}},{}],44:[function(C,I,B){I.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(C,I,B){var z=function(){for(var C,I=[],B=0;B<256;B++){C=B;for(var z=0;z<8;z++)C=1&C?3988292384^C>>>1:C>>>1;I[B]=C}return I}();I.exports=function(C,I,B,q){var Q=z,ee=q+B;C^=-1;for(var te=q;te<ee;te++)C=C>>>8^Q[255&(C^I[te])];return~C}},{}],46:[function(C,I,B){var z,q=C("../utils/common"),Q=C("./trees"),ee=C("./adler32"),te=C("./crc32"),ie=C("./messages"),re=0,ne=4,se=0,oe=-2,ae=-1,le=4,ue=2,de=8,ce=9,he=286,fe=30,pe=19,me=2*he+1,ge=15,ve=3,ye=258,be=ye+ve+1,Ce=42,we=113,_e=1,Se=2,xe=3,ke=4;function R(C,I){return C.msg=ie[I],I}function T(C){return(C<<1)-(4<C?9:0)}function D(C){for(var I=C.length;0<=--I;)C[I]=0}function F(C){var I=C.state,B=I.pending;B>C.avail_out&&(B=C.avail_out),0!==B&&(q.arraySet(C.output,I.pending_buf,I.pending_out,B,C.next_out),C.next_out+=B,I.pending_out+=B,C.total_out+=B,C.avail_out-=B,I.pending-=B,0===I.pending&&(I.pending_out=0))}function N(C,I){Q._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,I),C.block_start=C.strstart,F(C.strm)}function U(C,I){C.pending_buf[C.pending++]=I}function P(C,I){C.pending_buf[C.pending++]=I>>>8&255,C.pending_buf[C.pending++]=255&I}function L(C,I){var B,z,q=C.max_chain_length,Q=C.strstart,ee=C.prev_length,te=C.nice_match,ie=C.strstart>C.w_size-be?C.strstart-(C.w_size-be):0,re=C.window,ne=C.w_mask,se=C.prev,oe=C.strstart+ye,ae=re[Q+ee-1],le=re[Q+ee];C.prev_length>=C.good_match&&(q>>=2),te>C.lookahead&&(te=C.lookahead);do{if(re[(B=I)+ee]===le&&re[B+ee-1]===ae&&re[B]===re[Q]&&re[++B]===re[Q+1]){Q+=2,B++;do{}while(re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&re[++Q]===re[++B]&&Q<oe);if(z=ye-(oe-Q),Q=oe-ye,ee<z){if(C.match_start=I,te<=(ee=z))break;ae=re[Q+ee-1],le=re[Q+ee]}}}while((I=se[I&ne])>ie&&0!=--q);return ee<=C.lookahead?ee:C.lookahead}function j(C){var I,B,z,Q,ie,re,ne,se,oe,ae,le=C.w_size;do{if(Q=C.window_size-C.lookahead-C.strstart,C.strstart>=le+(le-be)){for(q.arraySet(C.window,C.window,le,le,0),C.match_start-=le,C.strstart-=le,C.block_start-=le,I=B=C.hash_size;z=C.head[--I],C.head[I]=le<=z?z-le:0,--B;);for(I=B=le;z=C.prev[--I],C.prev[I]=le<=z?z-le:0,--B;);Q+=le}if(0===C.strm.avail_in)break;if(re=C.strm,ne=C.window,se=C.strstart+C.lookahead,ae=void 0,(oe=Q)<(ae=re.avail_in)&&(ae=oe),B=0===ae?0:(re.avail_in-=ae,q.arraySet(ne,re.input,re.next_in,ae,se),1===re.state.wrap?re.adler=ee(re.adler,ne,ae,se):2===re.state.wrap&&(re.adler=te(re.adler,ne,ae,se)),re.next_in+=ae,re.total_in+=ae,ae),C.lookahead+=B,C.lookahead+C.insert>=ve)for(ie=C.strstart-C.insert,C.ins_h=C.window[ie],C.ins_h=(C.ins_h<<C.hash_shift^C.window[ie+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[ie+ve-1])&C.hash_mask,C.prev[ie&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=ie,ie++,C.insert--,!(C.lookahead+C.insert<ve)););}while(C.lookahead<be&&0!==C.strm.avail_in)}function Z(C,I){for(var B,z;;){if(C.lookahead<be){if(j(C),C.lookahead<be&&I===re)return _e;if(0===C.lookahead)break}if(B=0,C.lookahead>=ve&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ve-1])&C.hash_mask,B=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),0!==B&&C.strstart-B<=C.w_size-be&&(C.match_length=L(C,B)),C.match_length>=ve)if(z=Q._tr_tally(C,C.strstart-C.match_start,C.match_length-ve),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=ve){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ve-1])&C.hash_mask,B=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,0!=--C.match_length;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else z=Q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(z&&(N(C,!1),0===C.strm.avail_out))return _e}return C.insert=C.strstart<ve-1?C.strstart:ve-1,I===ne?(N(C,!0),0===C.strm.avail_out?xe:ke):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?_e:Se}function W(C,I){for(var B,z,q;;){if(C.lookahead<be){if(j(C),C.lookahead<be&&I===re)return _e;if(0===C.lookahead)break}if(B=0,C.lookahead>=ve&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ve-1])&C.hash_mask,B=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=ve-1,0!==B&&C.prev_length<C.max_lazy_match&&C.strstart-B<=C.w_size-be&&(C.match_length=L(C,B),C.match_length<=5&&(1===C.strategy||C.match_length===ve&&4096<C.strstart-C.match_start)&&(C.match_length=ve-1)),C.prev_length>=ve&&C.match_length<=C.prev_length){for(q=C.strstart+C.lookahead-ve,z=Q._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-ve),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=q&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ve-1])&C.hash_mask,B=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),0!=--C.prev_length;);if(C.match_available=0,C.match_length=ve-1,C.strstart++,z&&(N(C,!1),0===C.strm.avail_out))return _e}else if(C.match_available){if((z=Q._tr_tally(C,0,C.window[C.strstart-1]))&&N(C,!1),C.strstart++,C.lookahead--,0===C.strm.avail_out)return _e}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(z=Q._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<ve-1?C.strstart:ve-1,I===ne?(N(C,!0),0===C.strm.avail_out?xe:ke):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?_e:Se}function M(C,I,B,z,q){this.good_length=C,this.max_lazy=I,this.nice_length=B,this.max_chain=z,this.func=q}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=de,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new q.Buf16(2*me),this.dyn_dtree=new q.Buf16(2*(2*fe+1)),this.bl_tree=new q.Buf16(2*(2*pe+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new q.Buf16(ge+1),this.heap=new q.Buf16(2*he+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new q.Buf16(2*he+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(C){var I;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=ue,(I=C.state).pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?Ce:we,C.adler=2===I.wrap?0:1,I.last_flush=re,Q._tr_init(I),se):R(C,oe)}function K(C){var I=G(C);return I===se&&function(C){C.window_size=2*C.w_size,D(C.head),C.max_lazy_match=z[C.level].max_lazy,C.good_match=z[C.level].good_length,C.nice_match=z[C.level].nice_length,C.max_chain_length=z[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=ve-1,C.match_available=0,C.ins_h=0}(C.state),I}function Y(C,I,B,z,Q,ee){if(!C)return oe;var te=1;if(I===ae&&(I=6),z<0?(te=0,z=-z):15<z&&(te=2,z-=16),Q<1||ce<Q||B!==de||z<8||15<z||I<0||9<I||ee<0||le<ee)return R(C,oe);8===z&&(z=9);var ie=new H;return(C.state=ie).strm=C,ie.wrap=te,ie.gzhead=null,ie.w_bits=z,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=Q+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+ve-1)/ve),ie.window=new q.Buf8(2*ie.w_size),ie.head=new q.Buf16(ie.hash_size),ie.prev=new q.Buf16(ie.w_size),ie.lit_bufsize=1<<Q+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new q.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=I,ie.strategy=ee,ie.method=B,K(C)}z=[new M(0,0,0,0,(function(C,I){var B=65535;for(B>C.pending_buf_size-5&&(B=C.pending_buf_size-5);;){if(C.lookahead<=1){if(j(C),0===C.lookahead&&I===re)return _e;if(0===C.lookahead)break}C.strstart+=C.lookahead,C.lookahead=0;var z=C.block_start+B;if((0===C.strstart||C.strstart>=z)&&(C.lookahead=C.strstart-z,C.strstart=z,N(C,!1),0===C.strm.avail_out))return _e;if(C.strstart-C.block_start>=C.w_size-be&&(N(C,!1),0===C.strm.avail_out))return _e}return C.insert=0,I===ne?(N(C,!0),0===C.strm.avail_out?xe:ke):(C.strstart>C.block_start&&(N(C,!1),C.strm.avail_out),_e)})),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],B.deflateInit=function(C,I){return Y(C,I,de,15,8,0)},B.deflateInit2=Y,B.deflateReset=K,B.deflateResetKeep=G,B.deflateSetHeader=function(C,I){return C&&C.state?2!==C.state.wrap?oe:(C.state.gzhead=I,se):oe},B.deflate=function(C,I){var B,q,ee,ie;if(!C||!C.state||5<I||I<0)return C?R(C,oe):oe;if(q=C.state,!C.output||!C.input&&0!==C.avail_in||666===q.status&&I!==ne)return R(C,0===C.avail_out?-5:oe);if(q.strm=C,B=q.last_flush,q.last_flush=I,q.status===Ce)if(2===q.wrap)C.adler=0,U(q,31),U(q,139),U(q,8),q.gzhead?(U(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),U(q,255&q.gzhead.time),U(q,q.gzhead.time>>8&255),U(q,q.gzhead.time>>16&255),U(q,q.gzhead.time>>24&255),U(q,9===q.level?2:2<=q.strategy||q.level<2?4:0),U(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(U(q,255&q.gzhead.extra.length),U(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(C.adler=te(C.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(U(q,0),U(q,0),U(q,0),U(q,0),U(q,0),U(q,9===q.level?2:2<=q.strategy||q.level<2?4:0),U(q,3),q.status=we);else{var ae=de+(q.w_bits-8<<4)<<8;ae|=(2<=q.strategy||q.level<2?0:q.level<6?1:6===q.level?2:3)<<6,0!==q.strstart&&(ae|=32),ae+=31-ae%31,q.status=we,P(q,ae),0!==q.strstart&&(P(q,C.adler>>>16),P(q,65535&C.adler)),C.adler=1}if(69===q.status)if(q.gzhead.extra){for(ee=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),F(C),ee=q.pending,q.pending!==q.pending_buf_size));)U(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(73===q.status)if(q.gzhead.name){ee=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),F(C),ee=q.pending,q.pending===q.pending_buf_size)){ie=1;break}ie=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,U(q,ie)}while(0!==ie);q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),0===ie&&(q.gzindex=0,q.status=91)}else q.status=91;if(91===q.status)if(q.gzhead.comment){ee=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),F(C),ee=q.pending,q.pending===q.pending_buf_size)){ie=1;break}ie=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,U(q,ie)}while(0!==ie);q.gzhead.hcrc&&q.pending>ee&&(C.adler=te(C.adler,q.pending_buf,q.pending-ee,ee)),0===ie&&(q.status=103)}else q.status=103;if(103===q.status&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&F(C),q.pending+2<=q.pending_buf_size&&(U(q,255&C.adler),U(q,C.adler>>8&255),C.adler=0,q.status=we)):q.status=we),0!==q.pending){if(F(C),0===C.avail_out)return q.last_flush=-1,se}else if(0===C.avail_in&&T(I)<=T(B)&&I!==ne)return R(C,-5);if(666===q.status&&0!==C.avail_in)return R(C,-5);if(0!==C.avail_in||0!==q.lookahead||I!==re&&666!==q.status){var le=2===q.strategy?function(C,I){for(var B;;){if(0===C.lookahead&&(j(C),0===C.lookahead)){if(I===re)return _e;break}if(C.match_length=0,B=Q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,B&&(N(C,!1),0===C.strm.avail_out))return _e}return C.insert=0,I===ne?(N(C,!0),0===C.strm.avail_out?xe:ke):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?_e:Se}(q,I):3===q.strategy?function(C,I){for(var B,z,q,ee,te=C.window;;){if(C.lookahead<=ye){if(j(C),C.lookahead<=ye&&I===re)return _e;if(0===C.lookahead)break}if(C.match_length=0,C.lookahead>=ve&&0<C.strstart&&(z=te[q=C.strstart-1])===te[++q]&&z===te[++q]&&z===te[++q]){ee=C.strstart+ye;do{}while(z===te[++q]&&z===te[++q]&&z===te[++q]&&z===te[++q]&&z===te[++q]&&z===te[++q]&&z===te[++q]&&z===te[++q]&&q<ee);C.match_length=ye-(ee-q),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=ve?(B=Q._tr_tally(C,1,C.match_length-ve),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(B=Q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),B&&(N(C,!1),0===C.strm.avail_out))return _e}return C.insert=0,I===ne?(N(C,!0),0===C.strm.avail_out?xe:ke):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?_e:Se}(q,I):z[q.level].func(q,I);if(le!==xe&&le!==ke||(q.status=666),le===_e||le===xe)return 0===C.avail_out&&(q.last_flush=-1),se;if(le===Se&&(1===I?Q._tr_align(q):5!==I&&(Q._tr_stored_block(q,0,0,!1),3===I&&(D(q.head),0===q.lookahead&&(q.strstart=0,q.block_start=0,q.insert=0))),F(C),0===C.avail_out))return q.last_flush=-1,se}return I!==ne?se:q.wrap<=0?1:(2===q.wrap?(U(q,255&C.adler),U(q,C.adler>>8&255),U(q,C.adler>>16&255),U(q,C.adler>>24&255),U(q,255&C.total_in),U(q,C.total_in>>8&255),U(q,C.total_in>>16&255),U(q,C.total_in>>24&255)):(P(q,C.adler>>>16),P(q,65535&C.adler)),F(C),0<q.wrap&&(q.wrap=-q.wrap),0!==q.pending?se:1)},B.deflateEnd=function(C){var I;return C&&C.state?(I=C.state.status)!==Ce&&69!==I&&73!==I&&91!==I&&103!==I&&I!==we&&666!==I?R(C,oe):(C.state=null,I===we?R(C,-3):se):oe},B.deflateSetDictionary=function(C,I){var B,z,Q,te,ie,re,ne,ae,le=I.length;if(!C||!C.state)return oe;if(2===(te=(B=C.state).wrap)||1===te&&B.status!==Ce||B.lookahead)return oe;for(1===te&&(C.adler=ee(C.adler,I,le,0)),B.wrap=0,le>=B.w_size&&(0===te&&(D(B.head),B.strstart=0,B.block_start=0,B.insert=0),ae=new q.Buf8(B.w_size),q.arraySet(ae,I,le-B.w_size,B.w_size,0),I=ae,le=B.w_size),ie=C.avail_in,re=C.next_in,ne=C.input,C.avail_in=le,C.next_in=0,C.input=I,j(B);B.lookahead>=ve;){for(z=B.strstart,Q=B.lookahead-(ve-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[z+ve-1])&B.hash_mask,B.prev[z&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=z,z++,--Q;);B.strstart=z,B.lookahead=ve-1,j(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=ve-1,B.match_available=0,C.next_in=re,C.input=ne,C.avail_in=ie,B.wrap=te,se},B.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(C,I,B){I.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(C,I,B){I.exports=function(C,I){var B,z,q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce;B=C.state,z=C.next_in,be=C.input,q=z+(C.avail_in-5),Q=C.next_out,Ce=C.output,ee=Q-(I-C.avail_out),te=Q+(C.avail_out-257),ie=B.dmax,re=B.wsize,ne=B.whave,se=B.wnext,oe=B.window,ae=B.hold,le=B.bits,ue=B.lencode,de=B.distcode,ce=(1<<B.lenbits)-1,he=(1<<B.distbits)-1;e:do{le<15&&(ae+=be[z++]<<le,le+=8,ae+=be[z++]<<le,le+=8),fe=ue[ae&ce];t:for(;;){if(ae>>>=pe=fe>>>24,le-=pe,0==(pe=fe>>>16&255))Ce[Q++]=65535&fe;else{if(!(16&pe)){if(!(64&pe)){fe=ue[(65535&fe)+(ae&(1<<pe)-1)];continue t}if(32&pe){B.mode=12;break e}C.msg="invalid literal/length code",B.mode=30;break e}me=65535&fe,(pe&=15)&&(le<pe&&(ae+=be[z++]<<le,le+=8),me+=ae&(1<<pe)-1,ae>>>=pe,le-=pe),le<15&&(ae+=be[z++]<<le,le+=8,ae+=be[z++]<<le,le+=8),fe=de[ae&he];i:for(;;){if(ae>>>=pe=fe>>>24,le-=pe,!(16&(pe=fe>>>16&255))){if(!(64&pe)){fe=de[(65535&fe)+(ae&(1<<pe)-1)];continue i}C.msg="invalid distance code",B.mode=30;break e}if(ge=65535&fe,le<(pe&=15)&&(ae+=be[z++]<<le,(le+=8)<pe&&(ae+=be[z++]<<le,le+=8)),ie<(ge+=ae&(1<<pe)-1)){C.msg="invalid distance too far back",B.mode=30;break e}if(ae>>>=pe,le-=pe,(pe=Q-ee)<ge){if(ne<(pe=ge-pe)&&B.sane){C.msg="invalid distance too far back",B.mode=30;break e}if(ye=oe,(ve=0)===se){if(ve+=re-pe,pe<me){for(me-=pe;Ce[Q++]=oe[ve++],--pe;);ve=Q-ge,ye=Ce}}else if(se<pe){if(ve+=re+se-pe,(pe-=se)<me){for(me-=pe;Ce[Q++]=oe[ve++],--pe;);if(ve=0,se<me){for(me-=pe=se;Ce[Q++]=oe[ve++],--pe;);ve=Q-ge,ye=Ce}}}else if(ve+=se-pe,pe<me){for(me-=pe;Ce[Q++]=oe[ve++],--pe;);ve=Q-ge,ye=Ce}for(;2<me;)Ce[Q++]=ye[ve++],Ce[Q++]=ye[ve++],Ce[Q++]=ye[ve++],me-=3;me&&(Ce[Q++]=ye[ve++],1<me&&(Ce[Q++]=ye[ve++]))}else{for(ve=Q-ge;Ce[Q++]=Ce[ve++],Ce[Q++]=Ce[ve++],Ce[Q++]=Ce[ve++],2<(me-=3););me&&(Ce[Q++]=Ce[ve++],1<me&&(Ce[Q++]=Ce[ve++]))}break}}break}}while(z<q&&Q<te);z-=me=le>>3,ae&=(1<<(le-=me<<3))-1,C.next_in=z,C.next_out=Q,C.avail_in=z<q?q-z+5:5-(z-q),C.avail_out=Q<te?te-Q+257:257-(Q-te),B.hold=ae,B.bits=le}},{}],49:[function(C,I,B){var z=C("../utils/common"),q=C("./adler32"),Q=C("./crc32"),ee=C("./inffast"),te=C("./inftrees"),ie=1,re=2,ne=0,se=-2,oe=1,ae=852,le=592;function L(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(C){var I;return C&&C.state?(I=C.state,C.total_in=C.total_out=I.total=0,C.msg="",I.wrap&&(C.adler=1&I.wrap),I.mode=oe,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new z.Buf32(ae),I.distcode=I.distdyn=new z.Buf32(le),I.sane=1,I.back=-1,ne):se}function o(C){var I;return C&&C.state?((I=C.state).wsize=0,I.whave=0,I.wnext=0,a(C)):se}function h(C,I){var B,z;return C&&C.state?(z=C.state,I<0?(B=0,I=-I):(B=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?se:(null!==z.window&&z.wbits!==I&&(z.window=null),z.wrap=B,z.wbits=I,o(C))):se}function u(C,I){var B,z;return C?(z=new s,(C.state=z).window=null,(B=h(C,I))!==ne&&(C.state=null),B):se}var ue,de,ce=!0;function j(C){if(ce){var I;for(ue=new z.Buf32(512),de=new z.Buf32(32),I=0;I<144;)C.lens[I++]=8;for(;I<256;)C.lens[I++]=9;for(;I<280;)C.lens[I++]=7;for(;I<288;)C.lens[I++]=8;for(te(ie,C.lens,0,288,ue,0,C.work,{bits:9}),I=0;I<32;)C.lens[I++]=5;te(re,C.lens,0,32,de,0,C.work,{bits:5}),ce=!1}C.lencode=ue,C.lenbits=9,C.distcode=de,C.distbits=5}function Z(C,I,B,q){var Q,ee=C.state;return null===ee.window&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new z.Buf8(ee.wsize)),q>=ee.wsize?(z.arraySet(ee.window,I,B-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(q<(Q=ee.wsize-ee.wnext)&&(Q=q),z.arraySet(ee.window,I,B-q,Q,ee.wnext),(q-=Q)?(z.arraySet(ee.window,I,B-q,q,0),ee.wnext=q,ee.whave=ee.wsize):(ee.wnext+=Q,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=Q))),0}B.inflateReset=o,B.inflateReset2=h,B.inflateResetKeep=a,B.inflateInit=function(C){return u(C,15)},B.inflateInit2=u,B.inflate=function(C,I){var B,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe=0,Ie=new z.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&0!==C.avail_in)return se;12===(B=C.state).mode&&(B.mode=13),de=C.next_out,le=C.output,he=C.avail_out,ue=C.next_in,ae=C.input,ce=C.avail_in,fe=B.hold,pe=B.bits,me=ce,ge=he,Me=ne;e:for(;;)switch(B.mode){case oe:if(0===B.wrap){B.mode=13;break}for(;pe<16;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(2&B.wrap&&35615===fe){Ie[B.check=0]=255&fe,Ie[1]=fe>>>8&255,B.check=Q(B.check,Ie,2,0),pe=fe=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&fe)<<8)+(fe>>8))%31){C.msg="incorrect header check",B.mode=30;break}if(8!=(15&fe)){C.msg="unknown compression method",B.mode=30;break}if(pe-=4,Te=8+(15&(fe>>>=4)),0===B.wbits)B.wbits=Te;else if(Te>B.wbits){C.msg="invalid window size",B.mode=30;break}B.dmax=1<<Te,C.adler=B.check=1,B.mode=512&fe?10:12,pe=fe=0;break;case 2:for(;pe<16;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(B.flags=fe,8!=(255&B.flags)){C.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){C.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=fe>>8&1),512&B.flags&&(Ie[0]=255&fe,Ie[1]=fe>>>8&255,B.check=Q(B.check,Ie,2,0)),pe=fe=0,B.mode=3;case 3:for(;pe<32;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.head&&(B.head.time=fe),512&B.flags&&(Ie[0]=255&fe,Ie[1]=fe>>>8&255,Ie[2]=fe>>>16&255,Ie[3]=fe>>>24&255,B.check=Q(B.check,Ie,4,0)),pe=fe=0,B.mode=4;case 4:for(;pe<16;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.head&&(B.head.xflags=255&fe,B.head.os=fe>>8),512&B.flags&&(Ie[0]=255&fe,Ie[1]=fe>>>8&255,B.check=Q(B.check,Ie,2,0)),pe=fe=0,B.mode=5;case 5:if(1024&B.flags){for(;pe<16;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.length=fe,B.head&&(B.head.extra_len=fe),512&B.flags&&(Ie[0]=255&fe,Ie[1]=fe>>>8&255,B.check=Q(B.check,Ie,2,0)),pe=fe=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(ce<(ve=B.length)&&(ve=ce),ve&&(B.head&&(Te=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),z.arraySet(B.head.extra,ae,ue,ve,Te)),512&B.flags&&(B.check=Q(B.check,ae,ve,ue)),ce-=ve,ue+=ve,B.length-=ve),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(0===ce)break e;for(ve=0;Te=ae[ue+ve++],B.head&&Te&&B.length<65536&&(B.head.name+=String.fromCharCode(Te)),Te&&ve<ce;);if(512&B.flags&&(B.check=Q(B.check,ae,ve,ue)),ce-=ve,ue+=ve,Te)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(0===ce)break e;for(ve=0;Te=ae[ue+ve++],B.head&&Te&&B.length<65536&&(B.head.comment+=String.fromCharCode(Te)),Te&&ve<ce;);if(512&B.flags&&(B.check=Q(B.check,ae,ve,ue)),ce-=ve,ue+=ve,Te)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;pe<16;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(fe!==(65535&B.check)){C.msg="header crc mismatch",B.mode=30;break}pe=fe=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),C.adler=B.check=0,B.mode=12;break;case 10:for(;pe<32;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}C.adler=B.check=L(fe),pe=fe=0,B.mode=11;case 11:if(0===B.havedict)return C.next_out=de,C.avail_out=he,C.next_in=ue,C.avail_in=ce,B.hold=fe,B.bits=pe,2;C.adler=B.check=1,B.mode=12;case 12:if(5===I||6===I)break e;case 13:if(B.last){fe>>>=7&pe,pe-=7&pe,B.mode=27;break}for(;pe<3;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}switch(B.last=1&fe,pe-=1,3&(fe>>>=1)){case 0:B.mode=14;break;case 1:if(j(B),B.mode=20,6!==I)break;fe>>>=2,pe-=2;break e;case 2:B.mode=17;break;case 3:C.msg="invalid block type",B.mode=30}fe>>>=2,pe-=2;break;case 14:for(fe>>>=7&pe,pe-=7&pe;pe<32;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if((65535&fe)!=(fe>>>16^65535)){C.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&fe,pe=fe=0,B.mode=15,6===I)break e;case 15:B.mode=16;case 16:if(ve=B.length){if(ce<ve&&(ve=ce),he<ve&&(ve=he),0===ve)break e;z.arraySet(le,ae,ue,ve,de),ce-=ve,ue+=ve,he-=ve,de+=ve,B.length-=ve;break}B.mode=12;break;case 17:for(;pe<14;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(B.nlen=257+(31&fe),fe>>>=5,pe-=5,B.ndist=1+(31&fe),fe>>>=5,pe-=5,B.ncode=4+(15&fe),fe>>>=4,pe-=4,286<B.nlen||30<B.ndist){C.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;pe<3;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.lens[Ne[B.have++]]=7&fe,fe>>>=3,pe-=3}for(;B.have<19;)B.lens[Ne[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Re={bits:B.lenbits},Me=te(0,B.lens,0,19,B.lencode,0,B.work,Re),B.lenbits=Re.bits,Me){C.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;we=(Pe=B.lencode[fe&(1<<B.lenbits)-1])>>>16&255,_e=65535&Pe,!((Ce=Pe>>>24)<=pe);){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(_e<16)fe>>>=Ce,pe-=Ce,B.lens[B.have++]=_e;else{if(16===_e){for(Ee=Ce+2;pe<Ee;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(fe>>>=Ce,pe-=Ce,0===B.have){C.msg="invalid bit length repeat",B.mode=30;break}Te=B.lens[B.have-1],ve=3+(3&fe),fe>>>=2,pe-=2}else if(17===_e){for(Ee=Ce+3;pe<Ee;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}pe-=Ce,Te=0,ve=3+(7&(fe>>>=Ce)),fe>>>=3,pe-=3}else{for(Ee=Ce+7;pe<Ee;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}pe-=Ce,Te=0,ve=11+(127&(fe>>>=Ce)),fe>>>=7,pe-=7}if(B.have+ve>B.nlen+B.ndist){C.msg="invalid bit length repeat",B.mode=30;break}for(;ve--;)B.lens[B.have++]=Te}}if(30===B.mode)break;if(0===B.lens[256]){C.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Re={bits:B.lenbits},Me=te(ie,B.lens,0,B.nlen,B.lencode,0,B.work,Re),B.lenbits=Re.bits,Me){C.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Re={bits:B.distbits},Me=te(re,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Re),B.distbits=Re.bits,Me){C.msg="invalid distances set",B.mode=30;break}if(B.mode=20,6===I)break e;case 20:B.mode=21;case 21:if(6<=ce&&258<=he){C.next_out=de,C.avail_out=he,C.next_in=ue,C.avail_in=ce,B.hold=fe,B.bits=pe,ee(C,ge),de=C.next_out,le=C.output,he=C.avail_out,ue=C.next_in,ae=C.input,ce=C.avail_in,fe=B.hold,pe=B.bits,12===B.mode&&(B.back=-1);break}for(B.back=0;we=(Pe=B.lencode[fe&(1<<B.lenbits)-1])>>>16&255,_e=65535&Pe,!((Ce=Pe>>>24)<=pe);){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(we&&!(240&we)){for(Se=Ce,xe=we,ke=_e;we=(Pe=B.lencode[ke+((fe&(1<<Se+xe)-1)>>Se)])>>>16&255,_e=65535&Pe,!(Se+(Ce=Pe>>>24)<=pe);){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}fe>>>=Se,pe-=Se,B.back+=Se}if(fe>>>=Ce,pe-=Ce,B.back+=Ce,B.length=_e,0===we){B.mode=26;break}if(32&we){B.back=-1,B.mode=12;break}if(64&we){C.msg="invalid literal/length code",B.mode=30;break}B.extra=15&we,B.mode=22;case 22:if(B.extra){for(Ee=B.extra;pe<Ee;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.length+=fe&(1<<B.extra)-1,fe>>>=B.extra,pe-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;we=(Pe=B.distcode[fe&(1<<B.distbits)-1])>>>16&255,_e=65535&Pe,!((Ce=Pe>>>24)<=pe);){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(!(240&we)){for(Se=Ce,xe=we,ke=_e;we=(Pe=B.distcode[ke+((fe&(1<<Se+xe)-1)>>Se)])>>>16&255,_e=65535&Pe,!(Se+(Ce=Pe>>>24)<=pe);){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}fe>>>=Se,pe-=Se,B.back+=Se}if(fe>>>=Ce,pe-=Ce,B.back+=Ce,64&we){C.msg="invalid distance code",B.mode=30;break}B.offset=_e,B.extra=15&we,B.mode=24;case 24:if(B.extra){for(Ee=B.extra;pe<Ee;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}B.offset+=fe&(1<<B.extra)-1,fe>>>=B.extra,pe-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){C.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(0===he)break e;if(ve=ge-he,B.offset>ve){if((ve=B.offset-ve)>B.whave&&B.sane){C.msg="invalid distance too far back",B.mode=30;break}ye=ve>B.wnext?(ve-=B.wnext,B.wsize-ve):B.wnext-ve,ve>B.length&&(ve=B.length),be=B.window}else be=le,ye=de-B.offset,ve=B.length;for(he<ve&&(ve=he),he-=ve,B.length-=ve;le[de++]=be[ye++],--ve;);0===B.length&&(B.mode=21);break;case 26:if(0===he)break e;le[de++]=B.length,he--,B.mode=21;break;case 27:if(B.wrap){for(;pe<32;){if(0===ce)break e;ce--,fe|=ae[ue++]<<pe,pe+=8}if(ge-=he,C.total_out+=ge,B.total+=ge,ge&&(C.adler=B.check=B.flags?Q(B.check,le,ge,de-ge):q(B.check,le,ge,de-ge)),ge=he,(B.flags?fe:L(fe))!==B.check){C.msg="incorrect data check",B.mode=30;break}pe=fe=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;pe<32;){if(0===ce)break e;ce--,fe+=ae[ue++]<<pe,pe+=8}if(fe!==(4294967295&B.total)){C.msg="incorrect length check",B.mode=30;break}pe=fe=0}B.mode=29;case 29:Me=1;break e;case 30:Me=-3;break e;case 31:return-4;default:return se}return C.next_out=de,C.avail_out=he,C.next_in=ue,C.avail_in=ce,B.hold=fe,B.bits=pe,(B.wsize||ge!==C.avail_out&&B.mode<30&&(B.mode<27||4!==I))&&Z(C,C.output,C.next_out,ge-C.avail_out)?(B.mode=31,-4):(me-=C.avail_in,ge-=C.avail_out,C.total_in+=me,C.total_out+=ge,B.total+=ge,B.wrap&&ge&&(C.adler=B.check=B.flags?Q(B.check,le,ge,C.next_out-ge):q(B.check,le,ge,C.next_out-ge)),C.data_type=B.bits+(B.last?64:0)+(12===B.mode?128:0)+(20===B.mode||15===B.mode?256:0),(0==me&&0===ge||4===I)&&Me===ne&&(Me=-5),Me)},B.inflateEnd=function(C){if(!C||!C.state)return se;var I=C.state;return I.window&&(I.window=null),C.state=null,ne},B.inflateGetHeader=function(C,I){var B;return C&&C.state&&2&(B=C.state).wrap?((B.head=I).done=!1,ne):se},B.inflateSetDictionary=function(C,I){var B,z=I.length;return C&&C.state?0!==(B=C.state).wrap&&11!==B.mode?se:11===B.mode&&q(1,I,z,0)!==B.check?-3:Z(C,I,z,z)?(B.mode=31,-4):(B.havedict=1,ne):se},B.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(C,I,B){var z=C("../utils/common"),q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Q=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],te=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];I.exports=function(C,I,B,ie,re,ne,se,oe){var ae,le,ue,de,ce,he,fe,pe,me,ge=oe.bits,ve=0,ye=0,be=0,Ce=0,we=0,_e=0,Se=0,xe=0,ke=0,Te=0,Me=null,Re=0,Ee=new z.Buf16(16),Pe=new z.Buf16(16),Ie=null,Ne=0;for(ve=0;ve<=15;ve++)Ee[ve]=0;for(ye=0;ye<ie;ye++)Ee[I[B+ye]]++;for(we=ge,Ce=15;1<=Ce&&0===Ee[Ce];Ce--);if(Ce<we&&(we=Ce),0===Ce)return re[ne++]=20971520,re[ne++]=20971520,oe.bits=1,0;for(be=1;be<Ce&&0===Ee[be];be++);for(we<be&&(we=be),ve=xe=1;ve<=15;ve++)if(xe<<=1,(xe-=Ee[ve])<0)return-1;if(0<xe&&(0===C||1!==Ce))return-1;for(Pe[1]=0,ve=1;ve<15;ve++)Pe[ve+1]=Pe[ve]+Ee[ve];for(ye=0;ye<ie;ye++)0!==I[B+ye]&&(se[Pe[I[B+ye]]++]=ye);if(he=0===C?(Me=Ie=se,19):1===C?(Me=q,Re-=257,Ie=Q,Ne-=257,256):(Me=ee,Ie=te,-1),ve=be,ce=ne,Se=ye=Te=0,ue=-1,de=(ke=1<<(_e=we))-1,1===C&&852<ke||2===C&&592<ke)return 1;for(;;){for(fe=ve-Se,me=se[ye]<he?(pe=0,se[ye]):se[ye]>he?(pe=Ie[Ne+se[ye]],Me[Re+se[ye]]):(pe=96,0),ae=1<<ve-Se,be=le=1<<_e;re[ce+(Te>>Se)+(le-=ae)]=fe<<24|pe<<16|me,0!==le;);for(ae=1<<ve-1;Te&ae;)ae>>=1;if(0!==ae?(Te&=ae-1,Te+=ae):Te=0,ye++,0==--Ee[ve]){if(ve===Ce)break;ve=I[B+se[ye]]}if(we<ve&&(Te&de)!==ue){for(0===Se&&(Se=we),ce+=be,xe=1<<(_e=ve-Se);_e+Se<Ce&&!((xe-=Ee[_e+Se])<=0);)_e++,xe<<=1;if(ke+=1<<_e,1===C&&852<ke||2===C&&592<ke)return 1;re[ue=Te&de]=we<<24|_e<<16|ce-ne}}return 0!==Te&&(re[ce+Te]=ve-Se<<24|64<<16),oe.bits=we,0}},{"../utils/common":41}],51:[function(C,I,B){I.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(C,I,B){var z=C("../utils/common"),q=0,Q=1;function n(C){for(var I=C.length;0<=--I;)C[I]=0}var ee=0,te=29,ie=256,re=ie+1+te,ne=30,se=19,oe=2*re+1,ae=15,le=16,ue=7,de=256,ce=16,he=17,fe=18,pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],me=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ye=new Array(2*(re+2));n(ye);var be=new Array(2*ne);n(be);var Ce=new Array(512);n(Ce);var we=new Array(256);n(we);var _e=new Array(te);n(_e);var Se,xe,ke,Te=new Array(ne);function D(C,I,B,z,q){this.static_tree=C,this.extra_bits=I,this.extra_base=B,this.elems=z,this.max_length=q,this.has_stree=C&&C.length}function F(C,I){this.dyn_tree=C,this.max_code=0,this.stat_desc=I}function N(C){return C<256?Ce[C]:Ce[256+(C>>>7)]}function U(C,I){C.pending_buf[C.pending++]=255&I,C.pending_buf[C.pending++]=I>>>8&255}function P(C,I,B){C.bi_valid>le-B?(C.bi_buf|=I<<C.bi_valid&65535,U(C,C.bi_buf),C.bi_buf=I>>le-C.bi_valid,C.bi_valid+=B-le):(C.bi_buf|=I<<C.bi_valid&65535,C.bi_valid+=B)}function L(C,I,B){P(C,B[2*I],B[2*I+1])}function j(C,I){for(var B=0;B|=1&C,C>>>=1,B<<=1,0<--I;);return B>>>1}function Z(C,I,B){var z,q,Q=new Array(ae+1),ee=0;for(z=1;z<=ae;z++)Q[z]=ee=ee+B[z-1]<<1;for(q=0;q<=I;q++){var te=C[2*q+1];0!==te&&(C[2*q]=j(Q[te]++,te))}}function W(C){var I;for(I=0;I<re;I++)C.dyn_ltree[2*I]=0;for(I=0;I<ne;I++)C.dyn_dtree[2*I]=0;for(I=0;I<se;I++)C.bl_tree[2*I]=0;C.dyn_ltree[2*de]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function M(C){8<C.bi_valid?U(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function H(C,I,B,z){var q=2*I,Q=2*B;return C[q]<C[Q]||C[q]===C[Q]&&z[I]<=z[B]}function G(C,I,B){for(var z=C.heap[B],q=B<<1;q<=C.heap_len&&(q<C.heap_len&&H(I,C.heap[q+1],C.heap[q],C.depth)&&q++,!H(I,z,C.heap[q],C.depth));)C.heap[B]=C.heap[q],B=q,q<<=1;C.heap[B]=z}function K(C,I,B){var z,q,Q,ee,te=0;if(0!==C.last_lit)for(;z=C.pending_buf[C.d_buf+2*te]<<8|C.pending_buf[C.d_buf+2*te+1],q=C.pending_buf[C.l_buf+te],te++,0===z?L(C,q,I):(L(C,(Q=we[q])+ie+1,I),0!==(ee=pe[Q])&&P(C,q-=_e[Q],ee),L(C,Q=N(--z),B),0!==(ee=me[Q])&&P(C,z-=Te[Q],ee)),te<C.last_lit;);L(C,de,I)}function Y(C,I){var B,z,q,Q=I.dyn_tree,ee=I.stat_desc.static_tree,te=I.stat_desc.has_stree,ie=I.stat_desc.elems,re=-1;for(C.heap_len=0,C.heap_max=oe,B=0;B<ie;B++)0!==Q[2*B]?(C.heap[++C.heap_len]=re=B,C.depth[B]=0):Q[2*B+1]=0;for(;C.heap_len<2;)Q[2*(q=C.heap[++C.heap_len]=re<2?++re:0)]=1,C.depth[q]=0,C.opt_len--,te&&(C.static_len-=ee[2*q+1]);for(I.max_code=re,B=C.heap_len>>1;1<=B;B--)G(C,Q,B);for(q=ie;B=C.heap[1],C.heap[1]=C.heap[C.heap_len--],G(C,Q,1),z=C.heap[1],C.heap[--C.heap_max]=B,C.heap[--C.heap_max]=z,Q[2*q]=Q[2*B]+Q[2*z],C.depth[q]=(C.depth[B]>=C.depth[z]?C.depth[B]:C.depth[z])+1,Q[2*B+1]=Q[2*z+1]=q,C.heap[1]=q++,G(C,Q,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(C,I){var B,z,q,Q,ee,te,ie=I.dyn_tree,re=I.max_code,ne=I.stat_desc.static_tree,se=I.stat_desc.has_stree,le=I.stat_desc.extra_bits,ue=I.stat_desc.extra_base,de=I.stat_desc.max_length,ce=0;for(Q=0;Q<=ae;Q++)C.bl_count[Q]=0;for(ie[2*C.heap[C.heap_max]+1]=0,B=C.heap_max+1;B<oe;B++)de<(Q=ie[2*ie[2*(z=C.heap[B])+1]+1]+1)&&(Q=de,ce++),ie[2*z+1]=Q,re<z||(C.bl_count[Q]++,ee=0,ue<=z&&(ee=le[z-ue]),te=ie[2*z],C.opt_len+=te*(Q+ee),se&&(C.static_len+=te*(ne[2*z+1]+ee)));if(0!==ce){do{for(Q=de-1;0===C.bl_count[Q];)Q--;C.bl_count[Q]--,C.bl_count[Q+1]+=2,C.bl_count[de]--,ce-=2}while(0<ce);for(Q=de;0!==Q;Q--)for(z=C.bl_count[Q];0!==z;)re<(q=C.heap[--B])||(ie[2*q+1]!==Q&&(C.opt_len+=(Q-ie[2*q+1])*ie[2*q],ie[2*q+1]=Q),z--)}}(C,I),Z(Q,re,C.bl_count)}function X(C,I,B){var z,q,Q=-1,ee=I[1],te=0,ie=7,re=4;for(0===ee&&(ie=138,re=3),I[2*(B+1)+1]=65535,z=0;z<=B;z++)q=ee,ee=I[2*(z+1)+1],++te<ie&&q===ee||(te<re?C.bl_tree[2*q]+=te:0!==q?(q!==Q&&C.bl_tree[2*q]++,C.bl_tree[2*ce]++):te<=10?C.bl_tree[2*he]++:C.bl_tree[2*fe]++,Q=q,re=(te=0)===ee?(ie=138,3):q===ee?(ie=6,3):(ie=7,4))}function V(C,I,B){var z,q,Q=-1,ee=I[1],te=0,ie=7,re=4;for(0===ee&&(ie=138,re=3),z=0;z<=B;z++)if(q=ee,ee=I[2*(z+1)+1],!(++te<ie&&q===ee)){if(te<re)for(;L(C,q,C.bl_tree),0!=--te;);else 0!==q?(q!==Q&&(L(C,q,C.bl_tree),te--),L(C,ce,C.bl_tree),P(C,te-3,2)):te<=10?(L(C,he,C.bl_tree),P(C,te-3,3)):(L(C,fe,C.bl_tree),P(C,te-11,7));Q=q,re=(te=0)===ee?(ie=138,3):q===ee?(ie=6,3):(ie=7,4)}}n(Te);var Me=!1;function J(C,I,B,q){P(C,(ee<<1)+(q?1:0),3),function(C,I,B,q){M(C),q&&(U(C,B),U(C,~B)),z.arraySet(C.pending_buf,C.window,I,B,C.pending),C.pending+=B}(C,I,B,!0)}B._tr_init=function(C){Me||(function(){var C,I,B,z,q,Q=new Array(ae+1);for(z=B=0;z<te-1;z++)for(_e[z]=B,C=0;C<1<<pe[z];C++)we[B++]=z;for(we[B-1]=z,z=q=0;z<16;z++)for(Te[z]=q,C=0;C<1<<me[z];C++)Ce[q++]=z;for(q>>=7;z<ne;z++)for(Te[z]=q<<7,C=0;C<1<<me[z]-7;C++)Ce[256+q++]=z;for(I=0;I<=ae;I++)Q[I]=0;for(C=0;C<=143;)ye[2*C+1]=8,C++,Q[8]++;for(;C<=255;)ye[2*C+1]=9,C++,Q[9]++;for(;C<=279;)ye[2*C+1]=7,C++,Q[7]++;for(;C<=287;)ye[2*C+1]=8,C++,Q[8]++;for(Z(ye,re+1,Q),C=0;C<ne;C++)be[2*C+1]=5,be[2*C]=j(C,5);Se=new D(ye,pe,ie+1,re,ae),xe=new D(be,me,0,ne,ae),ke=new D(new Array(0),ge,0,se,ue)}(),Me=!0),C.l_desc=new F(C.dyn_ltree,Se),C.d_desc=new F(C.dyn_dtree,xe),C.bl_desc=new F(C.bl_tree,ke),C.bi_buf=0,C.bi_valid=0,W(C)},B._tr_stored_block=J,B._tr_flush_block=function(C,I,B,z){var ee,te,re=0;0<C.level?(2===C.strm.data_type&&(C.strm.data_type=function(C){var I,B=4093624447;for(I=0;I<=31;I++,B>>>=1)if(1&B&&0!==C.dyn_ltree[2*I])return q;if(0!==C.dyn_ltree[18]||0!==C.dyn_ltree[20]||0!==C.dyn_ltree[26])return Q;for(I=32;I<ie;I++)if(0!==C.dyn_ltree[2*I])return Q;return q}(C)),Y(C,C.l_desc),Y(C,C.d_desc),re=function(C){var I;for(X(C,C.dyn_ltree,C.l_desc.max_code),X(C,C.dyn_dtree,C.d_desc.max_code),Y(C,C.bl_desc),I=se-1;3<=I&&0===C.bl_tree[2*ve[I]+1];I--);return C.opt_len+=3*(I+1)+5+5+4,I}(C),ee=C.opt_len+3+7>>>3,(te=C.static_len+3+7>>>3)<=ee&&(ee=te)):ee=te=B+5,B+4<=ee&&-1!==I?J(C,I,B,z):4===C.strategy||te===ee?(P(C,2+(z?1:0),3),K(C,ye,be)):(P(C,4+(z?1:0),3),function(C,I,B,z){var q;for(P(C,I-257,5),P(C,B-1,5),P(C,z-4,4),q=0;q<z;q++)P(C,C.bl_tree[2*ve[q]+1],3);V(C,C.dyn_ltree,I-1),V(C,C.dyn_dtree,B-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,re+1),K(C,C.dyn_ltree,C.dyn_dtree)),W(C),z&&M(C)},B._tr_tally=function(C,I,B){return C.pending_buf[C.d_buf+2*C.last_lit]=I>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&I,C.pending_buf[C.l_buf+C.last_lit]=255&B,C.last_lit++,0===I?C.dyn_ltree[2*B]++:(C.matches++,I--,C.dyn_ltree[2*(we[B]+ie+1)]++,C.dyn_dtree[2*N(I)]++),C.last_lit===C.lit_bufsize-1},B._tr_align=function(C){P(C,2,3),L(C,de,ye),function(C){16===C.bi_valid?(U(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(C,I,B){I.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(C,I,z){(function(C){!function(C,I){if(!C.setImmediate){var z,q,Q,ee,te=1,ie={},re=!1,ne=C.document,se=Object.getPrototypeOf&&Object.getPrototypeOf(C);se=se&&se.setTimeout?se:C,z="[object process]"==={}.toString.call(C.process)?function(C){B.nextTick((function(){c(C)}))}:function(){if(C.postMessage&&!C.importScripts){var I=!0,B=C.onmessage;return C.onmessage=function(){I=!1},C.postMessage("","*"),C.onmessage=B,I}}()?(ee="setImmediate$"+Math.random()+"$",C.addEventListener?C.addEventListener("message",d,!1):C.attachEvent("onmessage",d),function(I){C.postMessage(ee+I,"*")}):C.MessageChannel?((Q=new MessageChannel).port1.onmessage=function(C){c(C.data)},function(C){Q.port2.postMessage(C)}):ne&&"onreadystatechange"in ne.createElement("script")?(q=ne.documentElement,function(C){var I=ne.createElement("script");I.onreadystatechange=function(){c(C),I.onreadystatechange=null,q.removeChild(I),I=null},q.appendChild(I)}):function(C){setTimeout(c,0,C)},se.setImmediate=function(C){"function"!=typeof C&&(C=new Function(""+C));for(var I=new Array(arguments.length-1),B=0;B<I.length;B++)I[B]=arguments[B+1];var q={callback:C,args:I};return ie[te]=q,z(te),te++},se.clearImmediate=f}function f(C){delete ie[C]}function c(C){if(re)setTimeout(c,0,C);else{var B=ie[C];if(B){re=!0;try{!function(C){var B=C.callback,z=C.args;switch(z.length){case 0:B();break;case 1:B(z[0]);break;case 2:B(z[0],z[1]);break;case 3:B(z[0],z[1],z[2]);break;default:B.apply(I,z)}}(B)}finally{f(C),re=!1}}}}function d(I){I.source===C&&"string"==typeof I.data&&0===I.data.indexOf(ee)&&c(+I.data.slice(ee.length))}}("undefined"==typeof self?void 0===C?this:C:self)}).call(this,void 0!==Q?Q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,I("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},I("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],I("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(C,I,z){(function(C){(function(){"use strict";var B=1/0,z="[object Symbol]",q=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(q.source),ee="object"==typeof C&&C&&C.Object===Object&&C,te="object"==typeof self&&self&&self.Object===Object&&self,ie=ee||te||Function("return this")(),re=Object.prototype.toString,ne=ie.Symbol,se=ne?ne.prototype:void 0,oe=se?se.toString:void 0;function baseToString(C){if("string"==typeof C)return C;if(isSymbol(C))return oe?oe.call(C):"";var I=C+"";return"0"==I&&1/C==-B?"-0":I}function isObjectLike(C){return!!C&&"object"==typeof C}function isSymbol(C){return"symbol"==typeof C||isObjectLike(C)&&re.call(C)==z}function toString(C){return null==C?"":baseToString(C)}function escapeRegExp(C){return(C=toString(C))&&Q.test(C)?C.replace(q,"\\$&"):C}I.exports=escapeRegExp}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],443:[function(C,I,z){(function(C){(function(){"use strict";var B=200,q="Expected a function",Q="__lodash_hash_undefined__",ee=1,te=2,ie=1/0,re=9007199254740991,ne="[object Arguments]",se="[object Array]",oe="[object Boolean]",ae="[object Date]",le="[object Error]",ue="[object Function]",de="[object GeneratorFunction]",ce="[object Map]",he="[object Number]",fe="[object Object]",pe="[object Promise]",me="[object RegExp]",ge="[object Set]",ve="[object String]",ye="[object Symbol]",be="[object WeakMap]",Ce="[object ArrayBuffer]",we="[object DataView]",_e="[object Float64Array]",Se="[object Int8Array]",xe="[object Int16Array]",ke="[object Int32Array]",Te="[object Uint8Array]",Me="[object Uint8ClampedArray]",Re="[object Uint16Array]",Ee="[object Uint32Array]",Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,Ne=/^\./,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,Oe=/^\[object .+?Constructor\]$/,Be=/^(?:0|[1-9]\d*)$/,Le={};Le["[object Float32Array]"]=Le[_e]=Le[Se]=Le[xe]=Le[ke]=Le[Te]=Le[Me]=Le[Re]=Le[Ee]=!0,Le[ne]=Le[se]=Le[Ce]=Le[oe]=Le[we]=Le[ae]=Le[le]=Le[ue]=Le[ce]=Le[he]=Le[fe]=Le[me]=Le[ge]=Le[ve]=Le[be]=!1;var je="object"==typeof C&&C&&C.Object===Object&&C,$e="object"==typeof self&&self&&self.Object===Object&&self,Ve=je||$e||Function("return this")(),He="object"==typeof z&&z&&!z.nodeType&&z,Ge=He&&"object"==typeof I&&I&&!I.nodeType&&I,Ue=Ge&&Ge.exports===He&&je.process,ze=function(){try{return Ue&&Ue.binding("util")}catch(C){}}(),qe=ze&&ze.isTypedArray;function arrayAggregator(C,I,B,z){for(var q=-1,Q=C?C.length:0;++q<Q;){var ee=C[q];I(z,ee,B(ee),C)}return z}function arraySome(C,I){for(var B=-1,z=C?C.length:0;++B<z;)if(I(C[B],B,C))return!0;return!1}function baseProperty(C){return function(I){return null==I?void 0:I[C]}}function baseTimes(C,I){for(var B=-1,z=Array(C);++B<C;)z[B]=I(B);return z}function baseUnary(C){return function(I){return C(I)}}function getValue(C,I){return null==C?void 0:C[I]}function isHostObject(C){var I=!1;if(null!=C&&"function"!=typeof C.toString)try{I=!!(C+"")}catch(C){}return I}function mapToArray(C){var I=-1,B=Array(C.size);return C.forEach((function(C,z){B[++I]=[z,C]})),B}function overArg(C,I){return function(B){return C(I(B))}}function setToArray(C){var I=-1,B=Array(C.size);return C.forEach((function(C){B[++I]=C})),B}var We,Ke=Array.prototype,Xe=Function.prototype,Je=Object.prototype,Ye=Ve["__core-js_shared__"],Ze=(We=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||""))?"Symbol(src)_1."+We:"",Qe=Xe.toString,et=Je.hasOwnProperty,tt=Je.toString,it=RegExp("^"+Qe.call(et).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=Ve.Symbol,nt=Ve.Uint8Array,st=Je.propertyIsEnumerable,ot=Ke.splice,at=overArg(Object.keys,Object),ut=getNative(Ve,"DataView"),dt=getNative(Ve,"Map"),ct=getNative(Ve,"Promise"),ht=getNative(Ve,"Set"),pt=getNative(Ve,"WeakMap"),mt=getNative(Object,"create"),vt=toSource(ut),yt=toSource(dt),bt=toSource(ct),Ct=toSource(ht),wt=toSource(pt),_t=rt?rt.prototype:void 0,St=_t?_t.valueOf:void 0,xt=_t?_t.toString:void 0;function Hash(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function hashClear(){this.__data__=mt?mt(null):{}}function hashDelete(C){return this.has(C)&&delete this.__data__[C]}function hashGet(C){var I=this.__data__;if(mt){var B=I[C];return B===Q?void 0:B}return et.call(I,C)?I[C]:void 0}function hashHas(C){var I=this.__data__;return mt?void 0!==I[C]:et.call(I,C)}function hashSet(C,I){return this.__data__[C]=mt&&void 0===I?Q:I,this}function ListCache(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(C){var I=this.__data__,B=assocIndexOf(I,C);return!(B<0||(B==I.length-1?I.pop():ot.call(I,B,1),0))}function listCacheGet(C){var I=this.__data__,B=assocIndexOf(I,C);return B<0?void 0:I[B][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,I){var B=this.__data__,z=assocIndexOf(B,C);return z<0?B.push([C,I]):B[z][1]=I,this}function MapCache(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(dt||ListCache),string:new Hash}}function mapCacheDelete(C){return getMapData(this,C).delete(C)}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,I){return getMapData(this,C).set(C,I),this}function SetCache(C){var I=-1,B=C?C.length:0;for(this.__data__=new MapCache;++I<B;)this.add(C[I])}function setCacheAdd(C){return this.__data__.set(C,Q),this}function setCacheHas(C){return this.__data__.has(C)}function Stack(C){this.__data__=new ListCache(C)}function stackClear(){this.__data__=new ListCache}function stackDelete(C){return this.__data__.delete(C)}function stackGet(C){return this.__data__.get(C)}function stackHas(C){return this.__data__.has(C)}function stackSet(C,I){var z=this.__data__;if(z instanceof ListCache){var q=z.__data__;if(!dt||q.length<B-1)return q.push([C,I]),this;z=this.__data__=new MapCache(q)}return z.set(C,I),this}function arrayLikeKeys(C,I){var B=Pt(C)||isArguments(C)?baseTimes(C.length,String):[],z=B.length,q=!!z;for(var Q in C)!I&&!et.call(C,Q)||q&&("length"==Q||isIndex(Q,z))||B.push(Q);return B}function assocIndexOf(C,I){for(var B=C.length;B--;)if(eq(C[B][0],I))return B;return-1}function baseAggregator(C,I,B,z){return kt(C,(function(C,q,Q){I(z,C,B(C),Q)})),z}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var kt=createBaseEach(baseForOwn),Tt=createBaseFor();function baseForOwn(C,I){return C&&Tt(C,I,keys)}function baseGet(C,I){for(var B=0,z=(I=isKey(I,C)?[I]:castPath(I)).length;null!=C&&B<z;)C=C[toKey(I[B++])];return B&&B==z?C:void 0}function baseGetTag(C){return tt.call(C)}function baseHasIn(C,I){return null!=C&&I in Object(C)}function baseIsEqual(C,I,B,z,q){return C===I||(null==C||null==I||!isObject(C)&&!isObjectLike(I)?C!=C&&I!=I:baseIsEqualDeep(C,I,baseIsEqual,B,z,q))}function baseIsEqualDeep(C,I,B,z,q,Q){var ee=Pt(C),ie=Pt(I),re=se,oe=se;ee||(re=(re=Mt(C))==ne?fe:re),ie||(oe=(oe=Mt(I))==ne?fe:oe);var ae=re==fe&&!isHostObject(C),le=oe==fe&&!isHostObject(I),ue=re==oe;if(ue&&!ae)return Q||(Q=new Stack),ee||It(C)?equalArrays(C,I,B,z,q,Q):equalByTag(C,I,re,B,z,q,Q);if(!(q&te)){var de=ae&&et.call(C,"__wrapped__"),ce=le&&et.call(I,"__wrapped__");if(de||ce){var he=de?C.value():C,pe=ce?I.value():I;return Q||(Q=new Stack),B(he,pe,z,q,Q)}}return!!ue&&(Q||(Q=new Stack),equalObjects(C,I,B,z,q,Q))}function baseIsMatch(C,I,B,z){var q=B.length,Q=q,ie=!z;if(null==C)return!Q;for(C=Object(C);q--;){var re=B[q];if(ie&&re[2]?re[1]!==C[re[0]]:!(re[0]in C))return!1}for(;++q<Q;){var ne=(re=B[q])[0],se=C[ne],oe=re[1];if(ie&&re[2]){if(void 0===se&&!(ne in C))return!1}else{var ae=new Stack;if(z)var le=z(se,oe,ne,C,I,ae);if(!(void 0===le?baseIsEqual(oe,se,z,ee|te,ae):le))return!1}}return!0}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)||isHostObject(C)?it:Oe).test(toSource(C))}function baseIsTypedArray(C){return isObjectLike(C)&&isLength(C.length)&&!!Le[tt.call(C)]}function baseIteratee(C){return"function"==typeof C?C:null==C?identity:"object"==typeof C?Pt(C)?baseMatchesProperty(C[0],C[1]):baseMatches(C):property(C)}function baseKeys(C){if(!isPrototype(C))return at(C);var I=[];for(var B in Object(C))et.call(C,B)&&"constructor"!=B&&I.push(B);return I}function baseMatches(C){var I=getMatchData(C);return 1==I.length&&I[0][2]?matchesStrictComparable(I[0][0],I[0][1]):function(B){return B===C||baseIsMatch(B,C,I)}}function baseMatchesProperty(C,I){return isKey(C)&&isStrictComparable(I)?matchesStrictComparable(toKey(C),I):function(B){var z=get(B,C);return void 0===z&&z===I?hasIn(B,C):baseIsEqual(I,z,void 0,ee|te)}}function basePropertyDeep(C){return function(I){return baseGet(I,C)}}function baseToString(C){if("string"==typeof C)return C;if(isSymbol(C))return xt?xt.call(C):"";var I=C+"";return"0"==I&&1/C==-ie?"-0":I}function castPath(C){return Pt(C)?C:Rt(C)}function createAggregator(C,I){return function(B,z){var q=Pt(B)?arrayAggregator:baseAggregator,Q=I?I():{};return q(B,C,baseIteratee(z,2),Q)}}function createBaseEach(C,I){return function(B,z){if(null==B)return B;if(!isArrayLike(B))return C(B,z);for(var q=B.length,Q=I?q:-1,ee=Object(B);(I?Q--:++Q<q)&&!1!==z(ee[Q],Q,ee););return B}}function createBaseFor(C){return function(I,B,z){for(var q=-1,Q=Object(I),ee=z(I),te=ee.length;te--;){var ie=ee[C?te:++q];if(!1===B(Q[ie],ie,Q))break}return I}}function equalArrays(C,I,B,z,q,Q){var ie=q&te,re=C.length,ne=I.length;if(re!=ne&&!(ie&&ne>re))return!1;var se=Q.get(C);if(se&&Q.get(I))return se==I;var oe=-1,ae=!0,le=q&ee?new SetCache:void 0;for(Q.set(C,I),Q.set(I,C);++oe<re;){var ue=C[oe],de=I[oe];if(z)var ce=ie?z(de,ue,oe,I,C,Q):z(ue,de,oe,C,I,Q);if(void 0!==ce){if(ce)continue;ae=!1;break}if(le){if(!arraySome(I,(function(C,I){if(!le.has(I)&&(ue===C||B(ue,C,z,q,Q)))return le.add(I)}))){ae=!1;break}}else if(ue!==de&&!B(ue,de,z,q,Q)){ae=!1;break}}return Q.delete(C),Q.delete(I),ae}function equalByTag(C,I,B,z,q,Q,ie){switch(B){case we:if(C.byteLength!=I.byteLength||C.byteOffset!=I.byteOffset)return!1;C=C.buffer,I=I.buffer;case Ce:return!(C.byteLength!=I.byteLength||!z(new nt(C),new nt(I)));case oe:case ae:case he:return eq(+C,+I);case le:return C.name==I.name&&C.message==I.message;case me:case ve:return C==I+"";case ce:var re=mapToArray;case ge:var ne=Q&te;if(re||(re=setToArray),C.size!=I.size&&!ne)return!1;var se=ie.get(C);if(se)return se==I;Q|=ee,ie.set(C,I);var ue=equalArrays(re(C),re(I),z,q,Q,ie);return ie.delete(C),ue;case ye:if(St)return St.call(C)==St.call(I)}return!1}function equalObjects(C,I,B,z,q,Q){var ee=q&te,ie=keys(C),re=ie.length;if(re!=keys(I).length&&!ee)return!1;for(var ne=re;ne--;){var se=ie[ne];if(!(ee?se in I:et.call(I,se)))return!1}var oe=Q.get(C);if(oe&&Q.get(I))return oe==I;var ae=!0;Q.set(C,I),Q.set(I,C);for(var le=ee;++ne<re;){var ue=C[se=ie[ne]],de=I[se];if(z)var ce=ee?z(de,ue,se,I,C,Q):z(ue,de,se,C,I,Q);if(!(void 0===ce?ue===de||B(ue,de,z,q,Q):ce)){ae=!1;break}le||(le="constructor"==se)}if(ae&&!le){var he=C.constructor,fe=I.constructor;he==fe||!("constructor"in C)||!("constructor"in I)||"function"==typeof he&&he instanceof he&&"function"==typeof fe&&fe instanceof fe||(ae=!1)}return Q.delete(C),Q.delete(I),ae}function getMapData(C,I){var B=C.__data__;return isKeyable(I)?B["string"==typeof I?"string":"hash"]:B.map}function getMatchData(C){for(var I=keys(C),B=I.length;B--;){var z=I[B],q=C[z];I[B]=[z,q,isStrictComparable(q)]}return I}function getNative(C,I){var B=getValue(C,I);return baseIsNative(B)?B:void 0}var Mt=baseGetTag;function hasPath(C,I,B){for(var z,q=-1,Q=(I=isKey(I,C)?[I]:castPath(I)).length;++q<Q;){var ee=toKey(I[q]);if(!(z=null!=C&&B(C,ee)))break;C=C[ee]}return z||!!(Q=C?C.length:0)&&isLength(Q)&&isIndex(ee,Q)&&(Pt(C)||isArguments(C))}function isIndex(C,I){return!!(I=null==I?re:I)&&("number"==typeof C||Be.test(C))&&C>-1&&C%1==0&&C<I}function isKey(C,I){if(Pt(C))return!1;var B=typeof C;return!("number"!=B&&"symbol"!=B&&"boolean"!=B&&null!=C&&!isSymbol(C))||Ie.test(C)||!Pe.test(C)||null!=I&&C in Object(I)}function isKeyable(C){var I=typeof C;return"string"==I||"number"==I||"symbol"==I||"boolean"==I?"__proto__"!==C:null===C}function isMasked(C){return!!Ze&&Ze in C}function isPrototype(C){var I=C&&C.constructor;return C===("function"==typeof I&&I.prototype||Je)}function isStrictComparable(C){return C==C&&!isObject(C)}function matchesStrictComparable(C,I){return function(B){return null!=B&&B[C]===I&&(void 0!==I||C in Object(B))}}(ut&&Mt(new ut(new ArrayBuffer(1)))!=we||dt&&Mt(new dt)!=ce||ct&&Mt(ct.resolve())!=pe||ht&&Mt(new ht)!=ge||pt&&Mt(new pt)!=be)&&(Mt=function(C){var I=tt.call(C),B=I==fe?C.constructor:void 0,z=B?toSource(B):void 0;if(z)switch(z){case vt:return we;case yt:return ce;case bt:return pe;case Ct:return ge;case wt:return be}return I});var Rt=memoize((function(C){C=toString(C);var I=[];return Ne.test(C)&&I.push(""),C.replace(Ae,(function(C,B,z,q){I.push(z?q.replace(Fe,"$1"):B||C)})),I}));function toKey(C){if("string"==typeof C||isSymbol(C))return C;var I=C+"";return"0"==I&&1/C==-ie?"-0":I}function toSource(C){if(null!=C){try{return Qe.call(C)}catch(C){}try{return C+""}catch(C){}}return""}var Et=createAggregator((function(C,I,B){et.call(C,B)?C[B].push(I):C[B]=[I]}));function memoize(C,I){if("function"!=typeof C||I&&"function"!=typeof I)throw new TypeError(q);var memoized=function(){var B=arguments,z=I?I.apply(this,B):B[0],q=memoized.cache;if(q.has(z))return q.get(z);var Q=C.apply(this,B);return memoized.cache=q.set(z,Q),Q};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(C,I){return C===I||C!=C&&I!=I}function isArguments(C){return isArrayLikeObject(C)&&et.call(C,"callee")&&(!st.call(C,"callee")||tt.call(C)==ne)}memoize.Cache=MapCache;var Pt=Array.isArray;function isArrayLike(C){return null!=C&&isLength(C.length)&&!isFunction(C)}function isArrayLikeObject(C){return isObjectLike(C)&&isArrayLike(C)}function isFunction(C){var I=isObject(C)?tt.call(C):"";return I==ue||I==de}function isLength(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=re}function isObject(C){var I=typeof C;return!!C&&("object"==I||"function"==I)}function isObjectLike(C){return!!C&&"object"==typeof C}function isSymbol(C){return"symbol"==typeof C||isObjectLike(C)&&tt.call(C)==ye}var It=qe?baseUnary(qe):baseIsTypedArray;function toString(C){return null==C?"":baseToString(C)}function get(C,I,B){var z=null==C?void 0:baseGet(C,I);return void 0===z?B:z}function hasIn(C,I){return null!=C&&hasPath(C,I,baseHasIn)}function keys(C){return isArrayLike(C)?arrayLikeKeys(C):baseKeys(C)}function identity(C){return C}function property(C){return isKey(C)?baseProperty(toKey(C)):basePropertyDeep(C)}I.exports=Et}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],444:[function(C,I,B){"use strict";var z="[object Boolean]",q=Object.prototype.toString;function isBoolean(C){return!0===C||!1===C||isObjectLike(C)&&q.call(C)==z}function isObjectLike(C){return!!C&&"object"==typeof C}I.exports=isBoolean},{}],445:[function(C,I,z){(function(C){(function(){"use strict";var B=200,q="__lodash_hash_undefined__",Q=1,ee=2,te=9007199254740991,ie="[object Arguments]",re="[object Array]",ne="[object AsyncFunction]",se="[object Boolean]",oe="[object Date]",ae="[object Error]",le="[object Function]",ue="[object GeneratorFunction]",de="[object Map]",ce="[object Number]",he="[object Null]",fe="[object Object]",pe="[object Promise]",me="[object Proxy]",ge="[object RegExp]",ve="[object Set]",ye="[object String]",be="[object Symbol]",Ce="[object Undefined]",we="[object WeakMap]",_e="[object ArrayBuffer]",Se="[object DataView]",xe="[object Float64Array]",ke="[object Int8Array]",Te="[object Int16Array]",Me="[object Int32Array]",Re="[object Uint8Array]",Ee="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ie="[object Uint32Array]",Ne=/[\\^$.*+?()[\]{}|]/g,Ae=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,Fe={};Fe["[object Float32Array]"]=Fe[xe]=Fe[ke]=Fe[Te]=Fe[Me]=Fe[Re]=Fe[Ee]=Fe[Pe]=Fe[Ie]=!0,Fe[ie]=Fe[re]=Fe[_e]=Fe[se]=Fe[Se]=Fe[oe]=Fe[ae]=Fe[le]=Fe[de]=Fe[ce]=Fe[fe]=Fe[ge]=Fe[ve]=Fe[ye]=Fe[we]=!1;var Oe="object"==typeof C&&C&&C.Object===Object&&C,Be="object"==typeof self&&self&&self.Object===Object&&self,Le=Oe||Be||Function("return this")(),je="object"==typeof z&&z&&!z.nodeType&&z,$e=je&&"object"==typeof I&&I&&!I.nodeType&&I,Ve=$e&&$e.exports===je,He=Ve&&Oe.process,Ge=function(){try{return He&&He.binding&&He.binding("util")}catch(C){}}(),Ue=Ge&&Ge.isTypedArray;function arrayFilter(C,I){for(var B=-1,z=null==C?0:C.length,q=0,Q=[];++B<z;){var ee=C[B];I(ee,B,C)&&(Q[q++]=ee)}return Q}function arrayPush(C,I){for(var B=-1,z=I.length,q=C.length;++B<z;)C[q+B]=I[B];return C}function arraySome(C,I){for(var B=-1,z=null==C?0:C.length;++B<z;)if(I(C[B],B,C))return!0;return!1}function baseTimes(C,I){for(var B=-1,z=Array(C);++B<C;)z[B]=I(B);return z}function baseUnary(C){return function(I){return C(I)}}function cacheHas(C,I){return C.has(I)}function getValue(C,I){return null==C?void 0:C[I]}function mapToArray(C){var I=-1,B=Array(C.size);return C.forEach((function(C,z){B[++I]=[z,C]})),B}function overArg(C,I){return function(B){return C(I(B))}}function setToArray(C){var I=-1,B=Array(C.size);return C.forEach((function(C){B[++I]=C})),B}var ze,qe=Array.prototype,We=Function.prototype,Ke=Object.prototype,Xe=Le["__core-js_shared__"],Je=We.toString,Ye=Ke.hasOwnProperty,Ze=(ze=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||""))?"Symbol(src)_1."+ze:"",Qe=Ke.toString,et=RegExp("^"+Je.call(Ye).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=Ve?Le.Buffer:void 0,it=Le.Symbol,rt=Le.Uint8Array,nt=Ke.propertyIsEnumerable,st=qe.splice,ot=it?it.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=tt?tt.isBuffer:void 0,dt=overArg(Object.keys,Object),ct=getNative(Le,"DataView"),ht=getNative(Le,"Map"),pt=getNative(Le,"Promise"),mt=getNative(Le,"Set"),vt=getNative(Le,"WeakMap"),yt=getNative(Object,"create"),bt=toSource(ct),Ct=toSource(ht),wt=toSource(pt),_t=toSource(mt),St=toSource(vt),xt=it?it.prototype:void 0,kt=xt?xt.valueOf:void 0;function Hash(C){var I=-1,B=null==C?0:C.length;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function hashClear(){this.__data__=yt?yt(null):{},this.size=0}function hashDelete(C){var I=this.has(C)&&delete this.__data__[C];return this.size-=I?1:0,I}function hashGet(C){var I=this.__data__;if(yt){var B=I[C];return B===q?void 0:B}return Ye.call(I,C)?I[C]:void 0}function hashHas(C){var I=this.__data__;return yt?void 0!==I[C]:Ye.call(I,C)}function hashSet(C,I){var B=this.__data__;return this.size+=this.has(C)?0:1,B[C]=yt&&void 0===I?q:I,this}function ListCache(C){var I=-1,B=null==C?0:C.length;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(C){var I=this.__data__,B=assocIndexOf(I,C);return!(B<0||(B==I.length-1?I.pop():st.call(I,B,1),--this.size,0))}function listCacheGet(C){var I=this.__data__,B=assocIndexOf(I,C);return B<0?void 0:I[B][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,I){var B=this.__data__,z=assocIndexOf(B,C);return z<0?(++this.size,B.push([C,I])):B[z][1]=I,this}function MapCache(C){var I=-1,B=null==C?0:C.length;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(ht||ListCache),string:new Hash}}function mapCacheDelete(C){var I=getMapData(this,C).delete(C);return this.size-=I?1:0,I}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,I){var B=getMapData(this,C),z=B.size;return B.set(C,I),this.size+=B.size==z?0:1,this}function SetCache(C){var I=-1,B=null==C?0:C.length;for(this.__data__=new MapCache;++I<B;)this.add(C[I])}function setCacheAdd(C){return this.__data__.set(C,q),this}function setCacheHas(C){return this.__data__.has(C)}function Stack(C){var I=this.__data__=new ListCache(C);this.size=I.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(C){var I=this.__data__,B=I.delete(C);return this.size=I.size,B}function stackGet(C){return this.__data__.get(C)}function stackHas(C){return this.__data__.has(C)}function stackSet(C,I){var z=this.__data__;if(z instanceof ListCache){var q=z.__data__;if(!ht||q.length<B-1)return q.push([C,I]),this.size=++z.size,this;z=this.__data__=new MapCache(q)}return z.set(C,I),this.size=z.size,this}function arrayLikeKeys(C,I){var B=Et(C),z=!B&&Rt(C),q=!B&&!z&&Pt(C),Q=!B&&!z&&!q&&It(C),ee=B||z||q||Q,te=ee?baseTimes(C.length,String):[],ie=te.length;for(var re in C)!I&&!Ye.call(C,re)||ee&&("length"==re||q&&("offset"==re||"parent"==re)||Q&&("buffer"==re||"byteLength"==re||"byteOffset"==re)||isIndex(re,ie))||te.push(re);return te}function assocIndexOf(C,I){for(var B=C.length;B--;)if(eq(C[B][0],I))return B;return-1}function baseGetAllKeys(C,I,B){var z=I(C);return Et(C)?z:arrayPush(z,B(C))}function baseGetTag(C){return null==C?void 0===C?Ce:he:ot&&ot in Object(C)?getRawTag(C):objectToString(C)}function baseIsArguments(C){return isObjectLike(C)&&baseGetTag(C)==ie}function baseIsEqual(C,I,B,z,q){return C===I||(null==C||null==I||!isObjectLike(C)&&!isObjectLike(I)?C!=C&&I!=I:baseIsEqualDeep(C,I,B,z,baseIsEqual,q))}function baseIsEqualDeep(C,I,B,z,q,ee){var te=Et(C),ne=Et(I),se=te?re:Mt(C),oe=ne?re:Mt(I),ae=(se=se==ie?fe:se)==fe,le=(oe=oe==ie?fe:oe)==fe,ue=se==oe;if(ue&&Pt(C)){if(!Pt(I))return!1;te=!0,ae=!1}if(ue&&!ae)return ee||(ee=new Stack),te||It(C)?equalArrays(C,I,B,z,q,ee):equalByTag(C,I,se,B,z,q,ee);if(!(B&Q)){var de=ae&&Ye.call(C,"__wrapped__"),ce=le&&Ye.call(I,"__wrapped__");if(de||ce){var he=de?C.value():C,pe=ce?I.value():I;return ee||(ee=new Stack),q(he,pe,B,z,ee)}}return!!ue&&(ee||(ee=new Stack),equalObjects(C,I,B,z,q,ee))}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)?et:Ae).test(toSource(C))}function baseIsTypedArray(C){return isObjectLike(C)&&isLength(C.length)&&!!Fe[baseGetTag(C)]}function baseKeys(C){if(!isPrototype(C))return dt(C);var I=[];for(var B in Object(C))Ye.call(C,B)&&"constructor"!=B&&I.push(B);return I}function equalArrays(C,I,B,z,q,te){var ie=B&Q,re=C.length,ne=I.length;if(re!=ne&&!(ie&&ne>re))return!1;var se=te.get(C);if(se&&te.get(I))return se==I;var oe=-1,ae=!0,le=B&ee?new SetCache:void 0;for(te.set(C,I),te.set(I,C);++oe<re;){var ue=C[oe],de=I[oe];if(z)var ce=ie?z(de,ue,oe,I,C,te):z(ue,de,oe,C,I,te);if(void 0!==ce){if(ce)continue;ae=!1;break}if(le){if(!arraySome(I,(function(C,I){if(!cacheHas(le,I)&&(ue===C||q(ue,C,B,z,te)))return le.push(I)}))){ae=!1;break}}else if(ue!==de&&!q(ue,de,B,z,te)){ae=!1;break}}return te.delete(C),te.delete(I),ae}function equalByTag(C,I,B,z,q,te,ie){switch(B){case Se:if(C.byteLength!=I.byteLength||C.byteOffset!=I.byteOffset)return!1;C=C.buffer,I=I.buffer;case _e:return!(C.byteLength!=I.byteLength||!te(new rt(C),new rt(I)));case se:case oe:case ce:return eq(+C,+I);case ae:return C.name==I.name&&C.message==I.message;case ge:case ye:return C==I+"";case de:var re=mapToArray;case ve:var ne=z&Q;if(re||(re=setToArray),C.size!=I.size&&!ne)return!1;var le=ie.get(C);if(le)return le==I;z|=ee,ie.set(C,I);var ue=equalArrays(re(C),re(I),z,q,te,ie);return ie.delete(C),ue;case be:if(kt)return kt.call(C)==kt.call(I)}return!1}function equalObjects(C,I,B,z,q,ee){var te=B&Q,ie=getAllKeys(C),re=ie.length;if(re!=getAllKeys(I).length&&!te)return!1;for(var ne=re;ne--;){var se=ie[ne];if(!(te?se in I:Ye.call(I,se)))return!1}var oe=ee.get(C);if(oe&&ee.get(I))return oe==I;var ae=!0;ee.set(C,I),ee.set(I,C);for(var le=te;++ne<re;){var ue=C[se=ie[ne]],de=I[se];if(z)var ce=te?z(de,ue,se,I,C,ee):z(ue,de,se,C,I,ee);if(!(void 0===ce?ue===de||q(ue,de,B,z,ee):ce)){ae=!1;break}le||(le="constructor"==se)}if(ae&&!le){var he=C.constructor,fe=I.constructor;he==fe||!("constructor"in C)||!("constructor"in I)||"function"==typeof he&&he instanceof he&&"function"==typeof fe&&fe instanceof fe||(ae=!1)}return ee.delete(C),ee.delete(I),ae}function getAllKeys(C){return baseGetAllKeys(C,keys,Tt)}function getMapData(C,I){var B=C.__data__;return isKeyable(I)?B["string"==typeof I?"string":"hash"]:B.map}function getNative(C,I){var B=getValue(C,I);return baseIsNative(B)?B:void 0}function getRawTag(C){var I=Ye.call(C,ot),B=C[ot];try{C[ot]=void 0;var z=!0}catch(C){}var q=Qe.call(C);return z&&(I?C[ot]=B:delete C[ot]),q}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var Tt=at?function(C){return null==C?[]:(C=Object(C),arrayFilter(at(C),(function(I){return nt.call(C,I)})))}:stubArray,Mt=baseGetTag;function isIndex(C,I){return!!(I=null==I?te:I)&&("number"==typeof C||De.test(C))&&C>-1&&C%1==0&&C<I}function isKeyable(C){var I=typeof C;return"string"==I||"number"==I||"symbol"==I||"boolean"==I?"__proto__"!==C:null===C}function isMasked(C){return!!Ze&&Ze in C}function isPrototype(C){var I=C&&C.constructor;return C===("function"==typeof I&&I.prototype||Ke)}function objectToString(C){return Qe.call(C)}function toSource(C){if(null!=C){try{return Je.call(C)}catch(C){}try{return C+""}catch(C){}}return""}function eq(C,I){return C===I||C!=C&&I!=I}(ct&&Mt(new ct(new ArrayBuffer(1)))!=Se||ht&&Mt(new ht)!=de||pt&&Mt(pt.resolve())!=pe||mt&&Mt(new mt)!=ve||vt&&Mt(new vt)!=we)&&(Mt=function(C){var I=baseGetTag(C),B=I==fe?C.constructor:void 0,z=B?toSource(B):"";if(z)switch(z){case bt:return Se;case Ct:return de;case wt:return pe;case _t:return ve;case St:return we}return I});var Rt=baseIsArguments(function(){return arguments}())?baseIsArguments:function(C){return isObjectLike(C)&&Ye.call(C,"callee")&&!nt.call(C,"callee")},Et=Array.isArray;function isArrayLike(C){return null!=C&&isLength(C.length)&&!isFunction(C)}var Pt=ut||stubFalse;function isEqual(C,I){return baseIsEqual(C,I)}function isFunction(C){if(!isObject(C))return!1;var I=baseGetTag(C);return I==le||I==ue||I==ne||I==me}function isLength(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=te}function isObject(C){var I=typeof C;return null!=C&&("object"==I||"function"==I)}function isObjectLike(C){return null!=C&&"object"==typeof C}var It=Ue?baseUnary(Ue):baseIsTypedArray;function keys(C){return isArrayLike(C)?arrayLikeKeys(C):baseKeys(C)}function stubArray(){return[]}function stubFalse(){return!1}I.exports=isEqual}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],446:[function(C,I,z){(function(C){(function(){"use strict";var B="[object AsyncFunction]",z="[object Function]",q="[object GeneratorFunction]",Q="[object Null]",ee="[object Proxy]",te="[object Undefined]",ie="object"==typeof C&&C&&C.Object===Object&&C,re="object"==typeof self&&self&&self.Object===Object&&self,ne=ie||re||Function("return this")(),se=Object.prototype,oe=se.hasOwnProperty,ae=se.toString,le=ne.Symbol,ue=le?le.toStringTag:void 0;function baseGetTag(C){return null==C?void 0===C?te:Q:ue&&ue in Object(C)?getRawTag(C):objectToString(C)}function getRawTag(C){var I=oe.call(C,ue),B=C[ue];try{C[ue]=void 0;var z=!0}catch(C){}var q=ae.call(C);return z&&(I?C[ue]=B:delete C[ue]),q}function objectToString(C){return ae.call(C)}function isFunction(C){if(!isObject(C))return!1;var I=baseGetTag(C);return I==z||I==q||I==B||I==ee}function isObject(C){var I=typeof C;return null!=C&&("object"==I||"function"==I)}I.exports=isFunction}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],447:[function(C,I,B){"use strict";function isNil(C){return null==C}I.exports=isNil},{}],448:[function(C,I,B){"use strict";function isUndefined(C){return void 0===C}I.exports=isUndefined},{}],449:[function(C,I,z){(function(C){(function(){"use strict";var B=200,z="__lodash_hash_undefined__",q=1/0,Q="[object Function]",ee="[object GeneratorFunction]",te=/[\\^$.*+?()[\]{}|]/g,ie=/^\[object .+?Constructor\]$/,re="object"==typeof C&&C&&C.Object===Object&&C,ne="object"==typeof self&&self&&self.Object===Object&&self,se=re||ne||Function("return this")();function arrayIncludes(C,I){return!(!C||!C.length)&&baseIndexOf(C,I,0)>-1}function arrayIncludesWith(C,I,B){for(var z=-1,q=C?C.length:0;++z<q;)if(B(I,C[z]))return!0;return!1}function baseFindIndex(C,I,B,z){for(var q=C.length,Q=B+(z?1:-1);z?Q--:++Q<q;)if(I(C[Q],Q,C))return Q;return-1}function baseIndexOf(C,I,B){if(I!=I)return baseFindIndex(C,baseIsNaN,B);for(var z=B-1,q=C.length;++z<q;)if(C[z]===I)return z;return-1}function baseIsNaN(C){return C!=C}function cacheHas(C,I){return C.has(I)}function getValue(C,I){return null==C?void 0:C[I]}function isHostObject(C){var I=!1;if(null!=C&&"function"!=typeof C.toString)try{I=!!(C+"")}catch(C){}return I}function setToArray(C){var I=-1,B=Array(C.size);return C.forEach((function(C){B[++I]=C})),B}var oe,ae=Array.prototype,le=Function.prototype,ue=Object.prototype,de=se["__core-js_shared__"],ce=(oe=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",he=le.toString,fe=ue.hasOwnProperty,pe=ue.toString,me=RegExp("^"+he.call(fe).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=ae.splice,ve=getNative(se,"Map"),ye=getNative(se,"Set"),be=getNative(Object,"create");function Hash(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function hashClear(){this.__data__=be?be(null):{}}function hashDelete(C){return this.has(C)&&delete this.__data__[C]}function hashGet(C){var I=this.__data__;if(be){var B=I[C];return B===z?void 0:B}return fe.call(I,C)?I[C]:void 0}function hashHas(C){var I=this.__data__;return be?void 0!==I[C]:fe.call(I,C)}function hashSet(C,I){return this.__data__[C]=be&&void 0===I?z:I,this}function ListCache(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(C){var I=this.__data__,B=assocIndexOf(I,C);return!(B<0||(B==I.length-1?I.pop():ge.call(I,B,1),0))}function listCacheGet(C){var I=this.__data__,B=assocIndexOf(I,C);return B<0?void 0:I[B][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,I){var B=this.__data__,z=assocIndexOf(B,C);return z<0?B.push([C,I]):B[z][1]=I,this}function MapCache(C){var I=-1,B=C?C.length:0;for(this.clear();++I<B;){var z=C[I];this.set(z[0],z[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(ve||ListCache),string:new Hash}}function mapCacheDelete(C){return getMapData(this,C).delete(C)}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,I){return getMapData(this,C).set(C,I),this}function SetCache(C){var I=-1,B=C?C.length:0;for(this.__data__=new MapCache;++I<B;)this.add(C[I])}function setCacheAdd(C){return this.__data__.set(C,z),this}function setCacheHas(C){return this.__data__.has(C)}function assocIndexOf(C,I){for(var B=C.length;B--;)if(eq(C[B][0],I))return B;return-1}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)||isHostObject(C)?me:ie).test(toSource(C))}function baseUniq(C,I,z){var q=-1,Q=arrayIncludes,ee=C.length,te=!0,ie=[],re=ie;if(z)te=!1,Q=arrayIncludesWith;else if(ee>=B){var ne=I?null:Ce(C);if(ne)return setToArray(ne);te=!1,Q=cacheHas,re=new SetCache}else re=I?[]:ie;e:for(;++q<ee;){var se=C[q],oe=I?I(se):se;if(se=z||0!==se?se:0,te&&oe==oe){for(var ae=re.length;ae--;)if(re[ae]===oe)continue e;I&&re.push(oe),ie.push(se)}else Q(re,oe,z)||(re!==ie&&re.push(oe),ie.push(se))}return ie}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var Ce=ye&&1/setToArray(new ye([,-0]))[1]==q?function(C){return new ye(C)}:noop;function getMapData(C,I){var B=C.__data__;return isKeyable(I)?B["string"==typeof I?"string":"hash"]:B.map}function getNative(C,I){var B=getValue(C,I);return baseIsNative(B)?B:void 0}function isKeyable(C){var I=typeof C;return"string"==I||"number"==I||"symbol"==I||"boolean"==I?"__proto__"!==C:null===C}function isMasked(C){return!!ce&&ce in C}function toSource(C){if(null!=C){try{return he.call(C)}catch(C){}try{return C+""}catch(C){}}return""}function uniq(C){return C&&C.length?baseUniq(C):[]}function eq(C,I){return C===I||C!=C&&I!=I}function isFunction(C){var I=isObject(C)?pe.call(C):"";return I==Q||I==ee}function isObject(C){var I=typeof C;return!!C&&("object"==I||"function"==I)}function noop(){}I.exports=uniq}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],450:[function(C,I,B){"use strict";var z=C("inherits"),q=C("hash-base"),Q=C("safe-buffer").Buffer,ee=new Array(16);function MD5(){q.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(C,I){return C<<I|C>>>32-I}function fnF(C,I,B,z,q,Q,ee){return rotl(C+(I&B|~I&z)+q+Q|0,ee)+I|0}function fnG(C,I,B,z,q,Q,ee){return rotl(C+(I&z|B&~z)+q+Q|0,ee)+I|0}function fnH(C,I,B,z,q,Q,ee){return rotl(C+(I^B^z)+q+Q|0,ee)+I|0}function fnI(C,I,B,z,q,Q,ee){return rotl(C+(B^(I|~z))+q+Q|0,ee)+I|0}z(MD5,q),MD5.prototype._update=function(){for(var C=ee,I=0;I<16;++I)C[I]=this._block.readInt32LE(4*I);var B=this._a,z=this._b,q=this._c,Q=this._d;B=fnF(B,z,q,Q,C[0],3614090360,7),Q=fnF(Q,B,z,q,C[1],3905402710,12),q=fnF(q,Q,B,z,C[2],606105819,17),z=fnF(z,q,Q,B,C[3],3250441966,22),B=fnF(B,z,q,Q,C[4],4118548399,7),Q=fnF(Q,B,z,q,C[5],1200080426,12),q=fnF(q,Q,B,z,C[6],2821735955,17),z=fnF(z,q,Q,B,C[7],4249261313,22),B=fnF(B,z,q,Q,C[8],1770035416,7),Q=fnF(Q,B,z,q,C[9],2336552879,12),q=fnF(q,Q,B,z,C[10],4294925233,17),z=fnF(z,q,Q,B,C[11],2304563134,22),B=fnF(B,z,q,Q,C[12],1804603682,7),Q=fnF(Q,B,z,q,C[13],4254626195,12),q=fnF(q,Q,B,z,C[14],2792965006,17),B=fnG(B,z=fnF(z,q,Q,B,C[15],1236535329,22),q,Q,C[1],4129170786,5),Q=fnG(Q,B,z,q,C[6],3225465664,9),q=fnG(q,Q,B,z,C[11],643717713,14),z=fnG(z,q,Q,B,C[0],3921069994,20),B=fnG(B,z,q,Q,C[5],3593408605,5),Q=fnG(Q,B,z,q,C[10],38016083,9),q=fnG(q,Q,B,z,C[15],3634488961,14),z=fnG(z,q,Q,B,C[4],3889429448,20),B=fnG(B,z,q,Q,C[9],568446438,5),Q=fnG(Q,B,z,q,C[14],3275163606,9),q=fnG(q,Q,B,z,C[3],4107603335,14),z=fnG(z,q,Q,B,C[8],1163531501,20),B=fnG(B,z,q,Q,C[13],2850285829,5),Q=fnG(Q,B,z,q,C[2],4243563512,9),q=fnG(q,Q,B,z,C[7],1735328473,14),B=fnH(B,z=fnG(z,q,Q,B,C[12],2368359562,20),q,Q,C[5],4294588738,4),Q=fnH(Q,B,z,q,C[8],2272392833,11),q=fnH(q,Q,B,z,C[11],1839030562,16),z=fnH(z,q,Q,B,C[14],4259657740,23),B=fnH(B,z,q,Q,C[1],2763975236,4),Q=fnH(Q,B,z,q,C[4],1272893353,11),q=fnH(q,Q,B,z,C[7],4139469664,16),z=fnH(z,q,Q,B,C[10],3200236656,23),B=fnH(B,z,q,Q,C[13],681279174,4),Q=fnH(Q,B,z,q,C[0],3936430074,11),q=fnH(q,Q,B,z,C[3],3572445317,16),z=fnH(z,q,Q,B,C[6],76029189,23),B=fnH(B,z,q,Q,C[9],3654602809,4),Q=fnH(Q,B,z,q,C[12],3873151461,11),q=fnH(q,Q,B,z,C[15],530742520,16),B=fnI(B,z=fnH(z,q,Q,B,C[2],3299628645,23),q,Q,C[0],4096336452,6),Q=fnI(Q,B,z,q,C[7],1126891415,10),q=fnI(q,Q,B,z,C[14],2878612391,15),z=fnI(z,q,Q,B,C[5],4237533241,21),B=fnI(B,z,q,Q,C[12],1700485571,6),Q=fnI(Q,B,z,q,C[3],2399980690,10),q=fnI(q,Q,B,z,C[10],4293915773,15),z=fnI(z,q,Q,B,C[1],2240044497,21),B=fnI(B,z,q,Q,C[8],1873313359,6),Q=fnI(Q,B,z,q,C[15],4264355552,10),q=fnI(q,Q,B,z,C[6],2734768916,15),z=fnI(z,q,Q,B,C[13],1309151649,21),B=fnI(B,z,q,Q,C[4],4149444226,6),Q=fnI(Q,B,z,q,C[11],3174756917,10),q=fnI(q,Q,B,z,C[2],718787259,15),z=fnI(z,q,Q,B,C[9],3951481745,21),this._a=this._a+B|0,this._b=this._b+z|0,this._c=this._c+q|0,this._d=this._d+Q|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=Q.allocUnsafe(16);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C},I.exports=MD5},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("brorand");function MillerRabin(C){this.rand=C||new q.Rand}I.exports=MillerRabin,MillerRabin.create=function create(C){return new MillerRabin(C)},MillerRabin.prototype._randbelow=function _randbelow(C){var I=C.bitLength(),B=Math.ceil(I/8);do{var q=new z(this.rand.generate(B))}while(q.cmp(C)>=0);return q},MillerRabin.prototype._randrange=function _randrange(C,I){var B=I.sub(C);return C.add(this._randbelow(B))},MillerRabin.prototype.test=function test(C,I,B){var q=C.bitLength(),Q=z.mont(C),ee=new z(1).toRed(Q);I||(I=Math.max(1,q/48|0));for(var te=C.subn(1),ie=0;!te.testn(ie);ie++);for(var re=C.shrn(ie),ne=te.toRed(Q),se=!0;I>0;I--){var oe=this._randrange(new z(2),te);B&&B(oe);var ae=oe.toRed(Q).redPow(re);if(0!==ae.cmp(ee)&&0!==ae.cmp(ne)){for(var le=1;le<ie;le++){if(0===(ae=ae.redSqr()).cmp(ee))return!1;if(0===ae.cmp(ne))break}if(le===ie)return!1}}return se},MillerRabin.prototype.getDivisor=function getDivisor(C,I){var B=C.bitLength(),q=z.mont(C),Q=new z(1).toRed(q);I||(I=Math.max(1,B/48|0));for(var ee=C.subn(1),te=0;!ee.testn(te);te++);for(var ie=C.shrn(te),re=ee.toRed(q);I>0;I--){var ne=this._randrange(new z(2),ee),se=C.gcd(ne);if(0!==se.cmpn(1))return se;var oe=ne.toRed(q).redPow(ie);if(0!==oe.cmp(Q)&&0!==oe.cmp(re)){for(var ae=1;ae<te;ae++){if(0===(oe=oe.redSqr()).cmp(Q))return oe.fromRed().subn(1).gcd(C);if(0===oe.cmp(re))break}if(ae===te)return(oe=oe.redSqr()).fromRed().subn(1).gcd(C)}}return!1}},{"bn.js":452,brorand:187}],452:[function(C,I,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],453:[function(C,I,B){"use strict";function assert(C,I){if(!C)throw new Error(I||"Assertion failed")}I.exports=assert,assert.equal=function assertEqual(C,I,B){if(C!=I)throw new Error(B||"Assertion failed: "+C+" != "+I)}},{}],454:[function(C,I,B){"use strict";var z=B;function toArray(C,I){if(Array.isArray(C))return C.slice();if(!C)return[];var B=[];if("string"!=typeof C){for(var z=0;z<C.length;z++)B[z]=0|C[z];return B}if("hex"===I)for((C=C.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(C="0"+C),z=0;z<C.length;z+=2)B.push(parseInt(C[z]+C[z+1],16));else for(z=0;z<C.length;z++){var q=C.charCodeAt(z),Q=q>>8,ee=255&q;Q?B.push(Q,ee):B.push(ee)}return B}function zero2(C){return 1===C.length?"0"+C:C}function toHex(C){for(var I="",B=0;B<C.length;B++)I+=zero2(C[B].toString(16));return I}z.toArray=toArray,z.zero2=zero2,z.toHex=toHex,z.encode=function encode(C,I){return"hex"===I?toHex(C):C}},{}],455:[function(C,I,B){I.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(C,I,B){"use strict";var z=C("asn1.js");B.certificate=C("./certificate");var q=z.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));B.RSAPrivateKey=q;var Q=z.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));B.RSAPublicKey=Q;var ee=z.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(te),this.key("subjectPublicKey").bitstr())}));B.PublicKey=ee;var te=z.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),ie=z.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(te),this.key("subjectPrivateKey").octstr())}));B.PrivateKey=ie;var re=z.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));B.EncryptedPrivateKey=re;var ne=z.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));B.DSAPrivateKey=ne,B.DSAparam=z.define("DSAparam",(function(){this.int()}));var se=z.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(oe),this.key("publicKey").optional().explicit(1).bitstr())}));B.ECPrivateKey=se;var oe=z.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));B.signature=z.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(C,I,B){"use strict";var z=C("asn1.js"),q=z.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),Q=z.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),ee=z.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),te=z.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(ee),this.key("subjectPublicKey").bitstr())})),ie=z.define("RelativeDistinguishedName",(function(){this.setof(Q)})),re=z.define("RDNSequence",(function(){this.seqof(ie)})),ne=z.define("Name",(function(){this.choice({rdnSequence:this.use(re)})})),se=z.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(q),this.key("notAfter").use(q))})),oe=z.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),ae=z.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ee),this.key("issuer").use(ne),this.key("validity").use(se),this.key("subject").use(ne),this.key("subjectPublicKeyInfo").use(te),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(oe).optional())})),le=z.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(ae),this.key("signatureAlgorithm").use(ee),this.key("signatureValue").bitstr())}));I.exports=le},{"asn1.js":170}],458:[function(C,I,B){"use strict";var z=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,q=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Q=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,ee=C("evp_bytestokey"),te=C("browserify-aes"),ie=C("safe-buffer").Buffer;I.exports=function(C,I){var B,re=C.toString(),ne=re.match(z);if(ne){var se="aes"+ne[1],oe=ie.from(ne[2],"hex"),ae=ie.from(ne[3].replace(/[\r\n]/g,""),"base64"),le=ee(I,oe.slice(0,8),parseInt(ne[1],10)).key,ue=[],de=te.createDecipheriv(se,le,oe);ue.push(de.update(ae)),ue.push(de.final()),B=ie.concat(ue)}else{var ce=re.match(Q);B=ie.from(ce[2].replace(/[\r\n]/g,""),"base64")}return{tag:re.match(q)[1],data:B}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(C,I,B){"use strict";var z=C("./asn1"),q=C("./aesid.json"),Q=C("./fixProc"),ee=C("browserify-aes"),te=C("pbkdf2"),ie=C("safe-buffer").Buffer;function parseKeys(C){var I;"object"!=typeof C||ie.isBuffer(C)||(I=C.passphrase,C=C.key),"string"==typeof C&&(C=ie.from(C));var B,q,ee=Q(C,I),te=ee.tag,re=ee.data;switch(te){case"CERTIFICATE":q=z.certificate.decode(re,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(q||(q=z.PublicKey.decode(re,"der")),B=q.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return z.RSAPublicKey.decode(q.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return q.subjectPrivateKey=q.subjectPublicKey,{type:"ec",data:q};case"1.2.840.10040.4.1":return q.algorithm.params.pub_key=z.DSAparam.decode(q.subjectPublicKey.data,"der"),{type:"dsa",data:q.algorithm.params};default:throw new Error("unknown key id "+B)}case"ENCRYPTED PRIVATE KEY":re=decrypt(re=z.EncryptedPrivateKey.decode(re,"der"),I);case"PRIVATE KEY":switch(B=(q=z.PrivateKey.decode(re,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return z.RSAPrivateKey.decode(q.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:q.algorithm.curve,privateKey:z.ECPrivateKey.decode(q.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return q.algorithm.params.priv_key=z.DSAparam.decode(q.subjectPrivateKey,"der"),{type:"dsa",params:q.algorithm.params};default:throw new Error("unknown key id "+B)}case"RSA PUBLIC KEY":return z.RSAPublicKey.decode(re,"der");case"RSA PRIVATE KEY":return z.RSAPrivateKey.decode(re,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:z.DSAPrivateKey.decode(re,"der")};case"EC PRIVATE KEY":return{curve:(re=z.ECPrivateKey.decode(re,"der")).parameters.value,privateKey:re.privateKey};default:throw new Error("unknown key type "+te)}}function decrypt(C,I){var B=C.algorithm.decrypt.kde.kdeparams.salt,z=parseInt(C.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Q=q[C.algorithm.decrypt.cipher.algo.join(".")],re=C.algorithm.decrypt.cipher.iv,ne=C.subjectPrivateKey,se=parseInt(Q.split("-")[1],10)/8,oe=te.pbkdf2Sync(I,B,z,se,"sha1"),ae=ee.createDecipheriv(Q,oe,re),le=[];return le.push(ae.update(ne)),le.push(ae.final()),ie.concat(le)}I.exports=parseKeys,parseKeys.signature=z.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(C,I,B){"use strict";B.pbkdf2=C("./lib/async"),B.pbkdf2Sync=C("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(C,I,z){(function(B){(function(){"use strict";var z,q,Q=C("safe-buffer").Buffer,ee=C("./precondition"),te=C("./default-encoding"),ie=C("./sync"),re=C("./to-buffer"),ne=B.crypto&&B.crypto.subtle,se={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},oe=[];function checkNative(C){if(B.process&&!B.process.browser)return Promise.resolve(!1);if(!ne||!ne.importKey||!ne.deriveBits)return Promise.resolve(!1);if(void 0!==oe[C])return oe[C];var I=browserPbkdf2(z=z||Q.alloc(8),z,10,128,C).then((function(){return!0})).catch((function(){return!1}));return oe[C]=I,I}function getNextTick(){return q||(q=B.process&&B.process.nextTick?B.process.nextTick:B.queueMicrotask?B.queueMicrotask:B.setImmediate?B.setImmediate:B.setTimeout)}function browserPbkdf2(C,I,B,z,q){return ne.importKey("raw",C,{name:"PBKDF2"},!1,["deriveBits"]).then((function(C){return ne.deriveBits({name:"PBKDF2",salt:I,iterations:B,hash:{name:q}},C,z<<3)})).then((function(C){return Q.from(C)}))}function resolvePromise(C,I){C.then((function(C){getNextTick()((function(){I(null,C)}))}),(function(C){getNextTick()((function(){I(C)}))}))}I.exports=function(C,I,z,q,Q,ne){"function"==typeof Q&&(ne=Q,Q=void 0);var oe=se[(Q=Q||"sha1").toLowerCase()];if(oe&&"function"==typeof B.Promise){if(ee(z,q),C=re(C,te,"Password"),I=re(I,te,"Salt"),"function"!=typeof ne)throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(oe).then((function(B){return B?browserPbkdf2(C,I,z,q,oe):ie(C,I,z,q,Q)})),ne)}else getNextTick()((function(){var B;try{B=ie(C,I,z,q,Q)}catch(C){return ne(C)}ne(null,B)}))}}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(C,I,z){(function(C,B){(function(){"use strict";var z;z=B.process&&B.process.browser?"utf-8":B.process&&B.process.version?parseInt(C.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",I.exports=z}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467}],463:[function(C,I,B){"use strict";var z=Math.pow(2,30)-1;I.exports=function(C,I){if("number"!=typeof C)throw new TypeError("Iterations not a number");if(C<0)throw new TypeError("Bad iterations");if("number"!=typeof I)throw new TypeError("Key length not a number");if(I<0||I>z||I!=I)throw new TypeError("Bad key length")}},{}],464:[function(C,I,B){"use strict";var z=C("create-hash/md5"),q=C("ripemd160"),Q=C("sha.js"),ee=C("safe-buffer").Buffer,te=C("./precondition"),ie=C("./default-encoding"),re=C("./to-buffer"),ne=ee.alloc(128),se={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(C,I,B){var z=getDigest(C),q="sha512"===C||"sha384"===C?128:64;I.length>q?I=z(I):I.length<q&&(I=ee.concat([I,ne],q));for(var Q=ee.allocUnsafe(q+se[C]),te=ee.allocUnsafe(q+se[C]),ie=0;ie<q;ie++)Q[ie]=54^I[ie],te[ie]=92^I[ie];var re=ee.allocUnsafe(q+B+4);Q.copy(re,0,0,q),this.ipad1=re,this.ipad2=Q,this.opad=te,this.alg=C,this.blocksize=q,this.hash=z,this.size=se[C]}function getDigest(C){function shaFunc(I){return Q(C).update(I).digest()}function rmd160Func(C){return(new q).update(C).digest()}return"rmd160"===C||"ripemd160"===C?rmd160Func:"md5"===C?z:shaFunc}function pbkdf2(C,I,B,z,q){te(B,z);var Q=new Hmac(q=q||"sha1",C=re(C,ie,"Password"),(I=re(I,ie,"Salt")).length),ne=ee.allocUnsafe(z),oe=ee.allocUnsafe(I.length+4);I.copy(oe,0,0,I.length);for(var ae=0,le=se[q],ue=Math.ceil(z/le),de=1;de<=ue;de++){oe.writeUInt32BE(de,I.length);for(var ce=Q.run(oe,Q.ipad1),he=ce,fe=1;fe<B;fe++){he=Q.run(he,Q.ipad2);for(var pe=0;pe<le;pe++)ce[pe]^=he[pe]}ce.copy(ne,ae),ae+=le}return ne}Hmac.prototype.run=function(C,I){return C.copy(I,this.blocksize),this.hash(I).copy(this.opad,this.blocksize),this.hash(this.opad)},I.exports=pbkdf2},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer;I.exports=function(C,I,B){if(z.isBuffer(C))return C;if("string"==typeof C)return z.from(C,I);if(ArrayBuffer.isView(C))return z.from(C.buffer);throw new TypeError(B+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(C,I,B){(function(C){(function(){"use strict";function nextTick(I,B,z,q){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var Q,ee,te=arguments.length;switch(te){case 0:case 1:return C.nextTick(I);case 2:return C.nextTick((function afterTickOne(){I.call(null,B)}));case 3:return C.nextTick((function afterTickTwo(){I.call(null,B,z)}));case 4:return C.nextTick((function afterTickThree(){I.call(null,B,z,q)}));default:for(Q=new Array(te-1),ee=0;ee<Q.length;)Q[ee++]=arguments[ee];return C.nextTick((function afterTick(){I.apply(null,Q)}))}}void 0===C||!C.version||0===C.version.indexOf("v0.")||0===C.version.indexOf("v1.")&&0!==C.version.indexOf("v1.8.")?I.exports={nextTick}:I.exports=C}).call(this)}).call(this,C("_process"))},{_process:467}],467:[function(C,I,B){"use strict";var z,q,Q=I.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(C){if(z===setTimeout)return setTimeout(C,0);if((z===defaultSetTimout||!z)&&setTimeout)return z=setTimeout,setTimeout(C,0);try{return z(C,0)}catch(I){try{return z.call(null,C,0)}catch(I){return z.call(this,C,0)}}}function runClearTimeout(C){if(q===clearTimeout)return clearTimeout(C);if((q===defaultClearTimeout||!q)&&clearTimeout)return q=clearTimeout,clearTimeout(C);try{return q(C)}catch(I){try{return q.call(null,C)}catch(I){return q.call(this,C)}}}!function(){try{z="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(C){z=defaultSetTimout}try{q="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(C){q=defaultClearTimeout}}();var ee,te=[],ie=!1,re=-1;function cleanUpNextTick(){ie&&ee&&(ie=!1,ee.length?te=ee.concat(te):re=-1,te.length&&drainQueue())}function drainQueue(){if(!ie){var C=runTimeout(cleanUpNextTick);ie=!0;for(var I=te.length;I;){for(ee=te,te=[];++re<I;)ee&&ee[re].run();re=-1,I=te.length}ee=null,ie=!1,runClearTimeout(C)}}function Item(C,I){this.fun=C,this.array=I}function noop(){}Q.nextTick=function(C){var I=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)I[B-1]=arguments[B];te.push(new Item(C,I)),1!==te.length||ie||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},Q.title="browser",Q.browser=!0,Q.env={},Q.argv=[],Q.version="",Q.versions={},Q.on=noop,Q.addListener=noop,Q.once=noop,Q.off=noop,Q.removeListener=noop,Q.removeAllListeners=noop,Q.emit=noop,Q.prependListener=noop,Q.prependOnceListener=noop,Q.listeners=function(C){return[]},Q.binding=function(C){throw new Error("process.binding is not supported")},Q.cwd=function(){return"/"},Q.chdir=function(C){throw new Error("process.chdir is not supported")},Q.umask=function(){return 0}},{}],468:[function(C,I,B){"use strict";B.publicEncrypt=C("./publicEncrypt"),B.privateDecrypt=C("./privateDecrypt"),B.privateEncrypt=function privateEncrypt(C,I){return B.publicEncrypt(C,I,!0)},B.publicDecrypt=function publicDecrypt(C,I){return B.privateDecrypt(C,I,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(C,I,B){"use strict";var z=C("create-hash"),q=C("safe-buffer").Buffer;function i2ops(C){var I=q.allocUnsafe(4);return I.writeUInt32BE(C,0),I}I.exports=function(C,I){for(var B,Q=q.alloc(0),ee=0;Q.length<I;)B=i2ops(ee++),Q=q.concat([Q,z("sha1").update(C).update(B).digest()]);return Q.slice(0,I)}},{"create-hash":386,"safe-buffer":494}],470:[function(C,I,B){arguments[4][184][0].apply(B,arguments)},{buffer:188,dup:184}],471:[function(C,I,B){"use strict";var z=C("parse-asn1"),q=C("./mgf"),Q=C("./xor"),ee=C("bn.js"),te=C("browserify-rsa"),ie=C("create-hash"),re=C("./withPublic"),ne=C("safe-buffer").Buffer;function oaep(C,I){var B=C.modulus.byteLength(),z=ie("sha1").update(ne.alloc(0)).digest(),ee=z.length;if(0!==I[0])throw new Error("decryption error");var te=I.slice(1,ee+1),re=I.slice(ee+1),se=Q(te,q(re,ee)),oe=Q(re,q(se,B-ee-1));if(compare(z,oe.slice(0,ee)))throw new Error("decryption error");for(var ae=ee;0===oe[ae];)ae++;if(1!==oe[ae++])throw new Error("decryption error");return oe.slice(ae)}function pkcs1(C,I,B){for(var z=I.slice(0,2),q=2,Q=0;0!==I[q++];)if(q>=I.length){Q++;break}var ee=I.slice(2,q-1);if(("0002"!==z.toString("hex")&&!B||"0001"!==z.toString("hex")&&B)&&Q++,ee.length<8&&Q++,Q)throw new Error("decryption error");return I.slice(q)}function compare(C,I){C=ne.from(C),I=ne.from(I);var B=0,z=C.length;C.length!==I.length&&(B++,z=Math.min(C.length,I.length));for(var q=-1;++q<z;)B+=C[q]^I[q];return B}I.exports=function privateDecrypt(C,I,B){var q;q=C.padding?C.padding:B?1:4;var Q,ie=z(C),se=ie.modulus.byteLength();if(I.length>se||new ee(I).cmp(ie.modulus)>=0)throw new Error("decryption error");Q=B?re(new ee(I),ie):te(I,ie);var oe=ne.alloc(se-Q.length);if(Q=ne.concat([oe,Q],se),4===q)return oaep(ie,Q);if(1===q)return pkcs1(ie,Q,B);if(3===q)return Q;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(C,I,B){"use strict";var z=C("parse-asn1"),q=C("randombytes"),Q=C("create-hash"),ee=C("./mgf"),te=C("./xor"),ie=C("bn.js"),re=C("./withPublic"),ne=C("browserify-rsa"),se=C("safe-buffer").Buffer;function oaep(C,I){var B=C.modulus.byteLength(),z=I.length,re=Q("sha1").update(se.alloc(0)).digest(),ne=re.length,oe=2*ne;if(z>B-oe-2)throw new Error("message too long");var ae=se.alloc(B-z-oe-2),le=B-ne-1,ue=q(ne),de=te(se.concat([re,ae,se.alloc(1,1),I],le),ee(ue,le)),ce=te(ue,ee(de,ne));return new ie(se.concat([se.alloc(1),ce,de],B))}function pkcs1(C,I,B){var z,q=I.length,Q=C.modulus.byteLength();if(q>Q-11)throw new Error("message too long");return z=B?se.alloc(Q-q-3,255):nonZero(Q-q-3),new ie(se.concat([se.from([0,B?1:2]),z,se.alloc(1),I],Q))}function nonZero(C){for(var I,B=se.allocUnsafe(C),z=0,Q=q(2*C),ee=0;z<C;)ee===Q.length&&(Q=q(2*C),ee=0),(I=Q[ee++])&&(B[z++]=I);return B}I.exports=function publicEncrypt(C,I,B){var q;q=C.padding?C.padding:B?1:4;var Q,ee=z(C);if(4===q)Q=oaep(ee,I);else if(1===q)Q=pkcs1(ee,I,B);else{if(3!==q)throw new Error("unknown padding");if((Q=new ie(I)).cmp(ee.modulus)>=0)throw new Error("data too long for modulus")}return B?ne(Q,ee):re(Q,ee)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(C,I,B){"use strict";var z=C("bn.js"),q=C("safe-buffer").Buffer;function withPublic(C,I){return q.from(C.toRed(z.mont(I.modulus)).redPow(new z(I.publicExponent)).fromRed().toArray())}I.exports=withPublic},{"bn.js":470,"safe-buffer":494}],474:[function(C,I,B){"use strict";I.exports=function xor(C,I){for(var B=C.length,z=-1;++z<B;)C[z]^=I[z];return C}},{}],475:[function(C,I,z){(function(B,z){(function(){"use strict";var q=65536,Q=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var ee=C("safe-buffer").Buffer,te=z.crypto||z.msCrypto;function randomBytes(C,I){if(C>Q)throw new RangeError("requested too many random bytes");var z=ee.allocUnsafe(C);if(C>0)if(C>q)for(var ie=0;ie<C;ie+=q)te.getRandomValues(z.slice(ie,ie+q));else te.getRandomValues(z);return"function"==typeof I?B.nextTick((function(){I(null,z)})):z}te&&te.getRandomValues?I.exports=randomBytes:I.exports=oldBrowser}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,"safe-buffer":494}],476:[function(C,I,z){(function(I,B){(function(){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var q=C("safe-buffer"),Q=C("randombytes"),ee=q.Buffer,te=q.kMaxLength,ie=B.crypto||B.msCrypto,re=Math.pow(2,32)-1;function assertOffset(C,I){if("number"!=typeof C||C!=C)throw new TypeError("offset must be a number");if(C>re||C<0)throw new TypeError("offset must be a uint32");if(C>te||C>I)throw new RangeError("offset out of range")}function assertSize(C,I,B){if("number"!=typeof C||C!=C)throw new TypeError("size must be a number");if(C>re||C<0)throw new TypeError("size must be a uint32");if(C+I>B||C>te)throw new RangeError("buffer too small")}function randomFill(C,I,z,q){if(!(ee.isBuffer(C)||C instanceof B.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof I)q=I,I=0,z=C.length;else if("function"==typeof z)q=z,z=C.length-I;else if("function"!=typeof q)throw new TypeError('"cb" argument must be a function');return assertOffset(I,C.length),assertSize(z,I,C.length),actualFill(C,I,z,q)}function actualFill(C,B,z,q){if(I.browser){var ee=C.buffer,te=new Uint8Array(ee,B,z);return ie.getRandomValues(te),q?void I.nextTick((function(){q(null,C)})):C}if(!q)return Q(z).copy(C,B),C;Q(z,(function(I,z){if(I)return q(I);z.copy(C,B),q(null,C)}))}function randomFillSync(C,I,z){if(void 0===I&&(I=0),!(ee.isBuffer(C)||C instanceof B.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(I,C.length),void 0===z&&(z=C.length-I),assertSize(z,I,C.length),actualFill(C,I,z)}ie&&ie.getRandomValues||!I.browser?(z.randomFill=randomFill,z.randomFillSync=randomFillSync):(z.randomFill=oldBrowser,z.randomFillSync=oldBrowser)}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(C,I,B){"use strict";function _inheritsLoose(C,I){C.prototype=Object.create(I.prototype),C.prototype.constructor=C,C.__proto__=I}var z={};function createErrorType(C,I,B){function getMessage(C,B,z){return"string"==typeof I?I:I(C,B,z)}B||(B=Error);var q=function(C){function NodeError(I,B,z){return C.call(this,getMessage(I,B,z))||this}return _inheritsLoose(NodeError,C),NodeError}(B);q.prototype.name=B.name,q.prototype.code=C,z[C]=q}function oneOf(C,I){if(Array.isArray(C)){var B=C.length;return C=C.map((function(C){return String(C)})),B>2?"one of ".concat(I," ").concat(C.slice(0,B-1).join(", "),", or ")+C[B-1]:2===B?"one of ".concat(I," ").concat(C[0]," or ").concat(C[1]):"of ".concat(I," ").concat(C[0])}return"of ".concat(I," ").concat(String(C))}function startsWith(C,I,B){return C.substr(!B||B<0?0:+B,I.length)===I}function endsWith(C,I,B){return(void 0===B||B>C.length)&&(B=C.length),C.substring(B-I.length,B)===I}function includes(C,I,B){return"number"!=typeof B&&(B=0),!(B+I.length>C.length)&&-1!==C.indexOf(I,B)}createErrorType("ERR_INVALID_OPT_VALUE",(function(C,I){return'The value "'+I+'" is invalid for option "'+C+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(C,I,B){var z,q;if("string"==typeof I&&startsWith(I,"not ")?(z="must not be",I=I.replace(/^not /,"")):z="must be",endsWith(C," argument"))q="The ".concat(C," ").concat(z," ").concat(oneOf(I,"type"));else{var Q=includes(C,".")?"property":"argument";q='The "'.concat(C,'" ').concat(Q," ").concat(z," ").concat(oneOf(I,"type"))}return q+=". Received type ".concat(typeof B)}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(C){return"The "+C+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(C){return"Cannot call "+C+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(C){return"Unknown encoding: "+C}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),I.exports.codes=z},{}],478:[function(C,I,B){(function(B){(function(){"use strict";var z=Object.keys||function(C){var I=[];for(var B in C)I.push(B);return I};I.exports=Duplex;var q=C("./_stream_readable"),Q=C("./_stream_writable");C("inherits")(Duplex,q);for(var ee=z(Q.prototype),te=0;te<ee.length;te++){var ie=ee[te];Duplex.prototype[ie]||(Duplex.prototype[ie]=Q.prototype[ie])}function Duplex(C){if(!(this instanceof Duplex))return new Duplex(C);q.call(this,C),Q.call(this,C),this.allowHalfOpen=!0,C&&(!1===C.readable&&(this.readable=!1),!1===C.writable&&(this.writable=!1),!1===C.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||B.nextTick(onEndNT,this)}function onEndNT(C){C.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function set(C){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}})}).call(this)}).call(this,C("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(C,I,B){"use strict";I.exports=PassThrough;var z=C("./_stream_transform");function PassThrough(C){if(!(this instanceof PassThrough))return new PassThrough(C);z.call(this,C)}C("inherits")(PassThrough,z),PassThrough.prototype._transform=function(C,I,B){B(null,C)}},{"./_stream_transform":481,inherits:440}],480:[function(C,I,z){(function(B,z){(function(){"use strict";var q;I.exports=Readable,Readable.ReadableState=ReadableState,C("events").EventEmitter;var Q=function EElistenerCount(C,I){return C.listeners(I).length},ee=C("./internal/streams/stream"),te=C("buffer").Buffer,ie=(void 0!==z?z:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return te.from(C)}function _isUint8Array(C){return te.isBuffer(C)||C instanceof ie}var re,ne=C("util");re=ne&&ne.debuglog?ne.debuglog("stream"):function debug(){};var se,oe,ae,le=C("./internal/streams/buffer_list"),ue=C("./internal/streams/destroy"),de=C("./internal/streams/state").getHighWaterMark,ce=C("../errors").codes,he=ce.ERR_INVALID_ARG_TYPE,fe=ce.ERR_STREAM_PUSH_AFTER_EOF,pe=ce.ERR_METHOD_NOT_IMPLEMENTED,me=ce.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;C("inherits")(Readable,ee);var ge=ue.errorOrDestroy,ve=["error","close","destroy","pause","resume"];function prependListener(C,I,B){if("function"==typeof C.prependListener)return C.prependListener(I,B);C._events&&C._events[I]?Array.isArray(C._events[I])?C._events[I].unshift(B):C._events[I]=[B,C._events[I]]:C.on(I,B)}function ReadableState(I,B,z){q=q||C("./_stream_duplex"),I=I||{},"boolean"!=typeof z&&(z=B instanceof q),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=de(this,I,"readableHighWaterMark",z),this.buffer=new le,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==I.emitClose,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(se||(se=C("string_decoder/").StringDecoder),this.decoder=new se(I.encoding),this.encoding=I.encoding)}function Readable(I){if(q=q||C("./_stream_duplex"),!(this instanceof Readable))return new Readable(I);var B=this instanceof q;this._readableState=new ReadableState(I,this,B),this.readable=!0,I&&("function"==typeof I.read&&(this._read=I.read),"function"==typeof I.destroy&&(this._destroy=I.destroy)),ee.call(this)}function readableAddChunk(C,I,B,z,q){re("readableAddChunk",I);var Q,ee=C._readableState;if(null===I)ee.reading=!1,onEofChunk(C,ee);else if(q||(Q=chunkInvalid(ee,I)),Q)ge(C,Q);else if(ee.objectMode||I&&I.length>0)if("string"==typeof I||ee.objectMode||Object.getPrototypeOf(I)===te.prototype||(I=_uint8ArrayToBuffer(I)),z)ee.endEmitted?ge(C,new me):addChunk(C,ee,I,!0);else if(ee.ended)ge(C,new fe);else{if(ee.destroyed)return!1;ee.reading=!1,ee.decoder&&!B?(I=ee.decoder.write(I),ee.objectMode||0!==I.length?addChunk(C,ee,I,!1):maybeReadMore(C,ee)):addChunk(C,ee,I,!1)}else z||(ee.reading=!1,maybeReadMore(C,ee));return!ee.ended&&(ee.length<ee.highWaterMark||0===ee.length)}function addChunk(C,I,B,z){I.flowing&&0===I.length&&!I.sync?(I.awaitDrain=0,C.emit("data",B)):(I.length+=I.objectMode?1:B.length,z?I.buffer.unshift(B):I.buffer.push(B),I.needReadable&&emitReadable(C)),maybeReadMore(C,I)}function chunkInvalid(C,I){var B;return _isUint8Array(I)||"string"==typeof I||void 0===I||C.objectMode||(B=new he("chunk",["string","Buffer","Uint8Array"],I)),B}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(C){this._readableState&&(this._readableState.destroyed=C)}}),Readable.prototype.destroy=ue.destroy,Readable.prototype._undestroy=ue.undestroy,Readable.prototype._destroy=function(C,I){I(C)},Readable.prototype.push=function(C,I){var B,z=this._readableState;return z.objectMode?B=!0:"string"==typeof C&&((I=I||z.defaultEncoding)!==z.encoding&&(C=te.from(C,I),I=""),B=!0),readableAddChunk(this,C,I,!1,B)},Readable.prototype.unshift=function(C){return readableAddChunk(this,C,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(I){se||(se=C("string_decoder/").StringDecoder);var B=new se(I);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,q="";null!==z;)q+=B.write(z.data),z=z.next;return this._readableState.buffer.clear(),""!==q&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var ye=1073741824;function computeNewHighWaterMark(C){return C>=ye?C=ye:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function howMuchToRead(C,I){return C<=0||0===I.length&&I.ended?0:I.objectMode?1:C!=C?I.flowing&&I.length?I.buffer.head.data.length:I.length:(C>I.highWaterMark&&(I.highWaterMark=computeNewHighWaterMark(C)),C<=I.length?C:I.ended?I.length:(I.needReadable=!0,0))}function onEofChunk(C,I){if(re("onEofChunk"),!I.ended){if(I.decoder){var B=I.decoder.end();B&&B.length&&(I.buffer.push(B),I.length+=I.objectMode?1:B.length)}I.ended=!0,I.sync?emitReadable(C):(I.needReadable=!1,I.emittedReadable||(I.emittedReadable=!0,emitReadable_(C)))}}function emitReadable(C){var I=C._readableState;re("emitReadable",I.needReadable,I.emittedReadable),I.needReadable=!1,I.emittedReadable||(re("emitReadable",I.flowing),I.emittedReadable=!0,B.nextTick(emitReadable_,C))}function emitReadable_(C){var I=C._readableState;re("emitReadable_",I.destroyed,I.length,I.ended),I.destroyed||!I.length&&!I.ended||(C.emit("readable"),I.emittedReadable=!1),I.needReadable=!I.flowing&&!I.ended&&I.length<=I.highWaterMark,flow(C)}function maybeReadMore(C,I){I.readingMore||(I.readingMore=!0,B.nextTick(maybeReadMore_,C,I))}function maybeReadMore_(C,I){for(;!I.reading&&!I.ended&&(I.length<I.highWaterMark||I.flowing&&0===I.length);){var B=I.length;if(re("maybeReadMore read 0"),C.read(0),B===I.length)break}I.readingMore=!1}function pipeOnDrain(C){return function pipeOnDrainFunctionResult(){var I=C._readableState;re("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,0===I.awaitDrain&&Q(C,"data")&&(I.flowing=!0,flow(C))}}function updateReadableListening(C){var I=C._readableState;I.readableListening=C.listenerCount("readable")>0,I.resumeScheduled&&!I.paused?I.flowing=!0:C.listenerCount("data")>0&&C.resume()}function nReadingNextTick(C){re("readable nexttick read 0"),C.read(0)}function resume(C,I){I.resumeScheduled||(I.resumeScheduled=!0,B.nextTick(resume_,C,I))}function resume_(C,I){re("resume",I.reading),I.reading||C.read(0),I.resumeScheduled=!1,C.emit("resume"),flow(C),I.flowing&&!I.reading&&C.read(0)}function flow(C){var I=C._readableState;for(re("flow",I.flowing);I.flowing&&null!==C.read(););}function fromList(C,I){return 0===I.length?null:(I.objectMode?B=I.buffer.shift():!C||C>=I.length?(B=I.decoder?I.buffer.join(""):1===I.buffer.length?I.buffer.first():I.buffer.concat(I.length),I.buffer.clear()):B=I.buffer.consume(C,I.decoder),B);var B}function endReadable(C){var I=C._readableState;re("endReadable",I.endEmitted),I.endEmitted||(I.ended=!0,B.nextTick(endReadableNT,I,C))}function endReadableNT(C,I){if(re("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&0===C.length&&(C.endEmitted=!0,I.readable=!1,I.emit("end"),C.autoDestroy)){var B=I._writableState;(!B||B.autoDestroy&&B.finished)&&I.destroy()}}function indexOf(C,I){for(var B=0,z=C.length;B<z;B++)if(C[B]===I)return B;return-1}Readable.prototype.read=function(C){re("read",C),C=parseInt(C,10);var I=this._readableState,B=C;if(0!==C&&(I.emittedReadable=!1),0===C&&I.needReadable&&((0!==I.highWaterMark?I.length>=I.highWaterMark:I.length>0)||I.ended))return re("read: emitReadable",I.length,I.ended),0===I.length&&I.ended?endReadable(this):emitReadable(this),null;if(0===(C=howMuchToRead(C,I))&&I.ended)return 0===I.length&&endReadable(this),null;var z,q=I.needReadable;return re("need readable",q),(0===I.length||I.length-C<I.highWaterMark)&&re("length less than watermark",q=!0),I.ended||I.reading?re("reading or ended",q=!1):q&&(re("do read"),I.reading=!0,I.sync=!0,0===I.length&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(C=howMuchToRead(B,I))),null===(z=C>0?fromList(C,I):null)?(I.needReadable=I.length<=I.highWaterMark,C=0):(I.length-=C,I.awaitDrain=0),0===I.length&&(I.ended||(I.needReadable=!0),B!==C&&I.ended&&endReadable(this)),null!==z&&this.emit("data",z),z},Readable.prototype._read=function(C){ge(this,new pe("_read()"))},Readable.prototype.pipe=function(C,I){var z=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=C;break;case 1:q.pipes=[q.pipes,C];break;default:q.pipes.push(C)}q.pipesCount+=1,re("pipe count=%d opts=%j",q.pipesCount,I);var ee=I&&!1===I.end||C===B.stdout||C===B.stderr?unpipe:onend;function onunpipe(C,I){re("onunpipe"),C===z&&I&&!1===I.hasUnpiped&&(I.hasUnpiped=!0,cleanup())}function onend(){re("onend"),C.end()}q.endEmitted?B.nextTick(ee):z.once("end",ee),C.on("unpipe",onunpipe);var te=pipeOnDrain(z);C.on("drain",te);var ie=!1;function cleanup(){re("cleanup"),C.removeListener("close",onclose),C.removeListener("finish",onfinish),C.removeListener("drain",te),C.removeListener("error",onerror),C.removeListener("unpipe",onunpipe),z.removeListener("end",onend),z.removeListener("end",unpipe),z.removeListener("data",ondata),ie=!0,!q.awaitDrain||C._writableState&&!C._writableState.needDrain||te()}function ondata(I){re("ondata");var B=C.write(I);re("dest.write",B),!1===B&&((1===q.pipesCount&&q.pipes===C||q.pipesCount>1&&-1!==indexOf(q.pipes,C))&&!ie&&(re("false write response, pause",q.awaitDrain),q.awaitDrain++),z.pause())}function onerror(I){re("onerror",I),unpipe(),C.removeListener("error",onerror),0===Q(C,"error")&&ge(C,I)}function onclose(){C.removeListener("finish",onfinish),unpipe()}function onfinish(){re("onfinish"),C.removeListener("close",onclose),unpipe()}function unpipe(){re("unpipe"),z.unpipe(C)}return z.on("data",ondata),prependListener(C,"error",onerror),C.once("close",onclose),C.once("finish",onfinish),C.emit("pipe",z),q.flowing||(re("pipe resume"),z.resume()),C},Readable.prototype.unpipe=function(C){var I=this._readableState,B={hasUnpiped:!1};if(0===I.pipesCount)return this;if(1===I.pipesCount)return C&&C!==I.pipes||(C||(C=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,C&&C.emit("unpipe",this,B)),this;if(!C){var z=I.pipes,q=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var Q=0;Q<q;Q++)z[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=indexOf(I.pipes,C);return-1===ee||(I.pipes.splice(ee,1),I.pipesCount-=1,1===I.pipesCount&&(I.pipes=I.pipes[0]),C.emit("unpipe",this,B)),this},Readable.prototype.on=function(C,I){var z=ee.prototype.on.call(this,C,I),q=this._readableState;return"data"===C?(q.readableListening=this.listenerCount("readable")>0,!1!==q.flowing&&this.resume()):"readable"===C&&(q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,re("on readable",q.length,q.reading),q.length?emitReadable(this):q.reading||B.nextTick(nReadingNextTick,this))),z},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(C,I){var z=ee.prototype.removeListener.call(this,C,I);return"readable"===C&&B.nextTick(updateReadableListening,this),z},Readable.prototype.removeAllListeners=function(C){var I=ee.prototype.removeAllListeners.apply(this,arguments);return"readable"!==C&&void 0!==C||B.nextTick(updateReadableListening,this),I},Readable.prototype.resume=function(){var C=this._readableState;return C.flowing||(re("resume"),C.flowing=!C.readableListening,resume(this,C)),C.paused=!1,this},Readable.prototype.pause=function(){return re("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(re("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(C){var I=this,B=this._readableState,z=!1;for(var q in C.on("end",(function(){if(re("wrapped end"),B.decoder&&!B.ended){var C=B.decoder.end();C&&C.length&&I.push(C)}I.push(null)})),C.on("data",(function(q){re("wrapped data"),B.decoder&&(q=B.decoder.write(q)),B.objectMode&&null==q||(B.objectMode||q&&q.length)&&(I.push(q)||(z=!0,C.pause()))})),C)void 0===this[q]&&"function"==typeof C[q]&&(this[q]=function methodWrap(I){return function methodWrapReturnFunction(){return C[I].apply(C,arguments)}}(q));for(var Q=0;Q<ve.length;Q++)C.on(ve[Q],this.emit.bind(this,ve[Q]));return this._read=function(I){re("wrapped _read",I),z&&(z=!1,C.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===oe&&(oe=C("./internal/streams/async_iterator")),oe(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function get(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function get(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function get(){return this._readableState.flowing},set:function set(C){this._readableState&&(this._readableState.flowing=C)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function get(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(I,B){return void 0===ae&&(ae=C("./internal/streams/from")),ae(Readable,I,B)})}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(C,I,B){"use strict";I.exports=Transform;var z=C("../errors").codes,q=z.ERR_METHOD_NOT_IMPLEMENTED,Q=z.ERR_MULTIPLE_CALLBACK,ee=z.ERR_TRANSFORM_ALREADY_TRANSFORMING,te=z.ERR_TRANSFORM_WITH_LENGTH_0,ie=C("./_stream_duplex");function afterTransform(C,I){var B=this._transformState;B.transforming=!1;var z=B.writecb;if(null===z)return this.emit("error",new Q);B.writechunk=null,B.writecb=null,null!=I&&this.push(I),z(C);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function Transform(C){if(!(this instanceof Transform))return new Transform(C);ie.call(this,C),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",prefinish)}function prefinish(){var C=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(I,B){done(C,I,B)}))}function done(C,I,B){if(I)return C.emit("error",I);if(null!=B&&C.push(B),C._writableState.length)throw new te;if(C._transformState.transforming)throw new ee;return C.push(null)}C("inherits")(Transform,ie),Transform.prototype.push=function(C,I){return this._transformState.needTransform=!1,ie.prototype.push.call(this,C,I)},Transform.prototype._transform=function(C,I,B){B(new q("_transform()"))},Transform.prototype._write=function(C,I,B){var z=this._transformState;if(z.writecb=B,z.writechunk=C,z.writeencoding=I,!z.transforming){var q=this._readableState;(z.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},Transform.prototype._read=function(C){var I=this._transformState;null===I.writechunk||I.transforming?I.needTransform=!0:(I.transforming=!0,this._transform(I.writechunk,I.writeencoding,I.afterTransform))},Transform.prototype._destroy=function(C,I){ie.prototype._destroy.call(this,C,(function(C){I(C)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(C,I,z){(function(B,z){(function(){"use strict";function CorkedRequest(C){var I=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(I,C)}}var q;I.exports=Writable,Writable.WritableState=WritableState;var Q={deprecate:C("util-deprecate")},ee=C("./internal/streams/stream"),te=C("buffer").Buffer,ie=(void 0!==z?z:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return te.from(C)}function _isUint8Array(C){return te.isBuffer(C)||C instanceof ie}var re,ne=C("./internal/streams/destroy"),se=C("./internal/streams/state").getHighWaterMark,oe=C("../errors").codes,ae=oe.ERR_INVALID_ARG_TYPE,le=oe.ERR_METHOD_NOT_IMPLEMENTED,ue=oe.ERR_MULTIPLE_CALLBACK,de=oe.ERR_STREAM_CANNOT_PIPE,ce=oe.ERR_STREAM_DESTROYED,he=oe.ERR_STREAM_NULL_VALUES,fe=oe.ERR_STREAM_WRITE_AFTER_END,pe=oe.ERR_UNKNOWN_ENCODING,me=ne.errorOrDestroy;function nop(){}function WritableState(I,B,z){q=q||C("./_stream_duplex"),I=I||{},"boolean"!=typeof z&&(z=B instanceof q),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=se(this,I,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=!1===I.decodeStrings;this.decodeStrings=!Q,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){onwrite(B,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==I.emitClose,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(I){var B=this instanceof(q=q||C("./_stream_duplex"));if(!B&&!re.call(Writable,this))return new Writable(I);this._writableState=new WritableState(I,this,B),this.writable=!0,I&&("function"==typeof I.write&&(this._write=I.write),"function"==typeof I.writev&&(this._writev=I.writev),"function"==typeof I.destroy&&(this._destroy=I.destroy),"function"==typeof I.final&&(this._final=I.final)),ee.call(this)}function writeAfterEnd(C,I){var z=new fe;me(C,z),B.nextTick(I,z)}function validChunk(C,I,z,q){var Q;return null===z?Q=new he:"string"==typeof z||I.objectMode||(Q=new ae("chunk",["string","Buffer"],z)),!Q||(me(C,Q),B.nextTick(q,Q),!1)}function decodeChunk(C,I,B){return C.objectMode||!1===C.decodeStrings||"string"!=typeof I||(I=te.from(I,B)),I}function writeOrBuffer(C,I,B,z,q,Q){if(!B){var ee=decodeChunk(I,z,q);z!==ee&&(B=!0,q="buffer",z=ee)}var te=I.objectMode?1:z.length;I.length+=te;var ie=I.length<I.highWaterMark;if(ie||(I.needDrain=!0),I.writing||I.corked){var re=I.lastBufferedRequest;I.lastBufferedRequest={chunk:z,encoding:q,isBuf:B,callback:Q,next:null},re?re.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else doWrite(C,I,!1,te,z,q,Q);return ie}function doWrite(C,I,B,z,q,Q,ee){I.writelen=z,I.writecb=ee,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new ce("write")):B?C._writev(q,I.onwrite):C._write(q,Q,I.onwrite),I.sync=!1}function onwriteError(C,I,z,q,Q){--I.pendingcb,z?(B.nextTick(Q,q),B.nextTick(finishMaybe,C,I),C._writableState.errorEmitted=!0,me(C,q)):(Q(q),C._writableState.errorEmitted=!0,me(C,q),finishMaybe(C,I))}function onwriteStateUpdate(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function onwrite(C,I){var z=C._writableState,q=z.sync,Q=z.writecb;if("function"!=typeof Q)throw new ue;if(onwriteStateUpdate(z),I)onwriteError(C,z,q,I,Q);else{var ee=needFinish(z)||C.destroyed;ee||z.corked||z.bufferProcessing||!z.bufferedRequest||clearBuffer(C,z),q?B.nextTick(afterWrite,C,z,ee,Q):afterWrite(C,z,ee,Q)}}function afterWrite(C,I,B,z){B||onwriteDrain(C,I),I.pendingcb--,z(),finishMaybe(C,I)}function onwriteDrain(C,I){0===I.length&&I.needDrain&&(I.needDrain=!1,C.emit("drain"))}function clearBuffer(C,I){I.bufferProcessing=!0;var B=I.bufferedRequest;if(C._writev&&B&&B.next){var z=I.bufferedRequestCount,q=new Array(z),Q=I.corkedRequestsFree;Q.entry=B;for(var ee=0,te=!0;B;)q[ee]=B,B.isBuf||(te=!1),B=B.next,ee+=1;q.allBuffers=te,doWrite(C,I,!0,I.length,q,"",Q.finish),I.pendingcb++,I.lastBufferedRequest=null,Q.next?(I.corkedRequestsFree=Q.next,Q.next=null):I.corkedRequestsFree=new CorkedRequest(I),I.bufferedRequestCount=0}else{for(;B;){var ie=B.chunk,re=B.encoding,ne=B.callback;if(doWrite(C,I,!1,I.objectMode?1:ie.length,ie,re,ne),B=B.next,I.bufferedRequestCount--,I.writing)break}null===B&&(I.lastBufferedRequest=null)}I.bufferedRequest=B,I.bufferProcessing=!1}function needFinish(C){return C.ending&&0===C.length&&null===C.bufferedRequest&&!C.finished&&!C.writing}function callFinal(C,I){C._final((function(B){I.pendingcb--,B&&me(C,B),I.prefinished=!0,C.emit("prefinish"),finishMaybe(C,I)}))}function prefinish(C,I){I.prefinished||I.finalCalled||("function"!=typeof C._final||I.destroyed?(I.prefinished=!0,C.emit("prefinish")):(I.pendingcb++,I.finalCalled=!0,B.nextTick(callFinal,C,I)))}function finishMaybe(C,I){var B=needFinish(I);if(B&&(prefinish(C,I),0===I.pendingcb&&(I.finished=!0,C.emit("finish"),I.autoDestroy))){var z=C._readableState;(!z||z.autoDestroy&&z.endEmitted)&&C.destroy()}return B}function endWritable(C,I,z){I.ending=!0,finishMaybe(C,I),z&&(I.finished?B.nextTick(z):C.once("finish",z)),I.ended=!0,C.writable=!1}function onCorkedFinish(C,I,B){var z=C.entry;for(C.entry=null;z;){var q=z.callback;I.pendingcb--,q(B),z=z.next}I.corkedRequestsFree.next=C}C("inherits")(Writable,ee),WritableState.prototype.getBuffer=function getBuffer(){for(var C=this.bufferedRequest,I=[];C;)I.push(C),C=C.next;return I},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:Q.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(C){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(C){return!!re.call(this,C)||this===Writable&&C&&C._writableState instanceof WritableState}})):re=function realHasInstance(C){return C instanceof this},Writable.prototype.pipe=function(){me(this,new de)},Writable.prototype.write=function(C,I,B){var z=this._writableState,q=!1,Q=!z.objectMode&&_isUint8Array(C);return Q&&!te.isBuffer(C)&&(C=_uint8ArrayToBuffer(C)),"function"==typeof I&&(B=I,I=null),Q?I="buffer":I||(I=z.defaultEncoding),"function"!=typeof B&&(B=nop),z.ending?writeAfterEnd(this,B):(Q||validChunk(this,z,C,B))&&(z.pendingcb++,q=writeOrBuffer(this,z,Q,C,I,B)),q},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||clearBuffer(this,C))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(C){if("string"==typeof C&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new pe(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(C,I,B){B(new le("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(C,I,B){var z=this._writableState;return"function"==typeof C?(B=C,C=null,I=null):"function"==typeof I&&(B=I,I=null),null!=C&&this.write(C,I),z.corked&&(z.corked=1,this.uncork()),z.ending||endWritable(this,z,B),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(C){this._writableState&&(this._writableState.destroyed=C)}}),Writable.prototype.destroy=ne.destroy,Writable.prototype._undestroy=ne.undestroy,Writable.prototype._destroy=function(C,I){I(C)}}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(C,I,B){(function(B){(function(){"use strict";var z;function _defineProperty(C,I,B){return(I=_toPropertyKey(I))in C?Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[I]=B,C}function _toPropertyKey(C){var I=_toPrimitive(C,"string");return"symbol"==typeof I?I:String(I)}function _toPrimitive(C,I){if("object"!=typeof C||null===C)return C;var B=C[Symbol.toPrimitive];if(void 0!==B){var z=B.call(C,I||"default");if("object"!=typeof z)return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}var q=C("./end-of-stream"),Q=Symbol("lastResolve"),ee=Symbol("lastReject"),te=Symbol("error"),ie=Symbol("ended"),re=Symbol("lastPromise"),ne=Symbol("handlePromise"),se=Symbol("stream");function createIterResult(C,I){return{value:C,done:I}}function readAndResolve(C){var I=C[Q];if(null!==I){var B=C[se].read();null!==B&&(C[re]=null,C[Q]=null,C[ee]=null,I(createIterResult(B,!1)))}}function onReadable(C){B.nextTick(readAndResolve,C)}function wrapForNext(C,I){return function(B,z){C.then((function(){I[ie]?B(createIterResult(void 0,!0)):I[ne](B,z)}),z)}}var oe=Object.getPrototypeOf((function(){})),ae=Object.setPrototypeOf((_defineProperty(z={get stream(){return this[se]},next:function next(){var C=this,I=this[te];if(null!==I)return Promise.reject(I);if(this[ie])return Promise.resolve(createIterResult(void 0,!0));if(this[se].destroyed)return new Promise((function(I,z){B.nextTick((function(){C[te]?z(C[te]):I(createIterResult(void 0,!0))}))}));var z,q=this[re];if(q)z=new Promise(wrapForNext(q,this));else{var Q=this[se].read();if(null!==Q)return Promise.resolve(createIterResult(Q,!1));z=new Promise(this[ne])}return this[re]=z,z}},Symbol.asyncIterator,(function(){return this})),_defineProperty(z,"return",(function _return(){var C=this;return new Promise((function(I,B){C[se].destroy(null,(function(C){C?B(C):I(createIterResult(void 0,!0))}))}))})),z),oe),le=function createReadableStreamAsyncIterator(C){var I,B=Object.create(ae,(_defineProperty(I={},se,{value:C,writable:!0}),_defineProperty(I,Q,{value:null,writable:!0}),_defineProperty(I,ee,{value:null,writable:!0}),_defineProperty(I,te,{value:null,writable:!0}),_defineProperty(I,ie,{value:C._readableState.endEmitted,writable:!0}),_defineProperty(I,ne,{value:function value(C,I){var z=B[se].read();z?(B[re]=null,B[Q]=null,B[ee]=null,C(createIterResult(z,!1))):(B[Q]=C,B[ee]=I)},writable:!0}),I));return B[re]=null,q(C,(function(C){if(C&&"ERR_STREAM_PREMATURE_CLOSE"!==C.code){var I=B[ee];return null!==I&&(B[re]=null,B[Q]=null,B[ee]=null,I(C)),void(B[te]=C)}var z=B[Q];null!==z&&(B[re]=null,B[Q]=null,B[ee]=null,z(createIterResult(void 0,!0))),B[ie]=!0})),C.on("readable",onReadable.bind(null,B)),B};I.exports=le}).call(this)}).call(this,C("_process"))},{"./end-of-stream":486,_process:467}],484:[function(C,I,B){"use strict";function ownKeys(C,I){var B=Object.keys(C);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(C);I&&(z=z.filter((function(I){return Object.getOwnPropertyDescriptor(C,I).enumerable}))),B.push.apply(B,z)}return B}function _objectSpread(C){for(var I=1;I<arguments.length;I++){var B=null!=arguments[I]?arguments[I]:{};I%2?ownKeys(Object(B),!0).forEach((function(I){_defineProperty(C,I,B[I])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(B)):ownKeys(Object(B)).forEach((function(I){Object.defineProperty(C,I,Object.getOwnPropertyDescriptor(B,I))}))}return C}function _defineProperty(C,I,B){return(I=_toPropertyKey(I))in C?Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[I]=B,C}function _classCallCheck(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function _defineProperties(C,I){for(var B=0;B<I.length;B++){var z=I[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,_toPropertyKey(z.key),z)}}function _createClass(C,I,B){return I&&_defineProperties(C.prototype,I),B&&_defineProperties(C,B),Object.defineProperty(C,"prototype",{writable:!1}),C}function _toPropertyKey(C){var I=_toPrimitive(C,"string");return"symbol"==typeof I?I:String(I)}function _toPrimitive(C,I){if("object"!=typeof C||null===C)return C;var B=C[Symbol.toPrimitive];if(void 0!==B){var z=B.call(C,I||"default");if("object"!=typeof z)return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}var z=C("buffer").Buffer,q=C("util").inspect,Q=q&&q.custom||"inspect";function copyBuffer(C,I,B){z.prototype.copy.call(C,I,B)}I.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return _createClass(BufferList,[{key:"push",value:function push(C){var I={data:C,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function unshift(C){var I={data:C,next:this.head};0===this.length&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function shift(){if(0!==this.length){var C=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function clear(){this.head=this.tail=null,this.length=0}},{key:"join",value:function join(C){if(0===this.length)return"";for(var I=this.head,B=""+I.data;I=I.next;)B+=C+I.data;return B}},{key:"concat",value:function concat(C){if(0===this.length)return z.alloc(0);for(var I=z.allocUnsafe(C>>>0),B=this.head,q=0;B;)copyBuffer(B.data,I,q),q+=B.data.length,B=B.next;return I}},{key:"consume",value:function consume(C,I){var B;return C<this.head.data.length?(B=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):B=C===this.head.data.length?this.shift():I?this._getString(C):this._getBuffer(C),B}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(C){var I=this.head,B=1,z=I.data;for(C-=z.length;I=I.next;){var q=I.data,Q=C>q.length?q.length:C;if(Q===q.length?z+=q:z+=q.slice(0,C),0==(C-=Q)){Q===q.length?(++B,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=q.slice(Q));break}++B}return this.length-=B,z}},{key:"_getBuffer",value:function _getBuffer(C){var I=z.allocUnsafe(C),B=this.head,q=1;for(B.data.copy(I),C-=B.data.length;B=B.next;){var Q=B.data,ee=C>Q.length?Q.length:C;if(Q.copy(I,I.length-C,0,ee),0==(C-=ee)){ee===Q.length?(++q,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=Q.slice(ee));break}++q}return this.length-=q,I}},{key:Q,value:function value(C,I){return q(this,_objectSpread(_objectSpread({},I),{},{depth:0,customInspect:!1}))}}]),BufferList}()},{buffer:220,util:188}],485:[function(C,I,B){(function(C){(function(){"use strict";function destroy(I,B){var z=this,q=this._readableState&&this._readableState.destroyed,Q=this._writableState&&this._writableState.destroyed;return q||Q?(B?B(I):I&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(emitErrorNT,this,I)):C.nextTick(emitErrorNT,this,I)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(I||null,(function(I){!B&&I?z._writableState?z._writableState.errorEmitted?C.nextTick(emitCloseNT,z):(z._writableState.errorEmitted=!0,C.nextTick(emitErrorAndCloseNT,z,I)):C.nextTick(emitErrorAndCloseNT,z,I):B?(C.nextTick(emitCloseNT,z),B(I)):C.nextTick(emitCloseNT,z)})),this)}function emitErrorAndCloseNT(C,I){emitErrorNT(C,I),emitCloseNT(C)}function emitCloseNT(C){C._writableState&&!C._writableState.emitClose||C._readableState&&!C._readableState.emitClose||C.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(C,I){C.emit("error",I)}function errorOrDestroy(C,I){var B=C._readableState,z=C._writableState;B&&B.autoDestroy||z&&z.autoDestroy?C.destroy(I):C.emit("error",I)}I.exports={destroy,undestroy,errorOrDestroy}}).call(this)}).call(this,C("_process"))},{_process:467}],486:[function(C,I,B){"use strict";var z=C("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function once(C){var I=!1;return function(){if(!I){I=!0;for(var B=arguments.length,z=new Array(B),q=0;q<B;q++)z[q]=arguments[q];C.apply(this,z)}}}function noop(){}function isRequest(C){return C.setHeader&&"function"==typeof C.abort}function eos(C,I,B){if("function"==typeof I)return eos(C,null,I);I||(I={}),B=once(B||noop);var q=I.readable||!1!==I.readable&&C.readable,Q=I.writable||!1!==I.writable&&C.writable,ee=function onlegacyfinish(){C.writable||ie()},te=C._writableState&&C._writableState.finished,ie=function onfinish(){Q=!1,te=!0,q||B.call(C)},re=C._readableState&&C._readableState.endEmitted,ne=function onend(){q=!1,re=!0,Q||B.call(C)},se=function onerror(I){B.call(C,I)},oe=function onclose(){var I;return q&&!re?(C._readableState&&C._readableState.ended||(I=new z),B.call(C,I)):Q&&!te?(C._writableState&&C._writableState.ended||(I=new z),B.call(C,I)):void 0},ae=function onrequest(){C.req.on("finish",ie)};return isRequest(C)?(C.on("complete",ie),C.on("abort",oe),C.req?ae():C.on("request",ae)):Q&&!C._writableState&&(C.on("end",ee),C.on("close",ee)),C.on("end",ne),C.on("finish",ie),!1!==I.error&&C.on("error",se),C.on("close",oe),function(){C.removeListener("complete",ie),C.removeListener("abort",oe),C.removeListener("request",ae),C.req&&C.req.removeListener("finish",ie),C.removeListener("end",ee),C.removeListener("close",ee),C.removeListener("finish",ie),C.removeListener("end",ne),C.removeListener("error",se),C.removeListener("close",oe)}}I.exports=eos},{"../../../errors":477}],487:[function(C,I,B){"use strict";I.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(C,I,B){"use strict";var z;function once(C){var I=!1;return function(){I||(I=!0,C.apply(void 0,arguments))}}var q=C("../../../errors").codes,Q=q.ERR_MISSING_ARGS,ee=q.ERR_STREAM_DESTROYED;function noop(C){if(C)throw C}function isRequest(C){return C.setHeader&&"function"==typeof C.abort}function destroyer(I,B,q,Q){Q=once(Q);var te=!1;I.on("close",(function(){te=!0})),void 0===z&&(z=C("./end-of-stream")),z(I,{readable:B,writable:q},(function(C){if(C)return Q(C);te=!0,Q()}));var ie=!1;return function(C){if(!te&&!ie)return ie=!0,isRequest(I)?I.abort():"function"==typeof I.destroy?I.destroy():void Q(C||new ee("pipe"))}}function call(C){C()}function pipe(C,I){return C.pipe(I)}function popCallback(C){return C.length?"function"!=typeof C[C.length-1]?noop:C.pop():noop}function pipeline(){for(var C=arguments.length,I=new Array(C),B=0;B<C;B++)I[B]=arguments[B];var z,q=popCallback(I);if(Array.isArray(I[0])&&(I=I[0]),I.length<2)throw new Q("streams");var ee=I.map((function(C,B){var Q=B<I.length-1;return destroyer(C,Q,B>0,(function(C){z||(z=C),C&&ee.forEach(call),Q||(ee.forEach(call),q(z))}))}));return I.reduce(pipe)}I.exports=pipeline},{"../../../errors":477,"./end-of-stream":486}],489:[function(C,I,B){"use strict";var z=C("../../../errors").codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(C,I,B){return null!=C.highWaterMark?C.highWaterMark:I?C[B]:null}function getHighWaterMark(C,I,B,q){var Q=highWaterMarkFrom(I,q,B);if(null!=Q){if(!isFinite(Q)||Math.floor(Q)!==Q||Q<0)throw new z(q?B:"highWaterMark",Q);return Math.floor(Q)}return C.objectMode?16:16384}I.exports={getHighWaterMark}},{"../../../errors":477}],490:[function(C,I,B){"use strict";I.exports=C("events").EventEmitter},{events:422}],491:[function(C,I,B){"use strict";(B=I.exports=C("./lib/_stream_readable.js")).Stream=B,B.Readable=B,B.Writable=C("./lib/_stream_writable.js"),B.Duplex=C("./lib/_stream_duplex.js"),B.Transform=C("./lib/_stream_transform.js"),B.PassThrough=C("./lib/_stream_passthrough.js"),B.finished=C("./lib/internal/streams/end-of-stream.js"),B.pipeline=C("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(C,I,B){"use strict";var z=function(C){var I,B=Object.prototype,z=B.hasOwnProperty,q=Object.defineProperty||function(C,I,B){C[I]=B.value},Q="function"==typeof Symbol?Symbol:{},ee=Q.iterator||"@@iterator",te=Q.asyncIterator||"@@asyncIterator",ie=Q.toStringTag||"@@toStringTag";function define(C,I,B){return Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}),C[I]}try{define({},"")}catch(C){define=function(C,I,B){return C[I]=B}}function wrap(C,I,B,z){var Q=I&&I.prototype instanceof Generator?I:Generator,ee=Object.create(Q.prototype),te=new Context(z||[]);return q(ee,"_invoke",{value:makeInvokeMethod(C,B,te)}),ee}function tryCatch(C,I,B){try{return{type:"normal",arg:C.call(I,B)}}catch(C){return{type:"throw",arg:C}}}C.wrap=wrap;var re="suspendedStart",ne="suspendedYield",se="executing",oe="completed",ae={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var le={};define(le,ee,(function(){return this}));var ue=Object.getPrototypeOf,de=ue&&ue(ue(values([])));de&&de!==B&&z.call(de,ee)&&(le=de);var ce=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(le);function defineIteratorMethods(C){["next","throw","return"].forEach((function(I){define(C,I,(function(C){return this._invoke(I,C)}))}))}function AsyncIterator(C,I){function invoke(B,q,Q,ee){var te=tryCatch(C[B],C,q);if("throw"!==te.type){var ie=te.arg,re=ie.value;return re&&"object"==typeof re&&z.call(re,"__await")?I.resolve(re.__await).then((function(C){invoke("next",C,Q,ee)}),(function(C){invoke("throw",C,Q,ee)})):I.resolve(re).then((function(C){ie.value=C,Q(ie)}),(function(C){return invoke("throw",C,Q,ee)}))}ee(te.arg)}var B;function enqueue(C,z){function callInvokeWithMethodAndArg(){return new I((function(I,B){invoke(C,z,I,B)}))}return B=B?B.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}q(this,"_invoke",{value:enqueue})}function makeInvokeMethod(C,I,B){var z=re;return function invoke(q,Q){if(z===se)throw new Error("Generator is already running");if(z===oe){if("throw"===q)throw Q;return doneResult()}for(B.method=q,B.arg=Q;;){var ee=B.delegate;if(ee){var te=maybeInvokeDelegate(ee,B);if(te){if(te===ae)continue;return te}}if("next"===B.method)B.sent=B._sent=B.arg;else if("throw"===B.method){if(z===re)throw z=oe,B.arg;B.dispatchException(B.arg)}else"return"===B.method&&B.abrupt("return",B.arg);z=se;var ie=tryCatch(C,I,B);if("normal"===ie.type){if(z=B.done?oe:ne,ie.arg===ae)continue;return{value:ie.arg,done:B.done}}"throw"===ie.type&&(z=oe,B.method="throw",B.arg=ie.arg)}}}function maybeInvokeDelegate(C,B){var z=B.method,q=C.iterator[z];if(q===I)return B.delegate=null,"throw"===z&&C.iterator.return&&(B.method="return",B.arg=I,maybeInvokeDelegate(C,B),"throw"===B.method)||"return"!==z&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+z+"' method")),ae;var Q=tryCatch(q,C.iterator,B.arg);if("throw"===Q.type)return B.method="throw",B.arg=Q.arg,B.delegate=null,ae;var ee=Q.arg;return ee?ee.done?(B[C.resultName]=ee.value,B.next=C.nextLoc,"return"!==B.method&&(B.method="next",B.arg=I),B.delegate=null,ae):ee:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,ae)}function pushTryEntry(C){var I={tryLoc:C[0]};1 in C&&(I.catchLoc=C[1]),2 in C&&(I.finallyLoc=C[2],I.afterLoc=C[3]),this.tryEntries.push(I)}function resetTryEntry(C){var I=C.completion||{};I.type="normal",delete I.arg,C.completion=I}function Context(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(pushTryEntry,this),this.reset(!0)}function values(C){if(C){var B=C[ee];if(B)return B.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var q=-1,Q=function next(){for(;++q<C.length;)if(z.call(C,q))return next.value=C[q],next.done=!1,next;return next.value=I,next.done=!0,next};return Q.next=Q}}return{next:doneResult}}function doneResult(){return{value:I,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,q(ce,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),q(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,ie,"GeneratorFunction"),C.isGeneratorFunction=function(C){var I="function"==typeof C&&C.constructor;return!!I&&(I===GeneratorFunction||"GeneratorFunction"===(I.displayName||I.name))},C.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,GeneratorFunctionPrototype):(C.__proto__=GeneratorFunctionPrototype,define(C,ie,"GeneratorFunction")),C.prototype=Object.create(ce),C},C.awrap=function(C){return{__await:C}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,te,(function(){return this})),C.AsyncIterator=AsyncIterator,C.async=function(I,B,z,q,Q){void 0===Q&&(Q=Promise);var ee=new AsyncIterator(wrap(I,B,z,q),Q);return C.isGeneratorFunction(B)?ee:ee.next().then((function(C){return C.done?C.value:ee.next()}))},defineIteratorMethods(ce),define(ce,ie,"Generator"),define(ce,ee,(function(){return this})),define(ce,"toString",(function(){return"[object Generator]"})),C.keys=function(C){var I=Object(C),B=[];for(var z in I)B.push(z);return B.reverse(),function next(){for(;B.length;){var C=B.pop();if(C in I)return next.value=C,next.done=!1,next}return next.done=!0,next}},C.values=values,Context.prototype={constructor:Context,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(resetTryEntry),!C)for(var B in this)"t"===B.charAt(0)&&z.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=I)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if("throw"===C.type)throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var B=this;function handle(z,q){return ee.type="throw",ee.arg=C,B.next=z,q&&(B.method="next",B.arg=I),!!q}for(var q=this.tryEntries.length-1;q>=0;--q){var Q=this.tryEntries[q],ee=Q.completion;if("root"===Q.tryLoc)return handle("end");if(Q.tryLoc<=this.prev){var te=z.call(Q,"catchLoc"),ie=z.call(Q,"finallyLoc");if(te&&ie){if(this.prev<Q.catchLoc)return handle(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return handle(Q.finallyLoc)}else if(te){if(this.prev<Q.catchLoc)return handle(Q.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return handle(Q.finallyLoc)}}}},abrupt:function(C,I){for(var B=this.tryEntries.length-1;B>=0;--B){var q=this.tryEntries[B];if(q.tryLoc<=this.prev&&z.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var Q=q;break}}Q&&("break"===C||"continue"===C)&&Q.tryLoc<=I&&I<=Q.finallyLoc&&(Q=null);var ee=Q?Q.completion:{};return ee.type=C,ee.arg=I,Q?(this.method="next",this.next=Q.finallyLoc,ae):this.complete(ee)},complete:function(C,I){if("throw"===C.type)throw C.arg;return"break"===C.type||"continue"===C.type?this.next=C.arg:"return"===C.type?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):"normal"===C.type&&I&&(this.next=I),ae},finish:function(C){for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I];if(B.finallyLoc===C)return this.complete(B.completion,B.afterLoc),resetTryEntry(B),ae}},catch:function(C){for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I];if(B.tryLoc===C){var z=B.completion;if("throw"===z.type){var q=z.arg;resetTryEntry(B)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(C,B,z){return this.delegate={iterator:values(C),resultName:B,nextLoc:z},"next"===this.method&&(this.arg=I),ae}},C}("object"==typeof I?I.exports:{});try{regeneratorRuntime=z}catch(C){"object"==typeof globalThis?globalThis.regeneratorRuntime=z:Function("r","regeneratorRuntime = r")(z)}},{}],493:[function(C,I,B){"use strict";var z=C("buffer").Buffer,q=C("inherits"),Q=C("hash-base"),ee=new Array(16),te=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ie=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],re=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ne=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],se=[0,1518500249,1859775393,2400959708,2840853838],oe=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){Q.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(C,I){return C<<I|C>>>32-I}function fn1(C,I,B,z,q,Q,ee,te){return rotl(C+(I^B^z)+Q+ee|0,te)+q|0}function fn2(C,I,B,z,q,Q,ee,te){return rotl(C+(I&B|~I&z)+Q+ee|0,te)+q|0}function fn3(C,I,B,z,q,Q,ee,te){return rotl(C+((I|~B)^z)+Q+ee|0,te)+q|0}function fn4(C,I,B,z,q,Q,ee,te){return rotl(C+(I&z|B&~z)+Q+ee|0,te)+q|0}function fn5(C,I,B,z,q,Q,ee,te){return rotl(C+(I^(B|~z))+Q+ee|0,te)+q|0}q(RIPEMD160,Q),RIPEMD160.prototype._update=function(){for(var C=ee,I=0;I<16;++I)C[I]=this._block.readInt32LE(4*I);for(var B=0|this._a,z=0|this._b,q=0|this._c,Q=0|this._d,ae=0|this._e,le=0|this._a,ue=0|this._b,de=0|this._c,ce=0|this._d,he=0|this._e,fe=0;fe<80;fe+=1){var pe,me;fe<16?(pe=fn1(B,z,q,Q,ae,C[te[fe]],se[0],re[fe]),me=fn5(le,ue,de,ce,he,C[ie[fe]],oe[0],ne[fe])):fe<32?(pe=fn2(B,z,q,Q,ae,C[te[fe]],se[1],re[fe]),me=fn4(le,ue,de,ce,he,C[ie[fe]],oe[1],ne[fe])):fe<48?(pe=fn3(B,z,q,Q,ae,C[te[fe]],se[2],re[fe]),me=fn3(le,ue,de,ce,he,C[ie[fe]],oe[2],ne[fe])):fe<64?(pe=fn4(B,z,q,Q,ae,C[te[fe]],se[3],re[fe]),me=fn2(le,ue,de,ce,he,C[ie[fe]],oe[3],ne[fe])):(pe=fn5(B,z,q,Q,ae,C[te[fe]],se[4],re[fe]),me=fn1(le,ue,de,ce,he,C[ie[fe]],oe[4],ne[fe])),B=ae,ae=Q,Q=rotl(q,10),q=z,z=pe,le=he,he=ce,ce=rotl(de,10),de=ue,ue=me}var ge=this._b+q+ce|0;this._b=this._c+Q+he|0,this._c=this._d+ae+le|0,this._d=this._e+B+ue|0,this._e=this._a+z+de|0,this._a=ge},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=z.alloc?z.alloc(20):new z(20);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C.writeInt32LE(this._e,16),C},I.exports=RIPEMD160},{buffer:220,"hash-base":425,inherits:440}],494:[function(C,I,B){"use strict";var z=C("buffer"),q=z.Buffer;function copyProps(C,I){for(var B in C)I[B]=C[B]}function SafeBuffer(C,I,B){return q(C,I,B)}q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?I.exports=z:(copyProps(z,B),B.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(q.prototype),copyProps(q,SafeBuffer),SafeBuffer.from=function(C,I,B){if("number"==typeof C)throw new TypeError("Argument must not be a number");return q(C,I,B)},SafeBuffer.alloc=function(C,I,B){if("number"!=typeof C)throw new TypeError("Argument must be a number");var z=q(C);return void 0!==I?"string"==typeof B?z.fill(I,B):z.fill(I):z.fill(0),z},SafeBuffer.allocUnsafe=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return q(C)},SafeBuffer.allocUnsafeSlow=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return z.SlowBuffer(C)}},{buffer:220}],495:[function(C,I,B){(function(B){(function(){"use strict";var z,q=C("buffer"),Q=q.Buffer,ee={};for(z in q)q.hasOwnProperty(z)&&"SlowBuffer"!==z&&"Buffer"!==z&&(ee[z]=q[z]);var te=ee.Buffer={};for(z in Q)Q.hasOwnProperty(z)&&"allocUnsafe"!==z&&"allocUnsafeSlow"!==z&&(te[z]=Q[z]);if(ee.Buffer.prototype=Q.prototype,te.from&&te.from!==Uint8Array.from||(te.from=function(C,I,B){if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof C);if(C&&void 0===C.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);return Q(C,I,B)}),te.alloc||(te.alloc=function(C,I,B){if("number"!=typeof C)throw new TypeError('The "size" argument must be of type number. Received type '+typeof C);if(C<0||C>=2*(1<<30))throw new RangeError('The value "'+C+'" is invalid for option "size"');var z=Q(C);return I&&0!==I.length?"string"==typeof B?z.fill(I,B):z.fill(I):z.fill(0),z}),!ee.kStringMaxLength)try{ee.kStringMaxLength=B.binding("buffer").kStringMaxLength}catch(C){}ee.constants||(ee.constants={MAX_LENGTH:ee.kMaxLength},ee.kStringMaxLength&&(ee.constants.MAX_STRING_LENGTH=ee.kStringMaxLength)),I.exports=ee}).call(this)}).call(this,C("_process"))},{_process:467,buffer:220}],496:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0});const z=C("xmlchars/xml/1.0/ed5"),q=C("xmlchars/xml/1.1/ed2"),Q=C("xmlchars/xmlns/1.0/ed3");var ee=z.isS,te=z.isChar,ie=z.isNameStartChar,re=z.isNameChar,ne=z.S_LIST,se=z.NAME_RE,oe=q.isChar,ae=Q.isNCNameStartChar,le=Q.isNCNameChar,ue=Q.NC_NAME_RE;const de="http://www.w3.org/XML/1998/namespace",ce="http://www.w3.org/2000/xmlns/",he={__proto__:null,xml:de,xmlns:ce},fe={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},pe=-1,me=-2,ge=0,ve=1,ye=2,be=3,Ce=4,we=5,_e=6,Se=7,xe=8,ke=9,Te=10,Me=11,Re=12,Ee=13,Pe=14,Ie=15,Ne=16,Ae=17,De=18,Fe=19,Oe=20,Be=21,Le=22,je=23,$e=24,Ve=25,He=26,Ge=27,Ue=28,ze=29,qe=30,We=31,Ke=32,Xe=33,Je=34,Ye=35,Ze=36,Qe=37,et=38,tt=39,it=40,rt=41,nt=42,st=43,ot=44,at=9,ut=10,dt=13,ct=32,ht=33,pt=34,mt=38,vt=39,yt=45,bt=47,Ct=59,wt=60,_t=61,St=62,xt=63,kt=91,Tt=93,Mt=133,Rt=8232,isQuote=C=>C===pt||C===vt,Et=[pt,vt],Pt=[...Et,kt,St],It=[...Et,wt,Tt],Nt=[_t,xt,...ne],At=[...ne,St,mt,wt];function nsPairCheck(C,I,B){switch(I){case"xml":B!==de&&C.fail(`xml prefix must be bound to ${de}.`);break;case"xmlns":B!==ce&&C.fail(`xmlns prefix must be bound to ${ce}.`)}switch(B){case ce:C.fail(""===I?`the default namespace may not be set to ${B}.`:`may not assign a prefix (even "xmlns") to the URI ${ce}.`);break;case de:switch(I){case"xml":break;case"":C.fail(`the default namespace may not be set to ${B}.`);break;default:C.fail("may not assign the xml namespace to another prefix.")}}}function nsMappingCheck(C,I){for(const B of Object.keys(I))nsPairCheck(C,B,I[B])}const isNCName=C=>ue.test(C),isName=C=>se.test(C),Dt=0,Ft=1,Ot=2;B.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Bt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class SaxesParser{constructor(C){this.opt=null!=C?C:{},this.fragmentOpt=!!this.opt.fragment;const I=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,I){this.nameStartCheck=ae,this.nameCheck=le,this.isName=isNCName,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},he);const C=this.opt.additionalNamespaces;null!=C&&(nsMappingCheck(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=ie,this.nameCheck=re,this.isName=isName,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var C;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Dt,this.attribList=[];const{fragmentOpt:I}=this;this.state=I?Ee:ge,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=I,this.xmlDeclPossible=!I,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:B}=this.opt;if(void 0===B){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");B="1.0"}this.setXMLVersion(B),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(fe),null===(C=this.readyHandler)||void 0===C||C.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(C,I){this[Bt[C]]=I}off(C){this[Bt[C]]=void 0}makeError(C){var I;let B=null!==(I=this.fileName)&&void 0!==I?I:"";return this.trackPosition&&(B.length>0&&(B+=":"),B+=`${this.line}:${this.column}`),B.length>0&&(B+=": "),new Error(B+C)}fail(C){const I=this.makeError(C),B=this.errorHandler;if(void 0===B)throw I;return B(I),this}write(C){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let I=!1;null===C?(I=!0,C=""):"object"==typeof C&&(C=C.toString()),void 0!==this.carriedFromPrevious&&(C=`${this.carriedFromPrevious}${C}`,this.carriedFromPrevious=void 0);let B=C.length;const z=C.charCodeAt(B-1);!I&&(z===dt||z>=55296&&z<=56319)&&(this.carriedFromPrevious=C[B-1],B--,C=C.slice(0,B));const{stateTable:q}=this;for(this.chunk=C,this.i=0;this.i<B;)q[this.state].call(this);return this.chunkPosition+=B,I?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:C,i:I}=this;if(this.prevI=I,this.i=I+1,I>=C.length)return pe;const B=C.charCodeAt(I);if(this.column++,B<55296){if(B>=ct||B===at)return B;switch(B){case ut:return this.line++,this.column=0,this.positionAtNewLine=this.position,ut;case dt:return C.charCodeAt(I+1)===ut&&(this.i=I+2),this.line++,this.column=0,this.positionAtNewLine=this.position,me;default:return this.fail("disallowed character."),B}}if(B>56319)return B>=57344&&B<=65533||this.fail("disallowed character."),B;const z=65536+1024*(B-55296)+(C.charCodeAt(I+1)-56320);return this.i=I+2,z>1114111&&this.fail("disallowed character."),z}getCode11(){const{chunk:C,i:I}=this;if(this.prevI=I,this.i=I+1,I>=C.length)return pe;const B=C.charCodeAt(I);if(this.column++,B<55296){if(B>31&&B<127||B>159&&B!==Rt||B===at)return B;switch(B){case ut:return this.line++,this.column=0,this.positionAtNewLine=this.position,ut;case dt:{const B=C.charCodeAt(I+1);B!==ut&&B!==Mt||(this.i=I+2)}case Mt:case Rt:return this.line++,this.column=0,this.positionAtNewLine=this.position,me;default:return this.fail("disallowed character."),B}}if(B>56319)return B>=57344&&B<=65533||this.fail("disallowed character."),B;const z=65536+1024*(B-55296)+(C.charCodeAt(I+1)-56320);return this.i=I+2,z>1114111&&this.fail("disallowed character."),z}getCodeNorm(){const C=this.getCode();return C===me?ut:C}unget(){this.i=this.prevI,this.column--}captureTo(C){let{i:I}=this;const{chunk:B}=this;for(;;){const z=this.getCode(),q=z===me,Q=q?ut:z;if(Q===pe||C.includes(Q))return this.text+=B.slice(I,this.prevI),Q;q&&(this.text+=`${B.slice(I,this.prevI)}\n`,I=this.i)}}captureToChar(C){let{i:I}=this;const{chunk:B}=this;for(;;){let z=this.getCode();switch(z){case me:this.text+=`${B.slice(I,this.prevI)}\n`,I=this.i,z=ut;break;case pe:return this.text+=B.slice(I),!1}if(z===C)return this.text+=B.slice(I,this.prevI),!0}}captureNameChars(){const{chunk:C,i:I}=this;for(;;){const B=this.getCode();if(B===pe)return this.name+=C.slice(I),pe;if(!re(B))return this.name+=C.slice(I,this.prevI),B===me?ut:B}}skipSpaces(){for(;;){const C=this.getCodeNorm();if(C===pe||!ee(C))return C}}setXMLVersion(C){this.currentXMLVersion=C,"1.0"===C?(this.isChar=te,this.getCode=this.getCode10):(this.isChar=oe,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=ve}sBeginWhitespace(){const C=this.i,I=this.skipSpaces();switch(this.prevI!==C&&(this.xmlDeclPossible=!1),I){case wt:if(this.state=Ie,0!==this.text.length)throw new Error("no-empty text at start");break;case pe:break;default:this.unget(),this.state=Ee,this.xmlDeclPossible=!1}}sDoctype(){var C;const I=this.captureTo(Pt);switch(I){case St:null===(C=this.doctypeHandler)||void 0===C||C.call(this,this.text),this.text="",this.state=Ee,this.doctype=!0;break;case pe:break;default:this.text+=String.fromCodePoint(I),I===kt?this.state=Ce:isQuote(I)&&(this.state=be,this.q=I)}}sDoctypeQuote(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.q=null,this.state=ye)}sDTD(){const C=this.captureTo(It);C!==pe&&(this.text+=String.fromCodePoint(C),C===Tt?this.state=ye:C===wt?this.state=_e:isQuote(C)&&(this.state=we,this.q=C))}sDTDQuoted(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.state=Ce,this.q=null)}sDTDOpenWaka(){const C=this.getCodeNorm();switch(this.text+=String.fromCodePoint(C),C){case ht:this.state=Se,this.openWakaBang="";break;case xt:this.state=Me;break;default:this.state=Ce}}sDTDOpenWakaBang(){const C=String.fromCodePoint(this.getCodeNorm()),I=this.openWakaBang+=C;this.text+=C,"-"!==I&&(this.state="--"===I?xe:Ce,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=ke)}sDTDCommentEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),this.state=C===yt?Te:xe}sDTDCommentEnded(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===St?this.state=Ce:(this.fail("malformed comment."),this.state=xe)}sDTDPI(){this.captureToChar(xt)&&(this.text+="?",this.state=Re)}sDTDPIEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===St&&(this.state=Ce)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:C}=this;const{chunk:I}=this;e:for(;;)switch(this.getCode()){case me:this.entity+=`${I.slice(C,this.prevI)}\n`,C=this.i;break;case Ct:{const{entityReturnState:B}=this,z=this.entity+I.slice(C,this.prevI);let q;this.state=B,""===z?(this.fail("empty entity name."),q="&;"):(q=this.parseEntity(z),this.entity=""),B===Ee&&void 0===this.textHandler||(this.text+=q);break e}case pe:this.entity+=I.slice(C);break e}}sOpenWaka(){const C=this.getCode();if(ie(C))this.state=Je,this.unget(),this.xmlDeclPossible=!1;else switch(C){case bt:this.state=st,this.xmlDeclPossible=!1;break;case ht:this.state=Ne,this.openWakaBang="",this.xmlDeclPossible=!1;break;case xt:this.state=je;break;default:this.fail("disallowed character in tag name"),this.state=Ee,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Oe,this.openWakaBang="";break;case"--":this.state=Ae,this.openWakaBang="";break;case"DOCTYPE":this.state=ye,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=De)}sCommentEnding(){var C;const I=this.getCodeNorm();I===yt?(this.state=Fe,null===(C=this.commentHandler)||void 0===C||C.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(I)}`,this.state=Ae)}sCommentEnded(){const C=this.getCodeNorm();C!==St?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(C)}`,this.state=Ae):this.state=Ee}sCData(){this.captureToChar(Tt)&&(this.state=Be)}sCDataEnding(){const C=this.getCodeNorm();C===Tt?this.state=Le:(this.text+=`]${String.fromCodePoint(C)}`,this.state=Oe)}sCDataEnding2(){var C;const I=this.getCodeNorm();switch(I){case St:null===(C=this.cdataHandler)||void 0===C||C.call(this,this.text),this.text="",this.state=Ee;break;case Tt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(I)}`,this.state=Oe}}sPIFirstChar(){const C=this.getCodeNorm();this.nameStartCheck(C)?(this.piTarget+=String.fromCodePoint(C),this.state=$e):C===xt||ee(C)?(this.fail("processing instruction without a target."),this.state=C===xt?He:Ve):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C),this.state=$e)}sPIRest(){const{chunk:C,i:I}=this;for(;;){const B=this.getCodeNorm();if(B===pe)return void(this.piTarget+=C.slice(I));if(!this.nameCheck(B)){this.piTarget+=C.slice(I,this.prevI);const z=B===xt;z||ee(B)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=z?Xe:Ge):this.state=z?He:Ve:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(B));break}}}sPIBody(){if(0===this.text.length){const C=this.getCodeNorm();C===xt?this.state=He:ee(C)||(this.text=String.fromCodePoint(C))}else this.captureToChar(xt)&&(this.state=He)}sPIEnding(){var C;const I=this.getCodeNorm();if(I===St){const{piTarget:I}=this;"xml"===I.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(C=this.piHandler)||void 0===C||C.call(this,{target:I,body:this.text}),this.piTarget=this.text="",this.state=Ee}else I===xt?this.text+="?":(this.text+=`?${String.fromCodePoint(I)}`,this.state=Ve);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const C=this.skipSpaces();C!==xt?C!==pe&&(this.state=Ue,this.name=String.fromCodePoint(C)):this.state=Xe}sXMLDeclName(){const C=this.captureTo(Nt);if(C===xt)return this.state=Xe,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(ee(C)||C===_t){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=C===_t?qe:ze}}sXMLDeclEq(){const C=this.getCodeNorm();if(C===xt)return this.state=Xe,void this.fail("XML declaration is incomplete.");ee(C)||(C!==_t&&this.fail("value required."),this.state=qe)}sXMLDeclValueStart(){const C=this.getCodeNorm();if(C===xt)return this.state=Xe,void this.fail("XML declaration is incomplete.");ee(C)||(isQuote(C)?this.q=C:(this.fail("value must be quoted."),this.q=ct),this.state=We)}sXMLDeclValue(){const C=this.captureTo([this.q,xt]);if(C===xt)return this.state=Xe,this.text="",void this.fail("XML declaration is incomplete.");if(C===pe)return;const I=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const C=I;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(I)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=I;break;case"standalone":"yes"!==I&&"no"!==I&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=I}this.name="",this.state=Ke}sXMLDeclSeparator(){const C=this.getCodeNorm();C!==xt?(ee(C)||(this.fail("whitespace required."),this.unget()),this.state=Ge):this.state=Xe}sXMLDeclEnding(){var C;this.getCodeNorm()===St?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(C=this.xmldeclHandler)||void 0===C||C.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Ee):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var C;const I=this.captureNameChars();if(I===pe)return;const B=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=B.ns=Object.create(null)),null===(C=this.openTagStartHandler)||void 0===C||C.call(this,B),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),I){case St:this.openTag();break;case bt:this.state=Ye;break;default:ee(I)||this.fail("disallowed character in tag name."),this.state=Ze}}sOpenTagSlash(){this.getCode()===St?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Ze)}sAttrib(){const C=this.skipSpaces();C!==pe&&(ie(C)?(this.unget(),this.state=Qe):C===St?this.openTag():C===bt?this.state=Ye:this.fail("disallowed character in attribute name."))}sAttribName(){const C=this.captureNameChars();C===_t?this.state=tt:ee(C)?this.state=et:C===St?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):C!==pe&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const C=this.skipSpaces();switch(C){case pe:return;case _t:this.state=tt;break;default:this.fail("attribute without value."),this.text="",this.name="",C===St?this.openTag():ie(C)?(this.unget(),this.state=Qe):(this.fail("disallowed character in attribute name."),this.state=Ze)}}sAttribValue(){const C=this.getCodeNorm();isQuote(C)?(this.q=C,this.state=it):ee(C)||(this.fail("unquoted attribute value."),this.state=nt,this.unget())}sAttribValueQuoted(){const{q:C,chunk:I}=this;let{i:B}=this;for(;;)switch(this.getCode()){case C:return this.pushAttrib(this.name,this.text+I.slice(B,this.prevI)),this.name=this.text="",this.q=null,void(this.state=rt);case mt:return this.text+=I.slice(B,this.prevI),this.state=Pe,void(this.entityReturnState=it);case ut:case me:case at:this.text+=`${I.slice(B,this.prevI)} `,B=this.i;break;case wt:return this.text+=I.slice(B,this.prevI),void this.fail("disallowed character.");case pe:return void(this.text+=I.slice(B))}}sAttribValueClosed(){const C=this.getCodeNorm();ee(C)?this.state=Ze:C===St?this.openTag():C===bt?this.state=Ye:ie(C)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Qe):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const C=this.captureTo(At);switch(C){case mt:this.state=Pe,this.entityReturnState=nt;break;case wt:this.fail("disallowed character.");break;case pe:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",C===St?this.openTag():this.state=Ze}}sCloseTag(){const C=this.captureNameChars();C===St?this.closeTag():ee(C)?this.state=ot:C!==pe&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case St:this.closeTag();break;case pe:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:C,forbiddenState:I}=this;const{chunk:B,textHandler:z}=this;e:for(;;)switch(this.getCode()){case wt:if(this.state=Ie,void 0!==z){const{text:I}=this,q=B.slice(C,this.prevI);0!==I.length?(z(I+q),this.text=""):0!==q.length&&z(q)}I=Dt;break e;case mt:this.state=Pe,this.entityReturnState=Ee,void 0!==z&&(this.text+=B.slice(C,this.prevI)),I=Dt;break e;case Tt:switch(I){case Dt:I=Ft;break;case Ft:I=Ot;break;case Ot:break;default:throw new Error("impossible state")}break;case St:I===Ot&&this.fail('the string "]]>" is disallowed in char data.'),I=Dt;break;case me:void 0!==z&&(this.text+=`${B.slice(C,this.prevI)}\n`),C=this.i,I=Dt;break;case pe:void 0!==z&&(this.text+=B.slice(C));break e;default:I=Dt}this.forbiddenState=I}handleTextOutsideRoot(){let{i:C}=this;const{chunk:I,textHandler:B}=this;let z=!1;e:for(;;){const q=this.getCode();switch(q){case wt:if(this.state=Ie,void 0!==B){const{text:z}=this,q=I.slice(C,this.prevI);0!==z.length?(B(z+q),this.text=""):0!==q.length&&B(q)}break e;case mt:this.state=Pe,this.entityReturnState=Ee,void 0!==B&&(this.text+=I.slice(C,this.prevI)),z=!0;break e;case me:void 0!==B&&(this.text+=`${I.slice(C,this.prevI)}\n`),C=this.i;break;case pe:void 0!==B&&(this.text+=I.slice(C));break e;default:ee(q)||(z=!0)}}z&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(C,I){var B;const{prefix:z,local:q}=this.qname(C),Q={name:C,prefix:z,local:q,value:I};if(this.attribList.push(Q),null===(B=this.attributeHandler)||void 0===B||B.call(this,Q),"xmlns"===z){const C=I.trim();"1.0"===this.currentXMLVersion&&""===C&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[q]=C,nsPairCheck(this,q,C)}else if("xmlns"===C){const C=I.trim();this.topNS[""]=C,nsPairCheck(this,"",C)}}pushAttribPlain(C,I){var B;const z={name:C,value:I};this.attribList.push(z),null===(B=this.attributeHandler)||void 0===B||B.call(this,z)}end(){var C,I;this.sawRoot||this.fail("document must contain a root element.");const{tags:B}=this;for(;B.length>0;){const C=B.pop();this.fail(`unclosed tag: ${C.name}`)}this.state!==ge&&this.state!==Ee&&this.fail("unexpected end.");const{text:z}=this;return 0!==z.length&&(null===(C=this.textHandler)||void 0===C||C.call(this,z),this.text=""),this._closed=!0,null===(I=this.endHandler)||void 0===I||I.call(this),this._init(),this}resolve(C){var I,B;let z=this.topNS[C];if(void 0!==z)return z;const{tags:q}=this;for(let I=q.length-1;I>=0;I--)if(z=q[I].ns[C],void 0!==z)return z;return z=this.ns[C],void 0!==z?z:null===(B=(I=this.opt).resolvePrefix)||void 0===B?void 0:B.call(I,C)}qname(C){const I=C.indexOf(":");if(-1===I)return{prefix:"",local:C};const B=C.slice(I+1),z=C.slice(0,I);return(""===z||""===B||B.includes(":"))&&this.fail(`malformed name: ${C}.`),{prefix:z,local:B}}processAttribsNS(){var C;const{attribList:I}=this,B=this.tag;{const{prefix:I,local:z}=this.qname(B.name);B.prefix=I,B.local=z;const q=B.uri=null!==(C=this.resolve(I))&&void 0!==C?C:"";""!==I&&("xmlns"===I&&this.fail('tags may not have "xmlns" as prefix.'),""===q&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),B.uri=I))}if(0===I.length)return;const{attributes:z}=B,q=new Set;for(const C of I){const{name:I,prefix:B,local:Q}=C;let ee,te;""===B?(ee="xmlns"===I?ce:"",te=I):(ee=this.resolve(B),void 0===ee&&(this.fail(`unbound namespace prefix: ${JSON.stringify(B)}.`),ee=B),te=`{${ee}}${Q}`),q.has(te)&&this.fail(`duplicate attribute: ${te}.`),q.add(te),C.uri=ee,z[I]=C}this.attribList=[]}processAttribsPlain(){const{attribList:C}=this,I=this.tag.attributes;for(const{name:B,value:z}of C)void 0!==I[B]&&this.fail(`duplicate attribute: ${B}.`),I[B]=z;this.attribList=[]}openTag(){var C;this.processAttribs();const{tags:I}=this,B=this.tag;B.isSelfClosing=!1,null===(C=this.openTagHandler)||void 0===C||C.call(this,B),I.push(B),this.state=Ee,this.name=""}openSelfClosingTag(){var C,I,B;this.processAttribs();const{tags:z}=this,q=this.tag;q.isSelfClosing=!0,null===(C=this.openTagHandler)||void 0===C||C.call(this,q),null===(I=this.closeTagHandler)||void 0===I||I.call(this,q),null===(this.tag=null!==(B=z[z.length-1])&&void 0!==B?B:null)&&(this.closedRoot=!0),this.state=Ee,this.name=""}closeTag(){const{tags:C,name:I}=this;if(this.state=Ee,this.name="",""===I)return this.fail("weird empty close tag."),void(this.text+="</>");const B=this.closeTagHandler;let z=C.length;for(;z-- >0;){const z=this.tag=C.pop();if(this.topNS=z.ns,null==B||B(z),z.name===I)break;this.fail("unexpected close tag.")}0===z?this.closedRoot=!0:z<0&&(this.fail(`unmatched closing tag: ${I}.`),this.text+=`</${I}>`)}parseEntity(C){if("#"!==C[0]){const I=this.ENTITIES[C];return void 0!==I?I:(this.fail(this.isName(C)?"undefined entity.":"disallowed character in entity name."),`&${C};`)}let I=NaN;return"x"===C[1]&&/^#x[0-9a-f]+$/i.test(C)?I=parseInt(C.slice(2),16):/^#[0-9]+$/.test(C)&&(I=parseInt(C.slice(1),10)),this.isChar(I)?String.fromCodePoint(I):(this.fail("malformed character entity."),`&${C};`)}}B.SaxesParser=SaxesParser},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(C,I,B){"use strict";var z=C("safe-buffer").Buffer;function Hash(C,I){this._block=z.alloc(C),this._finalSize=I,this._blockSize=C,this._len=0}Hash.prototype.update=function(C,I){"string"==typeof C&&(I=I||"utf8",C=z.from(C,I));for(var B=this._block,q=this._blockSize,Q=C.length,ee=this._len,te=0;te<Q;){for(var ie=ee%q,re=Math.min(Q-te,q-ie),ne=0;ne<re;ne++)B[ie+ne]=C[te+ne];te+=re,(ee+=re)%q==0&&this._update(B)}return this._len+=Q,this},Hash.prototype.digest=function(C){var I=this._len%this._blockSize;this._block[I]=128,this._block.fill(0,I+1),I>=this._finalSize&&(this._update(this._block),this._block.fill(0));var B=8*this._len;if(B<=4294967295)this._block.writeUInt32BE(B,this._blockSize-4);else{var z=(4294967295&B)>>>0,q=(B-z)/4294967296;this._block.writeUInt32BE(q,this._blockSize-8),this._block.writeUInt32BE(z,this._blockSize-4)}this._update(this._block);var Q=this._hash();return C?Q.toString(C):Q},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},I.exports=Hash},{"safe-buffer":494}],498:[function(C,I,B){"use strict";var z=I.exports=function SHA(C){C=C.toLowerCase();var I=z[C];if(!I)throw new Error(C+" is not supported (we accept pull requests)");return new I};z.sha=C("./sha"),z.sha1=C("./sha1"),z.sha224=C("./sha224"),z.sha256=C("./sha256"),z.sha384=C("./sha384"),z.sha512=C("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=[1518500249,1859775393,-1894007588,-899497514],te=new Array(80);function Sha(){this.init(),this._w=te,q.call(this,64,56)}function rotl5(C){return C<<5|C>>>27}function rotl30(C){return C<<30|C>>>2}function ft(C,I,B,z){return 0===C?I&B|~I&z:2===C?I&B|I&z|B&z:I^B^z}z(Sha,q),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(C){for(var I=this._w,B=0|this._a,z=0|this._b,q=0|this._c,Q=0|this._d,te=0|this._e,ie=0;ie<16;++ie)I[ie]=C.readInt32BE(4*ie);for(;ie<80;++ie)I[ie]=I[ie-3]^I[ie-8]^I[ie-14]^I[ie-16];for(var re=0;re<80;++re){var ne=~~(re/20),se=rotl5(B)+ft(ne,z,q,Q)+te+I[re]+ee[ne]|0;te=Q,Q=q,q=rotl30(z),z=B,B=se}this._a=B+this._a|0,this._b=z+this._b|0,this._c=q+this._c|0,this._d=Q+this._d|0,this._e=te+this._e|0},Sha.prototype._hash=function(){var C=Q.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},I.exports=Sha},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=[1518500249,1859775393,-1894007588,-899497514],te=new Array(80);function Sha1(){this.init(),this._w=te,q.call(this,64,56)}function rotl1(C){return C<<1|C>>>31}function rotl5(C){return C<<5|C>>>27}function rotl30(C){return C<<30|C>>>2}function ft(C,I,B,z){return 0===C?I&B|~I&z:2===C?I&B|I&z|B&z:I^B^z}z(Sha1,q),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(C){for(var I=this._w,B=0|this._a,z=0|this._b,q=0|this._c,Q=0|this._d,te=0|this._e,ie=0;ie<16;++ie)I[ie]=C.readInt32BE(4*ie);for(;ie<80;++ie)I[ie]=rotl1(I[ie-3]^I[ie-8]^I[ie-14]^I[ie-16]);for(var re=0;re<80;++re){var ne=~~(re/20),se=rotl5(B)+ft(ne,z,q,Q)+te+I[re]+ee[ne]|0;te=Q,Q=q,q=rotl30(z),z=B,B=se}this._a=B+this._a|0,this._b=z+this._b|0,this._c=q+this._c|0,this._d=Q+this._d|0,this._e=te+this._e|0},Sha1.prototype._hash=function(){var C=Q.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},I.exports=Sha1},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./sha256"),Q=C("./hash"),ee=C("safe-buffer").Buffer,te=new Array(64);function Sha224(){this.init(),this._w=te,Q.call(this,64,56)}z(Sha224,q),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var C=ee.allocUnsafe(28);return C.writeInt32BE(this._a,0),C.writeInt32BE(this._b,4),C.writeInt32BE(this._c,8),C.writeInt32BE(this._d,12),C.writeInt32BE(this._e,16),C.writeInt32BE(this._f,20),C.writeInt32BE(this._g,24),C},I.exports=Sha224},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],te=new Array(64);function Sha256(){this.init(),this._w=te,q.call(this,64,56)}function ch(C,I,B){return B^C&(I^B)}function maj(C,I,B){return C&I|B&(C|I)}function sigma0(C){return(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10)}function sigma1(C){return(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7)}function gamma0(C){return(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3}function gamma1(C){return(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10}z(Sha256,q),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(C){for(var I=this._w,B=0|this._a,z=0|this._b,q=0|this._c,Q=0|this._d,te=0|this._e,ie=0|this._f,re=0|this._g,ne=0|this._h,se=0;se<16;++se)I[se]=C.readInt32BE(4*se);for(;se<64;++se)I[se]=gamma1(I[se-2])+I[se-7]+gamma0(I[se-15])+I[se-16]|0;for(var oe=0;oe<64;++oe){var ae=ne+sigma1(te)+ch(te,ie,re)+ee[oe]+I[oe]|0,le=sigma0(B)+maj(B,z,q)|0;ne=re,re=ie,ie=te,te=Q+ae|0,Q=q,q=z,z=B,B=ae+le|0}this._a=B+this._a|0,this._b=z+this._b|0,this._c=q+this._c|0,this._d=Q+this._d|0,this._e=te+this._e|0,this._f=ie+this._f|0,this._g=re+this._g|0,this._h=ne+this._h|0},Sha256.prototype._hash=function(){var C=Q.allocUnsafe(32);return C.writeInt32BE(this._a,0),C.writeInt32BE(this._b,4),C.writeInt32BE(this._c,8),C.writeInt32BE(this._d,12),C.writeInt32BE(this._e,16),C.writeInt32BE(this._f,20),C.writeInt32BE(this._g,24),C.writeInt32BE(this._h,28),C},I.exports=Sha256},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./sha512"),Q=C("./hash"),ee=C("safe-buffer").Buffer,te=new Array(160);function Sha384(){this.init(),this._w=te,Q.call(this,128,112)}z(Sha384,q),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var C=ee.allocUnsafe(48);function writeInt64BE(I,B,z){C.writeInt32BE(I,z),C.writeInt32BE(B,z+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),C},I.exports=Sha384},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(C,I,B){"use strict";var z=C("inherits"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],te=new Array(160);function Sha512(){this.init(),this._w=te,q.call(this,128,112)}function Ch(C,I,B){return B^C&(I^B)}function maj(C,I,B){return C&I|B&(C|I)}function sigma0(C,I){return(C>>>28|I<<4)^(I>>>2|C<<30)^(I>>>7|C<<25)}function sigma1(C,I){return(C>>>14|I<<18)^(C>>>18|I<<14)^(I>>>9|C<<23)}function Gamma0(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^C>>>7}function Gamma0l(C,I){return(C>>>1|I<<31)^(C>>>8|I<<24)^(C>>>7|I<<25)}function Gamma1(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^C>>>6}function Gamma1l(C,I){return(C>>>19|I<<13)^(I>>>29|C<<3)^(C>>>6|I<<26)}function getCarry(C,I){return C>>>0<I>>>0?1:0}z(Sha512,q),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(C){for(var I=this._w,B=0|this._ah,z=0|this._bh,q=0|this._ch,Q=0|this._dh,te=0|this._eh,ie=0|this._fh,re=0|this._gh,ne=0|this._hh,se=0|this._al,oe=0|this._bl,ae=0|this._cl,le=0|this._dl,ue=0|this._el,de=0|this._fl,ce=0|this._gl,he=0|this._hl,fe=0;fe<32;fe+=2)I[fe]=C.readInt32BE(4*fe),I[fe+1]=C.readInt32BE(4*fe+4);for(;fe<160;fe+=2){var pe=I[fe-30],me=I[fe-30+1],ge=Gamma0(pe,me),ve=Gamma0l(me,pe),ye=Gamma1(pe=I[fe-4],me=I[fe-4+1]),be=Gamma1l(me,pe),Ce=I[fe-14],we=I[fe-14+1],_e=I[fe-32],Se=I[fe-32+1],xe=ve+we|0,ke=ge+Ce+getCarry(xe,ve)|0;ke=(ke=ke+ye+getCarry(xe=xe+be|0,be)|0)+_e+getCarry(xe=xe+Se|0,Se)|0,I[fe]=ke,I[fe+1]=xe}for(var Te=0;Te<160;Te+=2){ke=I[Te],xe=I[Te+1];var Me=maj(B,z,q),Re=maj(se,oe,ae),Ee=sigma0(B,se),Pe=sigma0(se,B),Ie=sigma1(te,ue),Ne=sigma1(ue,te),Ae=ee[Te],De=ee[Te+1],Fe=Ch(te,ie,re),Oe=Ch(ue,de,ce),Be=he+Ne|0,Le=ne+Ie+getCarry(Be,he)|0;Le=(Le=(Le=Le+Fe+getCarry(Be=Be+Oe|0,Oe)|0)+Ae+getCarry(Be=Be+De|0,De)|0)+ke+getCarry(Be=Be+xe|0,xe)|0;var je=Pe+Re|0,$e=Ee+Me+getCarry(je,Pe)|0;ne=re,he=ce,re=ie,ce=de,ie=te,de=ue,te=Q+Le+getCarry(ue=le+Be|0,le)|0,Q=q,le=ae,q=z,ae=oe,z=B,oe=se,B=Le+$e+getCarry(se=Be+je|0,Be)|0}this._al=this._al+se|0,this._bl=this._bl+oe|0,this._cl=this._cl+ae|0,this._dl=this._dl+le|0,this._el=this._el+ue|0,this._fl=this._fl+de|0,this._gl=this._gl+ce|0,this._hl=this._hl+he|0,this._ah=this._ah+B+getCarry(this._al,se)|0,this._bh=this._bh+z+getCarry(this._bl,oe)|0,this._ch=this._ch+q+getCarry(this._cl,ae)|0,this._dh=this._dh+Q+getCarry(this._dl,le)|0,this._eh=this._eh+te+getCarry(this._el,ue)|0,this._fh=this._fh+ie+getCarry(this._fl,de)|0,this._gh=this._gh+re+getCarry(this._gl,ce)|0,this._hh=this._hh+ne+getCarry(this._hl,he)|0},Sha512.prototype._hash=function(){var C=Q.allocUnsafe(64);function writeInt64BE(I,B,z){C.writeInt32BE(I,z),C.writeInt32BE(B,z+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),C},I.exports=Sha512},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(C,I,B){"use strict";I.exports=Stream;var z=C("events").EventEmitter;function Stream(){z.call(this)}C("inherits")(Stream,z),Stream.Readable=C("readable-stream/readable.js"),Stream.Writable=C("readable-stream/writable.js"),Stream.Duplex=C("readable-stream/duplex.js"),Stream.Transform=C("readable-stream/transform.js"),Stream.PassThrough=C("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(C,I){var B=this;function ondata(I){C.writable&&!1===C.write(I)&&B.pause&&B.pause()}function ondrain(){B.readable&&B.resume&&B.resume()}B.on("data",ondata),C.on("drain",ondrain),C._isStdio||I&&!1===I.end||(B.on("end",onend),B.on("close",onclose));var q=!1;function onend(){q||(q=!0,C.end())}function onclose(){q||(q=!0,"function"==typeof C.destroy&&C.destroy())}function onerror(C){if(cleanup(),0===z.listenerCount(this,"error"))throw C}function cleanup(){B.removeListener("data",ondata),C.removeListener("drain",ondrain),B.removeListener("end",onend),B.removeListener("close",onclose),B.removeListener("error",onerror),C.removeListener("error",onerror),B.removeListener("end",cleanup),B.removeListener("close",cleanup),C.removeListener("close",cleanup)}return B.on("error",onerror),C.on("error",onerror),B.on("end",cleanup),B.on("close",cleanup),C.on("close",cleanup),C.emit("pipe",B),C}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(C,I,B){"use strict";var z={}.toString;I.exports=Array.isArray||function(C){return"[object Array]"==z.call(C)}},{}],507:[function(C,I,B){"use strict";I.exports=C("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(C,I,B){"use strict";var z=C("process-nextick-args"),q=Object.keys||function(C){var I=[];for(var B in C)I.push(B);return I};I.exports=Duplex;var Q=Object.create(C("core-util-is"));Q.inherits=C("inherits");var ee=C("./_stream_readable"),te=C("./_stream_writable");Q.inherits(Duplex,ee);for(var ie=q(te.prototype),re=0;re<ie.length;re++){var ne=ie[re];Duplex.prototype[ne]||(Duplex.prototype[ne]=te.prototype[ne])}function Duplex(C){if(!(this instanceof Duplex))return new Duplex(C);ee.call(this,C),te.call(this,C),C&&!1===C.readable&&(this.readable=!1),C&&!1===C.writable&&(this.writable=!1),this.allowHalfOpen=!0,C&&!1===C.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||z.nextTick(onEndNT,this)}function onEndNT(C){C.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(C){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),Duplex.prototype._destroy=function(C,I){this.push(null),this.end(),z.nextTick(I,C)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(C,I,B){"use strict";I.exports=PassThrough;var z=C("./_stream_transform"),q=Object.create(C("core-util-is"));function PassThrough(C){if(!(this instanceof PassThrough))return new PassThrough(C);z.call(this,C)}q.inherits=C("inherits"),q.inherits(PassThrough,z),PassThrough.prototype._transform=function(C,I,B){B(null,C)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(C,I,z){(function(B,z){(function(){"use strict";var q=C("process-nextick-args");I.exports=Readable;var Q,ee=C("isarray");Readable.ReadableState=ReadableState,C("events").EventEmitter;var EElistenerCount=function(C,I){return C.listeners(I).length},te=C("./internal/streams/stream"),ie=C("safe-buffer").Buffer,re=(void 0!==z?z:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return ie.from(C)}function _isUint8Array(C){return ie.isBuffer(C)||C instanceof re}var ne=Object.create(C("core-util-is"));ne.inherits=C("inherits");var se=C("util"),oe=void 0;oe=se&&se.debuglog?se.debuglog("stream"):function(){};var ae,le=C("./internal/streams/BufferList"),ue=C("./internal/streams/destroy");ne.inherits(Readable,te);var de=["error","close","destroy","pause","resume"];function prependListener(C,I,B){if("function"==typeof C.prependListener)return C.prependListener(I,B);C._events&&C._events[I]?ee(C._events[I])?C._events[I].unshift(B):C._events[I]=[B,C._events[I]]:C.on(I,B)}function ReadableState(I,B){I=I||{};var z=B instanceof(Q=Q||C("./_stream_duplex"));this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var q=I.highWaterMark,ee=I.readableHighWaterMark,te=this.objectMode?16:16384;this.highWaterMark=q||0===q?q:z&&(ee||0===ee)?ee:te,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new le,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(ae||(ae=C("string_decoder/").StringDecoder),this.decoder=new ae(I.encoding),this.encoding=I.encoding)}function Readable(I){if(Q=Q||C("./_stream_duplex"),!(this instanceof Readable))return new Readable(I);this._readableState=new ReadableState(I,this),this.readable=!0,I&&("function"==typeof I.read&&(this._read=I.read),"function"==typeof I.destroy&&(this._destroy=I.destroy)),te.call(this)}function readableAddChunk(C,I,B,z,q){var Q,ee=C._readableState;return null===I?(ee.reading=!1,onEofChunk(C,ee)):(q||(Q=chunkInvalid(ee,I)),Q?C.emit("error",Q):ee.objectMode||I&&I.length>0?("string"==typeof I||ee.objectMode||Object.getPrototypeOf(I)===ie.prototype||(I=_uint8ArrayToBuffer(I)),z?ee.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):addChunk(C,ee,I,!0):ee.ended?C.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!B?(I=ee.decoder.write(I),ee.objectMode||0!==I.length?addChunk(C,ee,I,!1):maybeReadMore(C,ee)):addChunk(C,ee,I,!1))):z||(ee.reading=!1)),needMoreData(ee)}function addChunk(C,I,B,z){I.flowing&&0===I.length&&!I.sync?(C.emit("data",B),C.read(0)):(I.length+=I.objectMode?1:B.length,z?I.buffer.unshift(B):I.buffer.push(B),I.needReadable&&emitReadable(C)),maybeReadMore(C,I)}function chunkInvalid(C,I){var B;return _isUint8Array(I)||"string"==typeof I||void 0===I||C.objectMode||(B=new TypeError("Invalid non-string/buffer chunk")),B}function needMoreData(C){return!C.ended&&(C.needReadable||C.length<C.highWaterMark||0===C.length)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),Readable.prototype.destroy=ue.destroy,Readable.prototype._undestroy=ue.undestroy,Readable.prototype._destroy=function(C,I){this.push(null),I(C)},Readable.prototype.push=function(C,I){var B,z=this._readableState;return z.objectMode?B=!0:"string"==typeof C&&((I=I||z.defaultEncoding)!==z.encoding&&(C=ie.from(C,I),I=""),B=!0),readableAddChunk(this,C,I,!1,B)},Readable.prototype.unshift=function(C){return readableAddChunk(this,C,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(I){return ae||(ae=C("string_decoder/").StringDecoder),this._readableState.decoder=new ae(I),this._readableState.encoding=I,this};var ce=8388608;function computeNewHighWaterMark(C){return C>=ce?C=ce:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function howMuchToRead(C,I){return C<=0||0===I.length&&I.ended?0:I.objectMode?1:C!=C?I.flowing&&I.length?I.buffer.head.data.length:I.length:(C>I.highWaterMark&&(I.highWaterMark=computeNewHighWaterMark(C)),C<=I.length?C:I.ended?I.length:(I.needReadable=!0,0))}function onEofChunk(C,I){if(!I.ended){if(I.decoder){var B=I.decoder.end();B&&B.length&&(I.buffer.push(B),I.length+=I.objectMode?1:B.length)}I.ended=!0,emitReadable(C)}}function emitReadable(C){var I=C._readableState;I.needReadable=!1,I.emittedReadable||(oe("emitReadable",I.flowing),I.emittedReadable=!0,I.sync?q.nextTick(emitReadable_,C):emitReadable_(C))}function emitReadable_(C){oe("emit readable"),C.emit("readable"),flow(C)}function maybeReadMore(C,I){I.readingMore||(I.readingMore=!0,q.nextTick(maybeReadMore_,C,I))}function maybeReadMore_(C,I){for(var B=I.length;!I.reading&&!I.flowing&&!I.ended&&I.length<I.highWaterMark&&(oe("maybeReadMore read 0"),C.read(0),B!==I.length);)B=I.length;I.readingMore=!1}function pipeOnDrain(C){return function(){var I=C._readableState;oe("pipeOnDrain",I.awaitDrain),I.awaitDrain&&I.awaitDrain--,0===I.awaitDrain&&EElistenerCount(C,"data")&&(I.flowing=!0,flow(C))}}function nReadingNextTick(C){oe("readable nexttick read 0"),C.read(0)}function resume(C,I){I.resumeScheduled||(I.resumeScheduled=!0,q.nextTick(resume_,C,I))}function resume_(C,I){I.reading||(oe("resume read 0"),C.read(0)),I.resumeScheduled=!1,I.awaitDrain=0,C.emit("resume"),flow(C),I.flowing&&!I.reading&&C.read(0)}function flow(C){var I=C._readableState;for(oe("flow",I.flowing);I.flowing&&null!==C.read(););}function fromList(C,I){return 0===I.length?null:(I.objectMode?B=I.buffer.shift():!C||C>=I.length?(B=I.decoder?I.buffer.join(""):1===I.buffer.length?I.buffer.head.data:I.buffer.concat(I.length),I.buffer.clear()):B=fromListPartial(C,I.buffer,I.decoder),B);var B}function fromListPartial(C,I,B){var z;return C<I.head.data.length?(z=I.head.data.slice(0,C),I.head.data=I.head.data.slice(C)):z=C===I.head.data.length?I.shift():B?copyFromBufferString(C,I):copyFromBuffer(C,I),z}function copyFromBufferString(C,I){var B=I.head,z=1,q=B.data;for(C-=q.length;B=B.next;){var Q=B.data,ee=C>Q.length?Q.length:C;if(ee===Q.length?q+=Q:q+=Q.slice(0,C),0==(C-=ee)){ee===Q.length?(++z,B.next?I.head=B.next:I.head=I.tail=null):(I.head=B,B.data=Q.slice(ee));break}++z}return I.length-=z,q}function copyFromBuffer(C,I){var B=ie.allocUnsafe(C),z=I.head,q=1;for(z.data.copy(B),C-=z.data.length;z=z.next;){var Q=z.data,ee=C>Q.length?Q.length:C;if(Q.copy(B,B.length-C,0,ee),0==(C-=ee)){ee===Q.length?(++q,z.next?I.head=z.next:I.head=I.tail=null):(I.head=z,z.data=Q.slice(ee));break}++q}return I.length-=q,B}function endReadable(C){var I=C._readableState;if(I.length>0)throw new Error('"endReadable()" called on non-empty stream');I.endEmitted||(I.ended=!0,q.nextTick(endReadableNT,I,C))}function endReadableNT(C,I){C.endEmitted||0!==C.length||(C.endEmitted=!0,I.readable=!1,I.emit("end"))}function indexOf(C,I){for(var B=0,z=C.length;B<z;B++)if(C[B]===I)return B;return-1}Readable.prototype.read=function(C){oe("read",C),C=parseInt(C,10);var I=this._readableState,B=C;if(0!==C&&(I.emittedReadable=!1),0===C&&I.needReadable&&(I.length>=I.highWaterMark||I.ended))return oe("read: emitReadable",I.length,I.ended),0===I.length&&I.ended?endReadable(this):emitReadable(this),null;if(0===(C=howMuchToRead(C,I))&&I.ended)return 0===I.length&&endReadable(this),null;var z,q=I.needReadable;return oe("need readable",q),(0===I.length||I.length-C<I.highWaterMark)&&oe("length less than watermark",q=!0),I.ended||I.reading?oe("reading or ended",q=!1):q&&(oe("do read"),I.reading=!0,I.sync=!0,0===I.length&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(C=howMuchToRead(B,I))),null===(z=C>0?fromList(C,I):null)?(I.needReadable=!0,C=0):I.length-=C,0===I.length&&(I.ended||(I.needReadable=!0),B!==C&&I.ended&&endReadable(this)),null!==z&&this.emit("data",z),z},Readable.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(C,I){var z=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=C;break;case 1:Q.pipes=[Q.pipes,C];break;default:Q.pipes.push(C)}Q.pipesCount+=1,oe("pipe count=%d opts=%j",Q.pipesCount,I);var ee=I&&!1===I.end||C===B.stdout||C===B.stderr?unpipe:onend;function onunpipe(C,I){oe("onunpipe"),C===z&&I&&!1===I.hasUnpiped&&(I.hasUnpiped=!0,cleanup())}function onend(){oe("onend"),C.end()}Q.endEmitted?q.nextTick(ee):z.once("end",ee),C.on("unpipe",onunpipe);var te=pipeOnDrain(z);C.on("drain",te);var ie=!1;function cleanup(){oe("cleanup"),C.removeListener("close",onclose),C.removeListener("finish",onfinish),C.removeListener("drain",te),C.removeListener("error",onerror),C.removeListener("unpipe",onunpipe),z.removeListener("end",onend),z.removeListener("end",unpipe),z.removeListener("data",ondata),ie=!0,!Q.awaitDrain||C._writableState&&!C._writableState.needDrain||te()}var re=!1;function ondata(I){oe("ondata"),re=!1,!1!==C.write(I)||re||((1===Q.pipesCount&&Q.pipes===C||Q.pipesCount>1&&-1!==indexOf(Q.pipes,C))&&!ie&&(oe("false write response, pause",Q.awaitDrain),Q.awaitDrain++,re=!0),z.pause())}function onerror(I){oe("onerror",I),unpipe(),C.removeListener("error",onerror),0===EElistenerCount(C,"error")&&C.emit("error",I)}function onclose(){C.removeListener("finish",onfinish),unpipe()}function onfinish(){oe("onfinish"),C.removeListener("close",onclose),unpipe()}function unpipe(){oe("unpipe"),z.unpipe(C)}return z.on("data",ondata),prependListener(C,"error",onerror),C.once("close",onclose),C.once("finish",onfinish),C.emit("pipe",z),Q.flowing||(oe("pipe resume"),z.resume()),C},Readable.prototype.unpipe=function(C){var I=this._readableState,B={hasUnpiped:!1};if(0===I.pipesCount)return this;if(1===I.pipesCount)return C&&C!==I.pipes||(C||(C=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,C&&C.emit("unpipe",this,B)),this;if(!C){var z=I.pipes,q=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var Q=0;Q<q;Q++)z[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=indexOf(I.pipes,C);return-1===ee||(I.pipes.splice(ee,1),I.pipesCount-=1,1===I.pipesCount&&(I.pipes=I.pipes[0]),C.emit("unpipe",this,B)),this},Readable.prototype.on=function(C,I){var B=te.prototype.on.call(this,C,I);if("data"===C)!1!==this._readableState.flowing&&this.resume();else if("readable"===C){var z=this._readableState;z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&emitReadable(this):q.nextTick(nReadingNextTick,this))}return B},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var C=this._readableState;return C.flowing||(oe("resume"),C.flowing=!0,resume(this,C)),this},Readable.prototype.pause=function(){return oe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(C){var I=this,B=this._readableState,z=!1;for(var q in C.on("end",(function(){if(oe("wrapped end"),B.decoder&&!B.ended){var C=B.decoder.end();C&&C.length&&I.push(C)}I.push(null)})),C.on("data",(function(q){oe("wrapped data"),B.decoder&&(q=B.decoder.write(q)),B.objectMode&&null==q||(B.objectMode||q&&q.length)&&(I.push(q)||(z=!0,C.pause()))})),C)void 0===this[q]&&"function"==typeof C[q]&&(this[q]=function(I){return function(){return C[I].apply(C,arguments)}}(q));for(var Q=0;Q<de.length;Q++)C.on(de[Q],this.emit.bind(this,de[Q]));return this._read=function(I){oe("wrapped _read",I),z&&(z=!1,C.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(C,I,B){"use strict";I.exports=Transform;var z=C("./_stream_duplex"),q=Object.create(C("core-util-is"));function afterTransform(C,I){var B=this._transformState;B.transforming=!1;var z=B.writecb;if(!z)return this.emit("error",new Error("write callback called multiple times"));B.writechunk=null,B.writecb=null,null!=I&&this.push(I),z(C);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function Transform(C){if(!(this instanceof Transform))return new Transform(C);z.call(this,C),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",prefinish)}function prefinish(){var C=this;"function"==typeof this._flush?this._flush((function(I,B){done(C,I,B)})):done(this,null,null)}function done(C,I,B){if(I)return C.emit("error",I);if(null!=B&&C.push(B),C._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(C._transformState.transforming)throw new Error("Calling transform done when still transforming");return C.push(null)}q.inherits=C("inherits"),q.inherits(Transform,z),Transform.prototype.push=function(C,I){return this._transformState.needTransform=!1,z.prototype.push.call(this,C,I)},Transform.prototype._transform=function(C,I,B){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(C,I,B){var z=this._transformState;if(z.writecb=B,z.writechunk=C,z.writeencoding=I,!z.transforming){var q=this._readableState;(z.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},Transform.prototype._read=function(C){var I=this._transformState;null!==I.writechunk&&I.writecb&&!I.transforming?(I.transforming=!0,this._transform(I.writechunk,I.writeencoding,I.afterTransform)):I.needTransform=!0},Transform.prototype._destroy=function(C,I){var B=this;z.prototype._destroy.call(this,C,(function(C){I(C),B.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(C,I,z){(function(B,z,q){(function(){"use strict";var Q=C("process-nextick-args");function CorkedRequest(C){var I=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(I,C)}}I.exports=Writable;var ee,te=!B.browser&&["v0.10","v0.9."].indexOf(B.version.slice(0,5))>-1?q:Q.nextTick;Writable.WritableState=WritableState;var ie=Object.create(C("core-util-is"));ie.inherits=C("inherits");var re={deprecate:C("util-deprecate")},ne=C("./internal/streams/stream"),se=C("safe-buffer").Buffer,oe=(void 0!==z?z:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return se.from(C)}function _isUint8Array(C){return se.isBuffer(C)||C instanceof oe}var ae,le=C("./internal/streams/destroy");function nop(){}function WritableState(I,B){ee=ee||C("./_stream_duplex"),I=I||{};var z=B instanceof ee;this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.writableObjectMode);var q=I.highWaterMark,Q=I.writableHighWaterMark,te=this.objectMode?16:16384;this.highWaterMark=q||0===q?q:z&&(Q||0===Q)?Q:te,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=!1===I.decodeStrings;this.decodeStrings=!ie,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){onwrite(B,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(I){if(ee=ee||C("./_stream_duplex"),!(ae.call(Writable,this)||this instanceof ee))return new Writable(I);this._writableState=new WritableState(I,this),this.writable=!0,I&&("function"==typeof I.write&&(this._write=I.write),"function"==typeof I.writev&&(this._writev=I.writev),"function"==typeof I.destroy&&(this._destroy=I.destroy),"function"==typeof I.final&&(this._final=I.final)),ne.call(this)}function writeAfterEnd(C,I){var B=new Error("write after end");C.emit("error",B),Q.nextTick(I,B)}function validChunk(C,I,B,z){var q=!0,ee=!1;return null===B?ee=new TypeError("May not write null values to stream"):"string"==typeof B||void 0===B||I.objectMode||(ee=new TypeError("Invalid non-string/buffer chunk")),ee&&(C.emit("error",ee),Q.nextTick(z,ee),q=!1),q}function decodeChunk(C,I,B){return C.objectMode||!1===C.decodeStrings||"string"!=typeof I||(I=se.from(I,B)),I}function writeOrBuffer(C,I,B,z,q,Q){if(!B){var ee=decodeChunk(I,z,q);z!==ee&&(B=!0,q="buffer",z=ee)}var te=I.objectMode?1:z.length;I.length+=te;var ie=I.length<I.highWaterMark;if(ie||(I.needDrain=!0),I.writing||I.corked){var re=I.lastBufferedRequest;I.lastBufferedRequest={chunk:z,encoding:q,isBuf:B,callback:Q,next:null},re?re.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else doWrite(C,I,!1,te,z,q,Q);return ie}function doWrite(C,I,B,z,q,Q,ee){I.writelen=z,I.writecb=ee,I.writing=!0,I.sync=!0,B?C._writev(q,I.onwrite):C._write(q,Q,I.onwrite),I.sync=!1}function onwriteError(C,I,B,z,q){--I.pendingcb,B?(Q.nextTick(q,z),Q.nextTick(finishMaybe,C,I),C._writableState.errorEmitted=!0,C.emit("error",z)):(q(z),C._writableState.errorEmitted=!0,C.emit("error",z),finishMaybe(C,I))}function onwriteStateUpdate(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function onwrite(C,I){var B=C._writableState,z=B.sync,q=B.writecb;if(onwriteStateUpdate(B),I)onwriteError(C,B,z,I,q);else{var Q=needFinish(B);Q||B.corked||B.bufferProcessing||!B.bufferedRequest||clearBuffer(C,B),z?te(afterWrite,C,B,Q,q):afterWrite(C,B,Q,q)}}function afterWrite(C,I,B,z){B||onwriteDrain(C,I),I.pendingcb--,z(),finishMaybe(C,I)}function onwriteDrain(C,I){0===I.length&&I.needDrain&&(I.needDrain=!1,C.emit("drain"))}function clearBuffer(C,I){I.bufferProcessing=!0;var B=I.bufferedRequest;if(C._writev&&B&&B.next){var z=I.bufferedRequestCount,q=new Array(z),Q=I.corkedRequestsFree;Q.entry=B;for(var ee=0,te=!0;B;)q[ee]=B,B.isBuf||(te=!1),B=B.next,ee+=1;q.allBuffers=te,doWrite(C,I,!0,I.length,q,"",Q.finish),I.pendingcb++,I.lastBufferedRequest=null,Q.next?(I.corkedRequestsFree=Q.next,Q.next=null):I.corkedRequestsFree=new CorkedRequest(I),I.bufferedRequestCount=0}else{for(;B;){var ie=B.chunk,re=B.encoding,ne=B.callback;if(doWrite(C,I,!1,I.objectMode?1:ie.length,ie,re,ne),B=B.next,I.bufferedRequestCount--,I.writing)break}null===B&&(I.lastBufferedRequest=null)}I.bufferedRequest=B,I.bufferProcessing=!1}function needFinish(C){return C.ending&&0===C.length&&null===C.bufferedRequest&&!C.finished&&!C.writing}function callFinal(C,I){C._final((function(B){I.pendingcb--,B&&C.emit("error",B),I.prefinished=!0,C.emit("prefinish"),finishMaybe(C,I)}))}function prefinish(C,I){I.prefinished||I.finalCalled||("function"==typeof C._final?(I.pendingcb++,I.finalCalled=!0,Q.nextTick(callFinal,C,I)):(I.prefinished=!0,C.emit("prefinish")))}function finishMaybe(C,I){var B=needFinish(I);return B&&(prefinish(C,I),0===I.pendingcb&&(I.finished=!0,C.emit("finish"))),B}function endWritable(C,I,B){I.ending=!0,finishMaybe(C,I),B&&(I.finished?Q.nextTick(B):C.once("finish",B)),I.ended=!0,C.writable=!1}function onCorkedFinish(C,I,B){var z=C.entry;for(C.entry=null;z;){var q=z.callback;I.pendingcb--,q(B),z=z.next}I.corkedRequestsFree.next=C}ie.inherits(Writable,ne),WritableState.prototype.getBuffer=function getBuffer(){for(var C=this.bufferedRequest,I=[];C;)I.push(C),C=C.next;return I},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:re.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(C){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(C){return!!ae.call(this,C)||this===Writable&&C&&C._writableState instanceof WritableState}})):ae=function(C){return C instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(C,I,B){var z=this._writableState,q=!1,Q=!z.objectMode&&_isUint8Array(C);return Q&&!se.isBuffer(C)&&(C=_uint8ArrayToBuffer(C)),"function"==typeof I&&(B=I,I=null),Q?I="buffer":I||(I=z.defaultEncoding),"function"!=typeof B&&(B=nop),z.ended?writeAfterEnd(this,B):(Q||validChunk(this,z,C,B))&&(z.pendingcb++,q=writeOrBuffer(this,z,Q,C,I,B)),q},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||clearBuffer(this,C))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(C){if("string"==typeof C&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(C,I,B){B(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(C,I,B){var z=this._writableState;"function"==typeof C?(B=C,C=null,I=null):"function"==typeof I&&(B=I,I=null),null!=C&&this.write(C,I),z.corked&&(z.corked=1,this.uncork()),z.ending||endWritable(this,z,B)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),Writable.prototype.destroy=le.destroy,Writable.prototype._undestroy=le.undestroy,Writable.prototype._destroy=function(C,I){this.end(),I(C)}}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(C,I,B){"use strict";function _classCallCheck(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var z=C("safe-buffer").Buffer,q=C("util");function copyBuffer(C,I,B){C.copy(I,B)}I.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(C){var I={data:C,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length},BufferList.prototype.unshift=function unshift(C){var I={data:C,next:this.head};0===this.length&&(this.tail=I),this.head=I,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var C=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,C}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(C){if(0===this.length)return"";for(var I=this.head,B=""+I.data;I=I.next;)B+=C+I.data;return B},BufferList.prototype.concat=function concat(C){if(0===this.length)return z.alloc(0);for(var I=z.allocUnsafe(C>>>0),B=this.head,q=0;B;)copyBuffer(B.data,I,q),q+=B.data.length,B=B.next;return I},BufferList}(),q&&q.inspect&&q.inspect.custom&&(I.exports.prototype[q.inspect.custom]=function(){var C=q.inspect({length:this.length});return this.constructor.name+" "+C})},{"safe-buffer":520,util:188}],514:[function(C,I,B){"use strict";var z=C("process-nextick-args");function destroy(C,I){var B=this,q=this._readableState&&this._readableState.destroyed,Q=this._writableState&&this._writableState.destroyed;return q||Q?(I?I(C):C&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,z.nextTick(emitErrorNT,this,C)):z.nextTick(emitErrorNT,this,C)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(C||null,(function(C){!I&&C?B._writableState?B._writableState.errorEmitted||(B._writableState.errorEmitted=!0,z.nextTick(emitErrorNT,B,C)):z.nextTick(emitErrorNT,B,C):I&&I(C)})),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(C,I){C.emit("error",I)}I.exports={destroy,undestroy}},{"process-nextick-args":466}],515:[function(C,I,B){arguments[4][490][0].apply(B,arguments)},{dup:490,events:422}],516:[function(C,I,B){"use strict";I.exports=C("./readable").PassThrough},{"./readable":517}],517:[function(C,I,B){"use strict";(B=I.exports=C("./lib/_stream_readable.js")).Stream=B,B.Readable=B,B.Writable=C("./lib/_stream_writable.js"),B.Duplex=C("./lib/_stream_duplex.js"),B.Transform=C("./lib/_stream_transform.js"),B.PassThrough=C("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(C,I,B){"use strict";I.exports=C("./readable").Transform},{"./readable":517}],519:[function(C,I,B){"use strict";I.exports=C("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(C,I,B){arguments[4][217][0].apply(B,arguments)},{buffer:220,dup:217}],521:[function(C,I,B){arguments[4][218][0].apply(B,arguments)},{dup:218,"safe-buffer":520}],522:[function(C,I,B){arguments[4][218][0].apply(B,arguments)},{dup:218,"safe-buffer":494}],523:[function(C,I,B){(function(I,z){(function(){"use strict";var q=C("process/browser.js").nextTick,Q=Function.prototype.apply,ee=Array.prototype.slice,te={},ie=0;function Timeout(C,I){this._id=C,this._clearFn=I}B.setTimeout=function(){return new Timeout(Q.call(setTimeout,window,arguments),clearTimeout)},B.setInterval=function(){return new Timeout(Q.call(setInterval,window,arguments),clearInterval)},B.clearTimeout=B.clearInterval=function(C){C.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},B.enroll=function(C,I){clearTimeout(C._idleTimeoutId),C._idleTimeout=I},B.unenroll=function(C){clearTimeout(C._idleTimeoutId),C._idleTimeout=-1},B._unrefActive=B.active=function(C){clearTimeout(C._idleTimeoutId);var I=C._idleTimeout;I>=0&&(C._idleTimeoutId=setTimeout((function onTimeout(){C._onTimeout&&C._onTimeout()}),I))},B.setImmediate="function"==typeof I?I:function(C){var I=ie++,z=!(arguments.length<2)&&ee.call(arguments,1);return te[I]=!0,q((function onNextTick(){te[I]&&(z?C.apply(null,z):C.call(null),B.clearImmediate(I))})),I},B.clearImmediate="function"==typeof z?z:function(C){delete te[C]}}).call(this)}).call(this,C("timers").setImmediate,C("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(C,I,z){(function(C){(function(){"use strict";function deprecate(C,I){if(config("noDeprecation"))return C;var B=!1;function deprecated(){if(!B){if(config("throwDeprecation"))throw new Error(I);config("traceDeprecation"),B=!0}return C.apply(this,arguments)}return deprecated}function config(I){try{if(!C.localStorage)return!1}catch(C){return!1}var B=C.localStorage[I];return null!=B&&"true"===String(B).toLowerCase()}I.exports=deprecate}).call(this)}).call(this,void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],525:[function(C,I,B){"use strict";"function"==typeof Object.create?I.exports=function inherits(C,I){C.super_=I,C.prototype=Object.create(I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}:I.exports=function inherits(C,I){C.super_=I;var TempCtor=function(){};TempCtor.prototype=I.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}},{}],526:[function(C,I,B){"use strict";I.exports=function isBuffer(C){return C&&"object"==typeof C&&"function"==typeof C.copy&&"function"==typeof C.fill&&"function"==typeof C.readUInt8}},{}],527:[function(C,I,z){(function(I,B){(function(){"use strict";var q=/%[sdj%]/g;z.format=function(C){if(!isString(C)){for(var I=[],B=0;B<arguments.length;B++)I.push(inspect(arguments[B]));return I.join(" ")}B=1;for(var z=arguments,Q=z.length,ee=String(C).replace(q,(function(C){if("%%"===C)return"%";if(B>=Q)return C;switch(C){case"%s":return String(z[B++]);case"%d":return Number(z[B++]);case"%j":try{return JSON.stringify(z[B++])}catch(C){return"[Circular]"}default:return C}})),te=z[B];B<Q;te=z[++B])isNull(te)||!isObject(te)?ee+=" "+te:ee+=" "+inspect(te);return ee},z.deprecate=function(C,q){if(isUndefined(B.process))return function(){return z.deprecate(C,q).apply(this,arguments)};if(!0===I.noDeprecation)return C;var Q=!1;function deprecated(){if(!Q){if(I.throwDeprecation)throw new Error(q);I.traceDeprecation,Q=!0}return C.apply(this,arguments)}return deprecated};var Q,ee={};function inspect(C,I){var B={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(B.depth=arguments[2]),arguments.length>=4&&(B.colors=arguments[3]),isBoolean(I)?B.showHidden=I:I&&z._extend(B,I),isUndefined(B.showHidden)&&(B.showHidden=!1),isUndefined(B.depth)&&(B.depth=2),isUndefined(B.colors)&&(B.colors=!1),isUndefined(B.customInspect)&&(B.customInspect=!0),B.colors&&(B.stylize=stylizeWithColor),formatValue(B,C,B.depth)}function stylizeWithColor(C,I){var B=inspect.styles[I];return B?"["+inspect.colors[B][0]+"m"+C+"["+inspect.colors[B][1]+"m":C}function stylizeNoColor(C,I){return C}function arrayToHash(C){var I={};return C.forEach((function(C,B){I[C]=!0})),I}function formatValue(C,I,B){if(C.customInspect&&I&&isFunction(I.inspect)&&I.inspect!==z.inspect&&(!I.constructor||I.constructor.prototype!==I)){var q=I.inspect(B,C);return isString(q)||(q=formatValue(C,q,B)),q}var Q=formatPrimitive(C,I);if(Q)return Q;var ee=Object.keys(I),te=arrayToHash(ee);if(C.showHidden&&(ee=Object.getOwnPropertyNames(I)),isError(I)&&(ee.indexOf("message")>=0||ee.indexOf("description")>=0))return formatError(I);if(0===ee.length){if(isFunction(I)){var ie=I.name?": "+I.name:"";return C.stylize("[Function"+ie+"]","special")}if(isRegExp(I))return C.stylize(RegExp.prototype.toString.call(I),"regexp");if(isDate(I))return C.stylize(Date.prototype.toString.call(I),"date");if(isError(I))return formatError(I)}var re,ne="",se=!1,oe=["{","}"];return isArray(I)&&(se=!0,oe=["[","]"]),isFunction(I)&&(ne=" [Function"+(I.name?": "+I.name:"")+"]"),isRegExp(I)&&(ne=" "+RegExp.prototype.toString.call(I)),isDate(I)&&(ne=" "+Date.prototype.toUTCString.call(I)),isError(I)&&(ne=" "+formatError(I)),0!==ee.length||se&&0!=I.length?B<0?isRegExp(I)?C.stylize(RegExp.prototype.toString.call(I),"regexp"):C.stylize("[Object]","special"):(C.seen.push(I),re=se?formatArray(C,I,B,te,ee):ee.map((function(z){return formatProperty(C,I,B,te,z,se)})),C.seen.pop(),reduceToSingleString(re,ne,oe)):oe[0]+ne+oe[1]}function formatPrimitive(C,I){if(isUndefined(I))return C.stylize("undefined","undefined");if(isString(I)){var B="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(B,"string")}return isNumber(I)?C.stylize(""+I,"number"):isBoolean(I)?C.stylize(""+I,"boolean"):isNull(I)?C.stylize("null","null"):void 0}function formatError(C){return"["+Error.prototype.toString.call(C)+"]"}function formatArray(C,I,B,z,q){for(var Q=[],ee=0,te=I.length;ee<te;++ee)hasOwnProperty(I,String(ee))?Q.push(formatProperty(C,I,B,z,String(ee),!0)):Q.push("");return q.forEach((function(q){q.match(/^\d+$/)||Q.push(formatProperty(C,I,B,z,q,!0))})),Q}function formatProperty(C,I,B,z,q,Q){var ee,te,ie;if((ie=Object.getOwnPropertyDescriptor(I,q)||{value:I[q]}).get?te=ie.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):ie.set&&(te=C.stylize("[Setter]","special")),hasOwnProperty(z,q)||(ee="["+q+"]"),te||(C.seen.indexOf(ie.value)<0?(te=isNull(B)?formatValue(C,ie.value,null):formatValue(C,ie.value,B-1)).indexOf("\n")>-1&&(te=Q?te.split("\n").map((function(C){return"  "+C})).join("\n").substr(2):"\n"+te.split("\n").map((function(C){return"   "+C})).join("\n")):te=C.stylize("[Circular]","special")),isUndefined(ee)){if(Q&&q.match(/^\d+$/))return te;(ee=JSON.stringify(""+q)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ee=ee.substr(1,ee.length-2),ee=C.stylize(ee,"name")):(ee=ee.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ee=C.stylize(ee,"string"))}return ee+": "+te}function reduceToSingleString(C,I,B){return C.reduce((function(C,I){return I.indexOf("\n"),C+I.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?B[0]+(""===I?"":I+"\n ")+" "+C.join(",\n  ")+" "+B[1]:B[0]+I+" "+C.join(", ")+" "+B[1]}function isArray(C){return Array.isArray(C)}function isBoolean(C){return"boolean"==typeof C}function isNull(C){return null===C}function isNullOrUndefined(C){return null==C}function isNumber(C){return"number"==typeof C}function isString(C){return"string"==typeof C}function isSymbol(C){return"symbol"==typeof C}function isUndefined(C){return void 0===C}function isRegExp(C){return isObject(C)&&"[object RegExp]"===objectToString(C)}function isObject(C){return"object"==typeof C&&null!==C}function isDate(C){return isObject(C)&&"[object Date]"===objectToString(C)}function isError(C){return isObject(C)&&("[object Error]"===objectToString(C)||C instanceof Error)}function isFunction(C){return"function"==typeof C}function isPrimitive(C){return null===C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||"symbol"==typeof C||void 0===C}function objectToString(C){return Object.prototype.toString.call(C)}function hasOwnProperty(C,I){return Object.prototype.hasOwnProperty.call(C,I)}z.debuglog=function(C){return isUndefined(Q)&&(Q=I.env.NODE_DEBUG||""),C=C.toUpperCase(),ee[C]||(new RegExp("\\b"+C+"\\b","i").test(Q)?(I.pid,ee[C]=function(){z.format.apply(z,arguments)}):ee[C]=function(){}),ee[C]},z.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},z.isArray=isArray,z.isBoolean=isBoolean,z.isNull=isNull,z.isNullOrUndefined=isNullOrUndefined,z.isNumber=isNumber,z.isString=isString,z.isSymbol=isSymbol,z.isUndefined=isUndefined,z.isRegExp=isRegExp,z.isObject=isObject,z.isDate=isDate,z.isError=isError,z.isFunction=isFunction,z.isPrimitive=isPrimitive,z.isBuffer=C("./support/isBuffer"),z.log=function(){},z.inherits=C("inherits"),z._extend=function(C,I){if(!I||!isObject(I))return C;for(var B=Object.keys(I),z=B.length;z--;)C[B[z]]=I[B[z]];return C}}).call(this)}).call(this,C("_process"),void 0!==B.g?B.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"v1",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(B,"v3",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(B,"v4",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(B,"v5",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(B,"NIL",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(B,"version",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(B,"validate",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(B,"stringify",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(B,"parse",{enumerable:!0,get:function(){return se.default}});var z=_interopRequireDefault(C("./v1.js")),q=_interopRequireDefault(C("./v3.js")),Q=_interopRequireDefault(C("./v4.js")),ee=_interopRequireDefault(C("./v5.js")),te=_interopRequireDefault(C("./nil.js")),ie=_interopRequireDefault(C("./version.js")),re=_interopRequireDefault(C("./validate.js")),ne=_interopRequireDefault(C("./stringify.js")),se=_interopRequireDefault(C("./parse.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(C,I,B){"use strict";function md5(C){if("string"==typeof C){const I=unescape(encodeURIComponent(C));C=new Uint8Array(I.length);for(let B=0;B<I.length;++B)C[B]=I.charCodeAt(B)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(C),8*C.length))}function md5ToHexEncodedArray(C){const I=[],B=32*C.length,z="0123456789abcdef";for(let q=0;q<B;q+=8){const B=C[q>>5]>>>q%32&255,Q=parseInt(z.charAt(B>>>4&15)+z.charAt(15&B),16);I.push(Q)}return I}function getOutputLength(C){return 14+(C+64>>>9<<4)+1}function wordsToMd5(C,I){C[I>>5]|=128<<I%32,C[getOutputLength(I)-1]=I;let B=1732584193,z=-271733879,q=-1732584194,Q=271733878;for(let I=0;I<C.length;I+=16){const ee=B,te=z,ie=q,re=Q;B=md5ff(B,z,q,Q,C[I],7,-680876936),Q=md5ff(Q,B,z,q,C[I+1],12,-389564586),q=md5ff(q,Q,B,z,C[I+2],17,606105819),z=md5ff(z,q,Q,B,C[I+3],22,-1044525330),B=md5ff(B,z,q,Q,C[I+4],7,-176418897),Q=md5ff(Q,B,z,q,C[I+5],12,1200080426),q=md5ff(q,Q,B,z,C[I+6],17,-1473231341),z=md5ff(z,q,Q,B,C[I+7],22,-45705983),B=md5ff(B,z,q,Q,C[I+8],7,1770035416),Q=md5ff(Q,B,z,q,C[I+9],12,-1958414417),q=md5ff(q,Q,B,z,C[I+10],17,-42063),z=md5ff(z,q,Q,B,C[I+11],22,-1990404162),B=md5ff(B,z,q,Q,C[I+12],7,1804603682),Q=md5ff(Q,B,z,q,C[I+13],12,-40341101),q=md5ff(q,Q,B,z,C[I+14],17,-1502002290),z=md5ff(z,q,Q,B,C[I+15],22,1236535329),B=md5gg(B,z,q,Q,C[I+1],5,-165796510),Q=md5gg(Q,B,z,q,C[I+6],9,-1069501632),q=md5gg(q,Q,B,z,C[I+11],14,643717713),z=md5gg(z,q,Q,B,C[I],20,-373897302),B=md5gg(B,z,q,Q,C[I+5],5,-701558691),Q=md5gg(Q,B,z,q,C[I+10],9,38016083),q=md5gg(q,Q,B,z,C[I+15],14,-660478335),z=md5gg(z,q,Q,B,C[I+4],20,-405537848),B=md5gg(B,z,q,Q,C[I+9],5,568446438),Q=md5gg(Q,B,z,q,C[I+14],9,-1019803690),q=md5gg(q,Q,B,z,C[I+3],14,-187363961),z=md5gg(z,q,Q,B,C[I+8],20,1163531501),B=md5gg(B,z,q,Q,C[I+13],5,-1444681467),Q=md5gg(Q,B,z,q,C[I+2],9,-51403784),q=md5gg(q,Q,B,z,C[I+7],14,1735328473),z=md5gg(z,q,Q,B,C[I+12],20,-1926607734),B=md5hh(B,z,q,Q,C[I+5],4,-378558),Q=md5hh(Q,B,z,q,C[I+8],11,-2022574463),q=md5hh(q,Q,B,z,C[I+11],16,1839030562),z=md5hh(z,q,Q,B,C[I+14],23,-35309556),B=md5hh(B,z,q,Q,C[I+1],4,-1530992060),Q=md5hh(Q,B,z,q,C[I+4],11,1272893353),q=md5hh(q,Q,B,z,C[I+7],16,-155497632),z=md5hh(z,q,Q,B,C[I+10],23,-1094730640),B=md5hh(B,z,q,Q,C[I+13],4,681279174),Q=md5hh(Q,B,z,q,C[I],11,-358537222),q=md5hh(q,Q,B,z,C[I+3],16,-722521979),z=md5hh(z,q,Q,B,C[I+6],23,76029189),B=md5hh(B,z,q,Q,C[I+9],4,-640364487),Q=md5hh(Q,B,z,q,C[I+12],11,-421815835),q=md5hh(q,Q,B,z,C[I+15],16,530742520),z=md5hh(z,q,Q,B,C[I+2],23,-995338651),B=md5ii(B,z,q,Q,C[I],6,-198630844),Q=md5ii(Q,B,z,q,C[I+7],10,1126891415),q=md5ii(q,Q,B,z,C[I+14],15,-1416354905),z=md5ii(z,q,Q,B,C[I+5],21,-57434055),B=md5ii(B,z,q,Q,C[I+12],6,1700485571),Q=md5ii(Q,B,z,q,C[I+3],10,-1894986606),q=md5ii(q,Q,B,z,C[I+10],15,-1051523),z=md5ii(z,q,Q,B,C[I+1],21,-2054922799),B=md5ii(B,z,q,Q,C[I+8],6,1873313359),Q=md5ii(Q,B,z,q,C[I+15],10,-30611744),q=md5ii(q,Q,B,z,C[I+6],15,-1560198380),z=md5ii(z,q,Q,B,C[I+13],21,1309151649),B=md5ii(B,z,q,Q,C[I+4],6,-145523070),Q=md5ii(Q,B,z,q,C[I+11],10,-1120210379),q=md5ii(q,Q,B,z,C[I+2],15,718787259),z=md5ii(z,q,Q,B,C[I+9],21,-343485551),B=safeAdd(B,ee),z=safeAdd(z,te),q=safeAdd(q,ie),Q=safeAdd(Q,re)}return[B,z,q,Q]}function bytesToWords(C){if(0===C.length)return[];const I=8*C.length,B=new Uint32Array(getOutputLength(I));for(let z=0;z<I;z+=8)B[z>>5]|=(255&C[z/8])<<z%32;return B}function safeAdd(C,I){const B=(65535&C)+(65535&I);return(C>>16)+(I>>16)+(B>>16)<<16|65535&B}function bitRotateLeft(C,I){return C<<I|C>>>32-I}function md5cmn(C,I,B,z,q,Q){return safeAdd(bitRotateLeft(safeAdd(safeAdd(I,C),safeAdd(z,Q)),q),B)}function md5ff(C,I,B,z,q,Q,ee){return md5cmn(I&B|~I&z,C,I,q,Q,ee)}function md5gg(C,I,B,z,q,Q,ee){return md5cmn(I&z|B&~z,C,I,q,Q,ee)}function md5hh(C,I,B,z,q,Q,ee){return md5cmn(I^B^z,C,I,q,Q,ee)}function md5ii(C,I,B,z,q,Q,ee){return md5cmn(B^(I|~z),C,I,q,Q,ee)}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=md5;B.default=z},{}],530:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z="00000000-0000-0000-0000-000000000000";B.default=z},{}],531:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function parse(C){if(!(0,z.default)(C))throw TypeError("Invalid UUID");let I;const B=new Uint8Array(16);return B[0]=(I=parseInt(C.slice(0,8),16))>>>24,B[1]=I>>>16&255,B[2]=I>>>8&255,B[3]=255&I,B[4]=(I=parseInt(C.slice(9,13),16))>>>8,B[5]=255&I,B[6]=(I=parseInt(C.slice(14,18),16))>>>8,B[7]=255&I,B[8]=(I=parseInt(C.slice(19,23),16))>>>8,B[9]=255&I,B[10]=(I=parseInt(C.slice(24,36),16))/1099511627776&255,B[11]=I/4294967296&255,B[12]=I>>>24&255,B[13]=I>>>16&255,B[14]=I>>>8&255,B[15]=255&I,B}var q=parse;B.default=q},{"./validate.js":541}],532:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;B.default=z},{}],533:[function(C,I,B){"use strict";let z;Object.defineProperty(B,"__esModule",{value:!0}),B.default=rng;const q=new Uint8Array(16);function rng(){if(!z&&(z="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(q)}},{}],534:[function(C,I,B){"use strict";function f(C,I,B,z){switch(C){case 0:return I&B^~I&z;case 1:case 3:return I^B^z;case 2:return I&B^I&z^B&z}}function ROTL(C,I){return C<<I|C>>>32-I}function sha1(C){const I=[1518500249,1859775393,2400959708,3395469782],B=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof C){const I=unescape(encodeURIComponent(C));C=[];for(let B=0;B<I.length;++B)C.push(I.charCodeAt(B))}else Array.isArray(C)||(C=Array.prototype.slice.call(C));C.push(128);const z=C.length/4+2,q=Math.ceil(z/16),Q=new Array(q);for(let I=0;I<q;++I){const B=new Uint32Array(16);for(let z=0;z<16;++z)B[z]=C[64*I+4*z]<<24|C[64*I+4*z+1]<<16|C[64*I+4*z+2]<<8|C[64*I+4*z+3];Q[I]=B}Q[q-1][14]=8*(C.length-1)/Math.pow(2,32),Q[q-1][14]=Math.floor(Q[q-1][14]),Q[q-1][15]=8*(C.length-1)&4294967295;for(let C=0;C<q;++C){const z=new Uint32Array(80);for(let I=0;I<16;++I)z[I]=Q[C][I];for(let C=16;C<80;++C)z[C]=ROTL(z[C-3]^z[C-8]^z[C-14]^z[C-16],1);let q=B[0],ee=B[1],te=B[2],ie=B[3],re=B[4];for(let C=0;C<80;++C){const B=Math.floor(C/20),Q=ROTL(q,5)+f(B,ee,te,ie)+re+I[B]+z[C]>>>0;re=ie,ie=te,te=ROTL(ee,30)>>>0,ee=q,q=Q}B[0]=B[0]+q>>>0,B[1]=B[1]+ee>>>0,B[2]=B[2]+te>>>0,B[3]=B[3]+ie>>>0,B[4]=B[4]+re>>>0}return[B[0]>>24&255,B[0]>>16&255,B[0]>>8&255,255&B[0],B[1]>>24&255,B[1]>>16&255,B[1]>>8&255,255&B[1],B[2]>>24&255,B[2]>>16&255,B[2]>>8&255,255&B[2],B[3]>>24&255,B[3]>>16&255,B[3]>>8&255,255&B[3],B[4]>>24&255,B[4]>>16&255,B[4]>>8&255,255&B[4]]}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=sha1;B.default=z},{}],535:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}const q=[];for(let C=0;C<256;++C)q.push((C+256).toString(16).substr(1));function stringify(C){let I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const B=(q[C[I+0]]+q[C[I+1]]+q[C[I+2]]+q[C[I+3]]+"-"+q[C[I+4]]+q[C[I+5]]+"-"+q[C[I+6]]+q[C[I+7]]+"-"+q[C[I+8]]+q[C[I+9]]+"-"+q[C[I+10]]+q[C[I+11]]+q[C[I+12]]+q[C[I+13]]+q[C[I+14]]+q[C[I+15]]).toLowerCase();if(!(0,z.default)(B))throw TypeError("Stringified UUID is invalid");return B}var Q=stringify;B.default=Q},{"./validate.js":541}],536:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./rng.js")),q=_interopRequireDefault(C("./stringify.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}let Q,ee,te=0,ie=0;function v1(C,I,B){let re=I&&B||0;const ne=I||new Array(16);let se=(C=C||{}).node||Q,oe=void 0!==C.clockseq?C.clockseq:ee;if(null==se||null==oe){const I=C.random||(C.rng||z.default)();null==se&&(se=Q=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),null==oe&&(oe=ee=16383&(I[6]<<8|I[7]))}let ae=void 0!==C.msecs?C.msecs:Date.now(),le=void 0!==C.nsecs?C.nsecs:ie+1;const ue=ae-te+(le-ie)/1e4;if(ue<0&&void 0===C.clockseq&&(oe=oe+1&16383),(ue<0||ae>te)&&void 0===C.nsecs&&(le=0),le>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");te=ae,ie=le,ee=oe,ae+=122192928e5;const de=(1e4*(268435455&ae)+le)%4294967296;ne[re++]=de>>>24&255,ne[re++]=de>>>16&255,ne[re++]=de>>>8&255,ne[re++]=255&de;const ce=ae/4294967296*1e4&268435455;ne[re++]=ce>>>8&255,ne[re++]=255&ce,ne[re++]=ce>>>24&15|16,ne[re++]=ce>>>16&255,ne[re++]=oe>>>8|128,ne[re++]=255&oe;for(let C=0;C<6;++C)ne[re+C]=se[C];return I||(0,q.default)(ne)}var re=v1;B.default=re},{"./rng.js":533,"./stringify.js":535}],537:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./v35.js")),q=_interopRequireDefault(C("./md5.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}var Q=(0,z.default)("v3",48,q.default);B.default=Q},{"./md5.js":529,"./v35.js":538}],538:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=_default,B.URL=B.DNS=void 0;var z=_interopRequireDefault(C("./stringify.js")),q=_interopRequireDefault(C("./parse.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function stringToBytes(C){C=unescape(encodeURIComponent(C));const I=[];for(let B=0;B<C.length;++B)I.push(C.charCodeAt(B));return I}const Q="6ba7b810-9dad-11d1-80b4-00c04fd430c8";B.DNS=Q;const ee="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _default(C,I,B){function generateUUID(C,Q,ee,te){if("string"==typeof C&&(C=stringToBytes(C)),"string"==typeof Q&&(Q=(0,q.default)(Q)),16!==Q.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let ie=new Uint8Array(16+C.length);if(ie.set(Q),ie.set(C,Q.length),ie=B(ie),ie[6]=15&ie[6]|I,ie[8]=63&ie[8]|128,ee){te=te||0;for(let C=0;C<16;++C)ee[te+C]=ie[C];return ee}return(0,z.default)(ie)}try{generateUUID.name=C}catch(C){}return generateUUID.DNS=Q,generateUUID.URL=ee,generateUUID}B.URL=ee},{"./parse.js":531,"./stringify.js":535}],539:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./rng.js")),q=_interopRequireDefault(C("./stringify.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function v4(C,I,B){const Q=(C=C||{}).random||(C.rng||z.default)();if(Q[6]=15&Q[6]|64,Q[8]=63&Q[8]|128,I){B=B||0;for(let C=0;C<16;++C)I[B+C]=Q[C];return I}return(0,q.default)(Q)}var Q=v4;B.default=Q},{"./rng.js":533,"./stringify.js":535}],540:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./v35.js")),q=_interopRequireDefault(C("./sha1.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}var Q=(0,z.default)("v5",80,q.default);B.default=Q},{"./sha1.js":534,"./v35.js":538}],541:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./regex.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function validate(C){return"string"==typeof C&&z.default.test(C)}var q=validate;B.default=q},{"./regex.js":532}],542:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var z=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function version(C){if(!(0,z.default)(C))throw TypeError("Invalid UUID");return parseInt(C.substr(14,1),16)}var q=version;B.default=q},{"./validate.js":541}],543:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CHAR="\t\n\r -퟿-�𐀀-􏿿",B.S=" \t\r\n",B.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",B.NAME_CHAR="-"+B.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",B.CHAR_RE=new RegExp("^["+B.CHAR+"]$","u"),B.S_RE=new RegExp("^["+B.S+"]+$","u"),B.NAME_START_CHAR_RE=new RegExp("^["+B.NAME_START_CHAR+"]$","u"),B.NAME_CHAR_RE=new RegExp("^["+B.NAME_CHAR+"]$","u"),B.NAME_RE=new RegExp("^["+B.NAME_START_CHAR+"]["+B.NAME_CHAR+"]*$","u"),B.NMTOKEN_RE=new RegExp("^["+B.NAME_CHAR+"]+$","u");var z=9,q=10,Q=13,ee=32;function isChar(C){return C>=ee&&C<=55295||C===q||C===Q||C===z||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isS(C){return C===ee||C===q||C===Q||C===z}function isNameStartChar(C){return C>=65&&C<=90||C>=97&&C<=122||58===C||95===C||8204===C||8205===C||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNameChar(C){return isNameStartChar(C)||C>=48&&C<=57||45===C||46===C||183===C||C>=768&&C<=879||C>=8255&&C<=8256}B.S_LIST=[ee,q,Q,z],B.isChar=isChar,B.isS=isS,B.isNameStartChar=isNameStartChar,B.isNameChar=isNameChar},{}],544:[function(C,I,B){"use strict";Object.defineProperty(B,"__esModule",{value:!0}),B.CHAR="-퟿-�𐀀-􏿿",B.RESTRICTED_CHAR="-\b\v\f---",B.S=" \t\r\n",B.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",B.NAME_CHAR="-"+B.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",B.CHAR_RE=new RegExp("^["+B.CHAR+"]$","u"),B.RESTRICTED_CHAR_RE=new RegExp("^["+B.RESTRICTED_CHAR+"]$","u"),B.S_RE=new RegExp("^["+B.S+"]+$","u"),B.NAME_START_CHAR_RE=new RegExp("^["+B.NAME_START_CHAR+"]$","u"),B.NAME_CHAR_RE=new RegExp("^["+B.NAME_CHAR+"]$","u"),B.NAME_RE=new RegExp("^["+B.NAME_START_CHAR+"]["+B.NAME_CHAR+"]*$","u"),B.NMTOKEN_RE=new RegExp("^["+B.NAME_CHAR+"]+$","u");var z=9,q=10,Q=13,ee=32;function isChar(C){return C>=1&&C<=55295||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isRestrictedChar(C){return C>=1&&C<=8||11===C||12===C||C>=14&&C<=31||C>=127&&C<=132||C>=134&&C<=159}function isCharAndNotRestricted(C){return 9===C||10===C||13===C||C>31&&C<127||133===C||C>159&&C<=55295||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isS(C){return C===ee||C===q||C===Q||C===z}function isNameStartChar(C){return C>=65&&C<=90||C>=97&&C<=122||58===C||95===C||8204===C||8205===C||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNameChar(C){return isNameStartChar(C)||C>=48&&C<=57||45===C||46===C||183===C||C>=768&&C<=879||C>=8255&&C<=8256}B.S_LIST=[ee,q,Q,z],B.isChar=isChar,B.isRestrictedChar=isRestrictedChar,B.isCharAndNotRestricted=isCharAndNotRestricted,B.isS=isS,B.isNameStartChar=isNameStartChar,B.isNameChar=isNameChar},{}],545:[function(C,I,B){"use strict";function isNCNameStartChar(C){return C>=65&&C<=90||95===C||C>=97&&C<=122||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8204&&C<=8205||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNCNameChar(C){return isNCNameStartChar(C)||45===C||46===C||C>=48&&C<=57||183===C||C>=768&&C<=879||C>=8255&&C<=8256}Object.defineProperty(B,"__esModule",{value:!0}),B.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",B.NC_NAME_CHAR="-"+B.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",B.NC_NAME_START_CHAR_RE=new RegExp("^["+B.NC_NAME_START_CHAR+"]$","u"),B.NC_NAME_CHAR_RE=new RegExp("^["+B.NC_NAME_CHAR+"]$","u"),B.NC_NAME_RE=new RegExp("^["+B.NC_NAME_START_CHAR+"]["+B.NC_NAME_CHAR+"]*$","u"),B.isNCNameStartChar=isNCNameStartChar,B.isNCNameChar=isNCNameChar},{}]},{},[15])(15)}()},7596:function(C){!function webpackUniversalModuleDefinition(I,B){C.exports=B()}(0,(function(){return function(C){var I={};function __nested_webpack_require_1638__(B){if(I[B])return I[B].exports;var z=I[B]={exports:{},id:B,loaded:!1};return C[B].call(z.exports,z,z.exports,__nested_webpack_require_1638__),z.loaded=!0,z.exports}return __nested_webpack_require_1638__.m=C,__nested_webpack_require_1638__.c=I,__nested_webpack_require_1638__.p="",__nested_webpack_require_1638__(0)}([function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=z(B(2)),Q=z(B(84)),ee=B(85),te=B(90),ie=z(B(91)),re=z(B(88)),ne=z(B(83)),se=q.default.create;function create(){var C=se();return C.compile=function(I,B){return te.compile(I,B,C)},C.precompile=function(I,B){return te.precompile(I,B,C)},C.AST=Q.default,C.Compiler=te.Compiler,C.JavaScriptCompiler=ie.default,C.Parser=ee.parser,C.parse=ee.parse,C.parseWithoutProcessing=ee.parseWithoutProcessing,C}var oe=create();oe.create=create,ne.default(oe),oe.Visitor=re.default,oe.default=oe,I.default=oe,C.exports=I.default},function(C,I){"use strict";I.default=function(C){return C&&C.__esModule?C:{default:C}},I.__esModule=!0},function(C,I,B){"use strict";var z=B(3).default,q=B(1).default;I.__esModule=!0;var Q=z(B(4)),ee=q(B(77)),te=q(B(6)),ie=z(B(5)),re=z(B(78)),ne=q(B(83));function create(){var C=new Q.HandlebarsEnvironment;return ie.extend(C,Q),C.SafeString=ee.default,C.Exception=te.default,C.Utils=ie,C.escapeExpression=ie.escapeExpression,C.VM=re,C.template=function(I){return re.template(I,C)},C}var se=create();se.create=create,ne.default(se),se.default=se,I.default=se,C.exports=I.default},function(C,I){"use strict";I.default=function(C){if(C&&C.__esModule)return C;var I={};if(null!=C)for(var B in C)Object.prototype.hasOwnProperty.call(C,B)&&(I[B]=C[B]);return I.default=C,I},I.__esModule=!0},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0,I.HandlebarsEnvironment=HandlebarsEnvironment;var q=B(5),Q=z(B(6)),ee=B(10),te=B(70),ie=z(B(72)),re=B(73);I.VERSION="4.7.8";I.COMPILER_REVISION=8;I.LAST_COMPATIBLE_COMPILER_REVISION=7;I.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var ne="[object Object]";function HandlebarsEnvironment(C,I,B){this.helpers=C||{},this.partials=I||{},this.decorators=B||{},ee.registerDefaultHelpers(this),te.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:ie.default,log:ie.default.log,registerHelper:function registerHelper(C,I){if(q.toString.call(C)===ne){if(I)throw new Q.default("Arg not supported with multiple helpers");q.extend(this.helpers,C)}else this.helpers[C]=I},unregisterHelper:function unregisterHelper(C){delete this.helpers[C]},registerPartial:function registerPartial(C,I){if(q.toString.call(C)===ne)q.extend(this.partials,C);else{if(void 0===I)throw new Q.default('Attempting to register a partial called "'+C+'" as undefined');this.partials[C]=I}},unregisterPartial:function unregisterPartial(C){delete this.partials[C]},registerDecorator:function registerDecorator(C,I){if(q.toString.call(C)===ne){if(I)throw new Q.default("Arg not supported with multiple decorators");q.extend(this.decorators,C)}else this.decorators[C]=I},unregisterDecorator:function unregisterDecorator(C){delete this.decorators[C]},resetLoggedPropertyAccesses:function resetLoggedPropertyAccesses(){re.resetLoggedProperties()}};var se=ie.default.log;I.log=se,I.createFrame=q.createFrame,I.logger=ie.default},function(C,I){"use strict";I.__esModule=!0,I.extend=extend,I.indexOf=function indexOf(C,I){for(var B=0,z=C.length;B<z;B++)if(C[B]===I)return B;return-1},I.escapeExpression=function escapeExpression(C){if("string"!=typeof C){if(C&&C.toHTML)return C.toHTML();if(null==C)return"";if(!C)return C+"";C=""+C}if(!q.test(C))return C;return C.replace(z,escapeChar)},I.isEmpty=function isEmpty(C){return!C&&0!==C||!(!te(C)||0!==C.length)},I.createFrame=function createFrame(C){var I=extend({},C);return I._parent=C,I},I.blockParams=function blockParams(C,I){return C.path=I,C},I.appendContextPath=function appendContextPath(C,I){return(C?C+".":"")+I};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},z=/[&<>"'`=]/g,q=/[&<>"'`=]/;function escapeChar(C){return B[C]}function extend(C){for(var I=1;I<arguments.length;I++)for(var B in arguments[I])Object.prototype.hasOwnProperty.call(arguments[I],B)&&(C[B]=arguments[I][B]);return C}var Q=Object.prototype.toString;I.toString=Q;var ee=function isFunction(C){return"function"==typeof C};ee(/x/)&&(I.isFunction=ee=function(C){return"function"==typeof C&&"[object Function]"===Q.call(C)}),I.isFunction=ee;var te=Array.isArray||function(C){return!(!C||"object"!=typeof C)&&"[object Array]"===Q.call(C)};I.isArray=te},function(C,I,B){"use strict";var z=B(7).default;I.__esModule=!0;var q=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Exception(C,I){var B=I&&I.loc,Q=void 0,ee=void 0,te=void 0,ie=void 0;B&&(Q=B.start.line,ee=B.end.line,te=B.start.column,ie=B.end.column,C+=" - "+Q+":"+te);for(var re=Error.prototype.constructor.call(this,C),ne=0;ne<q.length;ne++)this[q[ne]]=re[q[ne]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{B&&(this.lineNumber=Q,this.endLineNumber=ee,z?(Object.defineProperty(this,"column",{value:te,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:ie,enumerable:!0})):(this.column=te,this.endColumn=ie))}catch(C){}}Exception.prototype=new Error,I.default=Exception,C.exports=I.default},function(C,I,B){C.exports={default:B(8),__esModule:!0}},function(C,I,B){var z=B(9);C.exports=function defineProperty(C,I,B){return z.setDesc(C,I,B)}},function(C,I){var B=Object;C.exports={create:B.create,getProto:B.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:B.getOwnPropertyDescriptor,setDesc:B.defineProperty,setDescs:B.defineProperties,getKeys:B.keys,getNames:B.getOwnPropertyNames,getSymbols:B.getOwnPropertySymbols,each:[].forEach}},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0,I.registerDefaultHelpers=function registerDefaultHelpers(C){q.default(C),Q.default(C),ee.default(C),te.default(C),ie.default(C),re.default(C),ne.default(C)},I.moveHelperToHooks=function moveHelperToHooks(C,I,B){C.helpers[I]&&(C.hooks[I]=C.helpers[I],B||delete C.helpers[I])};var q=z(B(11)),Q=z(B(12)),ee=z(B(65)),te=z(B(66)),ie=z(B(67)),re=z(B(68)),ne=z(B(69))},function(C,I,B){"use strict";I.__esModule=!0;var z=B(5);I.default=function(C){C.registerHelper("blockHelperMissing",(function(I,B){var q=B.inverse,Q=B.fn;if(!0===I)return Q(this);if(!1===I||null==I)return q(this);if(z.isArray(I))return I.length>0?(B.ids&&(B.ids=[B.name]),C.helpers.each(I,B)):q(this);if(B.data&&B.ids){var ee=z.createFrame(B.data);ee.contextPath=z.appendContextPath(B.data.contextPath,B.name),B={data:ee}}return Q(I,B)}))},C.exports=I.default},function(C,I,B){"use strict";var z=B(13).default,q=B(43).default,Q=B(55).default,ee=B(60).default,te=B(1).default;I.__esModule=!0;var ie=B(5),re=te(B(6));I.default=function(C){C.registerHelper("each",(function(C,I){if(!I)throw new re.default("Must pass iterator to #each");var B,te=I.fn,ne=I.inverse,se=0,oe="",ae=void 0,le=void 0;function execIteration(I,B,z){ae&&(ae.key=I,ae.index=B,ae.first=0===B,ae.last=!!z,le&&(ae.contextPath=le+I)),oe+=te(C[I],{data:ae,blockParams:ie.blockParams([C[I],I],[le+I,null])})}if(I.data&&I.ids&&(le=ie.appendContextPath(I.data.contextPath,I.ids[0])+"."),ie.isFunction(C)&&(C=C.call(this)),I.data&&(ae=ie.createFrame(I.data)),C&&"object"==typeof C)if(ie.isArray(C))for(var ue=C.length;se<ue;se++)se in C&&execIteration(se,se,se===C.length-1);else if("function"==typeof z&&C[q]){for(var de=[],ce=Q(C),he=ce.next();!he.done;he=ce.next())de.push(he.value);for(ue=(C=de).length;se<ue;se++)execIteration(se,se,se===C.length-1)}else B=void 0,ee(C).forEach((function(C){void 0!==B&&execIteration(B,se-1),B=C,se++})),void 0!==B&&execIteration(B,se-1,!0);return 0===se&&(oe=ne(this)),oe}))},C.exports=I.default},function(C,I,B){C.exports={default:B(14),__esModule:!0}},function(C,I,B){B(15),B(42),C.exports=B(21).Symbol},function(C,I,B){"use strict";var z=B(9),q=B(16),Q=B(17),ee=B(18),te=B(20),ie=B(24),re=B(19),ne=B(27),se=B(28),oe=B(30),ae=B(29),le=B(31),ue=B(36),de=B(37),ce=B(38),he=B(39),fe=B(32),pe=B(26),me=z.getDesc,ge=z.setDesc,ve=z.create,ye=ue.get,be=q.Symbol,Ce=q.JSON,we=Ce&&Ce.stringify,_e=!1,Se=ae("_hidden"),xe=z.isEnum,ke=ne("symbol-registry"),Te=ne("symbols"),Me="function"==typeof be,Re=Object.prototype,Ee=ee&&re((function(){return 7!=ve(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a}))?function(C,I,B){var z=me(Re,I);z&&delete Re[I],ge(C,I,B),z&&C!==Re&&ge(Re,I,z)}:ge,wrap=function(C){var I=Te[C]=ve(be.prototype);return I._k=C,ee&&_e&&Ee(Re,C,{configurable:!0,set:function(I){Q(this,Se)&&Q(this[Se],C)&&(this[Se][C]=!1),Ee(this,C,pe(1,I))}}),I},isSymbol=function(C){return"symbol"==typeof C},Pe=function defineProperty(C,I,B){return B&&Q(Te,I)?(B.enumerable?(Q(C,Se)&&C[Se][I]&&(C[Se][I]=!1),B=ve(B,{enumerable:pe(0,!1)})):(Q(C,Se)||ge(C,Se,pe(1,{})),C[Se][I]=!0),Ee(C,I,B)):ge(C,I,B)},Ie=function defineProperties(C,I){he(C);for(var B,z=de(I=fe(I)),q=0,Q=z.length;Q>q;)Pe(C,B=z[q++],I[B]);return C},Ne=function create(C,I){return void 0===I?ve(C):Ie(ve(C),I)},Ae=function propertyIsEnumerable(C){var I=xe.call(this,C);return!(I||!Q(this,C)||!Q(Te,C)||Q(this,Se)&&this[Se][C])||I},De=function getOwnPropertyDescriptor(C,I){var B=me(C=fe(C),I);return!B||!Q(Te,I)||Q(C,Se)&&C[Se][I]||(B.enumerable=!0),B},Fe=function getOwnPropertyNames(C){for(var I,B=ye(fe(C)),z=[],q=0;B.length>q;)Q(Te,I=B[q++])||I==Se||z.push(I);return z},Oe=function getOwnPropertySymbols(C){for(var I,B=ye(fe(C)),z=[],q=0;B.length>q;)Q(Te,I=B[q++])&&z.push(Te[I]);return z},Be=re((function(){var C=be();return"[null]"!=we([C])||"{}"!=we({a:C})||"{}"!=we(Object(C))}));Me||(be=function Symbol(){if(isSymbol(this))throw TypeError("Symbol is not a constructor");return wrap(oe(arguments.length>0?arguments[0]:void 0))},ie(be.prototype,"toString",(function toString(){return this._k})),isSymbol=function(C){return C instanceof be},z.create=Ne,z.isEnum=Ae,z.getDesc=De,z.setDesc=Pe,z.setDescs=Ie,z.getNames=ue.get=Fe,z.getSymbols=Oe,ee&&!B(41)&&ie(Re,"propertyIsEnumerable",Ae,!0));var Le={for:function(C){return Q(ke,C+="")?ke[C]:ke[C]=be(C)},keyFor:function keyFor(C){return le(ke,C)},useSetter:function(){_e=!0},useSimple:function(){_e=!1}};z.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(C){var I=ae(C);Le[C]=Me?I:wrap(I)})),_e=!0,te(te.G+te.W,{Symbol:be}),te(te.S,"Symbol",Le),te(te.S+te.F*!Me,"Object",{create:Ne,defineProperty:Pe,defineProperties:Ie,getOwnPropertyDescriptor:De,getOwnPropertyNames:Fe,getOwnPropertySymbols:Oe}),Ce&&te(te.S+te.F*(!Me||Be),"JSON",{stringify:function stringify(C){if(void 0!==C&&!isSymbol(C)){for(var I,B,z=[C],q=1,Q=arguments;Q.length>q;)z.push(Q[q++]);return"function"==typeof(I=z[1])&&(B=I),!B&&ce(I)||(I=function(C,I){if(B&&(I=B.call(this,C,I)),!isSymbol(I))return I}),z[1]=I,we.apply(Ce,z)}}}),se(be,"Symbol"),se(Math,"Math",!0),se(q.JSON,"JSON",!0)},function(C,I){var B=C.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=B)},function(C,I){var B={}.hasOwnProperty;C.exports=function(C,I){return B.call(C,I)}},function(C,I,B){C.exports=!B(19)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(C,I){C.exports=function(C){try{return!!C()}catch(C){return!0}}},function(C,I,B){var z=B(16),q=B(21),Q=B(22),ee="prototype",$export=function(C,I,B){var te,ie,re,ne=C&$export.F,se=C&$export.G,oe=C&$export.S,ae=C&$export.P,le=C&$export.B,ue=C&$export.W,de=se?q:q[I]||(q[I]={}),ce=se?z:oe?z[I]:(z[I]||{})[ee];for(te in se&&(B=I),B)(ie=!ne&&ce&&te in ce)&&te in de||(re=ie?ce[te]:B[te],de[te]=se&&"function"!=typeof ce[te]?B[te]:le&&ie?Q(re,z):ue&&ce[te]==re?function(C){var F=function(I){return this instanceof C?new C(I):C(I)};return F[ee]=C[ee],F}(re):ae&&"function"==typeof re?Q(Function.call,re):re,ae&&((de[ee]||(de[ee]={}))[te]=re))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,C.exports=$export},function(C,I){var B=C.exports={version:"1.2.6"};"number"==typeof __e&&(__e=B)},function(C,I,B){var z=B(23);C.exports=function(C,I,B){if(z(C),void 0===I)return C;switch(B){case 1:return function(B){return C.call(I,B)};case 2:return function(B,z){return C.call(I,B,z)};case 3:return function(B,z,q){return C.call(I,B,z,q)}}return function(){return C.apply(I,arguments)}}},function(C,I){C.exports=function(C){if("function"!=typeof C)throw TypeError(C+" is not a function!");return C}},function(C,I,B){C.exports=B(25)},function(C,I,B){var z=B(9),q=B(26);C.exports=B(18)?function(C,I,B){return z.setDesc(C,I,q(1,B))}:function(C,I,B){return C[I]=B,C}},function(C,I){C.exports=function(C,I){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:I}}},function(C,I,B){var z=B(16),q="__core-js_shared__",Q=z[q]||(z[q]={});C.exports=function(C){return Q[C]||(Q[C]={})}},function(C,I,B){var z=B(9).setDesc,q=B(17),Q=B(29)("toStringTag");C.exports=function(C,I,B){C&&!q(C=B?C:C.prototype,Q)&&z(C,Q,{configurable:!0,value:I})}},function(C,I,B){var z=B(27)("wks"),q=B(30),Q=B(16).Symbol;C.exports=function(C){return z[C]||(z[C]=Q&&Q[C]||(Q||q)("Symbol."+C))}},function(C,I){var B=0,z=Math.random();C.exports=function(C){return"Symbol(".concat(void 0===C?"":C,")_",(++B+z).toString(36))}},function(C,I,B){var z=B(9),q=B(32);C.exports=function(C,I){for(var B,Q=q(C),ee=z.getKeys(Q),te=ee.length,ie=0;te>ie;)if(Q[B=ee[ie++]]===I)return B}},function(C,I,B){var z=B(33),q=B(35);C.exports=function(C){return z(q(C))}},function(C,I,B){var z=B(34);C.exports=Object("z").propertyIsEnumerable(0)?Object:function(C){return"String"==z(C)?C.split(""):Object(C)}},function(C,I){var B={}.toString;C.exports=function(C){return B.call(C).slice(8,-1)}},function(C,I){C.exports=function(C){if(null==C)throw TypeError("Can't call method on  "+C);return C}},function(C,I,B){var z=B(32),q=B(9).getNames,Q={}.toString,ee="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.get=function getOwnPropertyNames(C){return ee&&"[object Window]"==Q.call(C)?function(C){try{return q(C)}catch(C){return ee.slice()}}(C):q(z(C))}},function(C,I,B){var z=B(9);C.exports=function(C){var I=z.getKeys(C),B=z.getSymbols;if(B)for(var q,Q=B(C),ee=z.isEnum,te=0;Q.length>te;)ee.call(C,q=Q[te++])&&I.push(q);return I}},function(C,I,B){var z=B(34);C.exports=Array.isArray||function(C){return"Array"==z(C)}},function(C,I,B){var z=B(40);C.exports=function(C){if(!z(C))throw TypeError(C+" is not an object!");return C}},function(C,I){C.exports=function(C){return"object"==typeof C?null!==C:"function"==typeof C}},function(C,I){C.exports=!0},function(C,I){},function(C,I,B){C.exports={default:B(44),__esModule:!0}},function(C,I,B){B(45),B(51),C.exports=B(29)("iterator")},function(C,I,B){"use strict";var z=B(46)(!0);B(48)(String,"String",(function(C){this._t=String(C),this._i=0}),(function(){var C,I=this._t,B=this._i;return B>=I.length?{value:void 0,done:!0}:(C=z(I,B),this._i+=C.length,{value:C,done:!1})}))},function(C,I,B){var z=B(47),q=B(35);C.exports=function(C){return function(I,B){var Q,ee,te=String(q(I)),ie=z(B),re=te.length;return ie<0||ie>=re?C?"":void 0:(Q=te.charCodeAt(ie))<55296||Q>56319||ie+1===re||(ee=te.charCodeAt(ie+1))<56320||ee>57343?C?te.charAt(ie):Q:C?te.slice(ie,ie+2):ee-56320+(Q-55296<<10)+65536}}},function(C,I){var B=Math.ceil,z=Math.floor;C.exports=function(C){return isNaN(C=+C)?0:(C>0?z:B)(C)}},function(C,I,B){"use strict";var z=B(41),q=B(20),Q=B(24),ee=B(25),te=B(17),ie=B(49),re=B(50),ne=B(28),se=B(9).getProto,oe=B(29)("iterator"),ae=!([].keys&&"next"in[].keys()),le="@@iterator",ue="keys",de="values",returnThis=function(){return this};C.exports=function(C,I,B,ce,he,fe,pe){re(B,I,ce);var me,ge,getMethod=function(C){if(!ae&&C in Ce)return Ce[C];switch(C){case ue:return function keys(){return new B(this,C)};case de:return function values(){return new B(this,C)}}return function entries(){return new B(this,C)}},ve=I+" Iterator",ye=he==de,be=!1,Ce=C.prototype,we=Ce[oe]||Ce[le]||he&&Ce[he],_e=we||getMethod(he);if(we){var Se=se(_e.call(new C));ne(Se,ve,!0),!z&&te(Ce,le)&&ee(Se,oe,returnThis),ye&&we.name!==de&&(be=!0,_e=function values(){return we.call(this)})}if(z&&!pe||!ae&&!be&&Ce[oe]||ee(Ce,oe,_e),ie[I]=_e,ie[ve]=returnThis,he)if(me={values:ye?_e:getMethod(de),keys:fe?_e:getMethod(ue),entries:ye?getMethod("entries"):_e},pe)for(ge in me)ge in Ce||Q(Ce,ge,me[ge]);else q(q.P+q.F*(ae||be),I,me);return me}},function(C,I){C.exports={}},function(C,I,B){"use strict";var z=B(9),q=B(26),Q=B(28),ee={};B(25)(ee,B(29)("iterator"),(function(){return this})),C.exports=function(C,I,B){C.prototype=z.create(ee,{next:q(1,B)}),Q(C,I+" Iterator")}},function(C,I,B){B(52);var z=B(49);z.NodeList=z.HTMLCollection=z.Array},function(C,I,B){"use strict";var z=B(53),q=B(54),Q=B(49),ee=B(32);C.exports=B(48)(Array,"Array",(function(C,I){this._t=ee(C),this._i=0,this._k=I}),(function(){var C=this._t,I=this._k,B=this._i++;return!C||B>=C.length?(this._t=void 0,q(1)):q(0,"keys"==I?B:"values"==I?C[B]:[B,C[B]])}),"values"),Q.Arguments=Q.Array,z("keys"),z("values"),z("entries")},function(C,I){C.exports=function(){}},function(C,I){C.exports=function(C,I){return{value:I,done:!!C}}},function(C,I,B){C.exports={default:B(56),__esModule:!0}},function(C,I,B){B(51),B(45),C.exports=B(57)},function(C,I,B){var z=B(39),q=B(58);C.exports=B(21).getIterator=function(C){var I=q(C);if("function"!=typeof I)throw TypeError(C+" is not iterable!");return z(I.call(C))}},function(C,I,B){var z=B(59),q=B(29)("iterator"),Q=B(49);C.exports=B(21).getIteratorMethod=function(C){if(null!=C)return C[q]||C["@@iterator"]||Q[z(C)]}},function(C,I,B){var z=B(34),q=B(29)("toStringTag"),Q="Arguments"==z(function(){return arguments}());C.exports=function(C){var I,B,ee;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(B=(I=Object(C))[q])?B:Q?z(I):"Object"==(ee=z(I))&&"function"==typeof I.callee?"Arguments":ee}},function(C,I,B){C.exports={default:B(61),__esModule:!0}},function(C,I,B){B(62),C.exports=B(21).Object.keys},function(C,I,B){var z=B(63);B(64)("keys",(function(C){return function keys(I){return C(z(I))}}))},function(C,I,B){var z=B(35);C.exports=function(C){return Object(z(C))}},function(C,I,B){var z=B(20),q=B(21),Q=B(19);C.exports=function(C,I){var B=(q.Object||{})[C]||Object[C],ee={};ee[C]=I(B),z(z.S+z.F*Q((function(){B(1)})),"Object",ee)}},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=z(B(6));I.default=function(C){C.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new q.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=B(5),Q=z(B(6));I.default=function(C){C.registerHelper("if",(function(C,I){if(2!=arguments.length)throw new Q.default("#if requires exactly one argument");return q.isFunction(C)&&(C=C.call(this)),!I.hash.includeZero&&!C||q.isEmpty(C)?I.inverse(this):I.fn(this)})),C.registerHelper("unless",(function(I,B){if(2!=arguments.length)throw new Q.default("#unless requires exactly one argument");return C.helpers.if.call(this,I,{fn:B.inverse,inverse:B.fn,hash:B.hash})}))},C.exports=I.default},function(C,I){"use strict";I.__esModule=!0,I.default=function(C){C.registerHelper("log",(function(){for(var I=[void 0],B=arguments[arguments.length-1],z=0;z<arguments.length-1;z++)I.push(arguments[z]);var q=1;null!=B.hash.level?q=B.hash.level:B.data&&null!=B.data.level&&(q=B.data.level),I[0]=q,C.log.apply(C,I)}))},C.exports=I.default},function(C,I){"use strict";I.__esModule=!0,I.default=function(C){C.registerHelper("lookup",(function(C,I,B){return C?B.lookupProperty(C,I):C}))},C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=B(5),Q=z(B(6));I.default=function(C){C.registerHelper("with",(function(C,I){if(2!=arguments.length)throw new Q.default("#with requires exactly one argument");q.isFunction(C)&&(C=C.call(this));var B=I.fn;if(q.isEmpty(C))return I.inverse(this);var z=I.data;return I.data&&I.ids&&((z=q.createFrame(I.data)).contextPath=q.appendContextPath(I.data.contextPath,I.ids[0])),B(C,{data:z,blockParams:q.blockParams([C],[z&&z.contextPath])})}))},C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0,I.registerDefaultDecorators=function registerDefaultDecorators(C){q.default(C)};var q=z(B(71))},function(C,I,B){"use strict";I.__esModule=!0;var z=B(5);I.default=function(C){C.registerDecorator("inline",(function(C,I,B,q){var Q=C;return I.partials||(I.partials={},Q=function(q,Q){var ee=B.partials;B.partials=z.extend({},ee,I.partials);var te=C(q,Q);return B.partials=ee,te}),I.partials[q.args[0]]=q.fn,Q}))},C.exports=I.default},function(C,I,B){"use strict";I.__esModule=!0;var z=B(5),q={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(C){if("string"==typeof C){var I=z.indexOf(q.methodMap,C.toLowerCase());C=I>=0?I:parseInt(C,10)}return C},log:function log(C){if(C=q.lookupLevel(C),"undefined"!=typeof console&&q.lookupLevel(q.level)<=C){var I=q.methodMap[C];console[I]||(I="log");for(var B=arguments.length,z=Array(B>1?B-1:0),Q=1;Q<B;Q++)z[Q-1]=arguments[Q]}}};I.default=q,C.exports=I.default},function(C,I,B){"use strict";var z=B(74).default,q=B(60).default,Q=B(1).default;I.__esModule=!0,I.createProtoAccessControl=function createProtoAccessControl(C){var I=z(null);I.constructor=!1,I.__defineGetter__=!1,I.__defineSetter__=!1,I.__lookupGetter__=!1;var B=z(null);return B.__proto__=!1,{properties:{whitelist:ee.createNewLookupObject(B,C.allowedProtoProperties),defaultValue:C.allowProtoPropertiesByDefault},methods:{whitelist:ee.createNewLookupObject(I,C.allowedProtoMethods),defaultValue:C.allowProtoMethodsByDefault}}},I.resultIsAllowed=function resultIsAllowed(C,I,B){return checkWhiteList("function"==typeof C?I.methods:I.properties,B)},I.resetLoggedProperties=function resetLoggedProperties(){q(ie).forEach((function(C){delete ie[C]}))};var ee=B(76),te=Q(B(72)),ie=z(null);function checkWhiteList(C,I){return void 0!==C.whitelist[I]?!0===C.whitelist[I]:void 0!==C.defaultValue?C.defaultValue:(function logUnexpecedPropertyAccessOnce(C){!0!==ie[C]&&(ie[C]=!0,te.default.log("error",'Handlebars: Access has been denied to resolve the property "'+C+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(I),!1)}},function(C,I,B){C.exports={default:B(75),__esModule:!0}},function(C,I,B){var z=B(9);C.exports=function create(C,I){return z.create(C,I)}},function(C,I,B){"use strict";var z=B(74).default;I.__esModule=!0,I.createNewLookupObject=function createNewLookupObject(){for(var C=arguments.length,I=Array(C),B=0;B<C;B++)I[B]=arguments[B];return q.extend.apply(void 0,[z(null)].concat(I))};var q=B(5)},function(C,I){"use strict";function SafeString(C){this.string=C}I.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},I.default=SafeString,C.exports=I.default},function(C,I,B){"use strict";var z=B(79).default,q=B(60).default,Q=B(3).default,ee=B(1).default;I.__esModule=!0,I.checkRevision=function checkRevision(C){var I=C&&C[0]||1,B=re.COMPILER_REVISION;if(I>=re.LAST_COMPATIBLE_COMPILER_REVISION&&I<=re.COMPILER_REVISION)return;if(I<re.LAST_COMPATIBLE_COMPILER_REVISION){var z=re.REVISION_CHANGES[B],q=re.REVISION_CHANGES[I];throw new ie.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+z+") or downgrade your runtime to an older version ("+q+").")}throw new ie.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+C[1]+").")},I.template=function template(C,I){if(!I)throw new ie.default("No environment passed to template");if(!C||!C.main)throw new ie.default("Unknown template object: "+typeof C);C.main.decorator=C.main_d,I.VM.checkRevision(C.compiler);var B=C.compiler&&7===C.compiler[0];var Q={strict:function strict(C,I,B){if(!C||!(I in C))throw new ie.default('"'+I+'" not defined in '+C,{loc:B});return Q.lookupProperty(C,I)},lookupProperty:function lookupProperty(C,I){var B=C[I];return null==B||Object.prototype.hasOwnProperty.call(C,I)||oe.resultIsAllowed(B,Q.protoAccessControl,I)?B:void 0},lookup:function lookup(C,I){for(var B=C.length,z=0;z<B;z++){if(null!=(C[z]&&Q.lookupProperty(C[z],I)))return C[z][I]}},lambda:function lambda(C,I){return"function"==typeof C?C.call(I):C},escapeExpression:te.escapeExpression,invokePartial:function invokePartialWrapper(B,z,q){q.hash&&(z=te.extend({},z,q.hash),q.ids&&(q.ids[0]=!0)),B=I.VM.resolvePartial.call(this,B,z,q);var Q=te.extend({},q,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),ee=I.VM.invokePartial.call(this,B,z,Q);if(null==ee&&I.compile&&(q.partials[q.name]=I.compile(B,C.compilerOptions,I),ee=q.partials[q.name](z,Q)),null!=ee){if(q.indent){for(var re=ee.split("\n"),ne=0,se=re.length;ne<se&&(re[ne]||ne+1!==se);ne++)re[ne]=q.indent+re[ne];ee=re.join("\n")}return ee}throw new ie.default("The partial "+q.name+" could not be compiled when running in runtime-only mode")},fn:function fn(I){var B=C[I];return B.decorator=C[I+"_d"],B},programs:[],program:function program(C,I,B,z,q){var Q=this.programs[C],ee=this.fn(C);return I||q||z||B?Q=wrapProgram(this,C,ee,I,B,z,q):Q||(Q=this.programs[C]=wrapProgram(this,C,ee)),Q},data:function data(C,I){for(;C&&I--;)C=C._parent;return C},mergeIfNeeded:function mergeIfNeeded(C,I){var B=C||I;return C&&I&&C!==I&&(B=te.extend({},I,C)),B},nullContext:z({}),noop:I.VM.noop,compilerInfo:C.compiler};function ret(I){var B=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],z=B.data;ret._setup(B),!B.partial&&C.useData&&(z=function initData(C,I){I&&"root"in I||((I=I?re.createFrame(I):{}).root=C);return I}(I,z));var q=void 0,ee=C.useBlockParams?[]:void 0;function main(I){return""+C.main(Q,I,Q.helpers,Q.partials,z,ee,q)}return C.useDepths&&(q=B.depths?I!=B.depths[0]?[I].concat(B.depths):B.depths:[I]),(main=executeDecorators(C.main,main,Q,B.depths||[],z,ee))(I,B)}return ret.isTop=!0,ret._setup=function(z){if(z.partial)Q.protoAccessControl=z.protoAccessControl,Q.helpers=z.helpers,Q.partials=z.partials,Q.decorators=z.decorators,Q.hooks=z.hooks;else{var ee=te.extend({},I.helpers,z.helpers);!function wrapHelpersToPassLookupProperty(C,I){q(C).forEach((function(B){var z=C[B];C[B]=function passLookupPropertyOption(C,I){var B=I.lookupProperty;return se.wrapHelper(C,(function(C){return te.extend({lookupProperty:B},C)}))}(z,I)}))}(ee,Q),Q.helpers=ee,C.usePartial&&(Q.partials=Q.mergeIfNeeded(z.partials,I.partials)),(C.usePartial||C.useDecorators)&&(Q.decorators=te.extend({},I.decorators,z.decorators)),Q.hooks={},Q.protoAccessControl=oe.createProtoAccessControl(z);var ie=z.allowCallsToHelperMissing||B;ne.moveHelperToHooks(Q,"helperMissing",ie),ne.moveHelperToHooks(Q,"blockHelperMissing",ie)}},ret._child=function(I,B,z,q){if(C.useBlockParams&&!z)throw new ie.default("must pass block params");if(C.useDepths&&!q)throw new ie.default("must pass parent depths");return wrapProgram(Q,I,C[I],B,0,z,q)},ret},I.wrapProgram=wrapProgram,I.resolvePartial=function resolvePartial(C,I,B){C?C.call||B.name||(B.name=C,C=B.partials[C]):C="@partial-block"===B.name?B.data["partial-block"]:B.partials[B.name];return C},I.invokePartial=function invokePartial(C,I,B){var z=B.data&&B.data["partial-block"];B.partial=!0,B.ids&&(B.data.contextPath=B.ids[0]||B.data.contextPath);var q=void 0;B.fn&&B.fn!==noop&&function(){B.data=re.createFrame(B.data);var C=B.fn;q=B.data["partial-block"]=function partialBlockWrapper(I){var B=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return B.data=re.createFrame(B.data),B.data["partial-block"]=z,C(I,B)},C.partials&&(B.partials=te.extend({},B.partials,C.partials))}();void 0===C&&q&&(C=q);if(void 0===C)throw new ie.default("The partial "+B.name+" could not be found");if(C instanceof Function)return C(I,B)},I.noop=noop;var te=Q(B(5)),ie=ee(B(6)),re=B(4),ne=B(10),se=B(82),oe=B(73);function wrapProgram(C,I,B,z,q,Q,ee){function prog(I){var q=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],te=ee;return!ee||I==ee[0]||I===C.nullContext&&null===ee[0]||(te=[I].concat(ee)),B(C,I,C.helpers,C.partials,q.data||z,Q&&[q.blockParams].concat(Q),te)}return(prog=executeDecorators(B,prog,C,ee,z,Q)).program=I,prog.depth=ee?ee.length:0,prog.blockParams=q||0,prog}function noop(){return""}function executeDecorators(C,I,B,z,q,Q){if(C.decorator){var ee={};I=C.decorator(I,ee,B,z&&z[0],q,Q,z),te.extend(I,ee)}return I}},function(C,I,B){C.exports={default:B(80),__esModule:!0}},function(C,I,B){B(81),C.exports=B(21).Object.seal},function(C,I,B){var z=B(40);B(64)("seal",(function(C){return function seal(I){return C&&z(I)?C(I):I}}))},function(C,I){"use strict";I.__esModule=!0,I.wrapHelper=function wrapHelper(C,I){if("function"!=typeof C)return C;return function wrapper(){return arguments[arguments.length-1]=I(arguments[arguments.length-1]),C.apply(this,arguments)}}},function(C,I){"use strict";I.__esModule=!0,I.default=function(C){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var I=globalThis.Handlebars;C.noConflict=function(){return globalThis.Handlebars===C&&(globalThis.Handlebars=I),C}},C.exports=I.default},function(C,I){"use strict";I.__esModule=!0;var B={helpers:{helperExpression:function helperExpression(C){return"SubExpression"===C.type||("MustacheStatement"===C.type||"BlockStatement"===C.type)&&!!(C.params&&C.params.length||C.hash)},scopedId:function scopedId(C){return/^\.|this\b/.test(C.original)},simpleId:function simpleId(C){return 1===C.parts.length&&!B.helpers.scopedId(C)&&!C.depth}}};I.default=B,C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default,q=B(3).default;I.__esModule=!0,I.parseWithoutProcessing=parseWithoutProcessing,I.parse=function parse(C,I){var B=parseWithoutProcessing(C,I);return new ee.default(I).accept(B)};var Q=z(B(86)),ee=z(B(87)),te=q(B(89)),ie=B(5);I.parser=Q.default;var re={};function parseWithoutProcessing(C,I){return"Program"===C.type?C:(Q.default.yy=re,re.locInfo=function(C){return new re.SourceLocation(I&&I.srcName,C)},Q.default.parse(C))}ie.extend(re,te)},function(C,I){"use strict";I.__esModule=!0;var B=function(){var C={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(C,I,B,z,q,Q,ee){var te=Q.length-1;switch(q){case 1:return Q[te-1];case 2:this.$=z.prepareProgram(Q[te]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=Q[te];break;case 9:this.$={type:"CommentStatement",value:z.stripComment(Q[te]),strip:z.stripFlags(Q[te],Q[te]),loc:z.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:Q[te],value:Q[te],loc:z.locInfo(this._$)};break;case 11:this.$=z.prepareRawBlock(Q[te-2],Q[te-1],Q[te],this._$);break;case 12:this.$={path:Q[te-3],params:Q[te-2],hash:Q[te-1]};break;case 13:this.$=z.prepareBlock(Q[te-3],Q[te-2],Q[te-1],Q[te],!1,this._$);break;case 14:this.$=z.prepareBlock(Q[te-3],Q[te-2],Q[te-1],Q[te],!0,this._$);break;case 15:this.$={open:Q[te-5],path:Q[te-4],params:Q[te-3],hash:Q[te-2],blockParams:Q[te-1],strip:z.stripFlags(Q[te-5],Q[te])};break;case 16:case 17:this.$={path:Q[te-4],params:Q[te-3],hash:Q[te-2],blockParams:Q[te-1],strip:z.stripFlags(Q[te-5],Q[te])};break;case 18:this.$={strip:z.stripFlags(Q[te-1],Q[te-1]),program:Q[te]};break;case 19:var ie=z.prepareBlock(Q[te-2],Q[te-1],Q[te],Q[te],!1,this._$),re=z.prepareProgram([ie],Q[te-1].loc);re.chained=!0,this.$={strip:Q[te-2].strip,program:re,chain:!0};break;case 21:this.$={path:Q[te-1],strip:z.stripFlags(Q[te-2],Q[te])};break;case 22:case 23:this.$=z.prepareMustache(Q[te-3],Q[te-2],Q[te-1],Q[te-4],z.stripFlags(Q[te-4],Q[te]),this._$);break;case 24:this.$={type:"PartialStatement",name:Q[te-3],params:Q[te-2],hash:Q[te-1],indent:"",strip:z.stripFlags(Q[te-4],Q[te]),loc:z.locInfo(this._$)};break;case 25:this.$=z.preparePartialBlock(Q[te-2],Q[te-1],Q[te],this._$);break;case 26:this.$={path:Q[te-3],params:Q[te-2],hash:Q[te-1],strip:z.stripFlags(Q[te-4],Q[te])};break;case 29:this.$={type:"SubExpression",path:Q[te-3],params:Q[te-2],hash:Q[te-1],loc:z.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:Q[te],loc:z.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:z.id(Q[te-2]),value:Q[te],loc:z.locInfo(this._$)};break;case 32:this.$=z.id(Q[te-1]);break;case 35:this.$={type:"StringLiteral",value:Q[te],original:Q[te],loc:z.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(Q[te]),original:Number(Q[te]),loc:z.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===Q[te],original:"true"===Q[te],loc:z.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:z.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:z.locInfo(this._$)};break;case 42:this.$=z.preparePath(!0,Q[te],this._$);break;case 43:this.$=z.preparePath(!1,Q[te],this._$);break;case 44:Q[te-2].push({part:z.id(Q[te]),original:Q[te],separator:Q[te-1]}),this.$=Q[te-2];break;case 45:this.$=[{part:z.id(Q[te]),original:Q[te]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:Q[te-1].push(Q[te]);break;case 98:case 100:this.$=[Q[te]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function parseError(C,I){throw new Error(C)},parse:function parse(C){var I=this,B=[0],z=[null],q=[],Q=this.table,ee="",te=0,ie=0,re=0;this.lexer.setInput(C),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var ne=this.lexer.yylloc;q.push(ne);var se=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var oe,ae,le,ue,de,ce,he,fe,pe,me,ge={};;){if(le=B[B.length-1],this.defaultActions[le]?ue=this.defaultActions[le]:(null==oe&&(me=void 0,"number"!=typeof(me=I.lexer.lex()||1)&&(me=I.symbols_[me]||me),oe=me),ue=Q[le]&&Q[le][oe]),void 0===ue||!ue.length||!ue[0]){var ve="";if(!re){for(ce in pe=[],Q[le])this.terminals_[ce]&&ce>2&&pe.push("'"+this.terminals_[ce]+"'");ve=this.lexer.showPosition?"Parse error on line "+(te+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+pe.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":"Parse error on line "+(te+1)+": Unexpected "+(1==oe?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(ve,{text:this.lexer.match,token:this.terminals_[oe]||oe,line:this.lexer.yylineno,loc:ne,expected:pe})}}if(ue[0]instanceof Array&&ue.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+oe);switch(ue[0]){case 1:B.push(oe),z.push(this.lexer.yytext),q.push(this.lexer.yylloc),B.push(ue[1]),oe=null,ae?(oe=ae,ae=null):(ie=this.lexer.yyleng,ee=this.lexer.yytext,te=this.lexer.yylineno,ne=this.lexer.yylloc,re>0&&re--);break;case 2:if(he=this.productions_[ue[1]][1],ge.$=z[z.length-he],ge._$={first_line:q[q.length-(he||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(he||1)].first_column,last_column:q[q.length-1].last_column},se&&(ge._$.range=[q[q.length-(he||1)].range[0],q[q.length-1].range[1]]),void 0!==(de=this.performAction.call(ge,ee,ie,te,this.yy,ue[1],z,q)))return de;he&&(B=B.slice(0,-1*he*2),z=z.slice(0,-1*he),q=q.slice(0,-1*he)),B.push(this.productions_[ue[1]][0]),z.push(ge.$),q.push(ge._$),fe=Q[B[B.length-2]][B[B.length-1]],B.push(fe);break;case 3:return!0}}return!0}},I=function(){var C={EOF:1,parseError:function parseError(C,I){if(!this.yy.parser)throw new Error(C);this.yy.parser.parseError(C,I)},setInput:function setInput(C){return this._input=C,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function input(){var C=this._input[0];return this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C,C.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},unput:function unput(C){var I=C.length,B=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I-1),this.offset-=I;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1&&(this.yylineno-=B.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===z.length?this.yylloc.first_column:0)+z[z.length-B.length].length-B[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-I]),this},more:function more(){return this._more=!0,this},less:function less(C){this.unput(this.match.slice(C))},pastInput:function pastInput(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var C=this.pastInput(),I=new Array(C.length+1).join("-");return C+this.upcomingInput()+"\n"+I+"^"},next:function next(){if(this.done)return this.EOF;var C,I,B,z,q;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Q=this._currentRules(),ee=0;ee<Q.length&&(!(B=this._input.match(this.rules[Q[ee]]))||I&&!(B[0].length>I[0].length)||(I=B,z=ee,this.options.flex));ee++);return I?((q=I[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],C=this.performAction.call(this,this.yy,this,Q[z],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var C=this.next();return void 0!==C?C:this.lex()},begin:function begin(C){this.conditionStack.push(C)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(C){this.begin(C)},options:{},performAction:function anonymous(C,I,B,z){function strip(C,B){return I.yytext=I.yytext.substring(C,I.yyleng-B+C)}switch(B){case 0:if("\\\\"===I.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===I.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),I.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(strip(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(I.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return I.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return I.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return I.yytext=I.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return C}();function Parser(){this.yy={}}return C.lexer=I,Parser.prototype=C,C.Parser=Parser,new Parser}();I.default=B,C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=z(B(88));function WhitespaceControl(){var C=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=C}function isPrevWhitespace(C,I,B){void 0===I&&(I=C.length);var z=C[I-1],q=C[I-2];return z?"ContentStatement"===z.type?(q||!B?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(z.original):void 0:B}function isNextWhitespace(C,I,B){void 0===I&&(I=-1);var z=C[I+1],q=C[I+2];return z?"ContentStatement"===z.type?(q||!B?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(z.original):void 0:B}function omitRight(C,I,B){var z=C[null==I?0:I+1];if(z&&"ContentStatement"===z.type&&(B||!z.rightStripped)){var q=z.value;z.value=z.value.replace(B?/^\s+/:/^[ \t]*\r?\n?/,""),z.rightStripped=z.value!==q}}function omitLeft(C,I,B){var z=C[null==I?C.length-1:I-1];if(z&&"ContentStatement"===z.type&&(B||!z.leftStripped)){var q=z.value;return z.value=z.value.replace(B?/\s+$/:/[ \t]+$/,""),z.leftStripped=z.value!==q,z.leftStripped}}WhitespaceControl.prototype=new q.default,WhitespaceControl.prototype.Program=function(C){var I=!this.options.ignoreStandalone,B=!this.isRootSeen;this.isRootSeen=!0;for(var z=C.body,q=0,Q=z.length;q<Q;q++){var ee=z[q],te=this.accept(ee);if(te){var ie=isPrevWhitespace(z,q,B),re=isNextWhitespace(z,q,B),ne=te.openStandalone&&ie,se=te.closeStandalone&&re,oe=te.inlineStandalone&&ie&&re;te.close&&omitRight(z,q,!0),te.open&&omitLeft(z,q,!0),I&&oe&&(omitRight(z,q),omitLeft(z,q)&&"PartialStatement"===ee.type&&(ee.indent=/([ \t]+$)/.exec(z[q-1].original)[1])),I&&ne&&(omitRight((ee.program||ee.inverse).body),omitLeft(z,q)),I&&se&&(omitRight(z,q),omitLeft((ee.inverse||ee.program).body))}}return C},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(C){this.accept(C.program),this.accept(C.inverse);var I=C.program||C.inverse,B=C.program&&C.inverse,z=B,q=B;if(B&&B.chained)for(z=B.body[0].program;q.chained;)q=q.body[q.body.length-1].program;var Q={open:C.openStrip.open,close:C.closeStrip.close,openStandalone:isNextWhitespace(I.body),closeStandalone:isPrevWhitespace((z||I).body)};if(C.openStrip.close&&omitRight(I.body,null,!0),B){var ee=C.inverseStrip;ee.open&&omitLeft(I.body,null,!0),ee.close&&omitRight(z.body,null,!0),C.closeStrip.open&&omitLeft(q.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(I.body)&&isNextWhitespace(z.body)&&(omitLeft(I.body),omitRight(z.body))}else C.closeStrip.open&&omitLeft(I.body,null,!0);return Q},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(C){return C.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(C){var I=C.strip||{};return{inlineStandalone:!0,open:I.open,close:I.close}},I.default=WhitespaceControl,C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0;var q=z(B(6));function Visitor(){this.parents=[]}function visitSubExpression(C){this.acceptRequired(C,"path"),this.acceptArray(C.params),this.acceptKey(C,"hash")}function visitBlock(C){visitSubExpression.call(this,C),this.acceptKey(C,"program"),this.acceptKey(C,"inverse")}function visitPartial(C){this.acceptRequired(C,"name"),this.acceptArray(C.params),this.acceptKey(C,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function acceptKey(C,I){var B=this.accept(C[I]);if(this.mutating){if(B&&!Visitor.prototype[B.type])throw new q.default('Unexpected node type "'+B.type+'" found when accepting '+I+" on "+C.type);C[I]=B}},acceptRequired:function acceptRequired(C,I){if(this.acceptKey(C,I),!C[I])throw new q.default(C.type+" requires "+I)},acceptArray:function acceptArray(C){for(var I=0,B=C.length;I<B;I++)this.acceptKey(C,I),C[I]||(C.splice(I,1),I--,B--)},accept:function accept(C){if(C){if(!this[C.type])throw new q.default("Unknown type: "+C.type,C);this.current&&this.parents.unshift(this.current),this.current=C;var I=this[C.type](C);return this.current=this.parents.shift(),!this.mutating||I?I:!1!==I?C:void 0}},Program:function Program(C){this.acceptArray(C.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(C){visitPartial.call(this,C),this.acceptKey(C,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(C){this.acceptArray(C.pairs)},HashPair:function HashPair(C){this.acceptRequired(C,"value")}},I.default=Visitor,C.exports=I.default},function(C,I,B){"use strict";var z=B(1).default;I.__esModule=!0,I.SourceLocation=function SourceLocation(C,I){this.source=C,this.start={line:I.first_line,column:I.first_column},this.end={line:I.last_line,column:I.last_column}},I.id=function id(C){return/^\[.*\]$/.test(C)?C.substring(1,C.length-1):C},I.stripFlags=function stripFlags(C,I){return{open:"~"===C.charAt(2),close:"~"===I.charAt(I.length-3)}},I.stripComment=function stripComment(C){return C.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},I.preparePath=function preparePath(C,I,B){B=this.locInfo(B);for(var z=C?"@":"",Q=[],ee=0,te=0,ie=I.length;te<ie;te++){var re=I[te].part,ne=I[te].original!==re;if(z+=(I[te].separator||"")+re,ne||".."!==re&&"."!==re&&"this"!==re)Q.push(re);else{if(Q.length>0)throw new q.default("Invalid path: "+z,{loc:B});".."===re&&ee++}}return{type:"PathExpression",data:C,depth:ee,parts:Q,original:z,loc:B}},I.prepareMustache=function prepareMustache(C,I,B,z,q,Q){var ee=z.charAt(3)||z.charAt(2),te="{"!==ee&&"&"!==ee;return{type:/\*/.test(z)?"Decorator":"MustacheStatement",path:C,params:I,hash:B,escaped:te,strip:q,loc:this.locInfo(Q)}},I.prepareRawBlock=function prepareRawBlock(C,I,B,z){validateClose(C,B),z=this.locInfo(z);var q={type:"Program",body:I,strip:{},loc:z};return{type:"BlockStatement",path:C.path,params:C.params,hash:C.hash,program:q,openStrip:{},inverseStrip:{},closeStrip:{},loc:z}},I.prepareBlock=function prepareBlock(C,I,B,z,Q,ee){z&&z.path&&validateClose(C,z);var te=/\*/.test(C.open);I.blockParams=C.blockParams;var ie=void 0,re=void 0;if(B){if(te)throw new q.default("Unexpected inverse block on decorator",B);B.chain&&(B.program.body[0].closeStrip=z.strip),re=B.strip,ie=B.program}Q&&(Q=ie,ie=I,I=Q);return{type:te?"DecoratorBlock":"BlockStatement",path:C.path,params:C.params,hash:C.hash,program:I,inverse:ie,openStrip:C.strip,inverseStrip:re,closeStrip:z&&z.strip,loc:this.locInfo(ee)}},I.prepareProgram=function prepareProgram(C,I){if(!I&&C.length){var B=C[0].loc,z=C[C.length-1].loc;B&&z&&(I={source:B.source,start:{line:B.start.line,column:B.start.column},end:{line:z.end.line,column:z.end.column}})}return{type:"Program",body:C,strip:{},loc:I}},I.preparePartialBlock=function preparePartialBlock(C,I,B,z){return validateClose(C,B),{type:"PartialBlockStatement",name:C.path,params:C.params,hash:C.hash,program:I,openStrip:C.strip,closeStrip:B&&B.strip,loc:this.locInfo(z)}};var q=z(B(6));function validateClose(C,I){if(I=I.path?I.path.original:I,C.path.original!==I){var B={loc:C.path.loc};throw new q.default(C.path.original+" doesn't match "+I,B)}}},function(C,I,B){"use strict";var z=B(74).default,q=B(1).default;I.__esModule=!0,I.Compiler=Compiler,I.precompile=function precompile(C,I,B){if(null==C||"string"!=typeof C&&"Program"!==C.type)throw new Q.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+C);"data"in(I=I||{})||(I.data=!0);I.compat&&(I.useDepths=!0);var z=B.parse(C,I),q=(new B.Compiler).compile(z,I);return(new B.JavaScriptCompiler).compile(q,I)},I.compile=function compile(C,I,B){void 0===I&&(I={});if(null==C||"string"!=typeof C&&"Program"!==C.type)throw new Q.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+C);"data"in(I=ee.extend({},I))||(I.data=!0);I.compat&&(I.useDepths=!0);var z=void 0;function compileInput(){var z=B.parse(C,I),q=(new B.Compiler).compile(z,I),Q=(new B.JavaScriptCompiler).compile(q,I,void 0,!0);return B.template(Q)}function ret(C,I){return z||(z=compileInput()),z.call(this,C,I)}return ret._setup=function(C){return z||(z=compileInput()),z._setup(C)},ret._child=function(C,I,B,q){return z||(z=compileInput()),z._child(C,I,B,q)},ret};var Q=q(B(6)),ee=B(5),te=q(B(84)),ie=[].slice;function Compiler(){}function argEquals(C,I){if(C===I)return!0;if(ee.isArray(C)&&ee.isArray(I)&&C.length===I.length){for(var B=0;B<C.length;B++)if(!argEquals(C[B],I[B]))return!1;return!0}}function transformLiteralToPath(C){if(!C.path.parts){var I=C.path;C.path={type:"PathExpression",data:!1,depth:0,parts:[I.original+""],original:I.original+"",loc:I.loc}}}Compiler.prototype={compiler:Compiler,equals:function equals(C){var I=this.opcodes.length;if(C.opcodes.length!==I)return!1;for(var B=0;B<I;B++){var z=this.opcodes[B],q=C.opcodes[B];if(z.opcode!==q.opcode||!argEquals(z.args,q.args))return!1}I=this.children.length;for(B=0;B<I;B++)if(!this.children[B].equals(C.children[B]))return!1;return!0},guid:0,compile:function compile(C,I){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=I,this.stringParams=I.stringParams,this.trackIds=I.trackIds,I.blockParams=I.blockParams||[],I.knownHelpers=ee.extend(z(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},I.knownHelpers),this.accept(C)},compileProgram:function compileProgram(C){var I=(new this.compiler).compile(C,this.options),B=this.guid++;return this.usePartial=this.usePartial||I.usePartial,this.children[B]=I,this.useDepths=this.useDepths||I.useDepths,B},accept:function accept(C){if(!this[C.type])throw new Q.default("Unknown type: "+C.type,C);this.sourceNode.unshift(C);var I=this[C.type](C);return this.sourceNode.shift(),I},Program:function Program(C){this.options.blockParams.unshift(C.blockParams);for(var I=C.body,B=I.length,z=0;z<B;z++)this.accept(I[z]);return this.options.blockParams.shift(),this.isSimple=1===B,this.blockParams=C.blockParams?C.blockParams.length:0,this},BlockStatement:function BlockStatement(C){transformLiteralToPath(C);var I=C.program,B=C.inverse;I=I&&this.compileProgram(I),B=B&&this.compileProgram(B);var z=this.classifySexpr(C);"helper"===z?this.helperSexpr(C,I,B):"simple"===z?(this.simpleSexpr(C),this.opcode("pushProgram",I),this.opcode("pushProgram",B),this.opcode("emptyHash"),this.opcode("blockValue",C.path.original)):(this.ambiguousSexpr(C,I,B),this.opcode("pushProgram",I),this.opcode("pushProgram",B),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function DecoratorBlock(C){var I=C.program&&this.compileProgram(C.program),B=this.setupFullMustacheParams(C,I,void 0),z=C.path;this.useDecorators=!0,this.opcode("registerDecorator",B.length,z.original)},PartialStatement:function PartialStatement(C){this.usePartial=!0;var I=C.program;I&&(I=this.compileProgram(C.program));var B=C.params;if(B.length>1)throw new Q.default("Unsupported number of partial arguments: "+B.length,C);B.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):B.push({type:"PathExpression",parts:[],depth:0}));var z=C.name.original,q="SubExpression"===C.name.type;q&&this.accept(C.name),this.setupFullMustacheParams(C,I,void 0,!0);var ee=C.indent||"";this.options.preventIndent&&ee&&(this.opcode("appendContent",ee),ee=""),this.opcode("invokePartial",q,z,ee),this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(C){this.PartialStatement(C)},MustacheStatement:function MustacheStatement(C){this.SubExpression(C),C.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function Decorator(C){this.DecoratorBlock(C)},ContentStatement:function ContentStatement(C){C.value&&this.opcode("appendContent",C.value)},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(C){transformLiteralToPath(C);var I=this.classifySexpr(C);"simple"===I?this.simpleSexpr(C):"helper"===I?this.helperSexpr(C):this.ambiguousSexpr(C)},ambiguousSexpr:function ambiguousSexpr(C,I,B){var z=C.path,q=z.parts[0],Q=null!=I||null!=B;this.opcode("getContext",z.depth),this.opcode("pushProgram",I),this.opcode("pushProgram",B),z.strict=!0,this.accept(z),this.opcode("invokeAmbiguous",q,Q)},simpleSexpr:function simpleSexpr(C){var I=C.path;I.strict=!0,this.accept(I),this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(C,I,B){var z=this.setupFullMustacheParams(C,I,B),q=C.path,ee=q.parts[0];if(this.options.knownHelpers[ee])this.opcode("invokeKnownHelper",z.length,ee);else{if(this.options.knownHelpersOnly)throw new Q.default("You specified knownHelpersOnly, but used the unknown helper "+ee,C);q.strict=!0,q.falsy=!0,this.accept(q),this.opcode("invokeHelper",z.length,q.original,te.default.helpers.simpleId(q))}},PathExpression:function PathExpression(C){this.addDepth(C.depth),this.opcode("getContext",C.depth);var I=C.parts[0],B=te.default.helpers.scopedId(C),z=!C.depth&&!B&&this.blockParamIndex(I);z?this.opcode("lookupBlockParam",z,C.parts):I?C.data?(this.options.data=!0,this.opcode("lookupData",C.depth,C.parts,C.strict)):this.opcode("lookupOnContext",C.parts,C.falsy,C.strict,B):this.opcode("pushContext")},StringLiteral:function StringLiteral(C){this.opcode("pushString",C.value)},NumberLiteral:function NumberLiteral(C){this.opcode("pushLiteral",C.value)},BooleanLiteral:function BooleanLiteral(C){this.opcode("pushLiteral",C.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(C){var I=C.pairs,B=0,z=I.length;for(this.opcode("pushHash");B<z;B++)this.pushParam(I[B].value);for(;B--;)this.opcode("assignToHash",I[B].key);this.opcode("popHash")},opcode:function opcode(C){this.opcodes.push({opcode:C,args:ie.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(C){C&&(this.useDepths=!0)},classifySexpr:function classifySexpr(C){var I=te.default.helpers.simpleId(C.path),B=I&&!!this.blockParamIndex(C.path.parts[0]),z=!B&&te.default.helpers.helperExpression(C),q=!B&&(z||I);if(q&&!z){var Q=C.path.parts[0],ee=this.options;ee.knownHelpers[Q]?z=!0:ee.knownHelpersOnly&&(q=!1)}return z?"helper":q?"ambiguous":"simple"},pushParams:function pushParams(C){for(var I=0,B=C.length;I<B;I++)this.pushParam(C[I])},pushParam:function pushParam(C){var I=null!=C.value?C.value:C.original||"";if(this.stringParams)I.replace&&(I=I.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),C.depth&&this.addDepth(C.depth),this.opcode("getContext",C.depth||0),this.opcode("pushStringParam",I,C.type),"SubExpression"===C.type&&this.accept(C);else{if(this.trackIds){var B=void 0;if(!C.parts||te.default.helpers.scopedId(C)||C.depth||(B=this.blockParamIndex(C.parts[0])),B){var z=C.parts.slice(1).join(".");this.opcode("pushId","BlockParam",B,z)}else(I=C.original||I).replace&&(I=I.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",C.type,I)}this.accept(C)}},setupFullMustacheParams:function setupFullMustacheParams(C,I,B,z){var q=C.params;return this.pushParams(q),this.opcode("pushProgram",I),this.opcode("pushProgram",B),C.hash?this.accept(C.hash):this.opcode("emptyHash",z),q},blockParamIndex:function blockParamIndex(C){for(var I=0,B=this.options.blockParams.length;I<B;I++){var z=this.options.blockParams[I],q=z&&ee.indexOf(z,C);if(z&&q>=0)return[I,q]}}}},function(C,I,B){"use strict";var z=B(60).default,q=B(1).default;I.__esModule=!0;var Q=B(4),ee=q(B(6)),te=B(5),ie=q(B(92));function Literal(C){this.value=C}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(C,I){return this.internalNameLookup(C,I)},depthedLookup:function depthedLookup(C){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(C),")"]},compilerInfo:function compilerInfo(){var C=Q.COMPILER_REVISION;return[C,Q.REVISION_CHANGES[C]]},appendToBuffer:function appendToBuffer(C,I,B){return te.isArray(C)||(C=[C]),C=this.source.wrap(C,I),this.environment.isSimple?["return ",C,";"]:B?["buffer += ",C,";"]:(C.appendToBuffer=!0,C)},initializeBuffer:function initializeBuffer(){return this.quotedString("")},internalNameLookup:function internalNameLookup(C,I){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",C,",",JSON.stringify(I),")"]},lookupPropertyFunctionIsUsed:!1,compile:function compile(C,I,B,z){this.environment=C,this.options=I,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!z,this.name=this.environment.name,this.isChild=!!B,this.context=B||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(C,I),this.useDepths=this.useDepths||C.useDepths||C.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||C.useBlockParams;var q=C.opcodes,Q=void 0,te=void 0,ie=void 0,re=void 0;for(ie=0,re=q.length;ie<re;ie++)Q=q[ie],this.source.currentLocation=Q.loc,te=te||Q.loc,this[Q.opcode].apply(this,Q.args);if(this.source.currentLocation=te,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new ee.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),z?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var ne=this.createFunctionContext(z);if(this.isChild)return ne;var se={compiler:this.compilerInfo(),main:ne};this.decorators&&(se.main_d=this.decorators,se.useDecorators=!0);var oe=this.context,ae=oe.programs,le=oe.decorators;for(ie=0,re=ae.length;ie<re;ie++)ae[ie]&&(se[ie]=ae[ie],le[ie]&&(se[ie+"_d"]=le[ie],se.useDecorators=!0));return this.environment.usePartial&&(se.usePartial=!0),this.options.data&&(se.useData=!0),this.useDepths&&(se.useDepths=!0),this.useBlockParams&&(se.useBlockParams=!0),this.options.compat&&(se.compat=!0),z?se.compilerOptions=this.options:(se.compiler=JSON.stringify(se.compiler),this.source.currentLocation={start:{line:1,column:0}},se=this.objectLiteral(se),I.srcName?(se=se.toStringWithSourceMap({file:I.destName})).map=se.map&&se.map.toString():se=se.toString()),se},preamble:function preamble(){this.lastContext=0,this.source=new ie.default(this.options.srcName),this.decorators=new ie.default(this.options.srcName)},createFunctionContext:function createFunctionContext(C){var I=this,B="",q=this.stackVars.concat(this.registers.list);q.length>0&&(B+=", "+q.join(", "));var Q=0;z(this.aliases).forEach((function(C){var z=I.aliases[C];z.children&&z.referenceCount>1&&(B+=", alias"+ ++Q+"="+C,z.children[0]="alias"+Q)})),this.lookupPropertyFunctionIsUsed&&(B+=", "+this.lookupPropertyFunctionVarDeclaration());var ee=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&ee.push("blockParams"),this.useDepths&&ee.push("depths");var te=this.mergeSource(B);return C?(ee.push(te),Function.apply(this,ee)):this.source.wrap(["function(",ee.join(","),") {\n  ",te,"}"])},mergeSource:function mergeSource(C){var I=this.environment.isSimple,B=!this.forceBuffer,z=void 0,q=void 0,Q=void 0,ee=void 0;return this.source.each((function(C){C.appendToBuffer?(Q?C.prepend("  + "):Q=C,ee=C):(Q&&(q?Q.prepend("buffer += "):z=!0,ee.add(";"),Q=ee=void 0),q=!0,I||(B=!1))})),B?Q?(Q.prepend("return "),ee.add(";")):q||this.source.push('return "";'):(C+=", buffer = "+(z?"":this.initializeBuffer()),Q?(Q.prepend("return buffer + "),ee.add(";")):this.source.push("return buffer;")),C&&this.source.prepend("var "+C.substring(2)+(z?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function lookupPropertyFunctionVarDeclaration(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function blockValue(C){var I=this.aliasable("container.hooks.blockHelperMissing"),B=[this.contextName(0)];this.setupHelperArgs(C,0,B);var z=this.popStack();B.splice(1,0,z),this.push(this.source.functionCall(I,"call",B))},ambiguousBlockValue:function ambiguousBlockValue(){var C=this.aliasable("container.hooks.blockHelperMissing"),I=[this.contextName(0)];this.setupHelperArgs("",0,I,!0),this.flushInline();var B=this.topStack();I.splice(1,0,B),this.pushSource(["if (!",this.lastHelper,") { ",B," = ",this.source.functionCall(C,"call",I),"}"])},appendContent:function appendContent(C){this.pendingContent?C=this.pendingContent+C:this.pendingLocation=this.source.currentLocation,this.pendingContent=C},append:function append(){if(this.isInline())this.replaceStack((function(C){return[" != null ? ",C,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var C=this.popStack();this.pushSource(["if (",C," != null) { ",this.appendToBuffer(C,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(C){this.lastContext=C},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(C,I,B,z){var q=0;z||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(C[q++])),this.resolvePath("context",C,q,I,B)},lookupBlockParam:function lookupBlockParam(C,I){this.useBlockParams=!0,this.push(["blockParams[",C[0],"][",C[1],"]"]),this.resolvePath("context",I,1)},lookupData:function lookupData(C,I,B){C?this.pushStackLiteral("container.data(data, "+C+")"):this.pushStackLiteral("data"),this.resolvePath("data",I,0,!0,B)},resolvePath:function resolvePath(C,I,B,z,q){var Q=this;if(this.options.strict||this.options.assumeObjects)this.push(function strictLookup(C,I,B,z,q){var Q=I.popStack(),ee=B.length;C&&ee--;for(;z<ee;z++)Q=I.nameLookup(Q,B[z],q);return C?[I.aliasable("container.strict"),"(",Q,", ",I.quotedString(B[z]),", ",JSON.stringify(I.source.currentLocation)," )"]:Q}(this.options.strict&&q,this,I,B,C));else for(var ee=I.length;B<ee;B++)this.replaceStack((function(q){var ee=Q.nameLookup(q,I[B],C);return z?[" && ",ee]:[" != null ? ",ee," : ",q]}))},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(C,I){this.pushContext(),this.pushString(I),"SubExpression"!==I&&("string"==typeof C?this.pushString(C):this.pushStackLiteral(C))},emptyHash:function emptyHash(C){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(C?"undefined":"{}")},pushHash:function pushHash(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function popHash(){var C=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(C.ids)),this.stringParams&&(this.push(this.objectLiteral(C.contexts)),this.push(this.objectLiteral(C.types))),this.push(this.objectLiteral(C.values))},pushString:function pushString(C){this.pushStackLiteral(this.quotedString(C))},pushLiteral:function pushLiteral(C){this.pushStackLiteral(C)},pushProgram:function pushProgram(C){null!=C?this.pushStackLiteral(this.programExpression(C)):this.pushStackLiteral(null)},registerDecorator:function registerDecorator(C,I){var B=this.nameLookup("decorators",I,"decorator"),z=this.setupHelperArgs(I,C);this.decorators.push(["fn = ",this.decorators.functionCall(B,"",["fn","props","container",z])," || fn;"])},invokeHelper:function invokeHelper(C,I,B){var z=this.popStack(),q=this.setupHelper(C,I),Q=[];B&&Q.push(q.name),Q.push(z),this.options.strict||Q.push(this.aliasable("container.hooks.helperMissing"));var ee=["(",this.itemsSeparatedBy(Q,"||"),")"],te=this.source.functionCall(ee,"call",q.callParams);this.push(te)},itemsSeparatedBy:function itemsSeparatedBy(C,I){var B=[];B.push(C[0]);for(var z=1;z<C.length;z++)B.push(I,C[z]);return B},invokeKnownHelper:function invokeKnownHelper(C,I){var B=this.setupHelper(C,I);this.push(this.source.functionCall(B.name,"call",B.callParams))},invokeAmbiguous:function invokeAmbiguous(C,I){this.useRegister("helper");var B=this.popStack();this.emptyHash();var z=this.setupHelper(0,C,I),q=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",C,"helper")," || ",B,")"];this.options.strict||(q[0]="(helper = ",q.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",q,z.paramsInit?["),(",z.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",z.callParams)," : helper))"])},invokePartial:function invokePartial(C,I,B){var z=[],q=this.setupParams(I,1,z);C&&(I=this.popStack(),delete q.name),B&&(q.indent=JSON.stringify(B)),q.helpers="helpers",q.partials="partials",q.decorators="container.decorators",C?z.unshift(I):z.unshift(this.nameLookup("partials",I,"partial")),this.options.compat&&(q.depths="depths"),q=this.objectLiteral(q),z.push(q),this.push(this.source.functionCall("container.invokePartial","",z))},assignToHash:function assignToHash(C){var I=this.popStack(),B=void 0,z=void 0,q=void 0;this.trackIds&&(q=this.popStack()),this.stringParams&&(z=this.popStack(),B=this.popStack());var Q=this.hash;B&&(Q.contexts[C]=B),z&&(Q.types[C]=z),q&&(Q.ids[C]=q),Q.values[C]=I},pushId:function pushId(C,I,B){"BlockParam"===C?this.pushStackLiteral("blockParams["+I[0]+"].path["+I[1]+"]"+(B?" + "+JSON.stringify("."+B):"")):"PathExpression"===C?this.pushString(I):"SubExpression"===C?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function compileChildren(C,I){for(var B=C.children,z=void 0,q=void 0,Q=0,ee=B.length;Q<ee;Q++){z=B[Q],q=new this.compiler;var te=this.matchExistingProgram(z);if(null==te){this.context.programs.push("");var ie=this.context.programs.length;z.index=ie,z.name="program"+ie,this.context.programs[ie]=q.compile(z,I,this.context,!this.precompile),this.context.decorators[ie]=q.decorators,this.context.environments[ie]=z,this.useDepths=this.useDepths||q.useDepths,this.useBlockParams=this.useBlockParams||q.useBlockParams,z.useDepths=this.useDepths,z.useBlockParams=this.useBlockParams}else z.index=te.index,z.name="program"+te.index,this.useDepths=this.useDepths||te.useDepths,this.useBlockParams=this.useBlockParams||te.useBlockParams}},matchExistingProgram:function matchExistingProgram(C){for(var I=0,B=this.context.environments.length;I<B;I++){var z=this.context.environments[I];if(z&&z.equals(C))return z}},programExpression:function programExpression(C){var I=this.environment.children[C],B=[I.index,"data",I.blockParams];return(this.useBlockParams||this.useDepths)&&B.push("blockParams"),this.useDepths&&B.push("depths"),"container.program("+B.join(", ")+")"},useRegister:function useRegister(C){this.registers[C]||(this.registers[C]=!0,this.registers.list.push(C))},push:function push(C){return C instanceof Literal||(C=this.source.wrap(C)),this.inlineStack.push(C),C},pushStackLiteral:function pushStackLiteral(C){this.push(new Literal(C))},pushSource:function pushSource(C){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),C&&this.source.push(C)},replaceStack:function replaceStack(C){var I=["("],B=void 0,z=void 0,q=void 0;if(!this.isInline())throw new ee.default("replaceStack on non-inline");var Q=this.popStack(!0);if(Q instanceof Literal)I=["(",B=[Q.value]],q=!0;else{z=!0;var te=this.incrStack();I=["((",this.push(te)," = ",Q,")"],B=this.topStack()}var ie=C.call(this,B);q||this.popStack(),z&&this.stackSlot--,this.push(I.concat(ie,")"))},incrStack:function incrStack(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var C=this.inlineStack;this.inlineStack=[];for(var I=0,B=C.length;I<B;I++){var z=C[I];if(z instanceof Literal)this.compileStack.push(z);else{var q=this.incrStack();this.pushSource([q," = ",z,";"]),this.compileStack.push(q)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(C){var I=this.isInline(),B=(I?this.inlineStack:this.compileStack).pop();if(!C&&B instanceof Literal)return B.value;if(!I){if(!this.stackSlot)throw new ee.default("Invalid stack pop");this.stackSlot--}return B},topStack:function topStack(){var C=this.isInline()?this.inlineStack:this.compileStack,I=C[C.length-1];return I instanceof Literal?I.value:I},contextName:function contextName(C){return this.useDepths&&C?"depths["+C+"]":"depth"+C},quotedString:function quotedString(C){return this.source.quotedString(C)},objectLiteral:function objectLiteral(C){return this.source.objectLiteral(C)},aliasable:function aliasable(C){var I=this.aliases[C];return I?(I.referenceCount++,I):((I=this.aliases[C]=this.source.wrap(C)).aliasable=!0,I.referenceCount=1,I)},setupHelper:function setupHelper(C,I,B){var z=[];return{params:z,paramsInit:this.setupHelperArgs(I,C,z,B),name:this.nameLookup("helpers",I,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(z)}},setupParams:function setupParams(C,I,B){var z={},q=[],Q=[],ee=[],te=!B,ie=void 0;te&&(B=[]),z.name=this.quotedString(C),z.hash=this.popStack(),this.trackIds&&(z.hashIds=this.popStack()),this.stringParams&&(z.hashTypes=this.popStack(),z.hashContexts=this.popStack());var re=this.popStack(),ne=this.popStack();(ne||re)&&(z.fn=ne||"container.noop",z.inverse=re||"container.noop");for(var se=I;se--;)ie=this.popStack(),B[se]=ie,this.trackIds&&(ee[se]=this.popStack()),this.stringParams&&(Q[se]=this.popStack(),q[se]=this.popStack());return te&&(z.args=this.source.generateArray(B)),this.trackIds&&(z.ids=this.source.generateArray(ee)),this.stringParams&&(z.types=this.source.generateArray(Q),z.contexts=this.source.generateArray(q)),this.options.data&&(z.data="data"),this.useBlockParams&&(z.blockParams="blockParams"),z},setupHelperArgs:function setupHelperArgs(C,I,B,z){var q=this.setupParams(C,I,B);return q.loc=JSON.stringify(this.source.currentLocation),q=this.objectLiteral(q),z?(this.useRegister("options"),B.push("options"),["options=",q]):B?(B.push(q),""):q}},function(){for(var C="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),I=JavaScriptCompiler.RESERVED_WORDS={},B=0,z=C.length;B<z;B++)I[C[B]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(C){return!JavaScriptCompiler.RESERVED_WORDS[C]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(C)},I.default=JavaScriptCompiler,C.exports=I.default},function(C,I,B){"use strict";var z=B(60).default;I.__esModule=!0;var q=B(5),Q=void 0;try{}catch(C){}function castChunk(C,I,B){if(q.isArray(C)){for(var z=[],Q=0,ee=C.length;Q<ee;Q++)z.push(I.wrap(C[Q],B));return z}return"boolean"==typeof C||"number"==typeof C?C+"":C}function CodeGen(C){this.srcFile=C,this.source=[]}Q||((Q=function(C,I,B,z){this.src="",z&&this.add(z)}).prototype={add:function add(C){q.isArray(C)&&(C=C.join("")),this.src+=C},prepend:function prepend(C){q.isArray(C)&&(C=C.join("")),this.src=C+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}),CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(C,I){this.source.unshift(this.wrap(C,I))},push:function push(C,I){this.source.push(this.wrap(C,I))},merge:function merge(){var C=this.empty();return this.each((function(I){C.add(["  ",I,"\n"])})),C},each:function each(C){for(var I=0,B=this.source.length;I<B;I++)C(this.source[I])},empty:function empty(){var C=this.currentLocation||{start:{}};return new Q(C.start.line,C.start.column,this.srcFile)},wrap:function wrap(C){var I=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return C instanceof Q?C:(C=castChunk(C,this,I),new Q(I.start.line,I.start.column,this.srcFile,C))},functionCall:function functionCall(C,I,B){return B=this.generateList(B),this.wrap([C,I?"."+I+"(":"(",B,")"])},quotedString:function quotedString(C){return'"'+(C+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(C){var I=this,B=[];z(C).forEach((function(z){var q=castChunk(C[z],I);"undefined"!==q&&B.push([I.quotedString(z),":",q])}));var q=this.generateList(B);return q.prepend("{"),q.add("}"),q},generateList:function generateList(C){for(var I=this.empty(),B=0,z=C.length;B<z;B++)B&&I.add(","),I.add(castChunk(C[B],this));return I},generateArray:function generateArray(C){var I=this.generateList(C);return I.prepend("["),I.add("]"),I}},I.default=CodeGen,C.exports=I.default}])}))},1660:function(C){"undefined"!=typeof self&&self,C.exports=function(){"use strict";var C={3976:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,I.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(C,I){return"function"==typeof I.onBeforeMask?I.onBeforeMask.call(this,C,I):C},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,I.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},253:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(C,I,B){if(void 0===B)return C.__data?C.__data[I]:null;C.__data=C.__data||{},C.__data[I]=B}},3776:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.Event=void 0,I.off=function(C,I){var B,z;return u(this[0])&&C&&(B=this[0].eventRegistry,z=this[0],C.split(" ").forEach((function(C){var q=o(C.split("."),2);(function(C,z){var q,Q,ee=[];if(C.length>0)if(void 0===I)for(q=0,Q=B[C][z].length;q<Q;q++)ee.push({ev:C,namespace:z&&z.length>0?z:"global",handler:B[C][z][q]});else ee.push({ev:C,namespace:z&&z.length>0?z:"global",handler:I});else if(z.length>0)for(var te in B)for(var ie in B[te])if(ie===z)if(void 0===I)for(q=0,Q=B[te][ie].length;q<Q;q++)ee.push({ev:te,namespace:ie,handler:B[te][ie][q]});else ee.push({ev:te,namespace:ie,handler:I});return ee})(q[0],q[1]).forEach((function(C){var I=C.ev,q=C.handler;!function(C,I,q){if(C in B==1)if(z.removeEventListener?z.removeEventListener(C,q,!1):z.detachEvent&&z.detachEvent("on".concat(C),q),"global"===I)for(var Q in B[C])B[C][Q].splice(B[C][Q].indexOf(q),1);else B[C][I].splice(B[C][I].indexOf(q),1)}(I,C.namespace,q)}))}))),this},I.on=function(C,I){if(u(this[0])){var B=this[0].eventRegistry,z=this[0];C.split(" ").forEach((function(C){var q=o(C.split("."),2),Q=q[0],ee=q[1];!function(C,q){z.addEventListener?z.addEventListener(C,I,!1):z.attachEvent&&z.attachEvent("on".concat(C),I),B[C]=B[C]||{},B[C][q]=B[C][q]||[],B[C][q].push(I)}(Q,void 0===ee?"global":ee)}))}return this},I.trigger=function(C){var I=arguments;if(u(this[0]))for(var B=this[0].eventRegistry,z=this[0],te="string"==typeof C?C.split(" "):[C.type],ie=0;ie<te.length;ie++){var re=te[ie].split("."),ne=re[0],se=re[1]||"global";if(void 0!==ee&&"global"===se){var oe,ae={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(ee.createEvent){try{"input"===ne?(ae.inputType="insertText",oe=new InputEvent(ne,ae)):oe=new CustomEvent(ne,ae)}catch(C){(oe=ee.createEvent("CustomEvent")).initCustomEvent(ne,ae.bubbles,ae.cancelable,ae.detail)}C.type&&(0,q.default)(oe,C),z.dispatchEvent(oe)}else(oe=ee.createEventObject()).eventType=ne,oe.detail=arguments[1],C.type&&(0,q.default)(oe,C),z.fireEvent("on"+oe.eventType,oe)}else if(void 0!==B[ne]){arguments[0]=arguments[0].type?arguments[0]:Q.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var le=B[ne];("global"===se?Object.values(le).flat():le[se]).forEach((function(C){return C.apply(z,I)}))}}return this};var z=s(B(9380)),q=s(B(600)),Q=s(B(4963));function o(C,I){return function(C){if(Array.isArray(C))return C}(C)||function(C,I){var B=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=B){var z,q,Q,ee,te=[],ie=!0,re=!1;try{if(Q=(B=B.call(C)).next,0===I){if(Object(B)!==B)return;ie=!1}else for(;!(ie=(z=Q.call(B)).done)&&(te.push(z.value),te.length!==I);ie=!0);}catch(C){re=!0,q=C}finally{try{if(!ie&&null!=B.return&&(ee=B.return(),Object(ee)!==ee))return}finally{if(re)throw q}}return te}}(C,I)||function(C,I){if(C){if("string"==typeof C)return l(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?l(C,I):void 0}}(C,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}function s(C){return C&&C.__esModule?C:{default:C}}var ee=z.default.document;function u(C){return C instanceof Element}var te=I.Event=void 0;"function"==typeof z.default.CustomEvent?I.Event=te=z.default.CustomEvent:z.default.Event&&ee&&ee.createEvent?(I.Event=te=function(C,I){I=I||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var B=ee.createEvent("CustomEvent");return B.initCustomEvent(C,I.bubbles,I.cancelable,I.detail),B},te.prototype=z.default.Event.prototype):"undefined"!=typeof Event&&(I.Event=te=Event)},600:function(C,I){function n(C){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n(C)}Object.defineProperty(I,"__esModule",{value:!0}),I.default=function e(){var C,I,B,z,q,Q,ee=arguments[0]||{},te=1,ie=arguments.length,re=!1;for("boolean"==typeof ee&&(re=ee,ee=arguments[te]||{},te++),"object"!==n(ee)&&"function"!=typeof ee&&(ee={});te<ie;te++)if(null!=(C=arguments[te]))for(I in C)B=ee[I],ee!==(z=C[I])&&(re&&z&&("[object Object]"===Object.prototype.toString.call(z)||(q=Array.isArray(z)))?(q?(q=!1,Q=B&&Array.isArray(B)?B:[]):Q=B&&"[object Object]"===Object.prototype.toString.call(B)?B:{},ee[I]=e(re,Q,z)):void 0!==z&&(ee[I]=z));return ee}},4963:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var z=l(B(9380)),q=l(B(253)),Q=B(3776),ee=l(B(600));function l(C){return C&&C.__esModule?C:{default:C}}var te=z.default.document;function c(C){return C instanceof c?C:this instanceof c?void(null!=C&&C!==z.default&&(this[0]=C.nodeName?C:void 0!==C[0]&&C[0].nodeName?C[0]:te.querySelector(C),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new c(C)}c.prototype={on:Q.on,off:Q.off,trigger:Q.trigger},c.extend=ee.default,c.data=q.default,c.Event=Q.Event,I.default=c},9845:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.mobile=I.iphone=I.ie=void 0;var z,q=(z=B(9380))&&z.__esModule?z:{default:z},Q=q.default.navigator&&q.default.navigator.userAgent||"";I.ie=Q.indexOf("MSIE ")>0||Q.indexOf("Trident/")>0,I.mobile=q.default.navigator&&q.default.navigator.userAgentData&&q.default.navigator.userAgentData.mobile||q.default.navigator&&q.default.navigator.maxTouchPoints||"ontouchstart"in q.default,I.iphone=/iphone/i.test(Q)},7184:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(C){return C.replace(B,"\\$1")};var B=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(C,I,B){function i(C){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i(C)}Object.defineProperty(I,"__esModule",{value:!0}),I.EventHandlers=void 0;var z,q=B(9845),Q=(z=B(9380))&&z.__esModule?z:{default:z},ee=B(7760),te=B(2839),ie=B(8711),re=B(7215),ne=B(4713);function p(){p=function(){return I};var C,I={},B=Object.prototype,z=B.hasOwnProperty,q=Object.defineProperty||function(C,I,B){C[I]=B.value},Q="function"==typeof Symbol?Symbol:{},ee=Q.iterator||"@@iterator",te=Q.asyncIterator||"@@asyncIterator",ie=Q.toStringTag||"@@toStringTag";function u(C,I,B){return Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}),C[I]}try{u({},"")}catch(C){u=function(C,I,B){return C[I]=B}}function f(C,I,B,z){var Q=I&&I.prototype instanceof k?I:k,ee=Object.create(Q.prototype),te=new D(z||[]);return q(ee,"_invoke",{value:E(C,B,te)}),ee}function d(C,I,B){try{return{type:"normal",arg:C.call(I,B)}}catch(C){return{type:"throw",arg:C}}}I.wrap=f;var re="suspendedStart",ne="suspendedYield",se="executing",oe="completed",ae={};function k(){}function b(){}function x(){}var le={};u(le,ee,(function(){return this}));var ue=Object.getPrototypeOf,de=ue&&ue(ue(L([])));de&&de!==B&&z.call(de,ee)&&(le=de);var ce=x.prototype=k.prototype=Object.create(le);function _(C){["next","throw","return"].forEach((function(I){u(C,I,(function(C){return this._invoke(I,C)}))}))}function M(C,I){function n(B,q,Q,ee){var te=d(C[B],C,q);if("throw"!==te.type){var ie=te.arg,re=ie.value;return re&&"object"==i(re)&&z.call(re,"__await")?I.resolve(re.__await).then((function(C){n("next",C,Q,ee)}),(function(C){n("throw",C,Q,ee)})):I.resolve(re).then((function(C){ie.value=C,Q(ie)}),(function(C){return n("throw",C,Q,ee)}))}ee(te.arg)}var B;q(this,"_invoke",{value:function(C,z){function a(){return new I((function(I,B){n(C,z,I,B)}))}return B=B?B.then(a,a):a()}})}function E(I,B,z){var q=re;return function(Q,ee){if(q===se)throw new Error("Generator is already running");if(q===oe){if("throw"===Q)throw ee;return{value:C,done:!0}}for(z.method=Q,z.arg=ee;;){var te=z.delegate;if(te){var ie=j(te,z);if(ie){if(ie===ae)continue;return ie}}if("next"===z.method)z.sent=z._sent=z.arg;else if("throw"===z.method){if(q===re)throw q=oe,z.arg;z.dispatchException(z.arg)}else"return"===z.method&&z.abrupt("return",z.arg);q=se;var le=d(I,B,z);if("normal"===le.type){if(q=z.done?oe:ne,le.arg===ae)continue;return{value:le.arg,done:z.done}}"throw"===le.type&&(q=oe,z.method="throw",z.arg=le.arg)}}}function j(I,B){var z=B.method,q=I.iterator[z];if(q===C)return B.delegate=null,"throw"===z&&I.iterator.return&&(B.method="return",B.arg=C,j(I,B),"throw"===B.method)||"return"!==z&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+z+"' method")),ae;var Q=d(q,I.iterator,B.arg);if("throw"===Q.type)return B.method="throw",B.arg=Q.arg,B.delegate=null,ae;var ee=Q.arg;return ee?ee.done?(B[I.resultName]=ee.value,B.next=I.nextLoc,"return"!==B.method&&(B.method="next",B.arg=C),B.delegate=null,ae):ee:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,ae)}function T(C){var I={tryLoc:C[0]};1 in C&&(I.catchLoc=C[1]),2 in C&&(I.finallyLoc=C[2],I.afterLoc=C[3]),this.tryEntries.push(I)}function A(C){var I=C.completion||{};I.type="normal",delete I.arg,C.completion=I}function D(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(T,this),this.reset(!0)}function L(I){if(I||""===I){var B=I[ee];if(B)return B.call(I);if("function"==typeof I.next)return I;if(!isNaN(I.length)){var q=-1,Q=function n(){for(;++q<I.length;)if(z.call(I,q))return n.value=I[q],n.done=!1,n;return n.value=C,n.done=!0,n};return Q.next=Q}}throw new TypeError(i(I)+" is not iterable")}return b.prototype=x,q(ce,"constructor",{value:x,configurable:!0}),q(x,"constructor",{value:b,configurable:!0}),b.displayName=u(x,ie,"GeneratorFunction"),I.isGeneratorFunction=function(C){var I="function"==typeof C&&C.constructor;return!!I&&(I===b||"GeneratorFunction"===(I.displayName||I.name))},I.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,x):(C.__proto__=x,u(C,ie,"GeneratorFunction")),C.prototype=Object.create(ce),C},I.awrap=function(C){return{__await:C}},_(M.prototype),u(M.prototype,te,(function(){return this})),I.AsyncIterator=M,I.async=function(C,B,z,q,Q){void 0===Q&&(Q=Promise);var ee=new M(f(C,B,z,q),Q);return I.isGeneratorFunction(B)?ee:ee.next().then((function(C){return C.done?C.value:ee.next()}))},_(ce),u(ce,ie,"Generator"),u(ce,ee,(function(){return this})),u(ce,"toString",(function(){return"[object Generator]"})),I.keys=function(C){var I=Object(C),B=[];for(var z in I)B.push(z);return B.reverse(),function e(){for(;B.length;){var C=B.pop();if(C in I)return e.value=C,e.done=!1,e}return e.done=!0,e}},I.values=L,D.prototype={constructor:D,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(A),!I)for(var B in this)"t"===B.charAt(0)&&z.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=C)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if("throw"===C.type)throw C.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var B=this;function i(z,q){return ee.type="throw",ee.arg=I,B.next=z,q&&(B.method="next",B.arg=C),!!q}for(var q=this.tryEntries.length-1;q>=0;--q){var Q=this.tryEntries[q],ee=Q.completion;if("root"===Q.tryLoc)return i("end");if(Q.tryLoc<=this.prev){var te=z.call(Q,"catchLoc"),ie=z.call(Q,"finallyLoc");if(te&&ie){if(this.prev<Q.catchLoc)return i(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return i(Q.finallyLoc)}else if(te){if(this.prev<Q.catchLoc)return i(Q.catchLoc,!0)}else{if(!ie)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return i(Q.finallyLoc)}}}},abrupt:function(C,I){for(var B=this.tryEntries.length-1;B>=0;--B){var q=this.tryEntries[B];if(q.tryLoc<=this.prev&&z.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var Q=q;break}}Q&&("break"===C||"continue"===C)&&Q.tryLoc<=I&&I<=Q.finallyLoc&&(Q=null);var ee=Q?Q.completion:{};return ee.type=C,ee.arg=I,Q?(this.method="next",this.next=Q.finallyLoc,ae):this.complete(ee)},complete:function(C,I){if("throw"===C.type)throw C.arg;return"break"===C.type||"continue"===C.type?this.next=C.arg:"return"===C.type?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):"normal"===C.type&&I&&(this.next=I),ae},finish:function(C){for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I];if(B.finallyLoc===C)return this.complete(B.completion,B.afterLoc),A(B),ae}},catch:function(C){for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I];if(B.tryLoc===C){var z=B.completion;if("throw"===z.type){var q=z.arg;A(B)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(I,B,z){return this.delegate={iterator:L(I),resultName:B,nextLoc:z},"next"===this.method&&(this.arg=C),ae}},I}function d(C,I){var B="undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(!B){if(Array.isArray(C)||(B=function(C,I){if(C){if("string"==typeof C)return h(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?h(C,I):void 0}}(C))||I&&C&&"number"==typeof C.length){B&&(C=B);var z=0,a=function(){};return{s:a,n:function(){return z>=C.length?{done:!0}:{done:!1,value:C[z++]}},e:function(C){throw C},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,Q=!0,ee=!1;return{s:function(){B=B.call(C)},n:function(){var C=B.next();return Q=C.done,C},e:function(C){ee=!0,q=C},f:function(){try{Q||null==B.return||B.return()}finally{if(ee)throw q}}}}function h(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}function v(C,I,B,z,q,Q,ee){try{var te=C[Q](ee),ie=te.value}catch(C){return void B(C)}te.done?I(ie):Promise.resolve(ie).then(z,q)}var se,oe,ae=I.EventHandlers={keyEvent:function(C,I,B,z,Q){var se=this.inputmask,oe=se.opts,le=se.dependencyLib,ue=se.maskset,de=this,ce=le(de),he=C.key,fe=ie.caret.call(se,de),pe=oe.onKeyDown.call(this,C,ie.getBuffer.call(se),fe,oe);if(void 0!==pe)return pe;if(he===te.keys.Backspace||he===te.keys.Delete||q.iphone&&he===te.keys.BACKSPACE_SAFARI||C.ctrlKey&&he===te.keys.x&&!("oncut"in de))C.preventDefault(),re.handleRemove.call(se,de,he,fe),(0,ee.writeBuffer)(de,ie.getBuffer.call(se,!0),ue.p,C,de.inputmask._valueGet()!==ie.getBuffer.call(se).join(""));else if(he===te.keys.End||he===te.keys.PageDown){C.preventDefault();var me=ie.seekNext.call(se,ie.getLastValidPosition.call(se));ie.caret.call(se,de,C.shiftKey?fe.begin:me,me,!0)}else he===te.keys.Home&&!C.shiftKey||he===te.keys.PageUp?(C.preventDefault(),ie.caret.call(se,de,0,C.shiftKey?fe.begin:0,!0)):oe.undoOnEscape&&he===te.keys.Escape&&!0!==C.altKey?((0,ee.checkVal)(de,!0,!1,se.undoValue.split("")),ce.trigger("click")):he!==te.keys.Insert||C.shiftKey||C.ctrlKey||void 0!==se.userOptions.insertMode?!0===oe.tabThrough&&he===te.keys.Tab?!0===C.shiftKey?(fe.end=ie.seekPrevious.call(se,fe.end,!0),!0===ne.getTest.call(se,fe.end-1).match.static&&fe.end--,fe.begin=ie.seekPrevious.call(se,fe.end,!0),fe.begin>=0&&fe.end>0&&(C.preventDefault(),ie.caret.call(se,de,fe.begin,fe.end))):(fe.begin=ie.seekNext.call(se,fe.begin,!0),fe.end=ie.seekNext.call(se,fe.begin,!0),fe.end<ue.maskLength&&fe.end--,fe.begin<=ue.maskLength&&(C.preventDefault(),ie.caret.call(se,de,fe.begin,fe.end))):C.shiftKey||(oe.insertModeVisual&&!1===oe.insertMode?he===te.keys.ArrowRight?setTimeout((function(){var C=ie.caret.call(se,de);ie.caret.call(se,de,C.begin)}),0):he===te.keys.ArrowLeft&&setTimeout((function(){var C=ie.translatePosition.call(se,de.inputmask.caretPos.begin);ie.translatePosition.call(se,de.inputmask.caretPos.end),se.isRTL?ie.caret.call(se,de,C+(C===ue.maskLength?0:1)):ie.caret.call(se,de,C-(0===C?0:1))}),0):void 0===se.keyEventHook||se.keyEventHook(C)):re.isSelection.call(se,fe)?oe.insertMode=!oe.insertMode:(oe.insertMode=!oe.insertMode,ie.caret.call(se,de,fe.begin,fe.begin));return se.isComposing=he==te.keys.Process||he==te.keys.Unidentified,se.ignorable=he.length>1&&!("textarea"===de.tagName.toLowerCase()&&he==te.keys.Enter),ae.keypressEvent.call(this,C,I,B,z,Q)},keypressEvent:function(C,I,B,z,q){var Q=this.inputmask||this,ne=Q.opts,se=Q.dependencyLib,oe=Q.maskset,ae=Q.el,le=se(ae),ue=C.key;if(!0===I||C.ctrlKey&&C.altKey&&!Q.ignorable||!(C.ctrlKey||C.metaKey||Q.ignorable)){if(ue){var de,ce=I?{begin:q,end:q}:ie.caret.call(Q,ae);I||(ue=ne.substitutes[ue]||ue),oe.writeOutBuffer=!0;var he=re.isValid.call(Q,ce,ue,z,void 0,void 0,void 0,I);if(!1!==he&&(ie.resetMaskSet.call(Q,!0),de=void 0!==he.caret?he.caret:ie.seekNext.call(Q,he.pos.begin?he.pos.begin:he.pos),oe.p=de),de=ne.numericInput&&void 0===he.caret?ie.seekPrevious.call(Q,de):de,!1!==B&&(setTimeout((function(){ne.onKeyValidation.call(ae,ue,he)}),0),oe.writeOutBuffer&&!1!==he)){var fe=ie.getBuffer.call(Q);(0,ee.writeBuffer)(ae,fe,de,C,!0!==I)}if(C.preventDefault(),I)return!1!==he&&(he.forwardPosition=de),he}}else ue===te.keys.Enter&&Q.undoValue!==Q._valueGet(!0)&&(Q.undoValue=Q._valueGet(!0),setTimeout((function(){le.trigger("change")}),0))},pasteEvent:(se=p().mark((function e(C){var I,B,z,q,te,re;return p().wrap((function(ne){for(;;)switch(ne.prev=ne.next){case 0:I=function(I,B,z,Q,te){var re=ie.caret.call(I,B,void 0,void 0,!0),ne=z.substr(0,re.begin),se=z.substr(re.end,z.length);if(ne==(I.isRTL?ie.getBufferTemplate.call(I).slice().reverse():ie.getBufferTemplate.call(I)).slice(0,re.begin).join("")&&(ne=""),se==(I.isRTL?ie.getBufferTemplate.call(I).slice().reverse():ie.getBufferTemplate.call(I)).slice(re.end).join("")&&(se=""),Q=ne+Q+se,I.isRTL&&!0!==q.numericInput){Q=Q.split("");var oe,ae=d(ie.getBufferTemplate.call(I));try{for(ae.s();!(oe=ae.n()).done;){var le=oe.value;Q[0]===le&&Q.shift()}}catch(I){ae.e(I)}finally{ae.f()}Q=Q.reverse().join("")}var ue=Q;if("function"==typeof te){if(!1===(ue=te.call(I,ue,q)))return!1;ue||(ue=z)}(0,ee.checkVal)(B,!0,!1,ue.toString().split(""),C)},B=this,z=this.inputmask,q=z.opts,te=z._valueGet(!0),z.skipInputEvent=!0,C.clipboardData&&C.clipboardData.getData?re=C.clipboardData.getData("text/plain"):Q.default.clipboardData&&Q.default.clipboardData.getData&&(re=Q.default.clipboardData.getData("Text")),I(z,B,te,re,q.onBeforePaste),C.preventDefault();case 7:case"end":return ne.stop()}}),e,this)})),oe=function(){var C=this,I=arguments;return new Promise((function(B,z){var q=se.apply(C,I);function r(C){v(q,B,z,r,o,"next",C)}function o(C){v(q,B,z,r,o,"throw",C)}r(void 0)}))},function(C){return oe.apply(this,arguments)}),inputFallBackEvent:function(C){var I,B=this.inputmask,z=B.opts,Q=B.dependencyLib,re=this,se=re.inputmask._valueGet(!0),oe=(B.isRTL?ie.getBuffer.call(B).slice().reverse():ie.getBuffer.call(B)).join(""),le=ie.caret.call(B,re,void 0,void 0,!0);if(oe!==se){if(I=function(C,I,q){for(var Q,ee,te,re=C.substr(0,q.begin).split(""),se=C.substr(q.begin).split(""),oe=I.substr(0,q.begin).split(""),ae=I.substr(q.begin).split(""),le=re.length>=oe.length?re.length:oe.length,ue=se.length>=ae.length?se.length:ae.length,de="",ce=[],he="~";re.length<le;)re.push(he);for(;oe.length<le;)oe.push(he);for(;se.length<ue;)se.unshift(he);for(;ae.length<ue;)ae.unshift(he);var fe=re.concat(se),pe=oe.concat(ae);for(ee=0,Q=fe.length;ee<Q;ee++)switch(te=ne.getPlaceholder.call(B,ie.translatePosition.call(B,ee)),de){case"insertText":pe[ee-1]===fe[ee]&&q.begin==fe.length-1&&ce.push(fe[ee]),ee=Q;break;case"insertReplacementText":case"deleteContentBackward":fe[ee]===he?q.end++:ee=Q;break;default:fe[ee]!==pe[ee]&&(fe[ee+1]!==he&&fe[ee+1]!==te&&void 0!==fe[ee+1]||(pe[ee]!==te||pe[ee+1]!==he)&&pe[ee]!==he?pe[ee+1]===he&&pe[ee]===fe[ee+1]?(de="insertText",ce.push(fe[ee]),q.begin--,q.end--):fe[ee]!==te&&fe[ee]!==he&&(fe[ee+1]===he||pe[ee]!==fe[ee]&&pe[ee+1]===fe[ee+1])?(de="insertReplacementText",ce.push(fe[ee]),q.begin--):fe[ee]===he?(de="deleteContentBackward",(ie.isMask.call(B,ie.translatePosition.call(B,ee),!0)||pe[ee]===z.radixPoint)&&q.end++):ee=Q:(de="insertText",ce.push(fe[ee]),q.begin--,q.end--))}return{action:de,data:ce,caret:q}}(se,oe,le),(re.inputmask.shadowRoot||re.ownerDocument).activeElement!==re&&re.focus(),(0,ee.writeBuffer)(re,ie.getBuffer.call(B)),ie.caret.call(B,re,le.begin,le.end,!0),!q.mobile&&B.skipNextInsert&&"insertText"===C.inputType&&"insertText"===I.action&&B.isComposing)return!1;switch("insertCompositionText"===C.inputType&&"insertText"===I.action&&B.isComposing?B.skipNextInsert=!0:B.skipNextInsert=!1,I.action){case"insertText":case"insertReplacementText":I.data.forEach((function(C,I){var z=new Q.Event("keypress");z.key=C,B.ignorable=!1,ae.keypressEvent.call(re,z)})),setTimeout((function(){B.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var ue=new Q.Event("keydown");ue.key=te.keys.Backspace,ae.keyEvent.call(re,ue);break;default:(0,ee.applyInputValue)(re,se),ie.caret.call(B,re,le.begin,le.end,!0)}C.preventDefault()}},setValueEvent:function(C){var I=this.inputmask,B=I.dependencyLib,z=this,q=C&&C.detail?C.detail[0]:arguments[1];void 0===q&&(q=z.inputmask._valueGet(!0)),(0,ee.applyInputValue)(z,q,new B.Event("input")),(C.detail&&void 0!==C.detail[1]||void 0!==arguments[2])&&ie.caret.call(I,z,C.detail?C.detail[1]:arguments[2])},focusEvent:function(C){var I=this.inputmask,B=I.opts,z=I&&I._valueGet();B.showMaskOnFocus&&z!==ie.getBuffer.call(I).join("")&&(0,ee.writeBuffer)(this,ie.getBuffer.call(I),ie.seekNext.call(I,ie.getLastValidPosition.call(I))),!0!==B.positionCaretOnTab||!1!==I.mouseEnter||re.isComplete.call(I,ie.getBuffer.call(I))&&-1!==ie.getLastValidPosition.call(I)||ae.clickEvent.apply(this,[C,!0]),I.undoValue=I&&I._valueGet(!0)},invalidEvent:function(C){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var C=this.inputmask,I=C.opts,B=this;C.mouseEnter=!1,I.clearMaskOnLostFocus&&(B.inputmask.shadowRoot||B.ownerDocument).activeElement!==B&&(0,ee.HandleNativePlaceholder)(B,C.originalPlaceholder)},clickEvent:function(C,I){var B=this.inputmask;B.clicked++;var z=this;if((z.inputmask.shadowRoot||z.ownerDocument).activeElement===z){var q=ie.determineNewCaretPosition.call(B,ie.caret.call(B,z),I);void 0!==q&&ie.caret.call(B,z,q)}},cutEvent:function(C){var I=this.inputmask,B=I.maskset,z=this,q=ie.caret.call(I,z),ne=I.isRTL?ie.getBuffer.call(I).slice(q.end,q.begin):ie.getBuffer.call(I).slice(q.begin,q.end),se=I.isRTL?ne.reverse().join(""):ne.join("");Q.default.navigator&&Q.default.navigator.clipboard?Q.default.navigator.clipboard.writeText(se):Q.default.clipboardData&&Q.default.clipboardData.getData&&Q.default.clipboardData.setData("Text",se),re.handleRemove.call(I,z,te.keys.Delete,q),(0,ee.writeBuffer)(z,ie.getBuffer.call(I),B.p,C,I.undoValue!==I._valueGet(!0))},blurEvent:function(C){var I=this.inputmask,B=I.opts,z=I.dependencyLib;I.clicked=0;var q=z(this),Q=this;if(Q.inputmask){(0,ee.HandleNativePlaceholder)(Q,I.originalPlaceholder);var te=Q.inputmask._valueGet(),ne=ie.getBuffer.call(I).slice();""!==te&&(B.clearMaskOnLostFocus&&(-1===ie.getLastValidPosition.call(I)&&te===ie.getBufferTemplate.call(I).join("")?ne=[]:ee.clearOptionalTail.call(I,ne)),!1===re.isComplete.call(I,ne)&&(setTimeout((function(){q.trigger("incomplete")}),0),B.clearIncomplete&&(ie.resetMaskSet.call(I,!1),ne=B.clearMaskOnLostFocus?[]:ie.getBufferTemplate.call(I).slice())),(0,ee.writeBuffer)(Q,ne,void 0,C)),te=I._valueGet(!0),I.undoValue!==te&&(""!=te||I.undoValue!=ie.getBufferTemplate.call(I).join("")||I.undoValue==ie.getBufferTemplate.call(I).join("")&&I.maskset.validPositions.length>0)&&(I.undoValue=te,q.trigger("change"))}},mouseenterEvent:function(){var C=this.inputmask,I=C.opts.showMaskOnHover,B=this;if(C.mouseEnter=!0,(B.inputmask.shadowRoot||B.ownerDocument).activeElement!==B){var z=(C.isRTL?ie.getBufferTemplate.call(C).slice().reverse():ie.getBufferTemplate.call(C)).join("");I&&(0,ee.HandleNativePlaceholder)(B,z)}},submitEvent:function(){var C=this.inputmask,I=C.opts;C.undoValue!==C._valueGet(!0)&&C.$el.trigger("change"),-1===ie.getLastValidPosition.call(C)&&C._valueGet&&C._valueGet()===ie.getBufferTemplate.call(C).join("")&&C._valueSet(""),I.clearIncomplete&&!1===re.isComplete.call(C,ie.getBuffer.call(C))&&C._valueSet(""),I.removeMaskOnSubmit&&(C._valueSet(C.unmaskedvalue(),!0),setTimeout((function(){(0,ee.writeBuffer)(C.el,ie.getBuffer.call(C))}),0))},resetEvent:function(){var C=this.inputmask;C.refreshValue=!0,setTimeout((function(){(0,ee.applyInputValue)(C.el,C._valueGet(!0))}),0)}}},9716:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.EventRuler=void 0;var z,q=B(7760),Q=(z=B(2394))&&z.__esModule?z:{default:z},ee=B(2839),te=B(8711);I.EventRuler={on:function(C,I,B){var z=C.inputmask.dependencyLib,s=function(I){I.originalEvent&&(I=I.originalEvent||I,arguments[0]=I);var ie,re=this,ne=re.inputmask,se=ne?ne.opts:void 0;if(void 0===ne&&"FORM"!==this.nodeName){var oe=z.data(re,"_inputmask_opts");z(re).off(),oe&&new Q.default(oe).mask(re)}else{if(["submit","reset","setvalue"].includes(I.type)||"FORM"===this.nodeName||!(re.disabled||re.readOnly&&!("keydown"===I.type&&I.ctrlKey&&I.key===ee.keys.c||!1===se.tabThrough&&I.key===ee.keys.Tab))){switch(I.type){case"input":if(!0===ne.skipInputEvent)return ne.skipInputEvent=!1,I.preventDefault();break;case"click":case"focus":return ne.validationEvent?(ne.validationEvent=!1,C.blur(),(0,q.HandleNativePlaceholder)(C,(ne.isRTL?te.getBufferTemplate.call(ne).slice().reverse():te.getBufferTemplate.call(ne)).join("")),setTimeout((function(){C.focus()}),se.validationEventTimeOut),!1):(ie=arguments,void setTimeout((function(){C.inputmask&&B.apply(re,ie)}),0))}var ae=B.apply(re,arguments);return!1===ae&&(I.preventDefault(),I.stopPropagation()),ae}I.preventDefault()}};["submit","reset"].includes(I)?(s=s.bind(C),null!==C.form&&z(C.form).on(I,s)):z(C).on(I,s),C.inputmask.events[I]=C.inputmask.events[I]||[],C.inputmask.events[I].push(s)},off:function(C,I){if(C.inputmask&&C.inputmask.events){var B=C.inputmask.dependencyLib,z=C.inputmask.events;for(var q in I&&((z=[])[I]=C.inputmask.events[I]),z){for(var Q=z[q];Q.length>0;){var ee=Q.pop();["submit","reset"].includes(q)?null!==C.form&&B(C.form).off(q,ee):B(C).off(q,ee)}delete C.inputmask.events[q]}}}}},219:function(C,I,B){var z=p(B(7184)),q=p(B(2394)),Q=B(2839),ee=B(8711),te=B(4713);function s(C,I){return function(C){if(Array.isArray(C))return C}(C)||function(C,I){var B=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=B){var z,q,Q,ee,te=[],ie=!0,re=!1;try{if(Q=(B=B.call(C)).next,0===I){if(Object(B)!==B)return;ie=!1}else for(;!(ie=(z=Q.call(B)).done)&&(te.push(z.value),te.length!==I);ie=!0);}catch(C){re=!0,q=C}finally{try{if(!ie&&null!=B.return&&(ee=B.return(),Object(ee)!==ee))return}finally{if(re)throw q}}return te}}(C,I)||function(C,I){if(C){if("string"==typeof C)return c(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?c(C,I):void 0}}(C,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}function u(C){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(C)}function f(C,I){for(var B=0;B<I.length;B++){var z=I[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,(q=void 0,q=function(C,I){if("object"!==u(C)||null===C)return C;var B=C[Symbol.toPrimitive];if(void 0!==B){var z=B.call(C,I||"default");if("object"!==u(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}(z.key,"string"),"symbol"===u(q)?q:String(q)),z)}var q}function p(C){return C&&C.__esModule?C:{default:C}}B(1313);var ie=q.default.dependencyLib,re=function(){function e(C,I,B,z){!function(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=C,this.format=I,this.opts=B,this.inputmask=z,this._date=new Date(1,0,1),this.initDateObject(C,this.opts,this.inputmask)}var C,I,B;return C=e,(I=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(C,I,B){var z;for(P(I).lastIndex=0;z=P(I).exec(this.format);){var q=/\d+$/.exec(z[0]),Q=q?z[0][0]+"x":z[0],ee=void 0;if(void 0!==C){if(q){var ie=P(I).lastIndex,re=j.call(B,z.index,I,B&&B.maskset);P(I).lastIndex=ie,ee=C.slice(0,C.indexOf(re.nextMatch[0]))}else{for(var ne=z[0][0],se=z.index;B&&(I.placeholder[te.getTest.call(B,se).match.placeholder]||te.getTest.call(B,se).match.placeholder)===ne;)se++;var oe=se-z.index;ee=C.slice(0,oe||ae[Q]&&ae[Q][4]||Q.length)}C=C.slice(ee.length)}Object.prototype.hasOwnProperty.call(ae,Q)&&this.setValue(this,ee,Q,ae[Q][2],ae[Q][1])}}},{key:"setValue",value:function(C,I,B,z,q){if(void 0!==I)switch(z){case"ampm":C[z]=I,C["raw"+z]=I.replace(/\s/g,"_");break;case"month":if("mmm"===B||"mmmm"===B){C[z]=_("mmm"===B?se.monthNames.slice(0,12).findIndex((function(C){return I.toLowerCase()===C.toLowerCase()}))+1:se.monthNames.slice(12,24).findIndex((function(C){return I.toLowerCase()===C.toLowerCase()}))+1,2),C[z]="00"===C[z]?"":C[z].toString(),C["raw"+z]=C[z];break}default:C[z]=I.replace(/[^0-9]/g,"0"),C["raw"+z]=I.replace(/\s/g,"_")}if(void 0!==q){var Q=C[z];("day"===z&&29===parseInt(Q)||"month"===z&&2===parseInt(Q))&&(29!==parseInt(C.day)||2!==parseInt(C.month)||""!==C.year&&void 0!==C.year||C._date.setFullYear(2012,1,29)),"day"===z&&(oe=!0,0===parseInt(Q)&&(Q=1)),"month"===z&&(oe=!0),"year"===z&&(oe=!0,Q.length<ae[B][4]&&(Q=_(Q,ae[B][4],!0))),(""!==Q&&!isNaN(Q)||"ampm"===z)&&q.call(C._date,Q)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&f(C.prototype,I),B&&f(C,B),Object.defineProperty(C,"prototype",{writable:!1}),e}(),ne=(new Date).getFullYear(),se=q.default.prototype.i18n,oe=!1,ae={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return _(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(C){var I=C?parseInt(C):0;return I>0&&I--,Date.prototype.setMonth.call(this,I)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(C){var I=C?parseInt(C):0;return I>0&&I--,Date.prototype.setMonth.call(this,I)},"month",function(){return _(Date.prototype.getMonth.call(this)+1,2)}],mmm:[se.monthNames.slice(0,12).join("|"),function(C){var I=se.monthNames.slice(0,12).findIndex((function(I){return C.toLowerCase()===I.toLowerCase()}));return-1!==I&&Date.prototype.setMonth.call(this,I)},"month",function(){return se.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[se.monthNames.slice(12,24).join("|"),function(C){var I=se.monthNames.slice(12,24).findIndex((function(I){return C.toLowerCase()===I.toLowerCase()}));return-1!==I&&Date.prototype.setMonth.call(this,I)},"month",function(){return se.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(C){var I=(new Date).getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(I).concat(C))},"year",function(){return _(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return _(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return _(Date.prototype.getHours.call(this),2)}],hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return _(Date.prototype.getHours.call(this),2)}],Hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return function(){return _(Date.prototype.getHours.call(this),C)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return _(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return _(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return _(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return _(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",b,"ampm",x,1],tt:["[ap]m",b,"ampm",x,2],T:["[AP]",b,"ampm",x,1],TT:["[AP]M",b,"ampm",x,2],Z:[".*",void 0,"Z",function(){var C=this.toString().match(/\((.+)\)/)[1];return C.includes(" ")&&(C=(C=C.replace("-"," ").toUpperCase()).split(" ").map((function(C){return s(C,1)[0]})).join("")),C}],o:[""],S:[""]},le={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function b(C){var I=this.getHours();C.toLowerCase().includes("p")?this.setHours(I+12):C.toLowerCase().includes("a")&&I>=12&&this.setHours(I-12)}function x(){var C=this.getHours();return(C=C||12)>=12?"PM":"AM"}function w(C){var I=/\d+$/.exec(C[0]);if(I&&void 0!==I[0]){var B=ae[C[0][0]+"x"].slice("");return B[0]=B[0](I[0]),B[3]=B[3](I[0]),B}if(ae[C[0]])return ae[C[0]]}function P(C){if(!C.tokenizer){var I=[],B=[];for(var z in ae)if(/\.*x$/.test(z)){var q=z[0]+"\\d+";-1===B.indexOf(q)&&B.push(q)}else-1===I.indexOf(z[0])&&I.push(z[0]);C.tokenizer="("+(B.length>0?B.join("|")+"|":"")+I.join("+|")+")+?|.",C.tokenizer=new RegExp(C.tokenizer,"g")}return C.tokenizer}function S(C,I,B){if(!oe)return!0;if(void 0===C.rawday||!isFinite(C.rawday)&&new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day||"29"==C.day&&(!isFinite(C.rawyear)||void 0===C.rawyear||""===C.rawyear)||new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day)return I;if("29"==C.day){var z=j.call(this,I.pos,B,this.maskset);if(z.targetMatch&&"yyyy"===z.targetMatch[0]&&I.pos-z.targetMatchIndex==2)return I.remove=I.pos+1,I}else if(2==C.date.getMonth()&&"30"==C.day&&void 0!==I.c)return C.day="03",C.date.setDate(3),C.date.setMonth(1),I.insert=[{pos:I.pos,c:"0"},{pos:I.pos+1,c:I.c}],I.caret=ee.seekNext.call(this,I.pos+1),I;return!1}function O(C,I,B,q){var Q,ee,te="",ie=0,re={};for(P(B).lastIndex=0;Q=P(B).exec(C);){if(void 0===I)if(ee=w(Q))te+="("+ee[0]+")",B.placeholder&&""!==B.placeholder?(re[ie]=B.placeholder[Q.index%B.placeholder.length],re[B.placeholder[Q.index%B.placeholder.length]]=Q[0].charAt(0)):re[ie]=Q[0].charAt(0);else switch(Q[0]){case"[":te+="(";break;case"]":te+=")?";break;default:te+=(0,z.default)(Q[0]),re[ie]=Q[0].charAt(0)}else(ee=w(Q))?!0!==q&&ee[3]?te+=ee[3].call(I.date):ee[2]?te+=I["raw"+ee[2]]:te+=Q[0]:te+=Q[0];ie++}return void 0===I&&(B.placeholder=re),te}function _(C,I,B){for(C=String(C),I=I||2;C.length<I;)C=B?C+"0":"0"+C;return C}function M(C,I,B){return"string"==typeof C?new re(C,I,B,this):C&&"object"===u(C)&&Object.prototype.hasOwnProperty.call(C,"date")?C:void 0}function E(C,I){return O(I.inputFormat,{date:C},I)}function j(C,I,B){var z,q,Q=this,ee=B&&B.tests[C]?I.placeholder[B.tests[C][0].match.placeholder]||B.tests[C][0].match.placeholder:"",ie=0,re=0;for(P(I).lastIndex=0;q=P(I).exec(I.inputFormat);){var ne=/\d+$/.exec(q[0]);if(ne)re=parseInt(ne[0]);else{for(var se=q[0][0],oe=ie;Q&&(I.placeholder[te.getTest.call(Q,oe).match.placeholder]||te.getTest.call(Q,oe).match.placeholder)===se;)oe++;0==(re=oe-ie)&&(re=q[0].length)}if(ie+=re,-1!=q[0].indexOf(ee)||ie>=C+1){z=q,q=P(I).exec(I.inputFormat);break}}return{targetMatchIndex:ie-re,nextMatch:q,targetMatch:z}}q.default.extendAliases({datetime:{mask:function(C){return C.numericInput=!1,ae.S=se.ordinalSuffix.join("|"),C.inputFormat=le[C.inputFormat]||C.inputFormat,C.displayFormat=le[C.displayFormat]||C.displayFormat||C.inputFormat,C.outputFormat=le[C.outputFormat]||C.outputFormat||C.inputFormat,C.regex=O(C.inputFormat,void 0,C),C.min=M(C.min,C.inputFormat,C),C.max=M(C.max,C.inputFormat,C),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(C,I,B,z,q,Q,ee,te){if(te)return!0;if(isNaN(B)&&C[I]!==B){var ie=j.call(this,I,q,Q);if(ie.nextMatch&&ie.nextMatch[0]===B&&ie.targetMatch[0].length>1){var re=w(ie.targetMatch)[0];if(new RegExp(re).test("0"+C[I-1]))return C[I]=C[I-1],C[I-1]="0",{fuzzy:!0,buffer:C,refreshFromBuffer:{start:I-1,end:I+1},pos:I+1}}}return!0},postValidation:function(C,I,B,z,q,Q,ee,ie){var re,se,oe=this;if(ee)return!0;if(!1===z&&(((re=j.call(oe,I+1,q,Q)).targetMatch&&re.targetMatchIndex===I&&re.targetMatch[0].length>1&&void 0!==ae[re.targetMatch[0]]||(re=j.call(oe,I+2,q,Q)).targetMatch&&re.targetMatchIndex===I+1&&re.targetMatch[0].length>1&&void 0!==ae[re.targetMatch[0]])&&(se=w(re.targetMatch)[0]),void 0!==se&&(void 0!==Q.validPositions[I+1]&&new RegExp(se).test(B+"0")?(C[I]=B,C[I+1]="0",z={pos:I+2,caret:I}):new RegExp(se).test("0"+B)&&(C[I]="0",C[I+1]=B,z={pos:I+2})),!1===z))return z;if(z.fuzzy&&(C=z.buffer,I=z.pos),(re=j.call(oe,I,q,Q)).targetMatch&&re.targetMatch[0]&&void 0!==ae[re.targetMatch[0]]){var le=w(re.targetMatch);se=le[0];var ue=C.slice(re.targetMatchIndex,re.targetMatchIndex+re.targetMatch[0].length);if(!1===new RegExp(se).test(ue.join(""))&&2===re.targetMatch[0].length&&Q.validPositions[re.targetMatchIndex]&&Q.validPositions[re.targetMatchIndex+1]&&(Q.validPositions[re.targetMatchIndex+1].input="0"),"year"==le[2])for(var de=te.getMaskTemplate.call(oe,!1,1,void 0,!0),ce=I+1;ce<C.length;ce++)C[ce]=de[ce],Q.validPositions.splice(I+1,1)}var he=z,fe=M.call(oe,C.join(""),q.inputFormat,q);return he&&!isNaN(fe.date.getTime())&&(q.prefillYear&&(he=function(C,I,B){if(C.year!==C.rawyear){var z=ne.toString(),q=C.rawyear.replace(/[^0-9]/g,""),Q=z.slice(0,q.length),ee=z.slice(q.length);if(2===q.length&&q===Q){var te=new Date(ne,C.month-1,C.day);C.day==te.getDate()&&(!B.max||B.max.date.getTime()>=te.getTime())&&(C.date.setFullYear(ne),C.year=z,I.insert=[{pos:I.pos+1,c:ee[0]},{pos:I.pos+2,c:ee[1]}])}}return I}(fe,he,q)),he=function(C,I,B,z){if(!I)return I;if(I&&B.min&&!isNaN(B.min.date.getTime())){var q;for(C.reset(),P(B).lastIndex=0;q=P(B).exec(B.inputFormat);){var Q;if((Q=w(q))&&Q[3]){for(var ee=Q[1],te=C[Q[2]],ie=B.min[Q[2]],re=B.max?B.max[Q[2]]:ie+1,ne=[],se=!1,oe=0;oe<ie.length;oe++)void 0!==z.validPositions[oe+q.index]||se?(ne[oe]=te[oe],se=se||te[oe]>ie[oe]):(oe+q.index==0&&te[oe]<ie[oe]?(ne[oe]=te[oe],se=!0):ne[oe]=ie[oe],"year"===Q[2]&&te.length-1==oe&&ie!=re&&(ne=(parseInt(ne.join(""))+1).toString().split("")),"ampm"===Q[2]&&ie!=re&&B.min.date.getTime()>C.date.getTime()&&(ne[oe]=re[oe]));ee.call(C._date,ne.join(""))}}I=B.min.date.getTime()<=C.date.getTime(),C.reInit()}return I&&B.max&&(isNaN(B.max.date.getTime())||(I=B.max.date.getTime()>=C.date.getTime())),I}(fe,he=S.call(oe,fe,he,q),q,Q)),void 0!==I&&he&&z.pos!==I?{buffer:O(q.inputFormat,fe,q).split(""),refreshFromBuffer:{start:I,end:z.pos},pos:z.caret||z.pos}:he},onKeyDown:function(C,I,B,z){C.ctrlKey&&C.key===Q.keys.ArrowRight&&(this.inputmask._valueSet(E(new Date,z)),ie(this).trigger("setvalue"))},onUnMask:function(C,I,B){return I?O(B.outputFormat,M.call(this,C,B.inputFormat,B),B,!0):I},casing:function(C,I,B,z){if(0==I.nativeDef.indexOf("[ap]"))return C.toLowerCase();if(0==I.nativeDef.indexOf("[AP]"))return C.toUpperCase();var q=te.getTest.call(this,[B-1]);return 0==q.match.def.indexOf("[AP]")||0===B||q&&q.input===String.fromCharCode(Q.keyCode.Space)||q&&q.match.def===String.fromCharCode(Q.keyCode.Space)?C.toUpperCase():C.toLowerCase()},onBeforeMask:function(C,I){return"[object Date]"===Object.prototype.toString.call(C)&&(C=E(C,I)),C},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(C,I,B){var z,q=(z=B(2394))&&z.__esModule?z:{default:z};q.default.dependencyLib.extend(!0,q.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(C,I,B){var z,q=(z=B(2394))&&z.__esModule?z:{default:z},Q=B(8711),ee=B(4713);function l(C){return function(C){if(Array.isArray(C))return s(C)}(C)||function(C){if("undefined"!=typeof Symbol&&null!=C[Symbol.iterator]||null!=C["@@iterator"])return Array.from(C)}(C)||function(C,I){if(C){if("string"==typeof C)return s(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?s(C,I):void 0}}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}q.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var te=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function u(C,I,B,z,q){if(B-1>-1&&"."!==I.buffer[B-1]?(C=I.buffer[B-1]+C,C=B-2>-1&&"."!==I.buffer[B-2]?I.buffer[B-2]+C:"0"+C):C="00"+C,q.greedy&&parseInt(C)>255&&te.test("00"+C.charAt(2))){var Q=[].concat(l(I.buffer.slice(0,B)),[".",C.charAt(2)]);if(Q.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:Q,caret:B+2}}return te.test(C)}q.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:u},j:{validator:u},k:{validator:u},l:{validator:u}},onUnMask:function(C,I,B){return C},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(C){var I=C.separator,B=C.quantifier,z="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",q=z;if(I)for(var Q=0;Q<B;Q++)q+="[".concat(I).concat(z,"]");return q},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(C,I){return(C=C.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(C,I,B){return C},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(C,I,B,z,q,te,ie){var re=ee.getMaskTemplate.call(this,!0,Q.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(re.join(""))}}})},207:function(C,I,B){var z=l(B(7184)),q=l(B(2394)),Q=B(2839),ee=B(8711);function l(C){return C&&C.__esModule?C:{default:C}}var te=q.default.dependencyLib;function c(C,I){for(var B="",z=0;z<C.length;z++)q.default.prototype.definitions[C.charAt(z)]||I.definitions[C.charAt(z)]||I.optionalmarker[0]===C.charAt(z)||I.optionalmarker[1]===C.charAt(z)||I.quantifiermarker[0]===C.charAt(z)||I.quantifiermarker[1]===C.charAt(z)||I.groupmarker[0]===C.charAt(z)||I.groupmarker[1]===C.charAt(z)||I.alternatormarker===C.charAt(z)?B+="\\"+C.charAt(z):B+=C.charAt(z);return B}function u(C,I,B,z){if(C.length>0&&I>0&&(!B.digitsOptional||z)){var q=C.indexOf(B.radixPoint),Q=!1;B.negationSymbol.back===C[C.length-1]&&(Q=!0,C.length--),-1===q&&(C.push(B.radixPoint),q=C.length-1);for(var ee=1;ee<=I;ee++)isFinite(C[q+ee])||(C[q+ee]="0")}return Q&&C.push(B.negationSymbol.back),C}function f(C,I){var B=0;for(var z in"+"===C&&(B=ee.seekNext.call(this,I.validPositions.length-1)),I.tests)if((z=parseInt(z))>=B)for(var q=0,Q=I.tests[z].length;q<Q;q++)if((void 0===I.validPositions[z]||"-"===C)&&I.tests[z][q].match.def===C)return z+(void 0!==I.validPositions[z]&&"-"!==C?1:0);return B}function p(C,I){for(var B=-1,z=0,q=I.validPositions.length;z<q;z++){var Q=I.validPositions[z];if(Q&&Q.match.def===C){B=z;break}}return B}function d(C,I,B,z,q){var Q=I.buffer?I.buffer.indexOf(q.radixPoint):-1,ee=(-1!==Q||z&&q.jitMasking)&&new RegExp(q.definitions[9].validator).test(C);return!z&&q._radixDance&&-1!==Q&&ee&&null==I.validPositions[Q]?{insert:{pos:Q===B?Q+1:Q,c:q.radixPoint},pos:B}:ee}q.default.extendAliases({numeric:{mask:function(C){C.repeat=0,C.groupSeparator===C.radixPoint&&C.digits&&"0"!==C.digits&&("."===C.radixPoint?C.groupSeparator=",":","===C.radixPoint?C.groupSeparator=".":C.groupSeparator="")," "===C.groupSeparator&&(C.skipOptionalPartCharacter=void 0),C.placeholder.length>1&&(C.placeholder=C.placeholder.charAt(0)),"radixFocus"===C.positionCaretOnClick&&""===C.placeholder&&(C.positionCaretOnClick="lvp");var I="0",B=C.radixPoint;!0===C.numericInput&&void 0===C.__financeInput?(I="1",C.positionCaretOnClick="radixFocus"===C.positionCaretOnClick?"lvp":C.positionCaretOnClick,C.digitsOptional=!1,isNaN(C.digits)&&(C.digits=2),C._radixDance=!1,B=","===C.radixPoint?"?":"!",""!==C.radixPoint&&void 0===C.definitions[B]&&(C.definitions[B]={},C.definitions[B].validator="["+C.radixPoint+"]",C.definitions[B].placeholder=C.radixPoint,C.definitions[B].static=!0,C.definitions[B].generated=!0)):(C.__financeInput=!1,C.numericInput=!0);var q,Q="[+]";if(Q+=c(C.prefix,C),""!==C.groupSeparator?(void 0===C.definitions[C.groupSeparator]&&(C.definitions[C.groupSeparator]={},C.definitions[C.groupSeparator].validator="["+C.groupSeparator+"]",C.definitions[C.groupSeparator].placeholder=C.groupSeparator,C.definitions[C.groupSeparator].static=!0,C.definitions[C.groupSeparator].generated=!0),Q+=C._mask(C)):Q+="9{+}",void 0!==C.digits&&0!==C.digits){var ee=C.digits.toString().split(",");isFinite(ee[0])&&ee[1]&&isFinite(ee[1])?Q+=B+I+"{"+C.digits+"}":(isNaN(C.digits)||parseInt(C.digits)>0)&&(C.digitsOptional||C.jitMasking?(q=Q+B+I+"{0,"+C.digits+"}",C.keepStatic=!0):Q+=B+I+"{"+C.digits+"}")}else C.inputmode="numeric";return Q+=c(C.suffix,C),Q+="[-]",q&&(Q=[q+c(C.suffix,C)+"[-]",Q]),C.greedy=!1,function(C){void 0===C.parseMinMaxOptions&&(null!==C.min&&(C.min=C.min.toString().replace(new RegExp((0,z.default)(C.groupSeparator),"g"),""),","===C.radixPoint&&(C.min=C.min.replace(C.radixPoint,".")),C.min=isFinite(C.min)?parseFloat(C.min):NaN,isNaN(C.min)&&(C.min=Number.MIN_VALUE)),null!==C.max&&(C.max=C.max.toString().replace(new RegExp((0,z.default)(C.groupSeparator),"g"),""),","===C.radixPoint&&(C.max=C.max.replace(C.radixPoint,".")),C.max=isFinite(C.max)?parseFloat(C.max):NaN,isNaN(C.max)&&(C.max=Number.MAX_VALUE)),C.parseMinMaxOptions="done")}(C),""!==C.radixPoint&&C.substituteRadixPoint&&(C.substitutes["."==C.radixPoint?",":"."]=C.radixPoint),Q},_mask:function(C){return"("+C.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:d},1:{validator:d,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(C,I,B,z,q){return q.allowMinus&&("-"===C||C===q.negationSymbol.front)}},"-":{validator:function(C,I,B,z,q){return q.allowMinus&&C===q.negationSymbol.back}}},preValidation:function(C,I,B,z,q,Q,ee,te){var ie=this;if(!1!==q.__financeInput&&B===q.radixPoint)return!1;var re=C.indexOf(q.radixPoint),ne=I;if(I=function(C,I,B,z,q){return q._radixDance&&q.numericInput&&I!==q.negationSymbol.back&&C<=B&&(B>0||I==q.radixPoint)&&(void 0===z.validPositions[C-1]||z.validPositions[C-1].input!==q.negationSymbol.back)&&(C-=1),C}(I,B,re,Q,q),"-"===B||B===q.negationSymbol.front){if(!0!==q.allowMinus)return!1;var se=!1,oe=p("+",Q),ae=p("-",Q);return-1!==oe&&(se=[oe],-1!==ae&&se.push(ae)),!1!==se?{remove:se,caret:ne-q.negationSymbol.back.length}:{insert:[{pos:f.call(ie,"+",Q),c:q.negationSymbol.front,fromIsValid:!0},{pos:f.call(ie,"-",Q),c:q.negationSymbol.back,fromIsValid:void 0}],caret:ne+q.negationSymbol.back.length}}if(B===q.groupSeparator)return{caret:ne};if(te)return!0;if(-1!==re&&!0===q._radixDance&&!1===z&&B===q.radixPoint&&void 0!==q.digits&&(isNaN(q.digits)||parseInt(q.digits)>0)&&re!==I){var le=f.call(ie,q.radixPoint,Q);return Q.validPositions[le]&&(Q.validPositions[le].generatedInput=Q.validPositions[le].generated||!1),{caret:q._radixDance&&I===re-1?re+1:re}}if(!1===q.__financeInput)if(z){if(q.digitsOptional)return{rewritePosition:ee.end};if(!q.digitsOptional){if(ee.begin>re&&ee.end<=re)return B===q.radixPoint?{insert:{pos:re+1,c:"0",fromIsValid:!0},rewritePosition:re}:{rewritePosition:re+1};if(ee.begin<re)return{rewritePosition:ee.begin-1}}}else if(!q.showMaskOnHover&&!q.showMaskOnFocus&&!q.digitsOptional&&q.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:re};return{rewritePosition:I}},postValidation:function(C,I,B,z,q,Q,ee){if(!1===z)return z;if(ee)return!0;if(null!==q.min||null!==q.max){var ie=q.onUnMask(C.slice().reverse().join(""),void 0,te.extend({},q,{unmaskAsNumber:!0}));if(null!==q.min&&ie<q.min&&(ie.toString().length>q.min.toString().length||ie<0))return!1;if(null!==q.max&&ie>q.max)return!!q.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:u(q.max.toString().replace(".",q.radixPoint).split(""),q.digits,q).reverse()}}return z},onUnMask:function(C,I,B){if(""===I&&!0===B.nullable)return I;var q=C.replace(B.prefix,"");return q=(q=q.replace(B.suffix,"")).replace(new RegExp((0,z.default)(B.groupSeparator),"g"),""),""!==B.placeholder.charAt(0)&&(q=q.replace(new RegExp(B.placeholder.charAt(0),"g"),"0")),B.unmaskAsNumber?(""!==B.radixPoint&&-1!==q.indexOf(B.radixPoint)&&(q=q.replace(z.default.call(this,B.radixPoint),".")),q=(q=q.replace(new RegExp("^"+(0,z.default)(B.negationSymbol.front)),"-")).replace(new RegExp((0,z.default)(B.negationSymbol.back)+"$"),""),Number(q)):q},isComplete:function(C,I){var B=(I.numericInput?C.slice().reverse():C).join("");return B=(B=(B=(B=(B=B.replace(new RegExp("^"+(0,z.default)(I.negationSymbol.front)),"-")).replace(new RegExp((0,z.default)(I.negationSymbol.back)+"$"),"")).replace(I.prefix,"")).replace(I.suffix,"")).replace(new RegExp((0,z.default)(I.groupSeparator)+"([0-9]{3})","g"),"$1"),","===I.radixPoint&&(B=B.replace((0,z.default)(I.radixPoint),".")),isFinite(B)},onBeforeMask:function(C,I){var B;C=null!==(B=C)&&void 0!==B?B:"";var q=I.radixPoint||",";isFinite(I.digits)&&(I.digits=parseInt(I.digits)),"number"!=typeof C&&"number"!==I.inputType||""===q||(C=C.toString().replace(".",q));var Q="-"===C.charAt(0)||C.charAt(0)===I.negationSymbol.front,ee=C.split(q),te=ee[0].replace(/[^\-0-9]/g,""),ie=ee.length>1?ee[1].replace(/[^0-9]/g,""):"",re=ee.length>1;C=te+(""!==ie?q+ie:ie);var ne=0;if(""!==q&&(ne=I.digitsOptional?I.digits<ie.length?I.digits:ie.length:I.digits,""!==ie||!I.digitsOptional)){var se=Math.pow(10,ne||1);C=C.replace((0,z.default)(q),"."),isNaN(parseFloat(C))||(C=(I.roundingFN(parseFloat(C)*se)/se).toFixed(ne)),C=C.toString().replace(".",q)}if(0===I.digits&&-1!==C.indexOf(q)&&(C=C.substring(0,C.indexOf(q))),null!==I.min||null!==I.max){var oe=C.toString().replace(q,".");null!==I.min&&oe<I.min?C=I.min.toString().replace(".",q):null!==I.max&&oe>I.max&&(C=I.max.toString().replace(".",q))}return Q&&"-"!==C.charAt(0)&&(C="-"+C),u(C.toString().split(""),ne,I,re).join("")},onBeforeWrite:function(C,I,B,q){function r(C,I){if(!1!==q.__financeInput||I){var B=C.indexOf(q.radixPoint);-1!==B&&C.splice(B,1)}if(""!==q.groupSeparator)for(;-1!==(B=C.indexOf(q.groupSeparator));)C.splice(B,1);return C}var Q,ee;if(q.stripLeadingZeroes&&(ee=function(C,I){var B=new RegExp("(^"+(""!==I.negationSymbol.front?(0,z.default)(I.negationSymbol.front)+"?":"")+(0,z.default)(I.prefix)+")(.*)("+(0,z.default)(I.suffix)+(""!=I.negationSymbol.back?(0,z.default)(I.negationSymbol.back)+"?":"")+"$)").exec(C.slice().reverse().join("")),q=B?B[2]:"",Q=!1;return q&&(q=q.split(I.radixPoint.charAt(0))[0],Q=new RegExp("^[0"+I.groupSeparator+"]*").exec(q)),!(!Q||!(Q[0].length>1||Q[0].length>0&&Q[0].length<q.length))&&Q}(I,q)))for(var ie=I.join("").lastIndexOf(ee[0].split("").reverse().join(""))-(ee[0]==ee.input?0:1),re=ee[0]==ee.input?1:0,ne=ee[0].length-re;ne>0;ne--)this.maskset.validPositions.splice(ie+ne,1),delete I[ie+ne];if(C)switch(C.type){case"blur":case"checkval":if(null!==q.min){var se=q.onUnMask(I.slice().reverse().join(""),void 0,te.extend({},q,{unmaskAsNumber:!0}));if(null!==q.min&&se<q.min)return{refreshFromBuffer:!0,buffer:u(q.min.toString().replace(".",q.radixPoint).split(""),q.digits,q).reverse()}}if(I[I.length-1]===q.negationSymbol.front){var oe=new RegExp("(^"+(""!=q.negationSymbol.front?(0,z.default)(q.negationSymbol.front)+"?":"")+(0,z.default)(q.prefix)+")(.*)("+(0,z.default)(q.suffix)+(""!=q.negationSymbol.back?(0,z.default)(q.negationSymbol.back)+"?":"")+"$)").exec(r(I.slice(),!0).reverse().join(""));0==(oe?oe[2]:"")&&(Q={refreshFromBuffer:!0,buffer:[0]})}else""!==q.radixPoint&&I.indexOf(q.radixPoint)===q.suffix.length&&(Q&&Q.buffer?Q.buffer.splice(0,1+q.suffix.length):(I.splice(0,1+q.suffix.length),Q={refreshFromBuffer:!0,buffer:r(I)}));if(q.enforceDigitsOnBlur){var ae=(Q=Q||{})&&Q.buffer||I.slice().reverse();Q.refreshFromBuffer=!0,Q.buffer=u(ae,q.digits,q,!0).reverse()}}return Q},onKeyDown:function(C,I,B,z){var q,ee=te(this);if(3!=C.location){var ie,re=C.key;if((ie=z.shortcuts&&z.shortcuts[re])&&ie.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(ie)),ee.trigger("setvalue"),!1}if(C.ctrlKey)switch(C.key){case Q.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(z.step)),ee.trigger("setvalue"),!1;case Q.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(z.step)),ee.trigger("setvalue"),!1}if(!C.shiftKey&&(C.key===Q.keys.Delete||C.key===Q.keys.Backspace||C.key===Q.keys.BACKSPACE_SAFARI)&&B.begin!==I.length){if(I[C.key===Q.keys.Delete?B.begin-1:B.end]===z.negationSymbol.front)return q=I.slice().reverse(),""!==z.negationSymbol.front&&q.shift(),""!==z.negationSymbol.back&&q.pop(),ee.trigger("setvalue",[q.join(""),B.begin]),!1;if(!0===z._radixDance){var ne,se=I.indexOf(z.radixPoint);if(z.digitsOptional){if(0===se)return(q=I.slice().reverse()).pop(),ee.trigger("setvalue",[q.join(""),B.begin>=q.length?q.length:B.begin]),!1}else if(-1!==se&&(B.begin<se||B.end<se||C.key===Q.keys.Delete&&(B.begin===se||B.begin-1===se)))return B.begin===B.end&&(C.key===Q.keys.Backspace||C.key===Q.keys.BACKSPACE_SAFARI?B.begin++:C.key===Q.keys.Delete&&B.begin-1===se&&(ne=te.extend({},B),B.begin--,B.end--)),(q=I.slice().reverse()).splice(q.length-B.begin,B.begin-B.end+1),q=u(q,z.digits,z).join(""),ne&&(B=ne),ee.trigger("setvalue",[q,B.begin>=q.length?se+1:B.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(C){return"("+C.groupSeparator+"99){*|1}("+C.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=!("undefined"==typeof window||!window.document||!window.document.createElement);I.default=B?window:{}},7760:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.HandleNativePlaceholder=function(C,I){var B=C?C.inputmask:this;if(z.ie){if(C.inputmask._valueGet()!==I&&(C.placeholder!==I||""===C.placeholder)){var q=ee.getBuffer.call(B).slice(),Q=C.inputmask._valueGet();if(Q!==I){var te=ee.getLastValidPosition.call(B);-1===te&&Q===ee.getBufferTemplate.call(B).join("")?q=[]:-1!==te&&u.call(B,q),p(C,q)}}}else C.placeholder!==I&&(C.placeholder=I,""===C.placeholder&&C.removeAttribute("placeholder"))},I.applyInputValue=c,I.checkVal=f,I.clearOptionalTail=u,I.unmaskedvalue=function(C){var I=C?C.inputmask:this,B=I.opts,z=I.maskset;if(C){if(void 0===C.inputmask)return C.value;C.inputmask&&C.inputmask.refreshValue&&c(C,C.inputmask._valueGet(!0))}for(var q=[],Q=z.validPositions,te=0,ie=Q.length;te<ie;te++)Q[te]&&Q[te].match&&(1!=Q[te].match.static||Array.isArray(z.metadata)&&!0!==Q[te].generatedInput)&&q.push(Q[te].input);var re=0===q.length?"":(I.isRTL?q.reverse():q).join("");if("function"==typeof B.onUnMask){var ne=(I.isRTL?ee.getBuffer.call(I).slice().reverse():ee.getBuffer.call(I)).join("");re=B.onUnMask.call(I,ne,re,B)}return re},I.writeBuffer=p;var z=B(9845),q=B(6030),Q=B(2839),ee=B(8711),te=B(7215),ie=B(4713);function c(C,I,B){var z=C?C.inputmask:this,q=z.opts;C.inputmask.refreshValue=!1,"function"==typeof q.onBeforeMask&&(I=q.onBeforeMask.call(z,I,q)||I),f(C,!0,!1,I=(I||"").toString().split(""),B),z.undoValue=z._valueGet(!0),(q.clearMaskOnLostFocus||q.clearIncomplete)&&C.inputmask._valueGet()===ee.getBufferTemplate.call(z).join("")&&-1===ee.getLastValidPosition.call(z)&&C.inputmask._valueSet("")}function u(C){C.length=0;for(var I,B=ie.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(I=B.shift());)C.push(I);return C}function f(C,I,B,z,Q){var re,ne=C?C.inputmask:this,se=ne.maskset,oe=ne.opts,ae=ne.dependencyLib,le=z.slice(),ue="",de=-1,ce=oe.skipOptionalPartCharacter;oe.skipOptionalPartCharacter="",ee.resetMaskSet.call(ne,!1),ne.clicked=0,de=oe.radixPoint?ee.determineNewCaretPosition.call(ne,{begin:0,end:0},!1,!1===oe.__financeInput?"radixFocus":void 0).begin:0,se.p=de,ne.caretPos={begin:de};var he=[],fe=ne.caretPos;if(le.forEach((function(C,I){if(void 0!==C){var z=new ae.Event("_checkval");z.key=C,ue+=C;var Q=ee.getLastValidPosition.call(ne,void 0,!0);!function(C,I){for(var B=ie.getMaskTemplate.call(ne,!0,0).slice(C,ee.seekNext.call(ne,C,!1,!1)).join("").replace(/'/g,""),z=B.indexOf(I);z>0&&" "===B[z-1];)z--;var q=0===z&&!ee.isMask.call(ne,C)&&(ie.getTest.call(ne,C).match.nativeDef===I.charAt(0)||!0===ie.getTest.call(ne,C).match.static&&ie.getTest.call(ne,C).match.nativeDef==="'"+I.charAt(0)||" "===ie.getTest.call(ne,C).match.nativeDef&&(ie.getTest.call(ne,C+1).match.nativeDef===I.charAt(0)||!0===ie.getTest.call(ne,C+1).match.static&&ie.getTest.call(ne,C+1).match.nativeDef==="'"+I.charAt(0)));if(!q&&z>0&&!ee.isMask.call(ne,C,!1,!0)){var Q=ee.seekNext.call(ne,C);ne.caretPos.begin<Q&&(ne.caretPos={begin:Q})}return q}(de,ue)?(re=q.EventHandlers.keypressEvent.call(ne,z,!0,!1,B,ne.caretPos.begin))&&(de=ne.caretPos.begin+1,ue=""):re=q.EventHandlers.keypressEvent.call(ne,z,!0,!1,B,Q+1),re?(void 0!==re.pos&&se.validPositions[re.pos]&&!0===se.validPositions[re.pos].match.static&&void 0===se.validPositions[re.pos].alternation&&(he.push(re.pos),ne.isRTL||(re.forwardPosition=re.pos+1)),p.call(ne,void 0,ee.getBuffer.call(ne),re.forwardPosition,z,!1),ne.caretPos={begin:re.forwardPosition,end:re.forwardPosition},fe=ne.caretPos):void 0===se.validPositions[I]&&le[I]===ie.getPlaceholder.call(ne,I)&&ee.isMask.call(ne,I,!0)?ne.caretPos.begin++:ne.caretPos=fe}})),he.length>0){var pe,me,ge=ee.seekNext.call(ne,-1,void 0,!1);if(!te.isComplete.call(ne,ee.getBuffer.call(ne))&&he.length<=ge||te.isComplete.call(ne,ee.getBuffer.call(ne))&&he.length>0&&he.length!==ge&&0===he[0])for(var ve=ge;void 0!==(pe=he.shift());)if(pe<ve){var ye=new ae.Event("_checkval");if((me=se.validPositions[pe]).generatedInput=!0,ye.key=me.input,(re=q.EventHandlers.keypressEvent.call(ne,ye,!0,!1,B,ve))&&void 0!==re.pos&&re.pos!==pe&&se.validPositions[re.pos]&&!0===se.validPositions[re.pos].match.static)he.push(re.pos);else if(!re)break;ve++}}I&&p.call(ne,C,ee.getBuffer.call(ne),re?re.forwardPosition:ne.caretPos.begin,Q||new ae.Event("checkval"),Q&&("input"===Q.type&&ne.undoValue!==ee.getBuffer.call(ne).join("")||"paste"===Q.type)),oe.skipOptionalPartCharacter=ce}function p(C,I,B,z,q){var ie=C?C.inputmask:this,re=ie.opts,ne=ie.dependencyLib;if(z&&"function"==typeof re.onBeforeWrite){var se=re.onBeforeWrite.call(ie,z,I,B,re);if(se){if(se.refreshFromBuffer){var oe=se.refreshFromBuffer;te.refreshFromBuffer.call(ie,!0===oe?oe:oe.start,oe.end,se.buffer||I),I=ee.getBuffer.call(ie,!0)}void 0!==B&&(B=void 0!==se.caret?se.caret:B)}}if(void 0!==C&&(C.inputmask._valueSet(I.join("")),void 0===B||void 0!==z&&"blur"===z.type||ee.caret.call(ie,C,B,void 0,void 0,void 0!==z&&"keydown"===z.type&&(z.key===Q.keys.Delete||z.key===Q.keys.Backspace)),void 0===C.inputmask.writeBufferHook||C.inputmask.writeBufferHook(B),!0===q)){var ae=ne(C),le=C.inputmask._valueGet();C.inputmask.skipInputEvent=!0,ae.trigger("input"),setTimeout((function(){le===ee.getBufferTemplate.call(ie).join("")?ae.trigger("cleared"):!0===te.isComplete.call(ie,I)&&ae.trigger("complete")}),0)}}},2394:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var z=v(B(3976)),q=v(B(7392)),Q=v(B(4963)),ee=B(9716),te=v(B(9380)),ie=B(7760),re=B(157),ne=B(2391),se=B(8711),oe=B(7215),ae=B(4713);function h(C){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},h(C)}function v(C){return C&&C.__esModule?C:{default:C}}var le=te.default.document,ue="_inputmask_opts";function y(C,I,B){if(!(this instanceof y))return new y(C,I,B);this.dependencyLib=Q.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==B&&("[object Object]"===Object.prototype.toString.call(C)?I=C:(I=I||{},C&&(I.alias=C)),this.opts=Q.default.extend(!0,{},this.defaults,I),this.noMasksCache=I&&void 0!==I.definitions,this.userOptions=I||{},k(this.opts.alias,I,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function k(C,I,B){var z=y.prototype.aliases[C];return z?(z.alias&&k(z.alias,void 0,B),Q.default.extend(!0,B,z),Q.default.extend(!0,B,I),!0):(null===B.mask&&(B.mask=C),!1)}y.prototype={dataAttribute:"data-inputmask",defaults:z.default,definitions:q.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(C){var I=this;return"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:Array.isArray(C)?C:[].slice.call(C)).forEach((function(C,B){var z=Q.default.extend(!0,{},I.opts);if(function(C,I,B,z){function a(I,q){var Q=""===z?I:z+"-"+I;null!==(q=void 0!==q?q:C.getAttribute(Q))&&("string"==typeof q&&(0===I.indexOf("on")?q=te.default[q]:"false"===q?q=!1:"true"===q&&(q=!0)),B[I]=q)}if(!0===I.importDataAttributes){var q,ee,ie,re,ne=C.getAttribute(z);if(ne&&""!==ne&&(ne=ne.replace(/'/g,'"'),ee=JSON.parse("{"+ne+"}")),ee)for(re in ie=void 0,ee)if("alias"===re.toLowerCase()){ie=ee[re];break}for(q in a("alias",ie),B.alias&&k(B.alias,B,I),I){if(ee)for(re in ie=void 0,ee)if(re.toLowerCase()===q.toLowerCase()){ie=ee[re];break}a(q,ie)}}return Q.default.extend(!0,I,B),("rtl"===C.dir||I.rightAlign)&&(C.style.textAlign="right"),("rtl"===C.dir||I.numericInput)&&(C.dir="ltr",C.removeAttribute("dir"),I.isRTL=!0),Object.keys(B).length}(C,z,Q.default.extend(!0,{},I.userOptions),I.dataAttribute)){var q=(0,ne.generateMaskSet)(z,I.noMasksCache);void 0!==q&&(void 0!==C.inputmask&&(C.inputmask.opts.autoUnmask=!0,C.inputmask.remove()),C.inputmask=new y(void 0,void 0,!0),C.inputmask.opts=z,C.inputmask.noMasksCache=I.noMasksCache,C.inputmask.userOptions=Q.default.extend(!0,{},I.userOptions),C.inputmask.el=C,C.inputmask.$el=(0,Q.default)(C),C.inputmask.maskset=q,Q.default.data(C,ue,I.userOptions),re.mask.call(C.inputmask))}})),C&&C[0]&&C[0].inputmask||this},option:function(C,I){return"string"==typeof C?this.opts[C]:"object"===h(C)?(Q.default.extend(this.userOptions,C),this.el&&!0!==I&&this.mask(this.el),this):void 0},unmaskedvalue:function(C){if(this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==C){var I=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");ie.checkVal.call(this,void 0,!1,!1,I),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,se.getBuffer.call(this),0,this.opts)}return ie.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){Q.default.data(this.el,ue,null);var C=this.opts.autoUnmask?(0,ie.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);C!==se.getBufferTemplate.call(this).join("")?this._valueSet(C,this.opts.autoUnmask):this._valueSet(""),ee.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):le.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?se.getBufferTemplate.call(this).reverse():se.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache),oe.isComplete.call(this,se.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var C=ae.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(I){return I.mask!==C||(C=I,!1)})),C}return this.maskset.metadata},isValid:function(C){if(this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache),C){var I=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");ie.checkVal.call(this,void 0,!0,!1,I)}else C=this.isRTL?se.getBuffer.call(this).slice().reverse().join(""):se.getBuffer.call(this).join("");for(var B=se.getBuffer.call(this),z=se.determineLastRequiredPosition.call(this),q=B.length-1;q>z&&!se.isMask.call(this,q);q--);return B.splice(z,q+1-z),oe.isComplete.call(this,B)&&C===(this.isRTL?se.getBuffer.call(this).slice().reverse().join(""):se.getBuffer.call(this).join(""))},format:function(C,I){this.maskset=this.maskset||(0,ne.generateMaskSet)(this.opts,this.noMasksCache);var B=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");ie.checkVal.call(this,void 0,!0,!1,B);var z=this.isRTL?se.getBuffer.call(this).slice().reverse().join(""):se.getBuffer.call(this).join("");return I?{value:z,metadata:this.getmetadata()}:z},setValue:function(C){this.el&&(0,Q.default)(this.el).trigger("setvalue",[C])},analyseMask:ne.analyseMask},y.extendDefaults=function(C){Q.default.extend(!0,y.prototype.defaults,C)},y.extendDefinitions=function(C){Q.default.extend(!0,y.prototype.definitions,C)},y.extendAliases=function(C){Q.default.extend(!0,y.prototype.aliases,C)},y.format=function(C,I,B){return y(I).format(C,B)},y.unmask=function(C,I){return y(I).unmaskedvalue(C)},y.isValid=function(C,I){return y(I).isValid(C)},y.remove=function(C){"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:C).forEach((function(C){C.inputmask&&C.inputmask.remove()}))},y.setValue=function(C,I){"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:C).forEach((function(C){C.inputmask?C.inputmask.setValue(I):(0,Q.default)(C).trigger("setvalue",[I])}))},y.dependencyLib=Q.default,te.default.Inputmask=y,I.default=y},5296:function(C,I,B){function i(C){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i(C)}var z=d(B(9380)),q=d(B(2394));function o(C,I){for(var B=0;B<I.length;B++){var z=I[B];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(C,(q=void 0,q=function(C,I){if("object"!==i(C)||null===C)return C;var B=C[Symbol.toPrimitive];if(void 0!==B){var z=B.call(C,I||"default");if("object"!==i(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}(z.key,"string"),"symbol"===i(q)?q:String(q)),z)}var q}function l(C){var I=u();return function(){var B,z=p(C);if(I){var q=p(this).constructor;B=Reflect.construct(z,arguments,q)}else B=z.apply(this,arguments);return function(C,I){if(I&&("object"===i(I)||"function"==typeof I))return I;if(void 0!==I)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,B)}}function s(C){var I="function"==typeof Map?new Map:void 0;return s=function(C){if(null===C||!function(C){try{return-1!==Function.toString.call(C).indexOf("[native code]")}catch(I){return"function"==typeof C}}(C))return C;if("function"!=typeof C)throw new TypeError("Super expression must either be null or a function");if(void 0!==I){if(I.has(C))return I.get(C);I.set(C,n)}function n(){return c(C,arguments,p(this).constructor)}return n.prototype=Object.create(C.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,C)},s(C)}function c(C,I,B){return c=u()?Reflect.construct.bind():function(C,I,B){var z=[null];z.push.apply(z,I);var q=new(Function.bind.apply(C,z));return B&&f(q,B.prototype),q},c.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(C){return!1}}function f(C,I){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,I){return C.__proto__=I,C},f(C,I)}function p(C){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(C)}function d(C){return C&&C.__esModule?C:{default:C}}var Q=z.default.document;if(Q&&Q.head&&Q.head.attachShadow&&z.default.customElements&&void 0===z.default.customElements.get("input-mask")){var ee=function(C){!function(C,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),I&&f(C,I)}(s,C);var I,B,z,ee=l(s);function s(){var C;!function(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}(this,s);var I=(C=ee.call(this)).getAttributeNames(),B=C.attachShadow({mode:"closed"});for(var z in C.input=Q.createElement("input"),C.input.type="text",B.appendChild(C.input),I)Object.prototype.hasOwnProperty.call(I,z)&&C.input.setAttribute(I[z],C.getAttribute(I[z]));var te=new q.default;return te.dataAttribute="",te.mask(C.input),C.input.inputmask.shadowRoot=B,C}return I=s,(B=[{key:"attributeChangedCallback",value:function(C,I,B){this.input.setAttribute(C,B)}},{key:"value",get:function(){return this.input.value},set:function(C){this.input.value=C}}])&&o(I.prototype,B),z&&o(I,z),Object.defineProperty(I,"prototype",{writable:!1}),s}(s(HTMLElement));z.default.customElements.define("input-mask",ee)}},2839:function(C,I){function n(C){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},n(C)}function i(C,I){return function(C){if(Array.isArray(C))return C}(C)||function(C,I){var B=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=B){var z,q,Q,ee,te=[],ie=!0,re=!1;try{if(Q=(B=B.call(C)).next,0===I){if(Object(B)!==B)return;ie=!1}else for(;!(ie=(z=Q.call(B)).done)&&(te.push(z.value),te.length!==I);ie=!0);}catch(C){re=!0,q=C}finally{try{if(!ie&&null!=B.return&&(ee=B.return(),Object(ee)!==ee))return}finally{if(re)throw q}}return te}}(C,I)||function(C,I){if(C){if("string"==typeof C)return a(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?a(C,I):void 0}}(C,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}function r(C,I){var B=Object.keys(C);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(C);I&&(z=z.filter((function(I){return Object.getOwnPropertyDescriptor(C,I).enumerable}))),B.push.apply(B,z)}return B}function o(C,I,B){return(I=function(C){var I=function(C,I){if("object"!==n(C)||null===C)return C;var B=C[Symbol.toPrimitive];if(void 0!==B){var z=B.call(C,I||"default");if("object"!==n(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===I?String:Number)(C)}(C,"string");return"symbol"===n(I)?I:String(I)}(I))in C?Object.defineProperty(C,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[I]=B,C}Object.defineProperty(I,"__esModule",{value:!0}),I.keys=I.keyCode=void 0,I.toKey=function(C,I){return z[C]||(I?String.fromCharCode(C):String.fromCharCode(C).toLowerCase())},I.toKeyCode=function(C){return B[C]};var B=I.keyCode=function(C){for(var I=1;I<arguments.length;I++){var B=null!=arguments[I]?arguments[I]:{};I%2?r(Object(B),!0).forEach((function(I){o(C,I,B[I])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(B)):r(Object(B)).forEach((function(I){Object.defineProperty(C,I,Object.getOwnPropertyDescriptor(B,I))}))}return C}({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),z=Object.entries(B).reduce((function(C,I){var B=i(I,2),z=B[0],q=B[1];return C[q]=void 0===C[q]?z:C[q],C}),{});I.keys=Object.entries(B).reduce((function(C,I){var B=i(I,2),z=B[0];return B[1],C[z]="Space"===z?" ":z,C}),{})},2391:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.analyseMask=function(C,I,B){var z,q,te,ie,re,ne,se=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,oe=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,ae=!1,le=new ee.default,ue=[],de=[],ce=!1;function k(C,z,q){q=void 0!==q?q:C.matches.length;var ee=C.matches[q-1];if(I){if(0===z.indexOf("[")||ae&&/\\d|\\s|\\w|\\p/i.test(z)||"."===z){var te=B.casing?"i":"";/\\p\{.*}/i.test(z)&&(te+="u"),C.matches.splice(q++,0,{fn:new RegExp(z,te),static:!1,optionality:!1,newBlockMarker:void 0===ee?"master":ee.def!==z,casing:null,def:z,placeholder:"object"===l(B.placeholder)?B.placeholder[le.matches.length]:void 0,nativeDef:z})}else ae&&(z=z[z.length-1]),z.split("").forEach((function(I,z){ee=C.matches[q-1],C.matches.splice(q++,0,{fn:/[a-z]/i.test(B.staticDefinitionSymbol||I)?new RegExp("["+(B.staticDefinitionSymbol||I)+"]",B.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===ee?"master":ee.def!==I&&!0!==ee.static,casing:null,def:B.staticDefinitionSymbol||I,placeholder:void 0!==B.staticDefinitionSymbol?I:"object"===l(B.placeholder)?B.placeholder[le.matches.length]:void 0,nativeDef:(ae?"'":"")+I})}));ae=!1}else{var ie=B.definitions&&B.definitions[z]||B.usePrototypeDefinitions&&Q.default.prototype.definitions[z];ie&&!ae?C.matches.splice(q++,0,{fn:ie.validator?"string"==typeof ie.validator?new RegExp(ie.validator,B.casing?"i":""):new function(){this.test=ie.validator}:/./,static:ie.static||!1,optionality:ie.optional||!1,defOptionality:ie.optional||!1,newBlockMarker:void 0===ee||ie.optional?"master":ee.def!==(ie.definitionSymbol||z),casing:ie.casing,def:ie.definitionSymbol||z,placeholder:ie.placeholder,nativeDef:z,generated:ie.generated}):(C.matches.splice(q++,0,{fn:/[a-z]/i.test(B.staticDefinitionSymbol||z)?new RegExp("["+(B.staticDefinitionSymbol||z)+"]",B.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===ee?"master":ee.def!==z&&!0!==ee.static,casing:null,def:B.staticDefinitionSymbol||z,placeholder:void 0!==B.staticDefinitionSymbol?z:void 0,nativeDef:(ae?"'":"")+z}),ae=!1)}}function b(){if(ue.length>0){if(k(ie=ue[ue.length-1],q),ie.isAlternator){re=ue.pop();for(var C=0;C<re.matches.length;C++)re.matches[C].isGroup&&(re.matches[C].isGroup=!1);ue.length>0?(ie=ue[ue.length-1]).matches.push(re):le.matches.push(re)}}else k(le,q)}function x(C){var I=new ee.default(!0);return I.openGroup=!1,I.matches=C,I}function w(){if((te=ue.pop()).openGroup=!1,void 0!==te)if(ue.length>0){if((ie=ue[ue.length-1]).matches.push(te),ie.isAlternator){re=ue.pop();for(var C=0;C<re.matches.length;C++)re.matches[C].isGroup=!1,re.matches[C].alternatorGroup=!1;ue.length>0?(ie=ue[ue.length-1]).matches.push(re):le.matches.push(re)}}else le.matches.push(te);else b()}function P(C){var I=C.pop();return I.isQuantifier&&(I=x([C.pop(),I])),I}for(I&&(B.optionalmarker[0]=void 0,B.optionalmarker[1]=void 0);z=I?oe.exec(C):se.exec(C);){if(q=z[0],I){switch(q.charAt(0)){case"?":q="{0,1}";break;case"+":case"*":q="{"+q+"}";break;case"|":if(0===ue.length){var he=x(le.matches);he.openGroup=!0,ue.push(he),le.matches=[],ce=!0}}switch(q){case"\\d":q="[0-9]";break;case"\\p":q+=oe.exec(C)[0],q+=oe.exec(C)[0]}}if(ae)b();else switch(q.charAt(0)){case"$":case"^":I||b();break;case B.escapeChar:ae=!0,I&&b();break;case B.optionalmarker[1]:case B.groupmarker[1]:w();break;case B.optionalmarker[0]:ue.push(new ee.default(!1,!0));break;case B.groupmarker[0]:ue.push(new ee.default(!0));break;case B.quantifiermarker[0]:var fe=new ee.default(!1,!1,!0),pe=(q=q.replace(/[{}?]/g,"")).split("|"),me=pe[0].split(","),ge=isNaN(me[0])?me[0]:parseInt(me[0]),ve=1===me.length?ge:isNaN(me[1])?me[1]:parseInt(me[1]),ye=isNaN(pe[1])?pe[1]:parseInt(pe[1]);"*"!==ge&&"+"!==ge||(ge="*"===ve?0:1),fe.quantifier={min:ge,max:ve,jit:ye};var be=ue.length>0?ue[ue.length-1].matches:le.matches;(z=be.pop()).isGroup||(z=x([z])),be.push(z),be.push(fe);break;case B.alternatormarker:if(ue.length>0){var Ce=(ie=ue[ue.length-1]).matches[ie.matches.length-1];ne=ie.openGroup&&(void 0===Ce.matches||!1===Ce.isGroup&&!1===Ce.isAlternator)?ue.pop():P(ie.matches)}else ne=P(le.matches);if(ne.isAlternator)ue.push(ne);else if(ne.alternatorGroup?(re=ue.pop(),ne.alternatorGroup=!1):re=new ee.default(!1,!1,!1,!0),re.matches.push(ne),ue.push(re),ne.openGroup){ne.openGroup=!1;var we=new ee.default(!0);we.alternatorGroup=!0,ue.push(we)}break;default:b()}}for(ce&&w();ue.length>0;)te=ue.pop(),le.matches.push(te);return le.matches.length>0&&(function e(C){C&&C.matches&&C.matches.forEach((function(z,q){var Q=C.matches[q+1];(void 0===Q||void 0===Q.matches||!1===Q.isQuantifier)&&z&&z.isGroup&&(z.isGroup=!1,I||(k(z,B.groupmarker[0],0),!0!==z.openGroup&&k(z,B.groupmarker[1]))),e(z)}))}(le),de.push(le)),(B.numericInput||B.isRTL)&&function e(C){for(var I in C.matches=C.matches.reverse(),C.matches)if(Object.prototype.hasOwnProperty.call(C.matches,I)){var z=parseInt(I);if(C.matches[I].isQuantifier&&C.matches[z+1]&&C.matches[z+1].isGroup){var q=C.matches[I];C.matches.splice(I,1),C.matches.splice(z+1,0,q)}void 0!==C.matches[I].matches?C.matches[I]=e(C.matches[I]):C.matches[I]=((Q=C.matches[I])===B.optionalmarker[0]?Q=B.optionalmarker[1]:Q===B.optionalmarker[1]?Q=B.optionalmarker[0]:Q===B.groupmarker[0]?Q=B.groupmarker[1]:Q===B.groupmarker[1]&&(Q=B.groupmarker[0]),Q)}var Q;return C}(de[0]),de},I.generateMaskSet=function(C,I){var B;function o(C,I){var B=I.repeat,z=I.groupmarker,Q=I.quantifiermarker,ee=I.keepStatic;if(B>0||"*"===B||"+"===B){var te="*"===B?0:"+"===B?1:B;if(te!=B)C=z[0]+C+z[1]+Q[0]+te+","+B+Q[1];else for(var ie=C,re=1;re<te;re++)C+=ie}if(!0===ee){var ne=C.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));ne&&ne.forEach((function(I,B){var z=function(C,I){return function(C){if(Array.isArray(C))return C}(C)||function(C,I){var B=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=B){var z,q,Q,ee,te=[],ie=!0,re=!1;try{if(Q=(B=B.call(C)).next,0===I){if(Object(B)!==B)return;ie=!1}else for(;!(ie=(z=Q.call(B)).done)&&(te.push(z.value),te.length!==I);ie=!0);}catch(C){re=!0,q=C}finally{try{if(!ie&&null!=B.return&&(ee=B.return(),Object(ee)!==ee))return}finally{if(re)throw q}}return te}}(C,I)||function(C,I){if(C){if("string"==typeof C)return s(C,I);var B=Object.prototype.toString.call(C).slice(8,-1);return"Object"===B&&C.constructor&&(B=C.constructor.name),"Map"===B||"Set"===B?Array.from(C):"Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?s(C,I):void 0}}(C,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(I.split("["),2),Q=z[0],ee=z[1];ee=ee.replace("]",""),C=C.replace(new RegExp("".concat((0,q.default)(Q),"\\[").concat((0,q.default)(ee),"\\]")),Q.charAt(0)===ee.charAt(0)?"(".concat(Q,"|").concat(Q).concat(ee,")"):"".concat(Q,"[").concat(ee,"]"))}))}return C}function c(C,B,q){var ee,te,ie=!1;return null!==C&&""!==C||((ie=null!==q.regex)?C=(C=q.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(ie=!0,C=".*")),1===C.length&&!1===q.greedy&&0!==q.repeat&&(q.placeholder=""),C=o(C,q),te=ie?"regex_"+q.regex:q.numericInput?C.split("").reverse().join(""):C,null!==q.keepStatic&&(te="ks_"+q.keepStatic+te),"object"===l(q.placeholder)&&(te="ph_"+JSON.stringify(q.placeholder)+te),void 0===Q.default.prototype.masksCache[te]||!0===I?(ee={mask:C,maskToken:Q.default.prototype.analyseMask(C,ie,q),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:B,maskLength:void 0,jitOffset:{}},!0!==I&&(Q.default.prototype.masksCache[te]=ee,ee=z.default.extend(!0,{},Q.default.prototype.masksCache[te]))):ee=z.default.extend(!0,{},Q.default.prototype.masksCache[te]),ee}if("function"==typeof C.mask&&(C.mask=C.mask(C)),Array.isArray(C.mask)){if(C.mask.length>1){null===C.keepStatic&&(C.keepStatic=!0);var ee=C.groupmarker[0];return(C.isRTL?C.mask.reverse():C.mask).forEach((function(I){ee.length>1&&(ee+=C.alternatormarker),void 0!==I.mask&&"function"!=typeof I.mask?ee+=I.mask:ee+=I})),c(ee+=C.groupmarker[1],C.mask,C)}C.mask=C.mask.pop()}return B=C.mask&&void 0!==C.mask.mask&&"function"!=typeof C.mask.mask?c(C.mask.mask,C.mask,C):c(C.mask,C.mask,C),null===C.keepStatic&&(C.keepStatic=!1),B};var z=c(B(4963)),q=c(B(7184)),Q=c(B(2394)),ee=c(B(9695));function l(C){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l(C)}function s(C,I){(null==I||I>C.length)&&(I=C.length);for(var B=0,z=new Array(I);B<I;B++)z[B]=C[B];return z}function c(C){return C&&C.__esModule?C:{default:C}}},157:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.mask=function(){var C=this,I=this.opts,B=this.el,re=this.dependencyLib;Q.EventRuler.off(B);var ne=function(I,B){var z=I.getAttribute("type"),q="input"===I.tagName.toLowerCase()&&B.supportsInputType.includes(z)||I.isContentEditable||"textarea"===I.tagName.toLowerCase();if(!q)if("input"===I.tagName.toLowerCase()){var ie=document.createElement("input");ie.setAttribute("type",z),q="text"===ie.type,ie=null}else q="partial";return!1!==q?function(I){var z,q;function s(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==te.getLastValidPosition.call(C)||!0!==B.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&B.clearMaskOnLostFocus?(C.isRTL?ee.clearOptionalTail.call(C,te.getBuffer.call(C).slice()).reverse():ee.clearOptionalTail.call(C,te.getBuffer.call(C).slice())).join(""):z.call(this):"":z.call(this)}function u(C){q.call(this,C),this.inputmask&&(0,ee.applyInputValue)(this,C)}if(!I.inputmask.__valueGet){if(!0!==B.noValuePatching){if(Object.getOwnPropertyDescriptor){var ie=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(I),"value"):void 0;ie&&ie.get&&ie.set?(z=ie.get,q=ie.set,Object.defineProperty(I,"value",{get:s,set:u,configurable:!0})):"input"!==I.tagName.toLowerCase()&&(z=function(){return this.textContent},q=function(C){this.textContent=C},Object.defineProperty(I,"value",{get:s,set:u,configurable:!0}))}else document.__lookupGetter__&&I.__lookupGetter__("value")&&(z=I.__lookupGetter__("value"),q=I.__lookupSetter__("value"),I.__defineGetter__("value",s),I.__defineSetter__("value",u));I.inputmask.__valueGet=z,I.inputmask.__valueSet=q}I.inputmask._valueGet=function(I){return C.isRTL&&!0!==I?z.call(this.el).split("").reverse().join(""):z.call(this.el)},I.inputmask._valueSet=function(I,B){q.call(this.el,null==I?"":!0!==B&&C.isRTL?I.split("").reverse().join(""):I)},void 0===z&&(z=function(){return this.value},q=function(C){this.value=C},function(I){if(re.valHooks&&(void 0===re.valHooks[I]||!0!==re.valHooks[I].inputmaskpatch)){var z=re.valHooks[I]&&re.valHooks[I].get?re.valHooks[I].get:function(C){return C.value},q=re.valHooks[I]&&re.valHooks[I].set?re.valHooks[I].set:function(C,I){return C.value=I,C};re.valHooks[I]={get:function(I){if(I.inputmask){if(I.inputmask.opts.autoUnmask)return I.inputmask.unmaskedvalue();var q=z(I);return-1!==te.getLastValidPosition.call(C,void 0,void 0,I.inputmask.maskset.validPositions)||!0!==B.nullable?q:""}return z(I)},set:function(C,I){var B=q(C,I);return C.inputmask&&(0,ee.applyInputValue)(C,I),B},inputmaskpatch:!0}}}(I.type),function(C){Q.EventRuler.on(C,"mouseenter",(function(){var C=this,I=C.inputmask._valueGet(!0);I!=(C.inputmask.isRTL?te.getBuffer.call(C.inputmask).slice().reverse():te.getBuffer.call(C.inputmask)).join("")&&(0,ee.applyInputValue)(C,I)}))}(I))}}(I):I.inputmask=void 0,q}(B,I);if(!1!==ne){C.originalPlaceholder=B.placeholder,C.maxLength=void 0!==B?B.maxLength:void 0,-1===C.maxLength&&(C.maxLength=void 0),"inputMode"in B&&null===B.getAttribute("inputmode")&&(B.inputMode=I.inputmode,B.setAttribute("inputmode",I.inputmode)),!0===ne&&(I.showMaskOnFocus=I.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(B.autocomplete),z.iphone&&(I.insertModeVisual=!1,B.setAttribute("autocorrect","off")),Q.EventRuler.on(B,"submit",q.EventHandlers.submitEvent),Q.EventRuler.on(B,"reset",q.EventHandlers.resetEvent),Q.EventRuler.on(B,"blur",q.EventHandlers.blurEvent),Q.EventRuler.on(B,"focus",q.EventHandlers.focusEvent),Q.EventRuler.on(B,"invalid",q.EventHandlers.invalidEvent),Q.EventRuler.on(B,"click",q.EventHandlers.clickEvent),Q.EventRuler.on(B,"mouseleave",q.EventHandlers.mouseleaveEvent),Q.EventRuler.on(B,"mouseenter",q.EventHandlers.mouseenterEvent),Q.EventRuler.on(B,"paste",q.EventHandlers.pasteEvent),Q.EventRuler.on(B,"cut",q.EventHandlers.cutEvent),Q.EventRuler.on(B,"complete",I.oncomplete),Q.EventRuler.on(B,"incomplete",I.onincomplete),Q.EventRuler.on(B,"cleared",I.oncleared),!0!==I.inputEventOnly&&Q.EventRuler.on(B,"keydown",q.EventHandlers.keyEvent),(z.mobile||I.inputEventOnly)&&B.removeAttribute("maxLength"),Q.EventRuler.on(B,"input",q.EventHandlers.inputFallBackEvent)),Q.EventRuler.on(B,"setvalue",q.EventHandlers.setValueEvent),void 0===C.applyMaskHook||C.applyMaskHook(),te.getBufferTemplate.call(C).join(""),C.undoValue=C._valueGet(!0);var se=(B.inputmask.shadowRoot||B.ownerDocument).activeElement;if(""!==B.inputmask._valueGet(!0)||!1===I.clearMaskOnLostFocus||se===B){(0,ee.applyInputValue)(B,B.inputmask._valueGet(!0),I);var oe=te.getBuffer.call(C).slice();!1===ie.isComplete.call(C,oe)&&I.clearIncomplete&&te.resetMaskSet.call(C,!1),I.clearMaskOnLostFocus&&se!==B&&(-1===te.getLastValidPosition.call(C)?oe=[]:ee.clearOptionalTail.call(C,oe)),(!1===I.clearMaskOnLostFocus||I.showMaskOnFocus&&se===B||""!==B.inputmask._valueGet(!0))&&(0,ee.writeBuffer)(B,oe),se===B&&te.caret.call(C,B,te.seekNext.call(C,te.getLastValidPosition.call(C)))}}};var z=B(9845),q=B(6030),Q=B(9716),ee=B(7760),te=B(8711),ie=B(7215)},9695:function(C,I){Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(C,I,B,z){this.matches=[],this.openGroup=C||!1,this.alternatorGroup=!1,this.isGroup=C||!1,this.isOptional=I||!1,this.isQuantifier=B||!1,this.isAlternator=z||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(C,I){if(null==this)throw new TypeError('"this" is null or not defined');var B=Object(this),z=B.length>>>0;if(0===z)return!1;for(var q=0|I,Q=Math.max(q>=0?q:z-Math.abs(q),0);Q<z;){if(B[Q]===C)return!0;Q++}return!1}})},9302:function(){var C=Function.bind.call(Function.call,Array.prototype.reduce),I=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),B=Function.bind.call(Function.call,Array.prototype.concat),z=Object.keys;Object.entries||(Object.entries=function(q){return C(z(q),(function(C,z){return B(C,"string"==typeof z&&I(q,z)?[[z,q[z]]]:[])}),[])})},7149:function(){function e(C){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(C)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===e("test".__proto__)?function(C){return C.__proto__}:function(C){return C.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(C,I){return"number"!=typeof I&&(I=0),!(I+C.length>this.length)&&-1!==this.indexOf(C,I)})},8711:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.caret=function(C,I,B,z,Q){var ee,te=this,ie=this.opts;if(void 0===I)return"selectionStart"in C&&"selectionEnd"in C?(I=C.selectionStart,B=C.selectionEnd):q.default.getSelection?(ee=q.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==C&&ee.commonAncestorContainer!==C||(I=ee.startOffset,B=ee.endOffset):document.selection&&document.selection.createRange&&(B=(I=0-(ee=document.selection.createRange()).duplicate().moveStart("character",-C.inputmask._valueGet().length))+ee.text.length),{begin:z?I:f.call(te,I),end:z?B:f.call(te,B)};if(Array.isArray(I)&&(B=te.isRTL?I[0]:I[1],I=te.isRTL?I[1]:I[0]),void 0!==I.begin&&(B=te.isRTL?I.begin:I.end,I=te.isRTL?I.end:I.begin),"number"==typeof I){I=z?I:f.call(te,I),B="number"==typeof(B=z?B:f.call(te,B))?B:I;var re=parseInt(((C.ownerDocument.defaultView||q.default).getComputedStyle?(C.ownerDocument.defaultView||q.default).getComputedStyle(C,null):C.currentStyle).fontSize)*B;if(C.scrollLeft=re>C.scrollWidth?re:0,C.inputmask.caretPos={begin:I,end:B},ie.insertModeVisual&&!1===ie.insertMode&&I===B&&(Q||B++),C===(C.inputmask.shadowRoot||C.ownerDocument).activeElement){if("setSelectionRange"in C)C.setSelectionRange(I,B);else if(q.default.getSelection){if(ee=document.createRange(),void 0===C.firstChild||null===C.firstChild){var ne=document.createTextNode("");C.appendChild(ne)}ee.setStart(C.firstChild,I<C.inputmask._valueGet().length?I:C.inputmask._valueGet().length),ee.setEnd(C.firstChild,B<C.inputmask._valueGet().length?B:C.inputmask._valueGet().length),ee.collapse(!0);var se=q.default.getSelection();se.removeAllRanges(),se.addRange(ee)}else C.createTextRange&&((ee=C.createTextRange()).collapse(!0),ee.moveEnd("character",B),ee.moveStart("character",I),ee.select());void 0===C.inputmask.caretHook||C.inputmask.caretHook.call(te,{begin:I,end:B})}}},I.determineLastRequiredPosition=function(C){var I,B,z=this,q=z.maskset,te=z.dependencyLib,ie=s.call(z),re={},ne=q.validPositions[ie],se=ee.getMaskTemplate.call(z,!0,s.call(z),!0,!0),oe=se.length,ae=void 0!==ne?ne.locator.slice():void 0;for(I=ie+1;I<se.length;I++)ae=(B=ee.getTestTemplate.call(z,I,ae,I-1)).locator.slice(),re[I]=te.extend(!0,{},B);var le=ne&&void 0!==ne.alternation?ne.locator[ne.alternation]:void 0;for(I=oe-1;I>ie&&((B=re[I]).match.optionality||B.match.optionalQuantifier&&B.match.newBlockMarker||le&&(le!==re[I].locator[ne.alternation]&&!0!==B.match.static||!0===B.match.static&&B.locator[ne.alternation]&&Q.checkAlternationMatch.call(z,B.locator[ne.alternation].toString().split(","),le.toString().split(","))&&""!==ee.getTests.call(z,I)[0].def))&&se[I]===ee.getPlaceholder.call(z,I,B.match);I--)oe--;return C?{l:oe,def:re[oe]?re[oe].match:void 0}:oe},I.determineNewCaretPosition=function(C,I,B){var z,q,Q,te=this,ie=te.maskset,re=te.opts;if(I&&(te.isRTL?C.end=C.begin:C.begin=C.end),C.begin===C.end){switch(B=B||re.positionCaretOnClick){case"none":break;case"select":C={begin:0,end:l.call(te).length};break;case"ignore":C.end=C.begin=u.call(te,s.call(te));break;case"radixFocus":if(te.clicked>1&&0===ie.validPositions.length)break;if(function(C){if(""!==re.radixPoint&&0!==re.digits){var I=ie.validPositions;if(void 0===I[C]||void 0===I[C].input){if(C<u.call(te,-1))return!0;var B=l.call(te).indexOf(re.radixPoint);if(-1!==B){for(var z=0,q=I.length;z<q;z++)if(I[z]&&B<z&&I[z].input!==ee.getPlaceholder.call(te,z))return!1;return!0}}}return!1}(C.begin)){var ne=l.call(te).join("").indexOf(re.radixPoint);C.end=C.begin=re.numericInput?u.call(te,ne):ne;break}default:if(z=C.begin,q=s.call(te,z,!0),z<=(Q=u.call(te,-1!==q||c.call(te,0)?q:-1)))C.end=C.begin=c.call(te,z,!1,!0)?z:u.call(te,z);else{var se=ie.validPositions[q],oe=ee.getTestTemplate.call(te,Q,se?se.match.locator:void 0,se),ae=ee.getPlaceholder.call(te,Q,oe.match);if(""!==ae&&l.call(te)[Q]!==ae&&!0!==oe.match.optionalQuantifier&&!0!==oe.match.newBlockMarker||!c.call(te,Q,re.keepStatic,!0)&&oe.match.def===ae){var le=u.call(te,Q);(z>=le||z===Q)&&(Q=le)}C.end=C.begin=Q}}return C}},I.getBuffer=l,I.getBufferTemplate=function(){var C=this.maskset;return void 0===C._buffer&&(C._buffer=ee.getMaskTemplate.call(this,!1,1),void 0===C.buffer&&(C.buffer=C._buffer.slice())),C._buffer},I.getLastValidPosition=s,I.isMask=c,I.resetMaskSet=function(C){var I=this.maskset;I.buffer=void 0,!0!==C&&(I.validPositions=[],I.p=0),!1===C&&(I.tests={},I.jitOffset={})},I.seekNext=u,I.seekPrevious=function(C,I){var B=this,z=C-1;if(C<=0)return 0;for(;z>0&&(!0===I&&(!0!==ee.getTest.call(B,z).match.newBlockMarker||!c.call(B,z,void 0,!0))||!0!==I&&!c.call(B,z,void 0,!0));)z--;return z},I.translatePosition=f;var z,q=(z=B(9380))&&z.__esModule?z:{default:z},Q=B(7215),ee=B(4713);function l(C){var I=this,B=I.maskset;return void 0!==B.buffer&&!0!==C||(B.buffer=ee.getMaskTemplate.call(I,!0,s.call(I),!0),void 0===B._buffer&&(B._buffer=B.buffer.slice())),B.buffer}function s(C,I,B){var z=this.maskset,q=-1,Q=-1,ee=B||z.validPositions;void 0===C&&(C=-1);for(var te=0,ie=ee.length;te<ie;te++)ee[te]&&(I||!0!==ee[te].generatedInput)&&(te<=C&&(q=te),te>=C&&(Q=te));return-1===q||q===C?Q:-1===Q||C-q<Q-C?q:Q}function c(C,I,B){var z=this,q=this.maskset,Q=ee.getTestTemplate.call(z,C).match;if(""===Q.def&&(Q=ee.getTest.call(z,C).match),!0!==Q.static)return Q.fn;if(!0===B&&void 0!==q.validPositions[C]&&!0!==q.validPositions[C].generatedInput)return!0;if(!0!==I&&C>-1){if(B){var te=ee.getTests.call(z,C);return te.length>1+(""===te[te.length-1].match.def?1:0)}var ie=ee.determineTestTemplate.call(z,C,ee.getTests.call(z,C)),re=ee.getPlaceholder.call(z,C,ie.match);return ie.match.def!==re}return!1}function u(C,I,B){var z=this;void 0===B&&(B=!0);for(var q=C+1;""!==ee.getTest.call(z,q).match.def&&(!0===I&&(!0!==ee.getTest.call(z,q).match.newBlockMarker||!c.call(z,q,void 0,!0))||!0!==I&&!c.call(z,q,void 0,B));)q++;return q}function f(C){var I=this.opts,B=this.el;return!this.isRTL||"number"!=typeof C||I.greedy&&""===I.placeholder||!B||(C=this._valueGet().length-C)<0&&(C=0),C}},4713:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.determineTestTemplate=f,I.getDecisionTaker=s,I.getMaskTemplate=function(C,I,B,z,q){var Q=this,ee=this.opts,te=this.maskset,ie=ee.greedy;q&&ee.greedy&&(ee.greedy=!1,Q.maskset.tests={}),I=I||0;var re,ne,se,oe,ae=[],le=0;do{if(!0===C&&te.validPositions[le])ne=(se=q&&te.validPositions[le].match.optionality&&void 0===te.validPositions[le+1]&&(!0===te.validPositions[le].generatedInput||te.validPositions[le].input==ee.skipOptionalPartCharacter&&le>0)?f.call(Q,le,h.call(Q,le,re,le-1)):te.validPositions[le]).match,re=se.locator.slice(),ae.push(!0===B?se.input:!1===B?ne.nativeDef:c.call(Q,le,ne));else{ne=(se=u.call(Q,le,re,le-1)).match,re=se.locator.slice();var ue=!0!==z&&(!1!==ee.jitMasking?ee.jitMasking:ne.jit);(oe=(oe||te.validPositions[le-1])&&ne.static&&ne.def!==ee.groupSeparator&&null===ne.fn)||!1===ue||void 0===ue||"number"==typeof ue&&isFinite(ue)&&ue>le?ae.push(!1===B?ne.nativeDef:c.call(Q,ae.length,ne)):oe=!1}le++}while(!0!==ne.static||""!==ne.def||I>le);return""===ae[ae.length-1]&&ae.pop(),!1===B&&void 0!==te.maskLength||(te.maskLength=le-1),ee.greedy=ie,ae},I.getPlaceholder=c,I.getTest=p,I.getTestTemplate=u,I.getTests=h,I.isSubsetOf=d;var z,q=(z=B(2394))&&z.__esModule?z:{default:z},Q=B(8711);function o(C){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},o(C)}function l(C,I){var B=(null!=C.alternation?C.mloc[s(C)]:C.locator).join("");if(""!==B)for(B=B.split(":")[0];B.length<I;)B+="0";return B}function s(C){var I=C.locator[C.alternation];return"string"==typeof I&&I.length>0&&(I=I.split(",")[0]),void 0!==I?I.toString():""}function c(C,I,B){var z=this,q=this.opts,ee=this.maskset;if(void 0!==(I=I||p.call(z,C).match).placeholder||!0===B){if(""!==I.placeholder&&!0===I.static&&!0!==I.generated){var te=Q.getLastValidPosition.call(z,C),ie=Q.seekNext.call(z,te);return(B?C<=ie:C<ie)?q.staticDefinitionSymbol&&I.static?I.nativeDef:I.def:"function"==typeof I.placeholder?I.placeholder(q):I.placeholder}return"function"==typeof I.placeholder?I.placeholder(q):I.placeholder}if(!0===I.static){if(C>-1&&void 0===ee.validPositions[C]){var re,ne=h.call(z,C),se=[];if("string"==typeof q.placeholder&&ne.length>1+(""===ne[ne.length-1].match.def?1:0))for(var oe=0;oe<ne.length;oe++)if(""!==ne[oe].match.def&&!0!==ne[oe].match.optionality&&!0!==ne[oe].match.optionalQuantifier&&(!0===ne[oe].match.static||void 0===re||!1!==ne[oe].match.fn.test(re.match.def,ee,C,!0,q))&&(se.push(ne[oe]),!0===ne[oe].match.static&&(re=ne[oe]),se.length>1&&/[0-9a-bA-Z]/.test(se[0].match.def)))return q.placeholder.charAt(C%q.placeholder.length)}return I.def}return"object"===o(q.placeholder)?I.def:q.placeholder.charAt(C%q.placeholder.length)}function u(C,I,B){return this.maskset.validPositions[C]||f.call(this,C,h.call(this,C,I?I.slice():I,B))}function f(C,I){var B=this.opts,z=0,q=function(C,I){var B=0,z=!1;return I.forEach((function(C){C.match.optionality&&(0!==B&&B!==C.match.optionality&&(z=!0),(0===B||B>C.match.optionality)&&(B=C.match.optionality))})),B&&(0==C||1==I.length?B=0:z||(B=0)),B}(C,I);C=C>0?C-1:0;var Q,ee,te,ie=l(p.call(this,C));B.greedy&&I.length>1&&""===I[I.length-1].match.def&&(z=1);for(var re=0;re<I.length-z;re++){var ne=I[re];Q=l(ne,ie.length);var se=Math.abs(Q-ie);(!0!==ne.unMatchedAlternationStopped||I.filter((function(C){return!0!==C.unMatchedAlternationStopped})).length<=1)&&(void 0===ee||""!==Q&&se<ee||te&&!B.greedy&&te.match.optionality&&te.match.optionality-q>0&&"master"===te.match.newBlockMarker&&(!ne.match.optionality||ne.match.optionality-q<1||!ne.match.newBlockMarker)||te&&!B.greedy&&te.match.optionalQuantifier&&!ne.match.optionalQuantifier)&&(ee=se,te=ne)}return te}function p(C,I){var B=this.maskset;return B.validPositions[C]?B.validPositions[C]:(I||h.call(this,C))[0]}function d(C,I,B){function i(C){for(var I,B=[],z=-1,q=0,Q=C.length;q<Q;q++)if("-"===C.charAt(q))for(I=C.charCodeAt(q+1);++z<I;)B.push(String.fromCharCode(z));else z=C.charCodeAt(q),B.push(C.charAt(q));return B.join("")}return C.match.def===I.match.nativeDef||!(!(B.regex||C.match.fn instanceof RegExp&&I.match.fn instanceof RegExp)||!0===C.match.static||!0===I.match.static)&&("."===I.match.fn.source||-1!==i(I.match.fn.source.replace(/[[\]/]/g,"")).indexOf(i(C.match.fn.source.replace(/[[\]/]/g,""))))}function h(C,I,B){var z,Q,ee=this,te=this.dependencyLib,ie=this.maskset,re=this.opts,ne=this.el,se=ie.maskToken,oe=I?B:0,ae=I?I.slice():[0],le=[],ue=!1,de=I?I.join(""):"",ce=!1;function b(I,B,Q,te){function f(Q,te,se){function v(C,I){var B=0===I.matches.indexOf(C);return B||I.matches.every((function(z,q){return!0===z.isQuantifier?B=v(C,I.matches[q-1]):Object.prototype.hasOwnProperty.call(z,"matches")&&(B=v(C,z)),!B})),B}function w(C,I,B){var z,q;if((ie.tests[C]||ie.validPositions[C])&&(ie.validPositions[C]?[ie.validPositions[C]]:ie.tests[C]).every((function(C,Q){if(C.mloc[I])return z=C,!1;var ee=void 0!==B?B:C.alternation,te=void 0!==C.locator[ee]?C.locator[ee].toString().indexOf(I):-1;return(void 0===q||te<q)&&-1!==te&&(z=C,q=te),!0})),z){var Q=z.locator[z.alternation],ee=z.mloc[I]||z.mloc[Q]||z.locator;return-1!==ee[ee.length-1].toString().indexOf(":")&&ee.pop(),ee.slice((void 0!==B?B:z.alternation)+1)}return void 0!==B?w(C,I):void 0}function P(I,B){return!0===I.match.static&&!0!==B.match.static&&B.match.fn.test(I.match.def,ie,C,!1,re,!1)}function S(C,I){var B=C.alternation,z=void 0===I||B<=I.alternation&&-1===C.locator[B].toString().indexOf(I.locator[B]);if(!z&&B>I.alternation)for(var q=0;q<B;q++)if(C.locator[q]!==I.locator[q]){B=q,z=!0;break}return!!z&&function(B){C.mloc=C.mloc||{};var z=C.locator[B];if(void 0!==z){if("string"==typeof z&&(z=z.split(",")[0]),void 0===C.mloc[z]&&(C.mloc[z]=C.locator.slice(),C.mloc[z].push(":".concat(C.alternation))),void 0!==I){for(var q in I.mloc)"string"==typeof q&&(q=parseInt(q.split(",")[0])),C.mloc[q+0]=I.mloc[q];C.locator[B]=Object.keys(C.mloc).join(",")}return C.alternation>B&&(C.alternation=B),!0}return C.alternation=void 0,!1}(B)}function O(C,I){if(C.locator.length!==I.locator.length)return!1;for(var B=C.alternation+1;B<C.locator.length;B++)if(C.locator[B]!==I.locator[B])return!1;return!0}if(oe>C+re._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(ie.mask));if(oe===C&&void 0===Q.matches){if(le.push({match:Q,locator:te.reverse(),cd:de,mloc:{}}),!Q.optionality||void 0!==se||!(re.definitions&&re.definitions[Q.nativeDef]&&re.definitions[Q.nativeDef].optional||q.default.prototype.definitions[Q.nativeDef]&&q.default.prototype.definitions[Q.nativeDef].optional))return!0;ue=!0,oe=C}else if(void 0!==Q.matches){if(Q.isGroup&&se!==Q)return function(){if(Q=f(I.matches[I.matches.indexOf(Q)+1],te,se))return!0}();if(Q.isOptional)return function(){var I=Q,q=le.length;if(Q=b(Q,B,te,se),le.length>0){if(le.forEach((function(C,I){I>=q&&(C.match.optionality=C.match.optionality?C.match.optionality+1:1)})),z=le[le.length-1].match,void 0!==se||!v(z,I))return Q;ue=!0,oe=C}}();if(Q.isAlternator)return function(){function i(C){for(var I,B=C.matches[0].matches?C.matches[0].matches.length:1,z=0;z<C.matches.length&&B===(I=C.matches[z].matches?C.matches[z].matches.length:1);z++);return B!==I}ee.hasAlternator=!0;var z,q=Q,ae=[],de=le.slice(),he=te.length,fe=B.length>0?B.shift():-1;if(-1===fe||"string"==typeof fe){var pe,me=oe,ge=B.slice(),ve=[];if("string"==typeof fe)ve=fe.split(",");else for(pe=0;pe<q.matches.length;pe++)ve.push(pe.toString());if(void 0!==ie.excludes[C]){for(var ye=ve.slice(),be=0,Ce=ie.excludes[C].length;be<Ce;be++){var we=ie.excludes[C][be].toString().split(":");te.length==we[1]&&ve.splice(ve.indexOf(we[0]),1)}0===ve.length&&(delete ie.excludes[C],ve=ye)}(!0===re.keepStatic||isFinite(parseInt(re.keepStatic))&&me>=re.keepStatic)&&(ve=ve.slice(0,1));for(var _e=0;_e<ve.length;_e++){pe=parseInt(ve[_e]),le=[],B="string"==typeof fe&&w(oe,pe,he)||ge.slice();var Se=q.matches[pe];if(Se&&f(Se,[pe].concat(te),se))Q=!0;else if(0===_e&&(ce=i(q)),Se&&Se.matches&&Se.matches.length>q.matches[0].matches.length)break;z=le.slice(),oe=me,le=[];for(var xe=0;xe<z.length;xe++){var ke=z[xe],Te=!1;ke.alternation=ke.alternation||he,S(ke);for(var Me=0;Me<ae.length;Me++){var Re=ae[Me];if("string"!=typeof fe||void 0!==ke.alternation&&ve.includes(ke.locator[ke.alternation].toString())){if(ke.match.nativeDef===Re.match.nativeDef){Te=!0,S(Re,ke);break}if(d(ke,Re,re)){S(ke,Re)&&(Te=!0,ae.splice(ae.indexOf(Re),0,ke));break}if(d(Re,ke,re)){S(Re,ke);break}if(P(ke,Re)){O(ke,Re)||void 0!==ne.inputmask.userOptions.keepStatic?S(ke,Re)&&(Te=!0,ae.splice(ae.indexOf(Re),0,ke)):re.keepStatic=!0;break}if(P(Re,ke)){S(Re,ke);break}}}Te||ae.push(ke)}}le=de.concat(ae),oe=C,ue=le.length>0&&ce,Q=ae.length>0&&!ce,ce&&ue&&!Q&&le.forEach((function(C,I){C.unMatchedAlternationStopped=!0})),B=ge.slice()}else Q=f(q.matches[fe]||I.matches[fe],[fe].concat(te),se);if(Q)return!0}();if(Q.isQuantifier&&se!==I.matches[I.matches.indexOf(Q)-1])return function(){for(var q=Q,ee=!1,ne=B.length>0?B.shift():0;ne<(isNaN(q.quantifier.max)?ne+1:q.quantifier.max)&&oe<=C;ne++){var se=I.matches[I.matches.indexOf(q)-1];if(Q=f(se,[ne].concat(te),se)){if(le.forEach((function(I,B){(z=x(se,I.match)?I.match:le[le.length-1].match).optionalQuantifier=ne>=q.quantifier.min,z.jit=(ne+1)*(se.matches.indexOf(z)+1)>q.quantifier.jit,z.optionalQuantifier&&v(z,se)&&(ue=!0,oe=C,re.greedy&&null==ie.validPositions[C-1]&&ne>q.quantifier.min&&-1!=["*","+"].indexOf(q.quantifier.max)&&(le.pop(),de=void 0),ee=!0,Q=!1),!ee&&z.jit&&(ie.jitOffset[C]=se.matches.length-se.matches.indexOf(z))})),ee)break;return!0}}}();if(Q=b(Q,B,te,se))return!0}else oe++}for(var se=B.length>0?B.shift():0;se<I.matches.length;se++)if(!0!==I.matches[se].isQuantifier){var ae=f(I.matches[se],[se].concat(Q),te);if(ae&&oe===C)return ae;if(oe>C)break}}function x(C,I){var B=-1!=C.matches.indexOf(I);return B||C.matches.forEach((function(C,z){void 0===C.matches||B||(B=x(C,I))})),B}if(C>-1){if(void 0===I){for(var he,fe=C-1;void 0===(he=ie.validPositions[fe]||ie.tests[fe])&&fe>-1;)fe--;void 0!==he&&fe>-1&&(ae=function(C,I){var B,z=[];return Array.isArray(I)||(I=[I]),I.length>0&&(void 0===I[0].alternation||!0===re.keepStatic?0===(z=f.call(ee,C,I.slice()).locator.slice()).length&&(z=I[0].locator.slice()):I.forEach((function(C){""!==C.def&&(0===z.length?(B=C.alternation,z=C.locator.slice()):C.locator[B]&&-1===z[B].toString().indexOf(C.locator[B])&&(z[B]+=","+C.locator[B]))}))),z}(fe,he),de=ae.join(""),oe=fe)}if(ie.tests[C]&&ie.tests[C][0].cd===de)return ie.tests[C];for(var pe=ae.shift();pe<se.length&&!(b(se[pe],ae,[pe])&&oe===C||oe>C);pe++);}return(0===le.length||ue)&&le.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:ce&&0===le.filter((function(C){return!0!==C.unMatchedAlternationStopped})).length?[0]:[],mloc:{},cd:de}),void 0!==I&&ie.tests[C]?Q=te.extend(!0,[],le):(ie.tests[C]=te.extend(!0,[],le),Q=ie.tests[C]),le.forEach((function(C){C.match.optionality=C.match.defOptionality||!1})),Q}},7215:function(C,I,B){Object.defineProperty(I,"__esModule",{value:!0}),I.alternate=l,I.checkAlternationMatch=function(C,I,B){for(var z,q=this.opts.greedy?I:I.slice(0,1),Q=!1,ee=void 0!==B?B.split(","):[],te=0;te<ee.length;te++)-1!==(z=C.indexOf(ee[te]))&&C.splice(z,1);for(var ie=0;ie<C.length;ie++)if(q.includes(C[ie])){Q=!0;break}return Q},I.handleRemove=function(C,I,B,z,te){var ie=this,re=this.maskset,ne=this.opts;if((ne.numericInput||ie.isRTL)&&(I===q.keys.Backspace?I=q.keys.Delete:I===q.keys.Delete&&(I=q.keys.Backspace),ie.isRTL)){var se=B.end;B.end=B.begin,B.begin=se}var oe,ae=Q.getLastValidPosition.call(ie,void 0,!0);B.end>=Q.getBuffer.call(ie).length&&ae>=B.end&&(B.end=ae+1),I===q.keys.Backspace?B.end-B.begin<1&&(B.begin=Q.seekPrevious.call(ie,B.begin)):I===q.keys.Delete&&B.begin===B.end&&(B.end=Q.isMask.call(ie,B.end,!0,!0)?B.end+1:Q.seekNext.call(ie,B.end)+1),!1!==(oe=v.call(ie,B))&&((!0!==z&&!1!==ne.keepStatic||null!==ne.regex&&-1!==ee.getTest.call(ie,B.begin).match.def.indexOf("|"))&&l.call(ie,!0),!0!==z&&(re.p=I===q.keys.Delete?B.begin+oe:B.begin,re.p=Q.determineNewCaretPosition.call(ie,{begin:re.p,end:re.p},!1,!1===ne.insertMode&&I===q.keys.Backspace?"none":void 0).begin))},I.isComplete=c,I.isSelection=u,I.isValid=f,I.refreshFromBuffer=d,I.revalidateMask=v;var z=B(6030),q=B(2839),Q=B(8711),ee=B(4713);function l(C,I,B,z,q,te){var ie=this,re=this.dependencyLib,ne=this.opts,se=ie.maskset;if(!ie.hasAlternator)return!1;var oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve=re.extend(!0,[],se.validPositions),ye=re.extend(!0,{},se.tests),be=!1,Ce=!1,we=void 0!==q?q:Q.getLastValidPosition.call(ie);if(te&&(me=te.begin,ge=te.end,te.begin>te.end&&(me=te.end,ge=te.begin)),-1===we&&void 0===q)oe=0,ae=(ue=ee.getTest.call(ie,oe)).alternation;else for(;we>=0;we--)if((le=se.validPositions[we])&&void 0!==le.alternation){if(we<=(C||0)&&ue&&ue.locator[le.alternation]!==le.locator[le.alternation])break;oe=we,ae=se.validPositions[oe].alternation,ue=le}if(void 0!==ae){he=parseInt(oe),se.excludes[he]=se.excludes[he]||[],!0!==C&&se.excludes[he].push((0,ee.getDecisionTaker)(ue)+":"+ue.alternation);var _e=[],Se=-1;for(de=he;he<Q.getLastValidPosition.call(ie,void 0,!0)+1;de++)-1===Se&&C<=de&&void 0!==I&&(_e.push(I),Se=_e.length-1),(ce=se.validPositions[he])&&!0!==ce.generatedInput&&(void 0===te||de<me||de>=ge)&&_e.push(ce.input),se.validPositions.splice(he,1);for(-1===Se&&void 0!==I&&(_e.push(I),Se=_e.length-1);void 0!==se.excludes[he]&&se.excludes[he].length<10;){for(se.tests={},Q.resetMaskSet.call(ie,!0),be=!0,de=0;de<_e.length&&(fe=be.caret||0==ne.insertMode&&null!=fe?Q.seekNext.call(ie,fe):Q.getLastValidPosition.call(ie,void 0,!0)+1,pe=_e[de],be=f.call(ie,fe,pe,!1,z,!0));de++)de===Se&&(Ce=be),1==C&&be&&(Ce={caretPos:de});if(be)break;if(Q.resetMaskSet.call(ie),ue=ee.getTest.call(ie,he),se.validPositions=re.extend(!0,[],ve),se.tests=re.extend(!0,{},ye),!se.excludes[he]){Ce=l.call(ie,C,I,B,z,he-1,te);break}if(null!=ue.alternation){var xe=(0,ee.getDecisionTaker)(ue);if(-1!==se.excludes[he].indexOf(xe+":"+ue.alternation)){Ce=l.call(ie,C,I,B,z,he-1,te);break}for(se.excludes[he].push(xe+":"+ue.alternation),de=he;de<Q.getLastValidPosition.call(ie,void 0,!0)+1;de++)se.validPositions.splice(he)}else delete se.excludes[he]}}return Ce&&!1===ne.keepStatic||delete se.excludes[he],Ce}function s(C,I,B){var z=this.opts,Q=this.maskset;switch(z.casing||I.casing){case"upper":C=C.toUpperCase();break;case"lower":C=C.toLowerCase();break;case"title":var ee=Q.validPositions[B-1];C=0===B||ee&&ee.input===String.fromCharCode(q.keyCode.Space)?C.toUpperCase():C.toLowerCase();break;default:if("function"==typeof z.casing){var te=Array.prototype.slice.call(arguments);te.push(Q.validPositions),C=z.casing.apply(this,te)}}return C}function c(C){var I=this,B=this.opts,z=this.maskset;if("function"==typeof B.isComplete)return B.isComplete(C,B);if("*"!==B.repeat){var q=!1,te=Q.determineLastRequiredPosition.call(I,!0),ie=te.l;if(void 0===te.def||te.def.newBlockMarker||te.def.optionality||te.def.optionalQuantifier){q=!0;for(var re=0;re<=ie;re++){var ne=ee.getTestTemplate.call(I,re).match;if(!0!==ne.static&&void 0===z.validPositions[re]&&(!1===ne.optionality||void 0===ne.optionality||ne.optionality&&0==ne.newBlockMarker)&&(!1===ne.optionalQuantifier||void 0===ne.optionalQuantifier)||!0===ne.static&&""!=ne.def&&C[re]!==ee.getPlaceholder.call(I,re,ne)){q=!1;break}}}return q}}function u(C){var I=this.opts.insertMode?0:1;return this.isRTL?C.begin-C.end>I:C.end-C.begin>I}function f(C,I,B,z,q,te,ie){var re=this,ne=this.dependencyLib,se=this.opts,oe=re.maskset;B=!0===B;var ae=C;function w(C){if(void 0!==C){if(void 0!==C.remove&&(Array.isArray(C.remove)||(C.remove=[C.remove]),C.remove.sort((function(C,I){return re.isRTL?C.pos-I.pos:I.pos-C.pos})).forEach((function(C){v.call(re,{begin:C,end:C+1})})),C.remove=void 0),void 0!==C.insert&&(Array.isArray(C.insert)||(C.insert=[C.insert]),C.insert.sort((function(C,I){return re.isRTL?I.pos-C.pos:C.pos-I.pos})).forEach((function(C){""!==C.c&&f.call(re,C.pos,C.c,void 0===C.strict||C.strict,void 0!==C.fromIsValid?C.fromIsValid:z)})),C.insert=void 0),C.refreshFromBuffer&&C.buffer){var I=C.refreshFromBuffer;d.call(re,!0===I?I:I.start,I.end,C.buffer),C.refreshFromBuffer=void 0}void 0!==C.rewritePosition&&(ae=C.rewritePosition,C=!0)}return C}function P(I,B,q){var te=!1;return ee.getTests.call(re,I).every((function(ie,ae){var le=ie.match;if(Q.getBuffer.call(re,!0),!1!==(te=(!le.jit||void 0!==oe.validPositions[Q.seekPrevious.call(re,I)])&&(null!=le.fn?le.fn.test(B,oe,I,q,se,u.call(re,C)):(B===le.def||B===se.skipOptionalPartCharacter)&&""!==le.def&&{c:ee.getPlaceholder.call(re,I,le,!0)||le.def,pos:I}))){var ue=void 0!==te.c?te.c:B,de=I;return ue=ue===se.skipOptionalPartCharacter&&!0===le.static?ee.getPlaceholder.call(re,I,le,!0)||le.def:ue,!0!==(te=w(te))&&void 0!==te.pos&&te.pos!==I&&(de=te.pos),!0!==te&&void 0===te.pos&&void 0===te.c||!1===v.call(re,C,ne.extend({},ie,{input:s.call(re,ue,le,de)}),z,de)&&(te=!1),!1}return!0})),te}void 0!==C.begin&&(ae=re.isRTL?C.end:C.begin);var le=!0,ue=ne.extend(!0,[],oe.validPositions);if(!1===se.keepStatic&&void 0!==oe.excludes[ae]&&!0!==q&&!0!==z)for(var de=ae;de<(re.isRTL?C.begin:C.end);de++)void 0!==oe.excludes[de]&&(oe.excludes[de]=void 0,delete oe.tests[de]);if("function"==typeof se.preValidation&&!0!==z&&!0!==te&&(le=w(le=se.preValidation.call(re,Q.getBuffer.call(re),ae,I,u.call(re,C),se,oe,C,B||q))),!0===le){if(le=P(ae,I,B),(!B||!0===z)&&!1===le&&!0!==te){var ce=oe.validPositions[ae];if(!ce||!0!==ce.match.static||ce.match.def!==I&&I!==se.skipOptionalPartCharacter){if(se.insertMode||void 0===oe.validPositions[Q.seekNext.call(re,ae)]||C.end>ae){var he=!1;if(oe.jitOffset[ae]&&void 0===oe.validPositions[Q.seekNext.call(re,ae)]&&!1!==(le=f.call(re,ae+oe.jitOffset[ae],I,!0,!0))&&(!0!==q&&(le.caret=ae),he=!0),C.end>ae&&(oe.validPositions[ae]=void 0),!he&&!Q.isMask.call(re,ae,se.keepStatic&&0===ae))for(var fe=ae+1,pe=Q.seekNext.call(re,ae,!1,0!==ae);fe<=pe;fe++)if(!1!==(le=P(fe,I,B))){le=h.call(re,ae,void 0!==le.pos?le.pos:fe)||le,ae=fe;break}}}else le={caret:Q.seekNext.call(re,ae)}}re.hasAlternator&&!0!==q&&!B&&(q=!0,!1===le&&se.keepStatic&&(c.call(re,Q.getBuffer.call(re))||0===ae)?le=l.call(re,ae,I,B,z,void 0,C):(u.call(re,C)&&oe.tests[ae]&&oe.tests[ae].length>1&&se.keepStatic||1==le&&!0!==se.numericInput&&oe.tests[ae]&&oe.tests[ae].length>1&&Q.getLastValidPosition.call(re,void 0,!0)>ae)&&(le=l.call(re,!0))),!0===le&&(le={pos:ae})}if("function"==typeof se.postValidation&&!0!==z&&!0!==te){var me=se.postValidation.call(re,Q.getBuffer.call(re,!0),void 0!==C.begin?re.isRTL?C.end:C.begin:C,I,le,se,oe,B,ie);void 0!==me&&(le=!0===me?le:me)}le&&void 0===le.pos&&(le.pos=ae),!1===le||!0===te?(Q.resetMaskSet.call(re,!0),oe.validPositions=ne.extend(!0,[],ue)):h.call(re,void 0,ae,!0);var ge=w(le);return void 0!==re.maxLength&&Q.getBuffer.call(re).length>re.maxLength&&!z&&(Q.resetMaskSet.call(re,!0),oe.validPositions=ne.extend(!0,[],ue),ge=!1),ge}function p(C,I,B){for(var z=this.maskset,q=!1,Q=ee.getTests.call(this,C),te=0;te<Q.length;te++){if(Q[te].match&&(Q[te].match.nativeDef===I.match[B.shiftPositions?"def":"nativeDef"]&&(!B.shiftPositions||!I.match.static)||Q[te].match.nativeDef===I.match.nativeDef||B.regex&&!Q[te].match.static&&Q[te].match.fn.test(I.input,z,C,!1,B))){q=!0;break}if(Q[te].match&&Q[te].match.def===I.match.nativeDef){q=void 0;break}}return!1===q&&void 0!==z.jitOffset[C]&&(q=p.call(this,C+z.jitOffset[C],I,B)),q}function d(C,I,B){var q,ee,te=this,ie=this.maskset,re=this.opts,ne=this.dependencyLib,se=re.skipOptionalPartCharacter,oe=te.isRTL?B.slice().reverse():B;if(re.skipOptionalPartCharacter="",!0===C)Q.resetMaskSet.call(te,!1),C=0,I=B.length,ee=Q.determineNewCaretPosition.call(te,{begin:0,end:0},!1).begin;else{for(q=C;q<I;q++)ie.validPositions.splice(C,0);ee=C}var ae=new ne.Event("keypress");for(q=C;q<I;q++){ae.key=oe[q].toString(),te.ignorable=!1;var le=z.EventHandlers.keypressEvent.call(te,ae,!0,!1,!1,ee);!1!==le&&void 0!==le&&(ee=le.forwardPosition)}re.skipOptionalPartCharacter=se}function h(C,I,B){var z=this,q=this.maskset,te=this.dependencyLib;if(void 0===C)for(C=I-1;C>0&&!q.validPositions[C];C--);for(var ie=C;ie<I;ie++)if(void 0===q.validPositions[ie]&&!Q.isMask.call(z,ie,!1)&&(0==ie?ee.getTest.call(z,ie):q.validPositions[ie-1])){var re=ee.getTests.call(z,ie).slice();""===re[re.length-1].match.def&&re.pop();var ne,se=ee.determineTestTemplate.call(z,ie,re);if(se&&(!0!==se.match.jit||"master"===se.match.newBlockMarker&&(ne=q.validPositions[ie+1])&&!0===ne.match.optionalQuantifier)&&((se=te.extend({},se,{input:ee.getPlaceholder.call(z,ie,se.match,!0)||se.match.def})).generatedInput=!0,v.call(z,ie,se,!0),!0!==B)){var oe=q.validPositions[I].input;return q.validPositions[I]=void 0,f.call(z,I,oe,!0,!0)}}}function v(C,I,B,z){var q=this,te=this.maskset,ie=this.opts,re=this.dependencyLib;function d(C,I,B){var z=I[C];if(void 0!==z&&!0===z.match.static&&!0!==z.match.optionality&&(void 0===I[0]||void 0===I[0].alternation)){var q=B.begin<=C-1?I[C-1]&&!0===I[C-1].match.static&&I[C-1]:I[C-1],Q=B.end>C+1?I[C+1]&&!0===I[C+1].match.static&&I[C+1]:I[C+1];return q&&Q}return!1}var ne=0,se=void 0!==C.begin?C.begin:C,oe=void 0!==C.end?C.end:C,ae=!0;if(C.begin>C.end&&(se=C.end,oe=C.begin),z=void 0!==z?z:se,void 0===B&&(se!==oe||ie.insertMode&&void 0!==te.validPositions[z]||void 0===I||I.match.optionalQuantifier||I.match.optionality)){var le,ue=re.extend(!0,[],te.validPositions),de=Q.getLastValidPosition.call(q,void 0,!0);te.p=se;var ce=u.call(q,C)?se:z;for(le=de;le>=ce;le--)te.validPositions.splice(le,1),void 0===I&&delete te.tests[le+1];var he,fe,pe=z,me=pe;for(I&&(te.validPositions[z]=re.extend(!0,{},I),me++,pe++),null==ue[oe]&&te.jitOffset[oe]&&(oe+=te.jitOffset[oe]+1),le=I?oe:oe-1;le<=de;le++){if(void 0!==(he=ue[le])&&!0!==he.generatedInput&&(le>=oe||le>=se&&d(le,ue,{begin:se,end:oe}))){for(;""!==ee.getTest.call(q,me).match.def;){if(!1!==(fe=p.call(q,me,he,ie))||"+"===he.match.def){"+"===he.match.def&&Q.getBuffer.call(q,!0);var ge=f.call(q,me,he.input,"+"!==he.match.def,!0);if(ae=!1!==ge,pe=(ge.pos||me)+1,!ae&&fe)break}else ae=!1;if(ae){void 0===I&&he.match.static&&le===C.begin&&ne++;break}if(!ae&&Q.getBuffer.call(q),me>te.maskLength)break;me++}""==ee.getTest.call(q,me).match.def&&(ae=!1),me=pe}if(!ae)break}if(!ae)return te.validPositions=re.extend(!0,[],ue),Q.resetMaskSet.call(q,!0),!1}else I&&ee.getTest.call(q,z).match.cd===I.match.cd&&(te.validPositions[z]=re.extend(!0,{},I));return Q.resetMaskSet.call(q,!0),ne}}},I={};function n(B){var z=I[B];if(void 0!==z)return z.exports;var q=I[B]={exports:{}};return C[B](q,q.exports,n),q.exports}var B={};return function(){var C=B;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var I,z=(I=n(2394))&&I.__esModule?I:{default:I};C.default=z.default}(),B}()},4910:(C,I,B)=>{var z,q,Q;!function(){"use strict";q=[B(4692)],z=function(C){C.ui=C.ui||{};C.ui.version="1.14.1";var I=0,B=Array.prototype.hasOwnProperty,z=Array.prototype.slice;C.cleanData=(q=C.cleanData,function(I){var B,z,Q;for(Q=0;null!=(z=I[Q]);Q++)(B=C._data(z,"events"))&&B.remove&&C(z).triggerHandler("remove");q(I)}),C.widget=function(I,B,z){var q,Q,ee,te={},ie=I.split(".")[0];if("__proto__"===(I=I.split(".")[1])||"constructor"===I)return C.error("Invalid widget name: "+I);var re=ie+"-"+I;return z||(z=B,B=C.Widget),Array.isArray(z)&&(z=C.extend.apply(null,[{}].concat(z))),C.expr.pseudos[re.toLowerCase()]=function(I){return!!C.data(I,re)},C[ie]=C[ie]||{},q=C[ie][I],Q=C[ie][I]=function(C,I){if(!this||!this._createWidget)return new Q(C,I);arguments.length&&this._createWidget(C,I)},C.extend(Q,q,{version:z.version,_proto:C.extend({},z),_childConstructors:[]}),(ee=new B).options=C.widget.extend({},ee.options),C.each(z,(function(C,I){te[C]="function"==typeof I?function(){function _super(){return B.prototype[C].apply(this,arguments)}function _superApply(I){return B.prototype[C].apply(this,I)}return function(){var C,B=this._super,z=this._superApply;return this._super=_super,this._superApply=_superApply,C=I.apply(this,arguments),this._super=B,this._superApply=z,C}}():I})),Q.prototype=C.widget.extend(ee,{widgetEventPrefix:q&&ee.widgetEventPrefix||I},te,{constructor:Q,namespace:ie,widgetName:I,widgetFullName:re}),q?(C.each(q._childConstructors,(function(I,B){var z=B.prototype;C.widget(z.namespace+"."+z.widgetName,Q,B._proto)})),delete q._childConstructors):B._childConstructors.push(Q),C.widget.bridge(I,Q),Q},C.widget.extend=function(I){for(var q,Q,ee=z.call(arguments,1),te=0,ie=ee.length;te<ie;te++)for(q in ee[te])Q=ee[te][q],B.call(ee[te],q)&&void 0!==Q&&(C.isPlainObject(Q)?I[q]=C.isPlainObject(I[q])?C.widget.extend({},I[q],Q):C.widget.extend({},Q):I[q]=Q);return I},C.widget.bridge=function(I,B){var q=B.prototype.widgetFullName||I;C.fn[I]=function(Q){var ee="string"==typeof Q,te=z.call(arguments,1),ie=this;return ee?this.length||"instance"!==Q?this.each((function(){var B,z=C.data(this,q);return"instance"===Q?(ie=z,!1):z?"function"!=typeof z[Q]||"_"===Q.charAt(0)?C.error("no such method '"+Q+"' for "+I+" widget instance"):(B=z[Q].apply(z,te))!==z&&void 0!==B?(ie=B&&B.jquery?ie.pushStack(B.get()):B,!1):void 0:C.error("cannot call methods on "+I+" prior to initialization; attempted to call method '"+Q+"'")})):ie=void 0:(te.length&&(Q=C.widget.extend.apply(null,[Q].concat(te))),this.each((function(){var I=C.data(this,q);I?(I.option(Q||{}),I._init&&I._init()):C.data(this,q,new B(Q,this))}))),ie}},C.Widget=function(){},C.Widget._childConstructors=[],C.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(B,z){z=C(z||this.defaultElement||this)[0],this.element=C(z),this.uuid=I++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=C(),this.hoverable=C(),this.focusable=C(),this.classesElementLookup={},z!==this&&(C.data(z,this.widgetFullName,this),this._on(!0,this.element,{remove:function(C){C.target===z&&this.destroy()}}),this.document=C(z.style?z.ownerDocument:z.document||z),this.window=C(this.document[0].defaultView||this.document[0].parentWindow)),this.options=C.widget.extend({},this.options,this._getCreateOptions(),B),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:C.noop,_create:C.noop,_init:C.noop,destroy:function(){var I=this;this._destroy(),C.each(this.classesElementLookup,(function(C,B){I._removeClass(B,C)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:C.noop,widget:function(){return this.element},option:function(I,B){var z,q,Q,ee=I;if(0===arguments.length)return C.widget.extend({},this.options);if("string"==typeof I)if(ee={},z=I.split("."),I=z.shift(),z.length){for(q=ee[I]=C.widget.extend({},this.options[I]),Q=0;Q<z.length-1;Q++)q[z[Q]]=q[z[Q]]||{},q=q[z[Q]];if(I=z.pop(),1===arguments.length)return void 0===q[I]?null:q[I];q[I]=B}else{if(1===arguments.length)return void 0===this.options[I]?null:this.options[I];ee[I]=B}return this._setOptions(ee),this},_setOptions:function(C){var I;for(I in C)this._setOption(I,C[I]);return this},_setOption:function(C,I){return"classes"===C&&this._setOptionClasses(I),this.options[C]=I,"disabled"===C&&this._setOptionDisabled(I),this},_setOptionClasses:function(I){var B,z,q;for(B in I)q=this.classesElementLookup[B],I[B]!==this.options.classes[B]&&q&&q.length&&(z=C(q.get()),this._removeClass(q,B),z.addClass(this._classes({element:z,keys:B,classes:I,add:!0})))},_setOptionDisabled:function(C){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!C),C&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(I){var B=[],z=this;function bindRemoveEvent(){var B=[];I.element.each((function(I,q){C.map(z.classesElementLookup,(function(C){return C})).some((function(C){return C.is(q)}))||B.push(q)})),z._on(C(B),{remove:"_untrackClassesElement"})}function processClassString(q,Q){var ee,te;for(te=0;te<q.length;te++)ee=z.classesElementLookup[q[te]]||C(),I.add?(bindRemoveEvent(),ee=C(C.uniqueSort(ee.get().concat(I.element.get())))):ee=C(ee.not(I.element).get()),z.classesElementLookup[q[te]]=ee,B.push(q[te]),Q&&I.classes[q[te]]&&B.push(I.classes[q[te]])}return(I=C.extend({element:this.element,classes:this.options.classes||{}},I)).keys&&processClassString(I.keys.match(/\S+/g)||[],!0),I.extra&&processClassString(I.extra.match(/\S+/g)||[]),B.join(" ")},_untrackClassesElement:function(I){var B=this;C.each(B.classesElementLookup,(function(z,q){-1!==C.inArray(I.target,q)&&(B.classesElementLookup[z]=C(q.not(I.target).get()))})),this._off(C(I.target))},_removeClass:function(C,I,B){return this._toggleClass(C,I,B,!1)},_addClass:function(C,I,B){return this._toggleClass(C,I,B,!0)},_toggleClass:function(C,I,B,z){z="boolean"==typeof z?z:B;var q="string"==typeof C||null===C,Q={extra:q?I:B,keys:q?C:I,element:q?this.element:C,add:z};return Q.element.toggleClass(this._classes(Q),z),this},_on:function(I,B,z){var q,Q=this;"boolean"!=typeof I&&(z=B,B=I,I=!1),z?(B=q=C(B),this.bindings=this.bindings.add(B)):(z=B,B=this.element,q=this.widget()),C.each(z,(function(z,ee){function handlerProxy(){if(I||!0!==Q.options.disabled&&!C(this).hasClass("ui-state-disabled"))return("string"==typeof ee?Q[ee]:ee).apply(Q,arguments)}"string"!=typeof ee&&(handlerProxy.guid=ee.guid=ee.guid||handlerProxy.guid||C.guid++);var te=z.match(/^([\w:-]*)\s*(.*)$/),ie=te[1]+Q.eventNamespace,re=te[2];re?q.on(ie,re,handlerProxy):B.on(ie,handlerProxy)}))},_off:function(I,B){B=(B||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,I.off(B),this.bindings=C(this.bindings.not(I).get()),this.focusable=C(this.focusable.not(I).get()),this.hoverable=C(this.hoverable.not(I).get())},_delay:function(C,I){function handlerProxy(){return("string"==typeof C?B[C]:C).apply(B,arguments)}var B=this;return setTimeout(handlerProxy,I||0)},_hoverable:function(I){this.hoverable=this.hoverable.add(I),this._on(I,{mouseenter:function(I){this._addClass(C(I.currentTarget),null,"ui-state-hover")},mouseleave:function(I){this._removeClass(C(I.currentTarget),null,"ui-state-hover")}})},_focusable:function(I){this.focusable=this.focusable.add(I),this._on(I,{focusin:function(I){this._addClass(C(I.currentTarget),null,"ui-state-focus")},focusout:function(I){this._removeClass(C(I.currentTarget),null,"ui-state-focus")}})},_trigger:function(I,B,z){var q,Q,ee=this.options[I];if(z=z||{},(B=C.Event(B)).type=(I===this.widgetEventPrefix?I:this.widgetEventPrefix+I).toLowerCase(),B.target=this.element[0],Q=B.originalEvent)for(q in Q)q in B||(B[q]=Q[q]);return this.element.trigger(B,z),!("function"==typeof ee&&!1===ee.apply(this.element[0],[B].concat(z))||B.isDefaultPrevented())}},C.each({show:"fadeIn",hide:"fadeOut"},(function(I,B){C.Widget.prototype["_"+I]=function(z,q,Q){var ee;"string"==typeof q&&(q={effect:q});var te=q?!0===q||"number"==typeof q?B:q.effect||B:I;"number"==typeof(q=q||{})?q={duration:q}:!0===q&&(q={}),ee=!C.isEmptyObject(q),q.complete=Q,q.delay&&z.delay(q.delay),ee&&C.effects&&C.effects.effect[te]?z[I](q):te!==I&&z[te]?z[te](q.duration,q.easing,Q):z.queue((function(B){C(this)[I](),Q&&Q.call(z[0]),B()}))}}));var q;C.widget;!function(){var I,B=Math.max,z=Math.abs,q=/left|center|right/,Q=/top|center|bottom/,ee=/[\+\-]\d+(\.[\d]+)?%?/,te=/^\w+/,ie=/%$/,re=C.fn.position;function getOffsets(C,I,B){return[parseFloat(C[0])*(ie.test(C[0])?I/100:1),parseFloat(C[1])*(ie.test(C[1])?B/100:1)]}function parseCss(I,B){return parseInt(C.css(I,B),10)||0}function isWindow(C){return null!=C&&C===C.window}function getDimensions(C){var I=C[0];return 9===I.nodeType?{width:C.width(),height:C.height(),offset:{top:0,left:0}}:isWindow(I)?{width:C.width(),height:C.height(),offset:{top:C.scrollTop(),left:C.scrollLeft()}}:I.preventDefault?{width:0,height:0,offset:{top:I.pageY,left:I.pageX}}:{width:C.outerWidth(),height:C.outerHeight(),offset:C.offset()}}C.position={scrollbarWidth:function(){if(void 0!==I)return I;var B,z,q=C("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),Q=q.children()[0];return C("body").append(q),B=Q.offsetWidth,q.css("overflow","scroll"),B===(z=Q.offsetWidth)&&(z=q[0].clientWidth),q.remove(),I=B-z},getScrollInfo:function(I){var B=I.isWindow||I.isDocument?"":I.element.css("overflow-x"),z=I.isWindow||I.isDocument?"":I.element.css("overflow-y"),q="scroll"===B||"auto"===B&&I.width<I.element[0].scrollWidth;return{width:"scroll"===z||"auto"===z&&I.height<I.element[0].scrollHeight?C.position.scrollbarWidth():0,height:q?C.position.scrollbarWidth():0}},getWithinInfo:function(I){var B=C(I||window),z=isWindow(B[0]),q=!!B[0]&&9===B[0].nodeType;return{element:B,isWindow:z,isDocument:q,offset:!z&&!q?C(I).offset():{left:0,top:0},scrollLeft:B.scrollLeft(),scrollTop:B.scrollTop(),width:B.outerWidth(),height:B.outerHeight()}}},C.fn.position=function(I){if(!I||!I.of)return re.apply(this,arguments);var ie,ne,se,oe,ae,le,ue="string"==typeof(I=C.extend({},I)).of?C(document).find(I.of):C(I.of),de=C.position.getWithinInfo(I.within),ce=C.position.getScrollInfo(de),he=(I.collision||"flip").split(" "),fe={};return le=getDimensions(ue),ue[0].preventDefault&&(I.at="left top"),ne=le.width,se=le.height,oe=le.offset,ae=C.extend({},oe),C.each(["my","at"],(function(){var C,B,z=(I[this]||"").split(" ");1===z.length&&(z=q.test(z[0])?z.concat(["center"]):Q.test(z[0])?["center"].concat(z):["center","center"]),z[0]=q.test(z[0])?z[0]:"center",z[1]=Q.test(z[1])?z[1]:"center",C=ee.exec(z[0]),B=ee.exec(z[1]),fe[this]=[C?C[0]:0,B?B[0]:0],I[this]=[te.exec(z[0])[0],te.exec(z[1])[0]]})),1===he.length&&(he[1]=he[0]),"right"===I.at[0]?ae.left+=ne:"center"===I.at[0]&&(ae.left+=ne/2),"bottom"===I.at[1]?ae.top+=se:"center"===I.at[1]&&(ae.top+=se/2),ie=getOffsets(fe.at,ne,se),ae.left+=ie[0],ae.top+=ie[1],this.each((function(){var q,Q,ee=C(this),te=ee.outerWidth(),re=ee.outerHeight(),le=parseCss(this,"marginLeft"),pe=parseCss(this,"marginTop"),me=te+le+parseCss(this,"marginRight")+ce.width,ge=re+pe+parseCss(this,"marginBottom")+ce.height,ve=C.extend({},ae),ye=getOffsets(fe.my,ee.outerWidth(),ee.outerHeight());"right"===I.my[0]?ve.left-=te:"center"===I.my[0]&&(ve.left-=te/2),"bottom"===I.my[1]?ve.top-=re:"center"===I.my[1]&&(ve.top-=re/2),ve.left+=ye[0],ve.top+=ye[1],q={marginLeft:le,marginTop:pe},C.each(["left","top"],(function(B,z){C.ui.position[he[B]]&&C.ui.position[he[B]][z](ve,{targetWidth:ne,targetHeight:se,elemWidth:te,elemHeight:re,collisionPosition:q,collisionWidth:me,collisionHeight:ge,offset:[ie[0]+ye[0],ie[1]+ye[1]],my:I.my,at:I.at,within:de,elem:ee})})),I.using&&(Q=function(C){var q=oe.left-ve.left,Q=q+ne-te,ie=oe.top-ve.top,ae=ie+se-re,le={target:{element:ue,left:oe.left,top:oe.top,width:ne,height:se},element:{element:ee,left:ve.left,top:ve.top,width:te,height:re},horizontal:Q<0?"left":q>0?"right":"center",vertical:ae<0?"top":ie>0?"bottom":"middle"};ne<te&&z(q+Q)<ne&&(le.horizontal="center"),se<re&&z(ie+ae)<se&&(le.vertical="middle"),B(z(q),z(Q))>B(z(ie),z(ae))?le.important="horizontal":le.important="vertical",I.using.call(this,C,le)}),ee.offset(C.extend(ve,{using:Q}))}))},C.ui.position={fit:{left:function(C,I){var z,q=I.within,Q=q.isWindow?q.scrollLeft:q.offset.left,ee=q.width,te=C.left-I.collisionPosition.marginLeft,ie=Q-te,re=te+I.collisionWidth-ee-Q;I.collisionWidth>ee?ie>0&&re<=0?(z=C.left+ie+I.collisionWidth-ee-Q,C.left+=ie-z):C.left=re>0&&ie<=0?Q:ie>re?Q+ee-I.collisionWidth:Q:ie>0?C.left+=ie:re>0?C.left-=re:C.left=B(C.left-te,C.left)},top:function(C,I){var z,q=I.within,Q=q.isWindow?q.scrollTop:q.offset.top,ee=I.within.height,te=C.top-I.collisionPosition.marginTop,ie=Q-te,re=te+I.collisionHeight-ee-Q;I.collisionHeight>ee?ie>0&&re<=0?(z=C.top+ie+I.collisionHeight-ee-Q,C.top+=ie-z):C.top=re>0&&ie<=0?Q:ie>re?Q+ee-I.collisionHeight:Q:ie>0?C.top+=ie:re>0?C.top-=re:C.top=B(C.top-te,C.top)}},flip:{left:function(C,I){var B,q,Q=I.within,ee=Q.offset.left+Q.scrollLeft,te=Q.width,ie=Q.isWindow?Q.scrollLeft:Q.offset.left,re=C.left-I.collisionPosition.marginLeft,ne=re-ie,se=re+I.collisionWidth-te-ie,oe="left"===I.my[0]?-I.elemWidth:"right"===I.my[0]?I.elemWidth:0,ae="left"===I.at[0]?I.targetWidth:"right"===I.at[0]?-I.targetWidth:0,le=-2*I.offset[0];ne<0?((B=C.left+oe+ae+le+I.collisionWidth-te-ee)<0||B<z(ne))&&(C.left+=oe+ae+le):se>0&&((q=C.left-I.collisionPosition.marginLeft+oe+ae+le-ie)>0||z(q)<se)&&(C.left+=oe+ae+le)},top:function(C,I){var B,q,Q=I.within,ee=Q.offset.top+Q.scrollTop,te=Q.height,ie=Q.isWindow?Q.scrollTop:Q.offset.top,re=C.top-I.collisionPosition.marginTop,ne=re-ie,se=re+I.collisionHeight-te-ie,oe="top"===I.my[1]?-I.elemHeight:"bottom"===I.my[1]?I.elemHeight:0,ae="top"===I.at[1]?I.targetHeight:"bottom"===I.at[1]?-I.targetHeight:0,le=-2*I.offset[1];ne<0?((q=C.top+oe+ae+le+I.collisionHeight-te-ee)<0||q<z(ne))&&(C.top+=oe+ae+le):se>0&&((B=C.top-I.collisionPosition.marginTop+oe+ae+le-ie)>0||z(B)<se)&&(C.top+=oe+ae+le)}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}}}();C.ui.position,C.extend(C.expr.pseudos,{data:C.expr.createPseudo((function(I){return function(B){return!!C.data(B,I)}}))}),C.fn.extend({disableSelection:(de="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(de+".ui-disableSelection",(function(C){C.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var Q,ee=C,te="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",ie={},re=ie.toString,ne=/^([\-+])=\s*(\d+\.?\d*)/,se=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(C){return[C[1],C[2],C[3],C[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(C){return[2.55*C[1],2.55*C[2],2.55*C[3],C[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(C){return[parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16),C[4]?(parseInt(C[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(C){return[parseInt(C[1]+C[1],16),parseInt(C[2]+C[2],16),parseInt(C[3]+C[3],16),C[4]?(parseInt(C[4]+C[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(C){return[C[1],C[2]/100,C[3]/100,C[4]]}}],oe=ee.Color=function(C,I,B,z){return new ee.Color.fn.parse(C,I,B,z)},ae={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},le={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},ue=ee.each;var de;function getType(C){return null==C?C+"":"object"==typeof C?ie[re.call(C)]||"object":typeof C}function clamp(C,I,B){var z=le[I.type]||{};return null==C?B||!I.def?null:I.def:(C=z.floor?~~C:parseFloat(C),z.mod?(C+z.mod)%z.mod:Math.min(z.max,Math.max(0,C)))}function stringParse(C){var I=oe(),B=I._rgba=[];return C=C.toLowerCase(),ue(se,(function(z,q){var Q,ee=q.re.exec(C),te=ee&&q.parse(ee),ie=q.space||"rgba";if(te)return Q=I[ie](te),I[ae[ie].cache]=Q[ae[ie].cache],B=I._rgba=Q._rgba,!1})),B.length?("0,0,0,0"===B.join()&&ee.extend(B,Q.transparent),I):Q[C]}function hue2rgb(C,I,B){return 6*(B=(B+1)%1)<1?C+(I-C)*B*6:2*B<1?I:3*B<2?C+(I-C)*(2/3-B)*6:C}ue(ae,(function(C,I){I.cache="_"+C,I.props.alpha={idx:3,type:"percent",def:1}})),ee.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(C,I){ie["[object "+I+"]"]=I.toLowerCase()})),oe.fn=ee.extend(oe.prototype,{parse:function(C,I,B,z){if(void 0===C)return this._rgba=[null,null,null,null],this;(C.jquery||C.nodeType)&&(C=ee(C).css(I),I=void 0);var q=this,te=getType(C),ie=this._rgba=[];return void 0!==I&&(C=[C,I,B,z],te="array"),"string"===te?this.parse(stringParse(C)||Q._default):"array"===te?(ue(ae.rgba.props,(function(I,B){ie[B.idx]=clamp(C[B.idx],B)})),this):"object"===te?(ue(ae,C instanceof oe?function(I,B){C[B.cache]&&(q[B.cache]=C[B.cache].slice())}:function(I,B){var z=B.cache;ue(B.props,(function(I,Q){if(!q[z]&&B.to){if("alpha"===I||null==C[I])return;q[z]=B.to(q._rgba)}q[z][Q.idx]=clamp(C[I],Q,!0)})),q[z]&&ee.inArray(null,q[z].slice(0,3))<0&&(null==q[z][3]&&(q[z][3]=1),B.from&&(q._rgba=B.from(q[z])))}),this):void 0},is:function(C){var I=oe(C),B=!0,z=this;return ue(ae,(function(C,q){var Q,ee=I[q.cache];return ee&&(Q=z[q.cache]||q.to&&q.to(z._rgba)||[],ue(q.props,(function(C,I){if(null!=ee[I.idx])return B=ee[I.idx]===Q[I.idx]}))),B})),B},_space:function(){var C=[],I=this;return ue(ae,(function(B,z){I[z.cache]&&C.push(B)})),C.pop()},transition:function(C,I){var B=oe(C),z=B._space(),q=ae[z],Q=0===this.alpha()?oe("transparent"):this,ee=Q[q.cache]||q.to(Q._rgba),te=ee.slice();return B=B[q.cache],ue(q.props,(function(C,z){var q=z.idx,Q=ee[q],ie=B[q],re=le[z.type]||{};null!==ie&&(null===Q?te[q]=ie:(re.mod&&(ie-Q>re.mod/2?Q+=re.mod:Q-ie>re.mod/2&&(Q-=re.mod)),te[q]=clamp((ie-Q)*I+Q,z)))})),this[z](te)},blend:function(C){if(1===this._rgba[3])return this;var I=this._rgba.slice(),B=I.pop(),z=oe(C)._rgba;return oe(ee.map(I,(function(C,I){return(1-B)*z[I]+B*C})))},toRgbaString:function(){var C="rgba(",I=ee.map(this._rgba,(function(C,I){return null!=C?C:I>2?1:0}));return 1===I[3]&&(I.pop(),C="rgb("),C+I.join(", ")+")"},toHslaString:function(){var C="hsla(",I=ee.map(this.hsla(),(function(C,I){return null==C&&(C=I>2?1:0),I&&I<3&&(C=Math.round(100*C)+"%"),C}));return 1===I[3]&&(I.pop(),C="hsl("),C+I.join(", ")+")"},toHexString:function(C){var I=this._rgba.slice(),B=I.pop();return C&&I.push(~~(255*B)),"#"+ee.map(I,(function(C){return("0"+(C||0).toString(16)).substr(-2)})).join("")},toString:function(){return this.toRgbaString()}}),oe.fn.parse.prototype=oe.fn,ae.hsla.to=function(C){if(null==C[0]||null==C[1]||null==C[2])return[null,null,null,C[3]];var I,B,z=C[0]/255,q=C[1]/255,Q=C[2]/255,ee=C[3],te=Math.max(z,q,Q),ie=Math.min(z,q,Q),re=te-ie,ne=te+ie,se=.5*ne;return I=ie===te?0:z===te?60*(q-Q)/re+360:q===te?60*(Q-z)/re+120:60*(z-q)/re+240,B=0===re?0:se<=.5?re/ne:re/(2-ne),[Math.round(I)%360,B,se,null==ee?1:ee]},ae.hsla.from=function(C){if(null==C[0]||null==C[1]||null==C[2])return[null,null,null,C[3]];var I=C[0]/360,B=C[1],z=C[2],q=C[3],Q=z<=.5?z*(1+B):z+B-z*B,ee=2*z-Q;return[Math.round(255*hue2rgb(ee,Q,I+1/3)),Math.round(255*hue2rgb(ee,Q,I)),Math.round(255*hue2rgb(ee,Q,I-1/3)),q]},ue(ae,(function(C,I){var B=I.props,z=I.cache,q=I.to,Q=I.from;oe.fn[C]=function(C){if(q&&!this[z]&&(this[z]=q(this._rgba)),void 0===C)return this[z].slice();var I,ee=getType(C),te="array"===ee||"object"===ee?C:arguments,ie=this[z].slice();return ue(B,(function(C,I){var B=te["object"===ee?C:I.idx];null==B&&(B=ie[I.idx]),ie[I.idx]=clamp(B,I)})),Q?((I=oe(Q(ie)))[z]=ie,I):oe(ie)},ue(B,(function(I,B){oe.fn[I]||(oe.fn[I]=function(z){var q,Q,ee,te,ie=getType(z);return Q=(q=this[te="alpha"===I?this._hsla?"hsla":"rgba":C]())[B.idx],"undefined"===ie?Q:("function"===ie&&(ie=getType(z=z.call(this,Q))),null==z&&B.empty?this:("string"===ie&&(ee=ne.exec(z))&&(z=Q+parseFloat(ee[2])*("+"===ee[1]?1:-1)),q[B.idx]=z,this[te](q)))})}))})),oe.hook=function(C){var I=C.split(" ");ue(I,(function(C,I){ee.cssHooks[I]={set:function(C,B){var z;"transparent"===B||"string"===getType(B)&&!(z=stringParse(B))||(B=(B=oe(z||B)).toRgbaString()),C.style[I]=B}},ee.fx.step[I]=function(C){C.colorInit||(C.start=oe(C.elem,I),C.end=oe(C.end),C.colorInit=!0),ee.cssHooks[I].set(C.elem,C.start.transition(C.end,C.pos))}}))},oe.hook(te),ee.cssHooks.borderColor={expand:function(C){var I={};return ue(["Top","Right","Bottom","Left"],(function(B,z){I["border"+z+"Color"]=C})),I}},Q=ee.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var ce="ui-effects-",he="ui-effects-style",fe="ui-effects-animated";C.effects={effect:{}},function(){var I=["add","remove","toggle"],B={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function camelCase(C){return C.replace(/-([\da-z])/gi,(function(C,I){return I.toUpperCase()}))}function getElementStyles(C){var I,B,z=C.ownerDocument.defaultView.getComputedStyle(C),q={};for(B=z.length;B--;)"string"==typeof z[I=z[B]]&&(q[camelCase(I)]=z[I]);return q}function styleDifference(I,z){var q,Q,ee={};for(q in z)Q=z[q],I[q]!==Q&&(B[q]||!C.fx.step[q]&&isNaN(parseFloat(Q))||(ee[q]=Q));return ee}C.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(I,B){C.fx.step[B]=function(C){("none"!==C.end&&!C.setAttr||1===C.pos&&!C.setAttr)&&(ee.style(C.elem,B,C.end),C.setAttr=!0)}})),C.effects.animateClass=function(B,z,q,Q){var ee=C.speed(z,q,Q);return this.queue((function(){var z,q=C(this),Q=q.attr("class")||"",te=ee.children?q.find("*").addBack():q;te=te.map((function(){return{el:C(this),start:getElementStyles(this)}})),(z=function(){C.each(I,(function(C,I){B[I]&&q[I+"Class"](B[I])}))})(),te=te.map((function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this})),q.attr("class",Q),te=te.map((function(){var I=this,B=C.Deferred(),z=C.extend({},ee,{queue:!1,complete:function(){B.resolve(I)}});return this.el.animate(this.diff,z),B.promise()})),C.when.apply(C,te.get()).done((function(){z(),C.each(arguments,(function(){var I=this.el;C.each(this.diff,(function(C){I.css(C,"")}))})),ee.complete.call(q[0])}))}))},C.fn.extend({addClass:function(I){return function(B,z,q,Q){return z?C.effects.animateClass.call(this,{add:B},z,q,Q):I.apply(this,arguments)}}(C.fn.addClass),removeClass:function(I){return function(B,z,q,Q){return arguments.length>1?C.effects.animateClass.call(this,{remove:B},z,q,Q):I.apply(this,arguments)}}(C.fn.removeClass),toggleClass:function(I){return function(B,z,q,Q,ee){return"boolean"==typeof z||void 0===z?q?C.effects.animateClass.call(this,z?{add:B}:{remove:B},q,Q,ee):I.apply(this,arguments):C.effects.animateClass.call(this,{toggle:B},z,q,Q)}}(C.fn.toggleClass),switchClass:function(I,B,z,q,Q){return C.effects.animateClass.call(this,{add:B,remove:I},z,q,Q)}})}(),function(){function _normalizeArguments(I,B,z,q){return C.isPlainObject(I)&&(B=I,I=I.effect),I={effect:I},null==B&&(B={}),"function"==typeof B&&(q=B,z=null,B={}),("number"==typeof B||C.fx.speeds[B])&&(q=z,z=B,B={}),"function"==typeof z&&(q=z,z=null),B&&C.extend(I,B),z=z||B.duration,I.duration=C.fx.off?0:"number"==typeof z?z:z in C.fx.speeds?C.fx.speeds[z]:C.fx.speeds._default,I.complete=q||B.complete,I}function standardAnimationOption(I){return!(I&&"number"!=typeof I&&!C.fx.speeds[I])||("string"==typeof I&&!C.effects.effect[I]||("function"==typeof I||"object"==typeof I&&!I.effect))}function parseClip(C,I){var B=I.outerWidth(),z=I.outerHeight(),q=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(C)||["",0,B,z,0];return{top:parseFloat(q[1])||0,right:"auto"===q[2]?B:parseFloat(q[2]),bottom:"auto"===q[3]?z:parseFloat(q[3]),left:parseFloat(q[4])||0}}C.expr&&C.expr.pseudos&&C.expr.pseudos.animated&&(C.expr.pseudos.animated=function(I){return function(B){return!!C(B).data(fe)||I(B)}}(C.expr.pseudos.animated)),!0===C.uiBackCompat&&C.extend(C.effects,{save:function(C,I){for(var B=0,z=I.length;B<z;B++)null!==I[B]&&C.data(ce+I[B],C[0].style[I[B]])},restore:function(C,I){for(var B,z=0,q=I.length;z<q;z++)null!==I[z]&&(B=C.data(ce+I[z]),C.css(I[z],B))},setMode:function(C,I){return"toggle"===I&&(I=C.is(":hidden")?"show":"hide"),I},createWrapper:function(I){if(I.parent().is(".ui-effects-wrapper"))return I.parent();var B={width:I.outerWidth(!0),height:I.outerHeight(!0),float:I.css("float")},z=C("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),q={width:I.width(),height:I.height()},Q=document.activeElement;try{Q.id}catch(C){Q=document.body}return I.wrap(z),(I[0]===Q||C.contains(I[0],Q))&&C(Q).trigger("focus"),z=I.parent(),"static"===I.css("position")?(z.css({position:"relative"}),I.css({position:"relative"})):(C.extend(B,{position:I.css("position"),zIndex:I.css("z-index")}),C.each(["top","left","bottom","right"],(function(C,z){B[z]=I.css(z),isNaN(parseInt(B[z],10))&&(B[z]="auto")})),I.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),I.css(q),z.css(B).show()},removeWrapper:function(I){var B=document.activeElement;return I.parent().is(".ui-effects-wrapper")&&(I.parent().replaceWith(I),(I[0]===B||C.contains(I[0],B))&&C(B).trigger("focus")),I}}),C.extend(C.effects,{version:"1.14.1",define:function(I,B,z){return z||(z=B,B="effect"),C.effects.effect[I]=z,C.effects.effect[I].mode=B,z},scaledDimensions:function(C,I,B){if(0===I)return{height:0,width:0,outerHeight:0,outerWidth:0};var z="horizontal"!==B?(I||100)/100:1,q="vertical"!==B?(I||100)/100:1;return{height:C.height()*q,width:C.width()*z,outerHeight:C.outerHeight()*q,outerWidth:C.outerWidth()*z}},clipToBox:function(C){return{width:C.clip.right-C.clip.left,height:C.clip.bottom-C.clip.top,left:C.clip.left,top:C.clip.top}},unshift:function(C,I,B){var z=C.queue();I>1&&z.splice.apply(z,[1,0].concat(z.splice(I,B))),C.dequeue()},saveStyle:function(C){C.data(he,C[0].style.cssText)},restoreStyle:function(C){C[0].style.cssText=C.data(he)||"",C.removeData(he)},mode:function(C,I){var B=C.is(":hidden");return"toggle"===I&&(I=B?"show":"hide"),(B?"hide"===I:"show"===I)&&(I="none"),I},getBaseline:function(C,I){var B,z;switch(C[0]){case"top":B=0;break;case"middle":B=.5;break;case"bottom":B=1;break;default:B=C[0]/I.height}switch(C[1]){case"left":z=0;break;case"center":z=.5;break;case"right":z=1;break;default:z=C[1]/I.width}return{x:z,y:B}},createPlaceholder:function(I){var B,z=I.css("position"),q=I.position();return I.css({marginTop:I.css("marginTop"),marginBottom:I.css("marginBottom"),marginLeft:I.css("marginLeft"),marginRight:I.css("marginRight")}).outerWidth(I.outerWidth()).outerHeight(I.outerHeight()),/^(static|relative)/.test(z)&&(z="absolute",B=C("<"+I[0].nodeName+">").insertAfter(I).css({display:/^(inline|ruby)/.test(I.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:I.css("marginTop"),marginBottom:I.css("marginBottom"),marginLeft:I.css("marginLeft"),marginRight:I.css("marginRight"),float:I.css("float")}).outerWidth(I.outerWidth()).outerHeight(I.outerHeight()).addClass("ui-effects-placeholder"),I.data(ce+"placeholder",B)),I.css({position:z,left:q.left,top:q.top}),B},removePlaceholder:function(C){var I=ce+"placeholder",B=C.data(I);B&&(B.remove(),C.removeData(I))},cleanUp:function(I){C.effects.restoreStyle(I),C.effects.removePlaceholder(I)},setTransition:function(I,B,z,q){return q=q||{},C.each(B,(function(C,B){var Q=I.cssUnit(B);Q[0]>0&&(q[B]=Q[0]*z+Q[1])})),q}}),C.fn.extend({effect:function(){var I=_normalizeArguments.apply(this,arguments),B=C.effects.effect[I.effect],z=B.mode,q=I.queue,Q=q||"fx",ee=I.complete,te=I.mode,ie=[],prefilter=function(I){var B=C(this),q=C.effects.mode(B,te)||z;B.data(fe,!0),ie.push(q),z&&("show"===q||q===z&&"hide"===q)&&B.show(),z&&"none"===q||C.effects.saveStyle(B),"function"==typeof I&&I()};if(C.fx.off||!B)return te?this[te](I.duration,ee):this.each((function(){ee&&ee.call(this)}));function run(q){var Q=C(this);function cleanup(){Q.removeData(fe),C.effects.cleanUp(Q),"hide"===I.mode&&Q.hide(),done()}function done(){"function"==typeof ee&&ee.call(Q[0]),"function"==typeof q&&q()}I.mode=ie.shift(),!0!==C.uiBackCompat||z?"none"===I.mode?(Q[te](),done()):B.call(Q[0],I,cleanup):(Q.is(":hidden")?"hide"===te:"show"===te)?(Q[te](),done()):B.call(Q[0],I,done)}return!1===q?this.each(prefilter).each(run):this.queue(Q,prefilter).queue(Q,run)},show:function(C){return function(I){if(standardAnimationOption(I))return C.apply(this,arguments);var B=_normalizeArguments.apply(this,arguments);return B.mode="show",this.effect.call(this,B)}}(C.fn.show),hide:function(C){return function(I){if(standardAnimationOption(I))return C.apply(this,arguments);var B=_normalizeArguments.apply(this,arguments);return B.mode="hide",this.effect.call(this,B)}}(C.fn.hide),toggle:function(C){return function(I){if(standardAnimationOption(I)||"boolean"==typeof I)return C.apply(this,arguments);var B=_normalizeArguments.apply(this,arguments);return B.mode="toggle",this.effect.call(this,B)}}(C.fn.toggle),cssUnit:function(I){var B=this.css(I),z=[];return C.each(["em","px","%","pt"],(function(C,I){B.indexOf(I)>0&&(z=[parseFloat(B),I])})),z},cssClip:function(C){return C?this.css("clip","rect("+C.top+"px "+C.right+"px "+C.bottom+"px "+C.left+"px)"):parseClip(this.css("clip"),this)},transfer:function(I,B){var z=C(this),q=C(I.to),Q="fixed"===q.css("position"),ee=C("body"),te=Q?ee.scrollTop():0,ie=Q?ee.scrollLeft():0,re=q.offset(),ne={top:re.top-te,left:re.left-ie,height:q.innerHeight(),width:q.innerWidth()},se=z.offset(),oe=C("<div class='ui-effects-transfer'></div>");oe.appendTo("body").addClass(I.className).css({top:se.top-te,left:se.left-ie,height:z.innerHeight(),width:z.innerWidth(),position:Q?"fixed":"absolute"}).animate(ne,I.duration,I.easing,(function(){oe.remove(),"function"==typeof B&&B()}))}}),C.fx.step.clip=function(I){I.clipInit||(I.start=C(I.elem).cssClip(),"string"==typeof I.end&&(I.end=parseClip(I.end,I.elem)),I.clipInit=!0),C(I.elem).cssClip({top:I.pos*(I.end.top-I.start.top)+I.start.top,right:I.pos*(I.end.right-I.start.right)+I.start.right,bottom:I.pos*(I.end.bottom-I.start.bottom)+I.start.bottom,left:I.pos*(I.end.left-I.start.left)+I.start.left})}}(),pe={},C.each(["Quad","Cubic","Quart","Quint","Expo"],(function(C,I){pe[I]=function(I){return Math.pow(I,C+2)}})),C.extend(pe,{Sine:function(C){return 1-Math.cos(C*Math.PI/2)},Circ:function(C){return 1-Math.sqrt(1-C*C)},Elastic:function(C){return 0===C||1===C?C:-Math.pow(2,8*(C-1))*Math.sin((80*(C-1)-7.5)*Math.PI/15)},Back:function(C){return C*C*(3*C-2)},Bounce:function(C){for(var I,B=4;C<((I=Math.pow(2,--B))-1)/11;);return 1/Math.pow(4,3-B)-7.5625*Math.pow((3*I-2)/22-C,2)}}),C.each(pe,(function(I,B){C.easing["easeIn"+I]=B,C.easing["easeOut"+I]=function(C){return 1-B(1-C)},C.easing["easeInOut"+I]=function(C){return C<.5?B(2*C)/2:1-B(-2*C+2)/2}}));var pe;C.effects,C.effects.define("blind","hide",(function(I,B){var z={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},q=C(this),Q=I.direction||"up",ee=q.cssClip(),te={clip:C.extend({},ee)},ie=C.effects.createPlaceholder(q);te.clip[z[Q][0]]=te.clip[z[Q][1]],"show"===I.mode&&(q.cssClip(te.clip),ie&&ie.css(C.effects.clipToBox(te)),te.clip=ee),ie&&ie.animate(C.effects.clipToBox(te),I.duration,I.easing),q.animate(te,{queue:!1,duration:I.duration,easing:I.easing,complete:B})})),C.effects.define("bounce",(function(I,B){var z,q,Q,ee=C(this),te=I.mode,ie="hide"===te,re="show"===te,ne=I.direction||"up",se=I.distance,oe=I.times||5,ae=2*oe+(re||ie?1:0),le=I.duration/ae,ue=I.easing,de="up"===ne||"down"===ne?"top":"left",ce="up"===ne||"left"===ne,he=0,fe=ee.queue().length;for(C.effects.createPlaceholder(ee),Q=ee.css(de),se||(se=ee["top"===de?"outerHeight":"outerWidth"]()/3),re&&((q={opacity:1})[de]=Q,ee.css("opacity",0).css(de,ce?2*-se:2*se).animate(q,le,ue)),ie&&(se/=Math.pow(2,oe-1)),(q={})[de]=Q;he<oe;he++)(z={})[de]=(ce?"-=":"+=")+se,ee.animate(z,le,ue).animate(q,le,ue),se=ie?2*se:se/2;ie&&((z={opacity:0})[de]=(ce?"-=":"+=")+se,ee.animate(z,le,ue)),ee.queue(B),C.effects.unshift(ee,fe,ae+1)})),C.effects.define("clip","hide",(function(I,B){var z,q={},Q=C(this),ee=I.direction||"vertical",te="both"===ee,ie=te||"horizontal"===ee,re=te||"vertical"===ee;z=Q.cssClip(),q.clip={top:re?(z.bottom-z.top)/2:z.top,right:ie?(z.right-z.left)/2:z.right,bottom:re?(z.bottom-z.top)/2:z.bottom,left:ie?(z.right-z.left)/2:z.left},C.effects.createPlaceholder(Q),"show"===I.mode&&(Q.cssClip(q.clip),q.clip=z),Q.animate(q,{queue:!1,duration:I.duration,easing:I.easing,complete:B})})),C.effects.define("drop","hide",(function(I,B){var z,q=C(this),Q="show"===I.mode,ee=I.direction||"left",te="up"===ee||"down"===ee?"top":"left",ie="up"===ee||"left"===ee?"-=":"+=",re="+="===ie?"-=":"+=",ne={opacity:0};C.effects.createPlaceholder(q),z=I.distance||q["top"===te?"outerHeight":"outerWidth"](!0)/2,ne[te]=ie+z,Q&&(q.css(ne),ne[te]=re+z,ne.opacity=1),q.animate(ne,{queue:!1,duration:I.duration,easing:I.easing,complete:B})})),C.effects.define("explode","hide",(function(I,B){var z,q,Q,ee,te,ie,re=I.pieces?Math.round(Math.sqrt(I.pieces)):3,ne=re,se=C(this),oe="show"===I.mode,ae=se.show().css("visibility","hidden").offset(),le=Math.ceil(se.outerWidth()/ne),ue=Math.ceil(se.outerHeight()/re),de=[];function childComplete(){de.push(this),de.length===re*ne&&animComplete()}for(z=0;z<re;z++)for(ee=ae.top+z*ue,ie=z-(re-1)/2,q=0;q<ne;q++)Q=ae.left+q*le,te=q-(ne-1)/2,se.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-q*le,top:-z*ue}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:le,height:ue,left:Q+(oe?te*le:0),top:ee+(oe?ie*ue:0),opacity:oe?0:1}).animate({left:Q+(oe?0:te*le),top:ee+(oe?0:ie*ue),opacity:oe?1:0},I.duration||500,I.easing,childComplete);function animComplete(){se.css({visibility:"visible"}),C(de).remove(),B()}})),C.effects.define("fade","toggle",(function(I,B){var z="show"===I.mode;C(this).css("opacity",z?0:1).animate({opacity:z?1:0},{queue:!1,duration:I.duration,easing:I.easing,complete:B})})),C.effects.define("fold","hide",(function(I,B){var z=C(this),q=I.mode,Q="show"===q,ee="hide"===q,te=I.size||15,ie=/([0-9]+)%/.exec(te),re=!!I.horizFirst?["right","bottom"]:["bottom","right"],ne=I.duration/2,se=C.effects.createPlaceholder(z),oe=z.cssClip(),ae={clip:C.extend({},oe)},le={clip:C.extend({},oe)},ue=[oe[re[0]],oe[re[1]]],de=z.queue().length;ie&&(te=parseInt(ie[1],10)/100*ue[ee?0:1]),ae.clip[re[0]]=te,le.clip[re[0]]=te,le.clip[re[1]]=0,Q&&(z.cssClip(le.clip),se&&se.css(C.effects.clipToBox(le)),le.clip=oe),z.queue((function(B){se&&se.animate(C.effects.clipToBox(ae),ne,I.easing).animate(C.effects.clipToBox(le),ne,I.easing),B()})).animate(ae,ne,I.easing).animate(le,ne,I.easing).queue(B),C.effects.unshift(z,de,4)})),C.effects.define("highlight","show",(function(I,B){var z=C(this),q={backgroundColor:z.css("backgroundColor")};"hide"===I.mode&&(q.opacity=0),C.effects.saveStyle(z),z.css({backgroundImage:"none",backgroundColor:I.color||"#ffff99"}).animate(q,{queue:!1,duration:I.duration,easing:I.easing,complete:B})})),C.effects.define("size",(function(I,B){var z,q,Q,ee=C(this),te=["fontSize"],ie=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],re=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],ne=I.mode,se="effect"!==ne,oe=I.scale||"both",ae=I.origin||["middle","center"],le=ee.css("position"),ue=ee.position(),de=C.effects.scaledDimensions(ee),ce=I.from||de,he=I.to||C.effects.scaledDimensions(ee,0);C.effects.createPlaceholder(ee),"show"===ne&&(Q=ce,ce=he,he=Q),q={from:{y:ce.height/de.height,x:ce.width/de.width},to:{y:he.height/de.height,x:he.width/de.width}},"box"!==oe&&"both"!==oe||(q.from.y!==q.to.y&&(ce=C.effects.setTransition(ee,ie,q.from.y,ce),he=C.effects.setTransition(ee,ie,q.to.y,he)),q.from.x!==q.to.x&&(ce=C.effects.setTransition(ee,re,q.from.x,ce),he=C.effects.setTransition(ee,re,q.to.x,he))),"content"!==oe&&"both"!==oe||q.from.y!==q.to.y&&(ce=C.effects.setTransition(ee,te,q.from.y,ce),he=C.effects.setTransition(ee,te,q.to.y,he)),ae&&(z=C.effects.getBaseline(ae,de),ce.top=(de.outerHeight-ce.outerHeight)*z.y+ue.top,ce.left=(de.outerWidth-ce.outerWidth)*z.x+ue.left,he.top=(de.outerHeight-he.outerHeight)*z.y+ue.top,he.left=(de.outerWidth-he.outerWidth)*z.x+ue.left),delete ce.outerHeight,delete ce.outerWidth,ee.css(ce),"content"!==oe&&"both"!==oe||(ie=ie.concat(["marginTop","marginBottom"]).concat(te),re=re.concat(["marginLeft","marginRight"]),ee.find("*[width]").each((function(){var B=C(this),z=C.effects.scaledDimensions(B),Q={height:z.height*q.from.y,width:z.width*q.from.x,outerHeight:z.outerHeight*q.from.y,outerWidth:z.outerWidth*q.from.x},ee={height:z.height*q.to.y,width:z.width*q.to.x,outerHeight:z.height*q.to.y,outerWidth:z.width*q.to.x};q.from.y!==q.to.y&&(Q=C.effects.setTransition(B,ie,q.from.y,Q),ee=C.effects.setTransition(B,ie,q.to.y,ee)),q.from.x!==q.to.x&&(Q=C.effects.setTransition(B,re,q.from.x,Q),ee=C.effects.setTransition(B,re,q.to.x,ee)),se&&C.effects.saveStyle(B),B.css(Q),B.animate(ee,I.duration,I.easing,(function(){se&&C.effects.restoreStyle(B)}))}))),ee.animate(he,{queue:!1,duration:I.duration,easing:I.easing,complete:function(){var I=ee.offset();0===he.opacity&&ee.css("opacity",ce.opacity),se||(ee.css("position","static"===le?"relative":le).offset(I),C.effects.saveStyle(ee)),B()}})})),C.effects.define("scale",(function(I,B){var z=C(this),q=I.mode,Q=parseInt(I.percent,10)||(0===parseInt(I.percent,10)||"effect"!==q?0:100),ee=C.extend(!0,{from:C.effects.scaledDimensions(z),to:C.effects.scaledDimensions(z,Q,I.direction||"both"),origin:I.origin||["middle","center"]},I);I.fade&&(ee.from.opacity=1,ee.to.opacity=0),C.effects.effect.size.call(this,ee,B)})),C.effects.define("puff","hide",(function(I,B){var z=C.extend(!0,{},I,{fade:!0,percent:parseInt(I.percent,10)||150});C.effects.effect.scale.call(this,z,B)})),C.effects.define("pulsate","show",(function(I,B){var z=C(this),q=I.mode,Q="show"===q,ee=Q||"hide"===q,te=2*(I.times||5)+(ee?1:0),ie=I.duration/te,re=0,ne=1,se=z.queue().length;for(!Q&&z.is(":visible")||(z.css("opacity",0).show(),re=1);ne<te;ne++)z.animate({opacity:re},ie,I.easing),re=1-re;z.animate({opacity:re},ie,I.easing),z.queue(B),C.effects.unshift(z,se,te+1)})),C.effects.define("shake",(function(I,B){var z=1,q=C(this),Q=I.direction||"left",ee=I.distance||20,te=I.times||3,ie=2*te+1,re=Math.round(I.duration/ie),ne="up"===Q||"down"===Q?"top":"left",se="up"===Q||"left"===Q,oe={},ae={},le={},ue=q.queue().length;for(C.effects.createPlaceholder(q),oe[ne]=(se?"-=":"+=")+ee,ae[ne]=(se?"+=":"-=")+2*ee,le[ne]=(se?"-=":"+=")+2*ee,q.animate(oe,re,I.easing);z<te;z++)q.animate(ae,re,I.easing).animate(le,re,I.easing);q.animate(ae,re,I.easing).animate(oe,re/2,I.easing).queue(B),C.effects.unshift(q,ue,ie+1)})),C.effects.define("slide","show",(function(I,B){var z,q,Q=C(this),ee={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},te=I.mode,ie=I.direction||"left",re="up"===ie||"down"===ie?"top":"left",ne="up"===ie||"left"===ie,se=I.distance||Q["top"===re?"outerHeight":"outerWidth"](!0),oe={};C.effects.createPlaceholder(Q),z=Q.cssClip(),q=Q.position()[re],oe[re]=(ne?-1:1)*se+q,oe.clip=Q.cssClip(),oe.clip[ee[ie][1]]=oe.clip[ee[ie][0]],"show"===te&&(Q.cssClip(oe.clip),Q.css(re,oe[re]),oe.clip=z,oe[re]=q),Q.animate(oe,{queue:!1,duration:I.duration,easing:I.easing,complete:B})}));!0===C.uiBackCompat&&C.effects.define("transfer",(function(I,B){C(this).transfer(I,B)}));C.ui.focusable=function(I,B){var z,q,Q,ee,te,ie=I.nodeName.toLowerCase();return"area"===ie?(q=(z=I.parentNode).name,!(!I.href||!q||"map"!==z.nodeName.toLowerCase())&&((Q=C("img[usemap='#"+q+"']")).length>0&&Q.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(ie)?(ee=!I.disabled)&&(te=C(I).closest("fieldset")[0])&&(ee=!te.disabled):ee="a"===ie&&I.href||B,ee&&C(I).is(":visible")&&"visible"===C(I).css("visibility"))},C.extend(C.expr.pseudos,{focusable:function(I){return C.ui.focusable(I,null!=C.attr(I,"tabindex"))}});C.ui.focusable,C.ui.formResetMixin={_formResetHandler:function(){var I=C(this);setTimeout((function(){var B=I.data("ui-form-reset-instances");C.each(B,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=C(this.element.prop("form")),this.form.length){var I=this.form.data("ui-form-reset-instances")||[];I.length||this.form.on("reset.ui-form-reset",this._formResetHandler),I.push(this),this.form.data("ui-form-reset-instances",I)}},_unbindFormResetHandler:function(){if(this.form.length){var I=this.form.data("ui-form-reset-instances");I.splice(C.inArray(this,I),1),I.length?this.form.data("ui-form-reset-instances",I):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};C.escapeSelector||(C.escapeSelector=function(C){return CSS.escape(C+"")});C.fn.even&&C.fn.odd||C.fn.extend({even:function(){return this.filter((function(C){return C%2==0}))},odd:function(){return this.filter((function(C){return C%2==1}))}});C.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},C.fn.labels=function(){var C,I,B,z,q;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(z=this.eq(0).parents("label"),(B=this.attr("id"))&&(q=(C=this.eq(0).parents().last()).add(C.length?C.siblings():this.siblings()),I="label[for='"+CSS.escape(B)+"']",z=z.add(q.find(I).addBack(I))),this.pushStack(z)):this.pushStack([])},C.fn.scrollParent=function(I){var B=this.css("position"),z="absolute"===B,q=I?/(auto|scroll|hidden)/:/(auto|scroll)/,Q=this.parents().filter((function(){var I=C(this);return(!z||"static"!==I.css("position"))&&q.test(I.css("overflow")+I.css("overflow-y")+I.css("overflow-x"))})).eq(0);return"fixed"!==B&&Q.length?Q:C(this[0].ownerDocument||document)},C.extend(C.expr.pseudos,{tabbable:function(I){var B=C.attr(I,"tabindex"),z=null!=B;return(!z||B>=0)&&C.ui.focusable(I,z)}}),C.fn.extend({uniqueId:(me=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++me)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&C(this).removeAttr("id")}))}}),C.widget("ui.accordion",{version:"1.14.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(C){return C.find("> li > :first-child").add(C.find("> :not(li)").filter((function(C){return C%2==0})))},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var I=this.options;this.prevShow=this.prevHide=C(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),I.collapsible||!1!==I.active&&null!=I.active||(I.active=0),this._processPanels(),I.active<0&&(I.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():C()}},_createIcons:function(){var I,B,z=this.options.icons;z&&(I=C("<span>"),this._addClass(I,"ui-accordion-header-icon","ui-icon "+z.header),I.prependTo(this.headers),B=this.active.children(".ui-accordion-header-icon"),this._removeClass(B,z.header)._addClass(B,null,z.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var C;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),C=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&C.css("height","")},_setOption:function(C,I){"active"!==C?("event"===C&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(I)),this._super(C,I),"collapsible"!==C||I||!1!==this.options.active||this._activate(0),"icons"===C&&(this._destroyIcons(),I&&this._createIcons())):this._activate(I)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",C),this._toggleClass(null,"ui-state-disabled",!!C)},_keydown:function(I){if(!I.altKey&&!I.ctrlKey){var B=C.ui.keyCode,z=this.headers.length,q=this.headers.index(I.target),Q=!1;switch(I.keyCode){case B.RIGHT:case B.DOWN:Q=this.headers[(q+1)%z];break;case B.LEFT:case B.UP:Q=this.headers[(q-1+z)%z];break;case B.SPACE:case B.ENTER:this._eventHandler(I);break;case B.HOME:Q=this.headers[0];break;case B.END:Q=this.headers[z-1]}Q&&(C(I.target).attr("tabIndex",-1),C(Q).attr("tabIndex",0),C(Q).trigger("focus"),I.preventDefault())}},_panelKeyDown:function(I){I.keyCode===C.ui.keyCode.UP&&I.ctrlKey&&C(I.currentTarget).prev().trigger("focus")},refresh:function(){var I=this.options;this._processPanels(),!1===I.active&&!0===I.collapsible||!this.headers.length?(I.active=!1,this.active=C()):!1===I.active?this._activate(0):this.active.length&&!C.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(I.active=!1,this.active=C()):this._activate(Math.max(0,I.active-1)):I.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var C=this.headers,I=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),I&&(this._off(C.not(this.headers)),this._off(I.not(this.panels)))},_refresh:function(){var I,B=this.options,z=B.heightStyle,q=this.element.parent();this.active=this._findActive(B.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var I=C(this),B=I.uniqueId().attr("id"),z=I.next(),q=z.uniqueId().attr("id");I.attr("aria-controls",q),z.attr("aria-labelledby",B)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(B.event),"fill"===z?(I=q.height(),this.element.siblings(":visible").each((function(){var B=C(this),z=B.css("position");"absolute"!==z&&"fixed"!==z&&(I-=B.outerHeight(!0))})),this.headers.each((function(){I-=C(this).outerHeight(!0)})),this.headers.next().each((function(){C(this).height(Math.max(0,I-C(this).innerHeight()+C(this).height()))})).css("overflow","auto")):"auto"===z&&(I=0,this.headers.next().each((function(){var B=C(this).is(":visible");B||C(this).show(),I=Math.max(I,C(this).css("height","").height()),B||C(this).hide()})).height(I))},_activate:function(I){var B=this._findActive(I)[0];B!==this.active[0]&&(B=B||this.active[0],this._eventHandler({target:B,currentTarget:B,preventDefault:C.noop}))},_findActive:function(I){return"number"==typeof I?this.headers.eq(I):C()},_setupEvents:function(I){var B={keydown:"_keydown"};I&&C.each(I.split(" "),(function(C,I){B[I]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,B),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(I){var B,z,q=this.options,Q=this.active,ee=C(I.currentTarget),te=ee[0]===Q[0],ie=te&&q.collapsible,re=ie?C():ee.next(),ne=Q.next(),se={oldHeader:Q,oldPanel:ne,newHeader:ie?C():ee,newPanel:re};I.preventDefault(),te&&!q.collapsible||!1===this._trigger("beforeActivate",I,se)||(q.active=!ie&&this.headers.index(ee),this.active=te?C():ee,this._toggle(se),this._removeClass(Q,"ui-accordion-header-active","ui-state-active"),q.icons&&(B=Q.children(".ui-accordion-header-icon"),this._removeClass(B,null,q.icons.activeHeader)._addClass(B,null,q.icons.header)),te||(this._removeClass(ee,"ui-accordion-header-collapsed")._addClass(ee,"ui-accordion-header-active","ui-state-active"),q.icons&&(z=ee.children(".ui-accordion-header-icon"),this._removeClass(z,null,q.icons.header)._addClass(z,null,q.icons.activeHeader)),this._addClass(ee.next(),"ui-accordion-content-active")))},_toggle:function(I){var B=I.newPanel,z=this.prevShow.length?this.prevShow:I.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=B,this.prevHide=z,this.options.animate?this._animate(B,z,I):(z.hide(),B.show(),this._toggleComplete(I)),z.attr({"aria-hidden":"true"}),z.prev().attr({"aria-selected":"false","aria-expanded":"false"}),B.length&&z.length?z.prev().attr({tabIndex:-1,"aria-expanded":"false"}):B.length&&this.headers.filter((function(){return 0===parseInt(C(this).attr("tabIndex"),10)})).attr("tabIndex",-1),B.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(C,I,B){var z,q,Q,ee=this,te=0,ie=C.css("box-sizing"),re=C.length&&(!I.length||C.index()<I.index()),ne=this.options.animate||{},se=re&&ne.down||ne,complete=function(){ee._toggleComplete(B)};return"number"==typeof se&&(Q=se),"string"==typeof se&&(q=se),q=q||se.easing||ne.easing,Q=Q||se.duration||ne.duration,I.length?C.length?(z=C.show().outerHeight(),I.animate(this.hideProps,{duration:Q,easing:q,step:function(C,I){I.now=Math.round(C)}}),void C.hide().animate(this.showProps,{duration:Q,easing:q,complete,step:function(C,B){B.now=Math.round(C),"height"!==B.prop?"content-box"===ie&&(te+=B.now):"content"!==ee.options.heightStyle&&(B.now=Math.round(z-I.outerHeight()-te),te=0)}})):I.animate(this.hideProps,Q,q,complete):C.animate(this.showProps,Q,q,complete)},_toggleComplete:function(C){var I=C.oldPanel,B=I.prev();this._removeClass(I,"ui-accordion-content-active"),this._removeClass(B,"ui-accordion-header-active")._addClass(B,"ui-accordion-header-collapsed"),this._trigger("activate",null,C)}}),C.widget("ui.menu",{version:"1.14.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(C){C.preventDefault(),this._activateItem(C)},"click .ui-menu-item":function(I){var B=C(I.target),z=C(this.document[0].activeElement);!this.mouseHandled&&B.not(".ui-state-disabled").length&&(this.select(I),I.isPropagationStopped()||(this.mouseHandled=!0),B.has(".ui-menu").length?this.expand(I):!this.element.is(":focus")&&z.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(C,I){var B=this.active||this._menuItems().first();I||this.focus(C,B)},blur:function(I){this._delay((function(){!C.contains(this.element[0],this.document[0].activeElement)&&this.collapseAll(I)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(C){this._closeOnDocumentClick(C)&&this.collapseAll(C,!0),this.mouseHandled=!1}})},_activateItem:function(I){if(!this.previousFilter&&(I.clientX!==this.lastMousePosition.x||I.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:I.clientX,y:I.clientY};var B=C(I.target).closest(".ui-menu-item"),z=C(I.currentTarget);B[0]===z[0]&&(z.is(".ui-state-active")||(this._removeClass(z.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(I,z)))}},_destroy:function(){var I=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),I.children().each((function(){var I=C(this);I.data("ui-menu-submenu-caret")&&I.remove()}))},_keydown:function(I){var B,z,q,Q,ee=!0;switch(I.keyCode){case C.ui.keyCode.PAGE_UP:this.previousPage(I);break;case C.ui.keyCode.PAGE_DOWN:this.nextPage(I);break;case C.ui.keyCode.HOME:this._move("first","first",I);break;case C.ui.keyCode.END:this._move("last","last",I);break;case C.ui.keyCode.UP:this.previous(I);break;case C.ui.keyCode.DOWN:this.next(I);break;case C.ui.keyCode.LEFT:this.collapse(I);break;case C.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(I);break;case C.ui.keyCode.ENTER:case C.ui.keyCode.SPACE:this._activate(I);break;case C.ui.keyCode.ESCAPE:this.collapse(I);break;default:ee=!1,z=this.previousFilter||"",Q=!1,q=I.keyCode>=96&&I.keyCode<=105?(I.keyCode-96).toString():String.fromCharCode(I.keyCode),clearTimeout(this.filterTimer),q===z?Q=!0:q=z+q,B=this._filterMenuItems(q),(B=Q&&-1!==B.index(this.active.next())?this.active.nextAll(".ui-menu-item"):B).length||(q=String.fromCharCode(I.keyCode),B=this._filterMenuItems(q)),B.length?(this.focus(I,B),this.previousFilter=q,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}ee&&I.preventDefault()},_activate:function(C){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(C):this.select(C))},refresh:function(){var I,B,z,q,Q=this,ee=this.options.icons.submenu,te=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),B=te.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var I=C(this),B=I.prev(),z=C("<span>").data("ui-menu-submenu-caret",!0);Q._addClass(z,"ui-menu-icon","ui-icon "+ee),B.attr("aria-haspopup","true").prepend(z),I.attr("aria-labelledby",B.attr("id"))})),this._addClass(B,"ui-menu","ui-widget ui-widget-content ui-front"),(I=te.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var I=C(this);Q._isDivider(I)&&Q._addClass(I,"ui-menu-divider","ui-widget-content")})),q=(z=I.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(z,"ui-menu-item")._addClass(q,"ui-menu-item-wrapper"),I.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!C.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(C,I){if("icons"===C){var B=this.element.find(".ui-menu-icon");this._removeClass(B,null,this.options.icons.submenu)._addClass(B,null,I.submenu)}this._super(C,I)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",String(C)),this._toggleClass(null,"ui-state-disabled",!!C)},focus:function(C,I){var B,z,q;this.blur(C,C&&"focus"===C.type),this._scrollIntoView(I),this.active=I.first(),z=this.active.children(".ui-menu-item-wrapper"),this._addClass(z,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",z.attr("id")),q=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(q,null,"ui-state-active"),C&&"keydown"===C.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(B=I.children(".ui-menu")).length&&C&&/^mouse/.test(C.type)&&this._startOpening(B),this.activeMenu=I.parent(),this._trigger("focus",C,{item:I})},_scrollIntoView:function(I){var B,z,q,Q,ee,te;this._hasScroll()&&(B=parseFloat(C.css(this.activeMenu[0],"borderTopWidth"))||0,z=parseFloat(C.css(this.activeMenu[0],"paddingTop"))||0,q=I.offset().top-this.activeMenu.offset().top-B-z,Q=this.activeMenu.scrollTop(),ee=this.activeMenu.height(),te=I.outerHeight(),q<0?this.activeMenu.scrollTop(Q+q):q+te>ee&&this.activeMenu.scrollTop(Q+q-ee+te))},blur:function(C,I){I||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",C,{item:this.active}),this.active=null)},_startOpening:function(C){clearTimeout(this.timer),"true"===C.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(C)}),this.delay))},_open:function(I){var B=C.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(I.parents(".ui-menu")).hide().attr("aria-hidden","true"),I.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(B)},collapseAll:function(I,B){clearTimeout(this.timer),this.timer=this._delay((function(){var z=B?this.element:C(I&&I.target).closest(this.element.find(".ui-menu"));z.length||(z=this.element),this._close(z),this.blur(I),this._removeClass(z.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=z}),B?0:this.delay)},_close:function(C){C||(C=this.active?this.active.parent():this.element),C.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(I){return!C(I.target).closest(".ui-menu").length},_isDivider:function(C){return!/[^\-\u2014\u2013\s]/.test(C.text())},collapse:function(C){var I=this.active&&this.active.parent().closest(".ui-menu-item",this.element);I&&I.length&&(this._close(),this.focus(C,I))},expand:function(C){var I=this.active&&this._menuItems(this.active.children(".ui-menu")).first();I&&I.length&&(this._open(I.parent()),this._delay((function(){this.focus(C,I)})))},next:function(C){this._move("next","first",C)},previous:function(C){this._move("prev","last",C)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(C){return(C||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(C,I,B){var z;this.active&&(z="first"===C||"last"===C?this.active["first"===C?"prevAll":"nextAll"](".ui-menu-item").last():this.active[C+"All"](".ui-menu-item").first()),z&&z.length&&this.active||(z=this._menuItems(this.activeMenu)[I]()),this.focus(B,z)},nextPage:function(I){var B,z,q;this.active?this.isLastItem()||(this._hasScroll()?(z=this.active.offset().top,q=this.element.innerHeight(),0===C.fn.jquery.indexOf("3.2.")&&(q+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each((function(){return(B=C(this)).offset().top-z-q<0})),this.focus(I,B)):this.focus(I,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(I)},previousPage:function(I){var B,z,q;this.active?this.isFirstItem()||(this._hasScroll()?(z=this.active.offset().top,q=this.element.innerHeight(),0===C.fn.jquery.indexOf("3.2.")&&(q+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each((function(){return(B=C(this)).offset().top-z+q>0})),this.focus(I,B)):this.focus(I,this._menuItems(this.activeMenu).first())):this.next(I)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(I){this.active=this.active||C(I.target).closest(".ui-menu-item");var B={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(I,!0),this._trigger("select",I,B)},_filterMenuItems:function(I){var B=I.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),z=new RegExp("^"+B,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return z.test(String.prototype.trim.call(C(this).children(".ui-menu-item-wrapper").text()))}))}});var me;C.widget("ui.autocomplete",{version:"1.14.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var I,B,z,q=this.element[0].nodeName.toLowerCase(),Q="textarea"===q,ee="input"===q;this.isMultiLine=Q||!ee&&"true"===this.element.prop("contentEditable"),this.valueMethod=this.element[Q||ee?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(q){if(this.element.prop("readOnly"))return I=!0,z=!0,void(B=!0);I=!1,z=!1,B=!1;var Q=C.ui.keyCode;switch(q.keyCode){case Q.PAGE_UP:I=!0,this._move("previousPage",q);break;case Q.PAGE_DOWN:I=!0,this._move("nextPage",q);break;case Q.UP:I=!0,this._keyEvent("previous",q);break;case Q.DOWN:I=!0,this._keyEvent("next",q);break;case Q.ENTER:this.menu.active&&(I=!0,q.preventDefault(),this.menu.select(q));break;case Q.TAB:this.menu.active&&this.menu.select(q);break;case Q.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(q),q.preventDefault());break;default:B=!0,this._searchTimeout(q)}},keypress:function(z){if(I)return I=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||z.preventDefault());if(!B){var q=C.ui.keyCode;switch(z.keyCode){case q.PAGE_UP:this._move("previousPage",z);break;case q.PAGE_DOWN:this._move("nextPage",z);break;case q.UP:this._keyEvent("previous",z);break;case q.DOWN:this._keyEvent("next",z)}}},input:function(C){if(z)return z=!1,void C.preventDefault();this._searchTimeout(C)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(C){clearTimeout(this.searching),this.close(C),this._change(C)}}),this._initSource(),this.menu=C("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(C){C.preventDefault()},menufocus:function(I,B){var z,q;if(this.isNewMenu&&(this.isNewMenu=!1,I.originalEvent&&/^mouse/.test(I.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){C(I.target).trigger(I.originalEvent)}));q=B.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",I,{item:q})&&I.originalEvent&&/^key/.test(I.originalEvent.type)&&this._value(q.value),(z=B.item.attr("aria-label")||q.value)&&String.prototype.trim.call(z).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay((function(){this.liveRegion.html(C("<div>").text(z))}),100))},menuselect:function(C,I){var B=I.item.data("ui-autocomplete-item"),z=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.trigger("focus"),this.previous=z),!1!==this._trigger("select",C,{item:B})&&this._value(B.value),this.term=this._value(),this.close(C),this.selectedItem=B}}),this.liveRegion=C("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(C,I){this._super(C,I),"source"===C&&this._initSource(),"appendTo"===C&&this.menu.element.appendTo(this._appendTo()),"disabled"===C&&I&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(I){var B=this.menu.element[0];return I.target===this.element[0]||I.target===B||C.contains(B,I.target)},_closeOnClickOutside:function(C){this._isEventTargetInWidget(C)||this.close()},_appendTo:function(){var I=this.options.appendTo;return I&&(I=I.jquery||I.nodeType?C(I):this.document.find(I).eq(0)),I&&I[0]||(I=this.element.closest(".ui-front, dialog")),I.length||(I=this.document[0].body),I},_initSource:function(){var I,B,z=this;Array.isArray(this.options.source)?(I=this.options.source,this.source=function(B,z){z(C.ui.autocomplete.filter(I,B.term))}):"string"==typeof this.options.source?(B=this.options.source,this.source=function(I,q){z.xhr&&z.xhr.abort(),z.xhr=C.ajax({url:B,data:I,dataType:"json",success:function(C){q(C)},error:function(){q([])}})}):this.source=this.options.source},_searchTimeout:function(C){clearTimeout(this.searching),this.searching=this._delay((function(){var I=this.term===this._value(),B=this.menu.element.is(":visible"),z=C.altKey||C.ctrlKey||C.metaKey||C.shiftKey;I&&(!I||B||z)||(this.selectedItem=null,this.search(null,C))}),this.options.delay)},search:function(C,I){return C=null!=C?C:this._value(),this.term=this._value(),C.length<this.options.minLength?this.close(I):!1!==this._trigger("search",I)?this._search(C):void 0},_search:function(C){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:C},this._response())},_response:function(){var C=++this.requestIndex;return function(I){C===this.requestIndex&&this.__response(I),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(C){C&&(C=this._normalize(C)),this._trigger("response",null,{content:C}),!this.options.disabled&&C&&C.length&&!this.cancelSearch?(this._suggest(C),this._trigger("open")):this._close()},close:function(C){this.cancelSearch=!0,this._close(C)},_close:function(C){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",C))},_change:function(C){this.previous!==this._value()&&this._trigger("change",C,{item:this.selectedItem})},_normalize:function(I){return I.length&&I[0].label&&I[0].value?I:C.map(I,(function(I){return"string"==typeof I?{label:I,value:I}:C.extend({},I,{label:I.label||I.value,value:I.value||I.label})}))},_suggest:function(I){var B=this.menu.element.empty();this._renderMenu(B,I),this.isNewMenu=!0,this.menu.refresh(),B.show(),this._resizeMenu(),B.position(C.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var C=this.menu.element;C.outerWidth(Math.max(C.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(I,B){var z=this;C.each(B,(function(C,B){z._renderItemData(I,B)}))},_renderItemData:function(C,I){return this._renderItem(C,I).data("ui-autocomplete-item",I)},_renderItem:function(I,B){return C("<li>").append(C("<div>").text(B.label)).appendTo(I)},_move:function(C,I){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(C)||this.menu.isLastItem()&&/^next/.test(C)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[C](I);this.search(null,I)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(C,I){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(C,I),I.preventDefault())}}),C.extend(C.ui.autocomplete,{escapeRegex:function(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(I,B){var z=new RegExp(C.ui.autocomplete.escapeRegex(B),"i");return C.grep(I,(function(C){return z.test(C.label||C.value||C)}))}}),C.widget("ui.autocomplete",C.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(C){return C+(C>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(I){var B;this._superApply(arguments),this.options.disabled||this.cancelSearch||(B=I&&I.length?this.options.messages.results(I.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay((function(){this.liveRegion.html(C("<div>").text(B))}),100))}});C.ui.autocomplete;var ge=/ui-corner-([a-z]){2,6}/g;C.widget("ui.controlgroup",{version:"1.14.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var I=this,B=[];C.each(this.options.items,(function(z,q){var Q,ee={};if(q)return"controlgroupLabel"===z?((Q=I.element.find(q)).each((function(){var I=C(this);I.children(".ui-controlgroup-label-contents").length||I.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),I._addClass(Q,null,"ui-widget ui-widget-content ui-state-default"),void(B=B.concat(Q.get()))):void(C.fn[z]&&(ee=I["_"+z+"Options"]?I["_"+z+"Options"]("middle"):{classes:{}},I.element.find(q).each((function(){var q=C(this),Q=q[z]("instance"),te=C.widget.extend({},ee);if("button"!==z||!q.parent(".ui-spinner").length){Q||(Q=q[z]()[z]("instance")),Q&&(te.classes=I._resolveClassesValues(te.classes,Q)),q[z](te);var ie=q[z]("widget");C.data(ie[0],"ui-controlgroup-data",Q||q[z]("instance")),B.push(ie[0])}}))))})),this.childWidgets=C(C.uniqueSort(B)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(I){this.childWidgets.each((function(){var B=C(this).data("ui-controlgroup-data");B&&B[I]&&B[I]()}))},_updateCornerClass:function(C,I){var B="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",z=this._buildSimpleOptions(I,"label").classes.label;this._removeClass(C,null,B),this._addClass(C,null,z)},_buildSimpleOptions:function(C,I){var B="vertical"===this.options.direction,z={classes:{}};return z.classes[I]={middle:"",first:"ui-corner-"+(B?"top":"left"),last:"ui-corner-"+(B?"bottom":"right"),only:"ui-corner-all"}[C],z},_spinnerOptions:function(C){var I=this._buildSimpleOptions(C,"ui-spinner");return I.classes["ui-spinner-up"]="",I.classes["ui-spinner-down"]="",I},_buttonOptions:function(C){return this._buildSimpleOptions(C,"ui-button")},_checkboxradioOptions:function(C){return this._buildSimpleOptions(C,"ui-checkboxradio-label")},_selectmenuOptions:function(C){var I="vertical"===this.options.direction;return{width:!!I&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(I?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(I?"top":"left")},last:{"ui-selectmenu-button-open":I?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(I?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[C]}},_resolveClassesValues:function(I,B){var z={};return C.each(I,(function(C){var q=B.options.classes[C]||"";q=String.prototype.trim.call(q.replace(ge,"")),z[C]=(q+" "+I[C]).replace(/\s+/g," ")})),z},_setOption:function(C,I){"direction"===C&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(C,I),"disabled"!==C?this.refresh():this._callChildMethod(I?"disable":"enable")},refresh:function(){var I,B=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),I=this.childWidgets,this.options.onlyVisible&&(I=I.filter(":visible")),I.length&&(C.each(["first","last"],(function(C,z){var q=I[z]().data("ui-controlgroup-data");if(q&&B["_"+q.widgetName+"Options"]){var Q=B["_"+q.widgetName+"Options"](1===I.length?"only":z);Q.classes=B._resolveClassesValues(Q.classes,q),q.element[q.widgetName](Q)}else B._updateCornerClass(I[z](),z)})),this._callChildMethod("refresh"))}});C.widget("ui.checkboxradio",[C.ui.formResetMixin,{version:"1.14.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var I,B,z,q=this._super()||{};return this._readType(),B=this.element.labels(),this.label=C(B[B.length-1]),this.label.length||C.error("No label found for checkboxradio widget"),this.originalLabel="",(z=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=z.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(q.label=this.originalLabel),null!=(I=this.element[0].disabled)&&(q.disabled=I),q},_create:function(){var C=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),C&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var I=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===I&&/radio|checkbox/.test(this.type)||C.error("Can't create checkboxradio on element.nodeName="+I+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var I=this.element[0].name,B="input[name='"+CSS.escape(I)+"']";return I?(this.form.length?C(this.form[0].elements).filter(B):C(B).filter((function(){return 0===C(C(this).prop("form")).length}))).not(this.element):C([])},_toggleClasses:function(){var I=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",I),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",I)._toggleClass(this.icon,null,"ui-icon-blank",!I),"radio"===this.type&&this._getRadioGroup().each((function(){var I=C(this).checkboxradio("instance");I&&I._removeClass(I.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(C,I){if("label"!==C||I){if(this._super(C,I),"disabled"===C)return this._toggleClass(this.label,null,"ui-state-disabled",I),void(this.element[0].disabled=I);this.refresh()}},_updateIcon:function(I){var B="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=C("<span>"),this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(B+=I?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,I?"ui-icon-blank":"ui-icon-check")):B+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",B),I||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var C=this.label.contents().not(this.element[0]);this.icon&&(C=C.not(this.icon[0])),this.iconSpace&&(C=C.not(this.iconSpace[0])),C.remove(),this.label.append(this.options.label)},refresh:function(){var C=this.element[0].checked,I=this.element[0].disabled;this._updateIcon(C),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",C),null!==this.options.label&&this._updateLabel(),I!==this.options.disabled&&this._setOptions({disabled:I})}}]);C.ui.checkboxradio;C.widget("ui.button",{version:"1.14.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var C,I=this._super()||{};return this.isInput=this.element.is("input"),null!=(C=this.element[0].disabled)&&(I.disabled=C),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(I.label=this.originalLabel),I},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(I){I.keyCode===C.ui.keyCode.SPACE&&(I.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(I,B){var z="iconPosition"!==I,q=z?this.options.iconPosition:B,Q="top"===q||"bottom"===q;this.icon?z&&this._removeClass(this.icon,null,this.options.icon):(this.icon=C("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),z&&this._addClass(this.icon,null,B),this._attachIcon(q),Q?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(q))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(C){this.icon[/^(?:end|bottom)/.test(C)?"before":"after"](this.iconSpace)},_attachIcon:function(C){this.element[/^(?:end|bottom)/.test(C)?"append":"prepend"](this.icon)},_setOptions:function(C){var I=void 0===C.showLabel?this.options.showLabel:C.showLabel,B=void 0===C.icon?this.options.icon:C.icon;I||B||(C.showLabel=!0),this._super(C)},_setOption:function(C,I){"icon"===C&&(I?this._updateIcon(C,I):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===C&&this._updateIcon(C,I),"showLabel"===C&&(this._toggleClass("ui-button-icon-only",null,!I),this._updateTooltip()),"label"===C&&(this.isInput?this.element.val(I):(this.element.html(I),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(C,I),"disabled"===C&&(this._toggleClass(null,"ui-state-disabled",I),this.element[0].disabled=I,I&&this.element.trigger("blur"))},refresh:function(){var C=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");C!==this.options.disabled&&this._setOptions({disabled:C}),this._updateTooltip()}}),!0===C.uiBackCompat&&(C.widget("ui.button",C.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(C,I){"text"!==C?("showLabel"===C&&(this.options.text=I),"icon"===C&&(this.options.icons.primary=I),"icons"===C&&(I.primary?(this._super("icon",I.primary),this._super("iconPosition","beginning")):I.secondary&&(this._super("icon",I.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",I)}}),C.fn.button=function(I){return function(B){var z="string"==typeof B,q=Array.prototype.slice.call(arguments,1),Q=this;return z?this.length||"instance"!==B?this.each((function(){var I,z=C(this).attr("type"),ee="checkbox"!==z&&"radio"!==z?"button":"checkboxradio",te=C.data(this,"ui-"+ee);return"instance"===B?(Q=te,!1):te?"function"!=typeof te[B]||"_"===B.charAt(0)?C.error("no such method '"+B+"' for button widget instance"):(I=te[B].apply(te,q))!==te&&void 0!==I?(Q=I&&I.jquery?Q.pushStack(I.get()):I,!1):void 0:C.error("cannot call methods on button prior to initialization; attempted to call method '"+B+"'")})):Q=void 0:(q.length&&(B=C.widget.extend.apply(null,[B].concat(q))),this.each((function(){var z=C(this).attr("type"),q="checkbox"!==z&&"radio"!==z?"button":"checkboxradio",Q=C.data(this,"ui-"+q);if(Q)Q.option(B||{}),Q._init&&Q._init();else{if("button"===q)return void I.call(C(this),B);C(this).checkboxradio(C.extend({icon:!1},B))}}))),Q}}(C.fn.button),C.fn.buttonset=function(){return C.ui.controlgroup||C.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var ve;C.ui.button;function datepicker_getZindex(C){for(var I,B;C.length&&C[0]!==document;){if(("absolute"===(I=C.css("position"))||"relative"===I||"fixed"===I)&&(B=parseInt(C.css("zIndex"),10),!isNaN(B)&&0!==B))return B;C=C.parent()}return 0}function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(I){var B="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return I.on("mouseout",B,(function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",B,datepicker_handleMouseover)}function datepicker_handleMouseover(){C.datepicker._isDisabledDatepicker(ve.inline?ve.dpDiv.parent()[0]:ve.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(I,B){for(var z in C.extend(I,B),B)null==B[z]&&(I[z]=B[z]);return I}C.extend(C.ui,{datepicker:{version:"1.14.1"}}),C.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(C){return datepicker_extendRemove(this._defaults,C||{}),this},_attachDatepicker:function(I,B){var z,q,Q;q="div"===(z=I.nodeName.toLowerCase())||"span"===z,I.id||(this.uuid+=1,I.id="dp"+this.uuid),(Q=this._newInst(C(I),q)).settings=C.extend({},B||{}),"input"===z?this._connectDatepicker(I,Q):q&&this._inlineDatepicker(I,Q)},_newInst:function(I,B){return{id:I[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:I,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:B,dpDiv:B?datepicker_bindHover(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(I,B){var z=C(I);B.append=C([]),B.trigger=C([]),z.hasClass(this.markerClassName)||(this._attachments(z,B),z.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(B),C.data(I,"datepicker",B),B.settings.disabled&&this._disableDatepicker(I))},_attachments:function(I,B){var z,q,Q,ee=this._get(B,"appendText"),te=this._get(B,"isRTL");B.append&&B.append.remove(),ee&&(B.append=C("<span>").addClass(this._appendClass).text(ee),I[te?"before":"after"](B.append)),I.off("focus",this._showDatepicker),B.trigger&&B.trigger.remove(),"focus"!==(z=this._get(B,"showOn"))&&"both"!==z||I.on("focus",this._showDatepicker),"button"!==z&&"both"!==z||(q=this._get(B,"buttonText"),Q=this._get(B,"buttonImage"),this._get(B,"buttonImageOnly")?B.trigger=C("<img>").addClass(this._triggerClass).attr({src:Q,alt:q,title:q}):(B.trigger=C("<button type='button'>").addClass(this._triggerClass),Q?B.trigger.html(C("<img>").attr({src:Q,alt:q,title:q})):B.trigger.text(q)),I[te?"before":"after"](B.trigger),B.trigger.on("click",(function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===I[0]?C.datepicker._hideDatepicker():C.datepicker._datepickerShowing&&C.datepicker._lastInput!==I[0]?(C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(I[0])):C.datepicker._showDatepicker(I[0]),!1})))},_autoSize:function(C){if(this._get(C,"autoSize")&&!C.inline){var I,B,z,q,Q=new Date(2009,11,20),ee=this._get(C,"dateFormat");ee.match(/[DM]/)&&(I=function(C){for(B=0,z=0,q=0;q<C.length;q++)C[q].length>B&&(B=C[q].length,z=q);return z},Q.setMonth(I(this._get(C,ee.match(/MM/)?"monthNames":"monthNamesShort"))),Q.setDate(I(this._get(C,ee.match(/DD/)?"dayNames":"dayNamesShort"))+20-Q.getDay())),C.input.attr("size",this._formatDate(C,Q).length)}},_inlineDatepicker:function(I,B){var z=C(I);z.hasClass(this.markerClassName)||(z.addClass(this.markerClassName).append(B.dpDiv),C.data(I,"datepicker",B),this._setDate(B,this._getDefaultDate(B),!0),this._updateDatepicker(B),this._updateAlternate(B),B.settings.disabled&&this._disableDatepicker(I),B.dpDiv.css("display","block"))},_dialogDatepicker:function(I,B,z,q,Q){var ee,te,ie,re,ne,se=this._dialogInst;return se||(this.uuid+=1,ee="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+ee+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),C("body").append(this._dialogInput),(se=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",se)),datepicker_extendRemove(se.settings,q||{}),B=B&&B.constructor===Date?this._formatDate(se,B):B,this._dialogInput.val(B),this._pos=Q?Q.length?Q:[Q.pageX,Q.pageY]:null,this._pos||(te=document.documentElement.clientWidth,ie=document.documentElement.clientHeight,re=document.documentElement.scrollLeft||document.body.scrollLeft,ne=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[te/2-100+re,ie/2-150+ne]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),se.settings.onSelect=z,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",se),this},_destroyDatepicker:function(I){var B,z=C(I),q=C.data(I,"datepicker");z.hasClass(this.markerClassName)&&(B=I.nodeName.toLowerCase(),C.removeData(I,"datepicker"),"input"===B?(q.append.remove(),q.trigger.remove(),z.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==B&&"span"!==B||z.removeClass(this.markerClassName).empty(),C.datepicker._hideDatepicker(),ve===q&&(ve=null,this._curInst=null))},_enableDatepicker:function(I){var B,z,q=C(I),Q=C.data(I,"datepicker");q.hasClass(this.markerClassName)&&("input"===(B=I.nodeName.toLowerCase())?(I.disabled=!1,Q.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==B&&"span"!==B||((z=q.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),z.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,(function(C){return C===I?null:C})))},_disableDatepicker:function(I){var B,z,q=C(I),Q=C.data(I,"datepicker");q.hasClass(this.markerClassName)&&("input"===(B=I.nodeName.toLowerCase())?(I.disabled=!0,Q.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==B&&"span"!==B||((z=q.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),z.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,(function(C){return C===I?null:C})),this._disabledInputs[this._disabledInputs.length]=I)},_isDisabledDatepicker:function(C){if(!C)return!1;for(var I=0;I<this._disabledInputs.length;I++)if(this._disabledInputs[I]===C)return!0;return!1},_getInst:function(I){try{return C.data(I,"datepicker")}catch(C){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(I,B,z){var q,Q,ee,te,ie=this._getInst(I);if(2===arguments.length&&"string"==typeof B)return"defaults"===B?C.extend({},C.datepicker._defaults):ie?"all"===B?C.extend({},ie.settings):this._get(ie,B):null;q=B||{},"string"==typeof B&&((q={})[B]=z),ie&&(this._curInst===ie&&this._hideDatepicker(),Q=this._getDateDatepicker(I,!0),ee=this._getMinMaxDate(ie,"min"),te=this._getMinMaxDate(ie,"max"),datepicker_extendRemove(ie.settings,q),null!==ee&&void 0!==q.dateFormat&&void 0===q.minDate&&(ie.settings.minDate=this._formatDate(ie,ee)),null!==te&&void 0!==q.dateFormat&&void 0===q.maxDate&&(ie.settings.maxDate=this._formatDate(ie,te)),"disabled"in q&&(q.disabled?this._disableDatepicker(I):this._enableDatepicker(I)),this._attachments(C(I),ie),this._autoSize(ie),this._setDate(ie,Q),this._updateAlternate(ie),this._updateDatepicker(ie))},_changeDatepicker:function(C,I,B){this._optionDatepicker(C,I,B)},_refreshDatepicker:function(C){var I=this._getInst(C);I&&this._updateDatepicker(I)},_setDateDatepicker:function(C,I){var B=this._getInst(C);B&&(this._setDate(B,I),this._updateDatepicker(B),this._updateAlternate(B))},_getDateDatepicker:function(C,I){var B=this._getInst(C);return B&&!B.inline&&this._setDateFromField(B,I),B?this._getDate(B):null},_doKeyDown:function(I){var B,z,q,Q=C.datepicker._getInst(I.target),ee=!0,te=Q.dpDiv.is(".ui-datepicker-rtl");if(Q._keyEvent=!0,C.datepicker._datepickerShowing)switch(I.keyCode){case 9:C.datepicker._hideDatepicker(),ee=!1;break;case 13:return(q=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",Q.dpDiv))[0]&&C.datepicker._selectDay(I.target,Q.selectedMonth,Q.selectedYear,q[0]),(B=C.datepicker._get(Q,"onSelect"))?(z=C.datepicker._formatDate(Q),B.apply(Q.input?Q.input[0]:null,[z,Q])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(I.target,I.ctrlKey?-C.datepicker._get(Q,"stepBigMonths"):-C.datepicker._get(Q,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(I.target,I.ctrlKey?+C.datepicker._get(Q,"stepBigMonths"):+C.datepicker._get(Q,"stepMonths"),"M");break;case 35:(I.ctrlKey||I.metaKey)&&C.datepicker._clearDate(I.target),ee=I.ctrlKey||I.metaKey;break;case 36:(I.ctrlKey||I.metaKey)&&C.datepicker._gotoToday(I.target),ee=I.ctrlKey||I.metaKey;break;case 37:(I.ctrlKey||I.metaKey)&&C.datepicker._adjustDate(I.target,te?1:-1,"D"),ee=I.ctrlKey||I.metaKey,I.originalEvent.altKey&&C.datepicker._adjustDate(I.target,I.ctrlKey?-C.datepicker._get(Q,"stepBigMonths"):-C.datepicker._get(Q,"stepMonths"),"M");break;case 38:(I.ctrlKey||I.metaKey)&&C.datepicker._adjustDate(I.target,-7,"D"),ee=I.ctrlKey||I.metaKey;break;case 39:(I.ctrlKey||I.metaKey)&&C.datepicker._adjustDate(I.target,te?-1:1,"D"),ee=I.ctrlKey||I.metaKey,I.originalEvent.altKey&&C.datepicker._adjustDate(I.target,I.ctrlKey?+C.datepicker._get(Q,"stepBigMonths"):+C.datepicker._get(Q,"stepMonths"),"M");break;case 40:(I.ctrlKey||I.metaKey)&&C.datepicker._adjustDate(I.target,7,"D"),ee=I.ctrlKey||I.metaKey;break;default:ee=!1}else 36===I.keyCode&&I.ctrlKey?C.datepicker._showDatepicker(this):ee=!1;ee&&(I.preventDefault(),I.stopPropagation())},_doKeyPress:function(I){var B,z,q=C.datepicker._getInst(I.target);if(C.datepicker._get(q,"constrainInput"))return B=C.datepicker._possibleChars(C.datepicker._get(q,"dateFormat")),z=String.fromCharCode(null==I.charCode?I.keyCode:I.charCode),I.ctrlKey||I.metaKey||z<" "||!B||B.indexOf(z)>-1},_doKeyUp:function(I){var B=C.datepicker._getInst(I.target);if(B.input.val()!==B.lastVal)try{C.datepicker.parseDate(C.datepicker._get(B,"dateFormat"),B.input?B.input.val():null,C.datepicker._getFormatConfig(B))&&(C.datepicker._setDateFromField(B),C.datepicker._updateAlternate(B),C.datepicker._updateDatepicker(B))}catch(C){}return!0},_showDatepicker:function(I){var B,z,q,Q,ee,te,ie;("input"!==(I=I.target||I).nodeName.toLowerCase()&&(I=C("input",I.parentNode)[0]),C.datepicker._isDisabledDatepicker(I)||C.datepicker._lastInput===I)||(B=C.datepicker._getInst(I),C.datepicker._curInst&&C.datepicker._curInst!==B&&(C.datepicker._curInst.dpDiv.stop(!0,!0),B&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(q=(z=C.datepicker._get(B,"beforeShow"))?z.apply(I,[I,B]):{})&&(datepicker_extendRemove(B.settings,q),B.lastVal=null,C.datepicker._lastInput=I,C.datepicker._setDateFromField(B),C.datepicker._inDialog&&(I.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(I),C.datepicker._pos[1]+=I.offsetHeight),Q=!1,C(I).parents().each((function(){return!(Q|="fixed"===C(this).css("position"))})),ee={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,B.dpDiv.empty(),B.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(B),ee=C.datepicker._checkOffset(B,ee,Q),B.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":Q?"fixed":"absolute",display:"none",left:ee.left+"px",top:ee.top+"px"}),B.inline||(te=C.datepicker._get(B,"showAnim"),ie=C.datepicker._get(B,"duration"),B.dpDiv.css("z-index",datepicker_getZindex(C(I))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[te]?B.dpDiv.show(te,C.datepicker._get(B,"showOptions"),ie):B.dpDiv[te||"show"](te?ie:null),C.datepicker._shouldFocusInput(B)&&B.input.trigger("focus"),C.datepicker._curInst=B)))},_updateDatepicker:function(I){this.maxRows=4,ve=I,I.dpDiv.empty().append(this._generateHTML(I)),this._attachHandlers(I);var B,z=this._getNumberOfMonths(I),q=z[1],Q=17,ee=I.dpDiv.find("."+this._dayOverClass+" a"),te=C.datepicker._get(I,"onUpdateDatepicker");ee.length>0&&datepicker_handleMouseover.apply(ee.get(0)),I.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),q>1&&I.dpDiv.addClass("ui-datepicker-multi-"+q).css("width",Q*q+"em"),I.dpDiv[(1!==z[0]||1!==z[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),I.dpDiv[(this._get(I,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),I===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(I)&&I.input.trigger("focus"),I.yearshtml&&(B=I.yearshtml,setTimeout((function(){B===I.yearshtml&&I.yearshtml&&I.dpDiv.find("select.ui-datepicker-year").first().replaceWith(I.yearshtml),B=I.yearshtml=null}),0)),te&&te.apply(I.input?I.input[0]:null,[I])},_shouldFocusInput:function(C){return C.input&&C.input.is(":visible")&&!C.input.is(":disabled")},_checkOffset:function(I,B,z){var q=I.dpDiv.outerWidth(),Q=I.dpDiv.outerHeight(),ee=I.input?I.input.outerWidth():0,te=I.input?I.input.outerHeight():0,ie=document.documentElement.clientWidth+(z?0:C(document).scrollLeft()),re=document.documentElement.clientHeight+(z?0:C(document).scrollTop());return B.left-=this._get(I,"isRTL")?q-ee:0,B.left-=z&&B.left===I.input.offset().left?C(document).scrollLeft():0,B.top-=z&&B.top===I.input.offset().top+te?C(document).scrollTop():0,B.left-=Math.min(B.left,B.left+q>ie&&ie>q?Math.abs(B.left+q-ie):0),B.top-=Math.min(B.top,B.top+Q>re&&re>Q?Math.abs(Q+te):0),B},_findPos:function(I){for(var B,z=this._getInst(I),q=this._get(z,"isRTL");I&&("hidden"===I.type||1!==I.nodeType||C.expr.pseudos.hidden(I));)I=I[q?"previousSibling":"nextSibling"];return[(B=C(I).offset()).left,B.top]},_hideDatepicker:function(I){var B,z,q,Q,ee=this._curInst;!ee||I&&ee!==C.data(I,"datepicker")||this._datepickerShowing&&(B=this._get(ee,"showAnim"),z=this._get(ee,"duration"),q=function(){C.datepicker._tidyDialog(ee)},C.effects&&C.effects.effect[B]?ee.dpDiv.hide(B,C.datepicker._get(ee,"showOptions"),z,q):ee.dpDiv["slideDown"===B?"slideUp":"fadeIn"===B?"fadeOut":"hide"](B?z:null,q),B||q(),this._datepickerShowing=!1,(Q=this._get(ee,"onClose"))&&Q.apply(ee.input?ee.input[0]:null,[ee.input?ee.input.val():"",ee]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(C){C.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(I){if(C.datepicker._curInst){var B=C(I.target),z=C.datepicker._getInst(B[0]);(B[0].id===C.datepicker._mainDivId||0!==B.parents("#"+C.datepicker._mainDivId).length||B.hasClass(C.datepicker.markerClassName)||B.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!B.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===z)||C.datepicker._hideDatepicker()}},_adjustDate:function(I,B,z){var q=C(I),Q=this._getInst(q[0]);this._isDisabledDatepicker(q[0])||(this._adjustInstDate(Q,B,z),this._updateDatepicker(Q))},_gotoToday:function(I){var B,z=C(I),q=this._getInst(z[0]);this._get(q,"gotoCurrent")&&q.currentDay?(q.selectedDay=q.currentDay,q.drawMonth=q.selectedMonth=q.currentMonth,q.drawYear=q.selectedYear=q.currentYear):(B=new Date,q.selectedDay=B.getDate(),q.drawMonth=q.selectedMonth=B.getMonth(),q.drawYear=q.selectedYear=B.getFullYear()),this._notifyChange(q),this._adjustDate(z)},_selectMonthYear:function(I,B,z){var q=C(I),Q=this._getInst(q[0]);Q["selected"+("M"===z?"Month":"Year")]=Q["draw"+("M"===z?"Month":"Year")]=parseInt(B.options[B.selectedIndex].value,10),this._notifyChange(Q),this._adjustDate(q)},_selectDay:function(I,B,z,q){var Q,ee=C(I);C(q).hasClass(this._unselectableClass)||this._isDisabledDatepicker(ee[0])||((Q=this._getInst(ee[0])).selectedDay=Q.currentDay=parseInt(C("a",q).attr("data-date")),Q.selectedMonth=Q.currentMonth=B,Q.selectedYear=Q.currentYear=z,this._selectDate(I,this._formatDate(Q,Q.currentDay,Q.currentMonth,Q.currentYear)))},_clearDate:function(I){var B=C(I);this._selectDate(B,"")},_selectDate:function(I,B){var z,q=C(I),Q=this._getInst(q[0]);B=null!=B?B:this._formatDate(Q),Q.input&&Q.input.val(B),this._updateAlternate(Q),(z=this._get(Q,"onSelect"))?z.apply(Q.input?Q.input[0]:null,[B,Q]):Q.input&&Q.input.trigger("change"),Q.inline?this._updateDatepicker(Q):(this._hideDatepicker(),this._lastInput=Q.input[0],"object"!=typeof Q.input[0]&&Q.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(I){var B,z,q,Q=this._get(I,"altField");Q&&(B=this._get(I,"altFormat")||this._get(I,"dateFormat"),z=this._getDate(I),q=this.formatDate(B,z,this._getFormatConfig(I)),C(document).find(Q).val(q))},noWeekends:function(C){var I=C.getDay();return[I>0&&I<6,""]},iso8601Week:function(C){var I,B=new Date(C.getTime());return B.setDate(B.getDate()+4-(B.getDay()||7)),I=B.getTime(),B.setMonth(0),B.setDate(1),Math.floor(Math.round((I-B)/864e5)/7)+1},parseDate:function(I,B,z){if(null==I||null==B)throw"Invalid arguments";if(""===(B="object"==typeof B?B.toString():B+""))return null;var q,Q,ee,te,ie=0,re=(z?z.shortYearCutoff:null)||this._defaults.shortYearCutoff,ne="string"!=typeof re?re:(new Date).getFullYear()%100+parseInt(re,10),se=(z?z.dayNamesShort:null)||this._defaults.dayNamesShort,oe=(z?z.dayNames:null)||this._defaults.dayNames,ae=(z?z.monthNamesShort:null)||this._defaults.monthNamesShort,le=(z?z.monthNames:null)||this._defaults.monthNames,ue=-1,de=-1,ce=-1,he=-1,fe=!1,lookAhead=function(C){var B=q+1<I.length&&I.charAt(q+1)===C;return B&&q++,B},getNumber=function(C){var I=lookAhead(C),z="@"===C?14:"!"===C?20:"y"===C&&I?4:"o"===C?3:2,q=new RegExp("^\\d{"+("y"===C?z:1)+","+z+"}"),Q=B.substring(ie).match(q);if(!Q)throw"Missing number at position "+ie;return ie+=Q[0].length,parseInt(Q[0],10)},getName=function(I,z,q){var Q=-1,ee=C.map(lookAhead(I)?q:z,(function(C,I){return[[I,C]]})).sort((function(C,I){return-(C[1].length-I[1].length)}));if(C.each(ee,(function(C,I){var z=I[1];if(B.substr(ie,z.length).toLowerCase()===z.toLowerCase())return Q=I[0],ie+=z.length,!1})),-1!==Q)return Q+1;throw"Unknown name at position "+ie},checkLiteral=function(){if(B.charAt(ie)!==I.charAt(q))throw"Unexpected literal at position "+ie;ie++};for(q=0;q<I.length;q++)if(fe)"'"!==I.charAt(q)||lookAhead("'")?checkLiteral():fe=!1;else switch(I.charAt(q)){case"d":ce=getNumber("d");break;case"D":getName("D",se,oe);break;case"o":he=getNumber("o");break;case"m":de=getNumber("m");break;case"M":de=getName("M",ae,le);break;case"y":ue=getNumber("y");break;case"@":ue=(te=new Date(getNumber("@"))).getFullYear(),de=te.getMonth()+1,ce=te.getDate();break;case"!":ue=(te=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),de=te.getMonth()+1,ce=te.getDate();break;case"'":lookAhead("'")?checkLiteral():fe=!0;break;default:checkLiteral()}if(ie<B.length&&(ee=B.substr(ie),!/^\s+/.test(ee)))throw"Extra/unparsed characters found in date: "+ee;if(-1===ue?ue=(new Date).getFullYear():ue<100&&(ue+=(new Date).getFullYear()-(new Date).getFullYear()%100+(ue<=ne?0:-100)),he>-1)for(de=1,ce=he;;){if(ce<=(Q=this._getDaysInMonth(ue,de-1)))break;de++,ce-=Q}if((te=this._daylightSavingAdjust(new Date(ue,de-1,ce))).getFullYear()!==ue||te.getMonth()+1!==de||te.getDate()!==ce)throw"Invalid date";return te},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(C,I,B){if(!I)return"";var z,q=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,Q=(B?B.dayNames:null)||this._defaults.dayNames,ee=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,te=(B?B.monthNames:null)||this._defaults.monthNames,lookAhead=function(I){var B=z+1<C.length&&C.charAt(z+1)===I;return B&&z++,B},formatNumber=function(C,I,B){var z=""+I;if(lookAhead(C))for(;z.length<B;)z="0"+z;return z},formatName=function(C,I,B,z){return lookAhead(C)?z[I]:B[I]},ie="",re=!1;if(I)for(z=0;z<C.length;z++)if(re)"'"!==C.charAt(z)||lookAhead("'")?ie+=C.charAt(z):re=!1;else switch(C.charAt(z)){case"d":ie+=formatNumber("d",I.getDate(),2);break;case"D":ie+=formatName("D",I.getDay(),q,Q);break;case"o":ie+=formatNumber("o",Math.round((new Date(I.getFullYear(),I.getMonth(),I.getDate()).getTime()-new Date(I.getFullYear(),0,0).getTime())/864e5),3);break;case"m":ie+=formatNumber("m",I.getMonth()+1,2);break;case"M":ie+=formatName("M",I.getMonth(),ee,te);break;case"y":ie+=lookAhead("y")?I.getFullYear():(I.getFullYear()%100<10?"0":"")+I.getFullYear()%100;break;case"@":ie+=I.getTime();break;case"!":ie+=1e4*I.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?ie+="'":re=!0;break;default:ie+=C.charAt(z)}return ie},_possibleChars:function(C){var I,B="",z=!1,lookAhead=function(B){var z=I+1<C.length&&C.charAt(I+1)===B;return z&&I++,z};for(I=0;I<C.length;I++)if(z)"'"!==C.charAt(I)||lookAhead("'")?B+=C.charAt(I):z=!1;else switch(C.charAt(I)){case"d":case"m":case"y":case"@":B+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?B+="'":z=!0;break;default:B+=C.charAt(I)}return B},_get:function(C,I){return void 0!==C.settings[I]?C.settings[I]:this._defaults[I]},_setDateFromField:function(C,I){if(C.input.val()!==C.lastVal){var B=this._get(C,"dateFormat"),z=C.lastVal=C.input?C.input.val():null,q=this._getDefaultDate(C),Q=q,ee=this._getFormatConfig(C);try{Q=this.parseDate(B,z,ee)||q}catch(C){z=I?"":z}C.selectedDay=Q.getDate(),C.drawMonth=C.selectedMonth=Q.getMonth(),C.drawYear=C.selectedYear=Q.getFullYear(),C.currentDay=z?Q.getDate():0,C.currentMonth=z?Q.getMonth():0,C.currentYear=z?Q.getFullYear():0,this._adjustInstDate(C)}},_getDefaultDate:function(C){return this._restrictMinMax(C,this._determineDate(C,this._get(C,"defaultDate"),new Date))},_determineDate:function(I,B,z){var offsetNumeric=function(C){var I=new Date;return I.setDate(I.getDate()+C),I},offsetString=function(B){try{return C.datepicker.parseDate(C.datepicker._get(I,"dateFormat"),B,C.datepicker._getFormatConfig(I))}catch(C){}for(var z=(B.toLowerCase().match(/^c/)?C.datepicker._getDate(I):null)||new Date,q=z.getFullYear(),Q=z.getMonth(),ee=z.getDate(),te=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,ie=te.exec(B);ie;){switch(ie[2]||"d"){case"d":case"D":ee+=parseInt(ie[1],10);break;case"w":case"W":ee+=7*parseInt(ie[1],10);break;case"m":case"M":Q+=parseInt(ie[1],10),ee=Math.min(ee,C.datepicker._getDaysInMonth(q,Q));break;case"y":case"Y":q+=parseInt(ie[1],10),ee=Math.min(ee,C.datepicker._getDaysInMonth(q,Q))}ie=te.exec(B)}return new Date(q,Q,ee)},q=null==B||""===B?z:"string"==typeof B?offsetString(B):"number"==typeof B?isNaN(B)?z:offsetNumeric(B):new Date(B.getTime());return(q=q&&"Invalid Date"===q.toString()?z:q)&&(q.setHours(0),q.setMinutes(0),q.setSeconds(0),q.setMilliseconds(0)),this._daylightSavingAdjust(q)},_daylightSavingAdjust:function(C){return C?(C.setHours(C.getHours()>12?C.getHours()+2:0),C):null},_setDate:function(C,I,B){var z=!I,q=C.selectedMonth,Q=C.selectedYear,ee=this._restrictMinMax(C,this._determineDate(C,I,new Date));C.selectedDay=C.currentDay=ee.getDate(),C.drawMonth=C.selectedMonth=C.currentMonth=ee.getMonth(),C.drawYear=C.selectedYear=C.currentYear=ee.getFullYear(),q===C.selectedMonth&&Q===C.selectedYear||B||this._notifyChange(C),this._adjustInstDate(C),C.input&&C.input.val(z?"":this._formatDate(C))},_getDate:function(C){return!C.currentYear||C.input&&""===C.input.val()?null:this._daylightSavingAdjust(new Date(C.currentYear,C.currentMonth,C.currentDay))},_attachHandlers:function(I){var B=this._get(I,"stepMonths"),z="#"+I.id.replace(/\\\\/g,"\\");I.dpDiv.find("[data-handler]").map((function(){var I={prev:function(){C.datepicker._adjustDate(z,-B,"M")},next:function(){C.datepicker._adjustDate(z,+B,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(z)},selectDay:function(){return C.datepicker._selectDay(z,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(z,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(z,this,"Y"),!1}};C(this).on(this.getAttribute("data-event"),I[this.getAttribute("data-handler")])}))},_generateHTML:function(I){var B,z,q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ne,Ae,De,Fe=new Date,Oe=this._daylightSavingAdjust(new Date(Fe.getFullYear(),Fe.getMonth(),Fe.getDate())),Be=this._get(I,"isRTL"),Le=this._get(I,"showButtonPanel"),je=this._get(I,"hideIfNoPrevNext"),$e=this._get(I,"navigationAsDateFormat"),Ve=this._getNumberOfMonths(I),He=this._get(I,"showCurrentAtPos"),Ge=this._get(I,"stepMonths"),Ue=1!==Ve[0]||1!==Ve[1],ze=this._daylightSavingAdjust(I.currentDay?new Date(I.currentYear,I.currentMonth,I.currentDay):new Date(9999,9,9)),qe=this._getMinMaxDate(I,"min"),We=this._getMinMaxDate(I,"max"),Ke=I.drawMonth-He,Xe=I.drawYear;if(Ke<0&&(Ke+=12,Xe--),We)for(B=this._daylightSavingAdjust(new Date(We.getFullYear(),We.getMonth()-Ve[0]*Ve[1]+1,We.getDate())),B=qe&&B<qe?qe:B;this._daylightSavingAdjust(new Date(Xe,Ke,1))>B;)--Ke<0&&(Ke=11,Xe--);for(I.drawMonth=Ke,I.drawYear=Xe,z=this._get(I,"prevText"),z=$e?this.formatDate(z,this._daylightSavingAdjust(new Date(Xe,Ke-Ge,1)),this._getFormatConfig(I)):z,q=this._canAdjustMonth(I,-1,Xe,Ke)?C("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:z}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Be?"e":"w")).text(z))[0].outerHTML:je?"":C("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:z}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Be?"e":"w")).text(z))[0].outerHTML,Q=this._get(I,"nextText"),Q=$e?this.formatDate(Q,this._daylightSavingAdjust(new Date(Xe,Ke+Ge,1)),this._getFormatConfig(I)):Q,ee=this._canAdjustMonth(I,1,Xe,Ke)?C("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:Q}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Be?"w":"e")).text(Q))[0].outerHTML:je?"":C("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:Q}).append(C("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Be?"w":"e")).text(Q))[0].outerHTML,te=this._get(I,"currentText"),ie=this._get(I,"gotoCurrent")&&I.currentDay?ze:Oe,te=$e?this.formatDate(te,ie,this._getFormatConfig(I)):te,re="",I.inline||(re=C("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(I,"closeText"))[0].outerHTML),ne="",Le&&(ne=C("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Be?re:"").append(this._isInRange(I,ie)?C("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(te):"").append(Be?"":re)[0].outerHTML),se=parseInt(this._get(I,"firstDay"),10),se=isNaN(se)?0:se,oe=this._get(I,"showWeek"),ae=this._get(I,"dayNames"),le=this._get(I,"dayNamesMin"),ue=this._get(I,"monthNames"),de=this._get(I,"monthNamesShort"),ce=this._get(I,"beforeShowDay"),he=this._get(I,"showOtherMonths"),fe=this._get(I,"selectOtherMonths"),pe=this._getDefaultDate(I),me="",ve=0;ve<Ve[0];ve++){for(ye="",this.maxRows=4,be=0;be<Ve[1];be++){if(Ce=this._daylightSavingAdjust(new Date(Xe,Ke,I.selectedDay)),we=" ui-corner-all",_e="",Ue){if(_e+="<div class='ui-datepicker-group",Ve[1]>1)switch(be){case 0:_e+=" ui-datepicker-group-first",we=" ui-corner-"+(Be?"right":"left");break;case Ve[1]-1:_e+=" ui-datepicker-group-last",we=" ui-corner-"+(Be?"left":"right");break;default:_e+=" ui-datepicker-group-middle",we=""}_e+="'>"}for(_e+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+we+"'>"+(/all|left/.test(we)&&0===ve?Be?ee:q:"")+(/all|right/.test(we)&&0===ve?Be?q:ee:"")+this._generateMonthYearHeader(I,Ke,Xe,qe,We,ve>0||be>0,ue,de)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Se=oe?"<th class='ui-datepicker-week-col'>"+this._get(I,"weekHeader")+"</th>":"",ge=0;ge<7;ge++)Se+="<th scope='col'"+((ge+se+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ae[xe=(ge+se)%7]+"'>"+le[xe]+"</span></th>";for(_e+=Se+"</tr></thead><tbody>",ke=this._getDaysInMonth(Xe,Ke),Xe===I.selectedYear&&Ke===I.selectedMonth&&(I.selectedDay=Math.min(I.selectedDay,ke)),Te=(this._getFirstDayOfMonth(Xe,Ke)-se+7)%7,Me=Math.ceil((Te+ke)/7),Re=Ue&&this.maxRows>Me?this.maxRows:Me,this.maxRows=Re,Ee=this._daylightSavingAdjust(new Date(Xe,Ke,1-Te)),Pe=0;Pe<Re;Pe++){for(_e+="<tr>",Ie=oe?"<td class='ui-datepicker-week-col'>"+this._get(I,"calculateWeek")(Ee)+"</td>":"",ge=0;ge<7;ge++)Ne=ce?ce.apply(I.input?I.input[0]:null,[Ee]):[!0,""],De=(Ae=Ee.getMonth()!==Ke)&&!fe||!Ne[0]||qe&&Ee<qe||We&&Ee>We,Ie+="<td class='"+((ge+se+6)%7>=5?" ui-datepicker-week-end":"")+(Ae?" ui-datepicker-other-month":"")+(Ee.getTime()===Ce.getTime()&&Ke===I.selectedMonth&&I._keyEvent||pe.getTime()===Ee.getTime()&&pe.getTime()===Ce.getTime()?" "+this._dayOverClass:"")+(De?" "+this._unselectableClass+" ui-state-disabled":"")+(Ae&&!he?"":" "+Ne[1]+(Ee.getTime()===ze.getTime()?" "+this._currentClass:"")+(Ee.getTime()===Oe.getTime()?" ui-datepicker-today":""))+"'"+(Ae&&!he||!Ne[2]?"":" title='"+Ne[2].replace(/'/g,"&#39;")+"'")+(De?"":" data-handler='selectDay' data-event='click' data-month='"+Ee.getMonth()+"' data-year='"+Ee.getFullYear()+"'")+">"+(Ae&&!he?"&#xa0;":De?"<span class='ui-state-default'>"+Ee.getDate()+"</span>":"<a class='ui-state-default"+(Ee.getTime()===Oe.getTime()?" ui-state-highlight":"")+(Ee.getTime()===ze.getTime()?" ui-state-active":"")+(Ae?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Ee.getTime()===ze.getTime()?"true":"false")+"' data-date='"+Ee.getDate()+"'>"+Ee.getDate()+"</a>")+"</td>",Ee.setDate(Ee.getDate()+1),Ee=this._daylightSavingAdjust(Ee);_e+=Ie+"</tr>"}++Ke>11&&(Ke=0,Xe++),ye+=_e+="</tbody></table>"+(Ue?"</div>"+(Ve[0]>0&&be===Ve[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}me+=ye}return me+=ne,I._keyEvent=!1,me},_generateMonthYearHeader:function(C,I,B,z,q,Q,ee,te){var ie,re,ne,se,oe,ae,le,ue,de=this._get(C,"changeMonth"),ce=this._get(C,"changeYear"),he=this._get(C,"showMonthAfterYear"),fe=this._get(C,"selectMonthLabel"),pe=this._get(C,"selectYearLabel"),me="<div class='ui-datepicker-title'>",ge="";if(Q||!de)ge+="<span class='ui-datepicker-month'>"+ee[I]+"</span>";else{for(ie=z&&z.getFullYear()===B,re=q&&q.getFullYear()===B,ge+="<select class='ui-datepicker-month' aria-label='"+fe+"' data-handler='selectMonth' data-event='change'>",ne=0;ne<12;ne++)(!ie||ne>=z.getMonth())&&(!re||ne<=q.getMonth())&&(ge+="<option value='"+ne+"'"+(ne===I?" selected='selected'":"")+">"+te[ne]+"</option>");ge+="</select>"}if(he||(me+=ge+(!Q&&de&&ce?"":"&#xa0;")),!C.yearshtml)if(C.yearshtml="",Q||!ce)me+="<span class='ui-datepicker-year'>"+B+"</span>";else{for(se=this._get(C,"yearRange").split(":"),oe=(new Date).getFullYear(),ae=function(C){var I=C.match(/c[+\-].*/)?B+parseInt(C.substring(1),10):C.match(/[+\-].*/)?oe+parseInt(C,10):parseInt(C,10);return isNaN(I)?oe:I},le=ae(se[0]),ue=Math.max(le,ae(se[1]||"")),le=z?Math.max(le,z.getFullYear()):le,ue=q?Math.min(ue,q.getFullYear()):ue,C.yearshtml+="<select class='ui-datepicker-year' aria-label='"+pe+"' data-handler='selectYear' data-event='change'>";le<=ue;le++)C.yearshtml+="<option value='"+le+"'"+(le===B?" selected='selected'":"")+">"+le+"</option>";C.yearshtml+="</select>",me+=C.yearshtml,C.yearshtml=null}return me+=this._get(C,"yearSuffix"),he&&(me+=(!Q&&de&&ce?"":"&#xa0;")+ge),me+="</div>"},_adjustInstDate:function(C,I,B){var z=C.selectedYear+("Y"===B?I:0),q=C.selectedMonth+("M"===B?I:0),Q=Math.min(C.selectedDay,this._getDaysInMonth(z,q))+("D"===B?I:0),ee=this._restrictMinMax(C,this._daylightSavingAdjust(new Date(z,q,Q)));C.selectedDay=ee.getDate(),C.drawMonth=C.selectedMonth=ee.getMonth(),C.drawYear=C.selectedYear=ee.getFullYear(),"M"!==B&&"Y"!==B||this._notifyChange(C)},_restrictMinMax:function(C,I){var B=this._getMinMaxDate(C,"min"),z=this._getMinMaxDate(C,"max"),q=B&&I<B?B:I;return z&&q>z?z:q},_notifyChange:function(C){var I=this._get(C,"onChangeMonthYear");I&&I.apply(C.input?C.input[0]:null,[C.selectedYear,C.selectedMonth+1,C])},_getNumberOfMonths:function(C){var I=this._get(C,"numberOfMonths");return null==I?[1,1]:"number"==typeof I?[1,I]:I},_getMinMaxDate:function(C,I){return this._determineDate(C,this._get(C,I+"Date"),null)},_getDaysInMonth:function(C,I){return 32-this._daylightSavingAdjust(new Date(C,I,32)).getDate()},_getFirstDayOfMonth:function(C,I){return new Date(C,I,1).getDay()},_canAdjustMonth:function(C,I,B,z){var q=this._getNumberOfMonths(C),Q=this._daylightSavingAdjust(new Date(B,z+(I<0?I:q[0]*q[1]),1));return I<0&&Q.setDate(this._getDaysInMonth(Q.getFullYear(),Q.getMonth())),this._isInRange(C,Q)},_isInRange:function(C,I){var B,z,q=this._getMinMaxDate(C,"min"),Q=this._getMinMaxDate(C,"max"),ee=null,te=null,ie=this._get(C,"yearRange");return ie&&(B=ie.split(":"),z=(new Date).getFullYear(),ee=parseInt(B[0],10),te=parseInt(B[1],10),B[0].match(/[+\-].*/)&&(ee+=z),B[1].match(/[+\-].*/)&&(te+=z)),(!q||I.getTime()>=q.getTime())&&(!Q||I.getTime()<=Q.getTime())&&(!ee||I.getFullYear()>=ee)&&(!te||I.getFullYear()<=te)},_getFormatConfig:function(C){var I=this._get(C,"shortYearCutoff");return{shortYearCutoff:I="string"!=typeof I?I:(new Date).getFullYear()%100+parseInt(I,10),dayNamesShort:this._get(C,"dayNamesShort"),dayNames:this._get(C,"dayNames"),monthNamesShort:this._get(C,"monthNamesShort"),monthNames:this._get(C,"monthNames")}},_formatDate:function(C,I,B,z){I||(C.currentDay=C.selectedDay,C.currentMonth=C.selectedMonth,C.currentYear=C.selectedYear);var q=I?"object"==typeof I?I:this._daylightSavingAdjust(new Date(z,B,I)):this._daylightSavingAdjust(new Date(C.currentYear,C.currentMonth,C.currentDay));return this.formatDate(this._get(C,"dateFormat"),q,this._getFormatConfig(C))}}),C.fn.datepicker=function(I){if(!this.length)return this;C.datepicker.initialized||(C(document).on("mousedown",C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var B=Array.prototype.slice.call(arguments,1);return"string"!=typeof I||"isDisabled"!==I&&"getDate"!==I&&"widget"!==I?"option"===I&&2===arguments.length&&"string"==typeof arguments[1]?C.datepicker["_"+I+"Datepicker"].apply(C.datepicker,[this[0]].concat(B)):this.each((function(){"string"==typeof I?C.datepicker["_"+I+"Datepicker"].apply(C.datepicker,[this].concat(B)):C.datepicker._attachDatepicker(this,I)})):C.datepicker["_"+I+"Datepicker"].apply(C.datepicker,[this[0]].concat(B))},C.datepicker=new Datepicker,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.14.1";C.datepicker;var ye=!1;C(document).on("mouseup",(function(){ye=!1}));C.widget("ui.mouse",{version:"1.14.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var I=this;this.element.on("mousedown."+this.widgetName,(function(C){return I._mouseDown(C)})).on("click."+this.widgetName,(function(B){if(!0===C.data(B.target,I.widgetName+".preventClickEvent"))return C.removeData(B.target,I.widgetName+".preventClickEvent"),B.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(I){if(!ye){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(I),this._mouseDownEvent=I;var B=this,z=1===I.which,q="string"==typeof this.options.cancel&&C(I.target).closest(this.options.cancel).length;return!(z&&!q&&this._mouseCapture(I))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){B.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(I)&&this._mouseDelayMet(I)&&(this._mouseStarted=!1!==this._mouseStart(I),!this._mouseStarted)?(I.preventDefault(),!0):(!0===C.data(I.target,this.widgetName+".preventClickEvent")&&C.removeData(I.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(C){return B._mouseMove(C)},this._mouseUpDelegate=function(C){return B._mouseUp(C)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),I.preventDefault(),ye=!0,!0))}},_mouseMove:function(C){if(this._mouseMoved&&!C.which)if(C.originalEvent.altKey||C.originalEvent.ctrlKey||C.originalEvent.metaKey||C.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(C);return(C.which||C.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(C),C.preventDefault()):(this._mouseDistanceMet(C)&&this._mouseDelayMet(C)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,C),this._mouseStarted?this._mouseDrag(C):this._mouseUp(C)),!this._mouseStarted)},_mouseUp:function(I){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,I.target===this._mouseDownEvent.target&&C.data(I.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(I)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,ye=!1,I.preventDefault()},_mouseDistanceMet:function(C){return Math.max(Math.abs(this._mouseDownEvent.pageX-C.pageX),Math.abs(this._mouseDownEvent.pageY-C.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),C.ui.plugin={add:function(I,B,z){var q,Q=C.ui[I].prototype;for(q in z)Q.plugins[q]=Q.plugins[q]||[],Q.plugins[q].push([B,z[q]])},call:function(C,I,B,z){var q,Q=C.plugins[I];if(Q&&(z||C.element[0].parentNode&&11!==C.element[0].parentNode.nodeType))for(q=0;q<Q.length;q++)C.options[Q[q][0]]&&Q[q][1].apply(C.element,B)}};C.widget("ui.draggable",C.ui.mouse,{version:"1.14.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(C,I){this._super(C,I),"handle"===C&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(I){var B=this.options;return!(this.helper||B.disabled||C(I.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(I),!!this.handle&&(this._blurActiveElement(I),this._blockFrames(!0===B.iframeFix?"iframe":B.iframeFix),!0))},_blockFrames:function(I){this.iframeBlocks=this.document.find(I).map((function(){var I=C(this);return C("<div>").css("position","absolute").appendTo(I.parent()).outerWidth(I.outerWidth()).outerHeight(I.outerHeight()).offset(I.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(I){var B=this.document[0].activeElement;C(I.target).closest(B).length||C(B).trigger("blur")},_mouseStart:function(I){var B=this.options;return this.helper=this._createHelper(I),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),C.ui.ddmanager&&(C.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===C(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(I),this.originalPosition=this.position=this._generatePosition(I,!1),this.originalPageX=I.pageX,this.originalPageY=I.pageY,B.cursorAt&&this._adjustOffsetFromHelper(B.cursorAt),this._setContainment(),!1===this._trigger("start",I)?(this._clear(),!1):(this._cacheHelperProportions(),C.ui.ddmanager&&!B.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,I),this._mouseDrag(I,!0),C.ui.ddmanager&&C.ui.ddmanager.dragStart(this,I),!0)},_refreshOffsets:function(C){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:C.pageX-this.offset.left,top:C.pageY-this.offset.top}},_mouseDrag:function(I,B){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(I,!0),this.positionAbs=this._convertPositionTo("absolute"),!B){var z=this._uiHash();if(!1===this._trigger("drag",I,z))return this._mouseUp(new C.Event("mouseup",I)),!1;this.position=z.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",C.ui.ddmanager&&C.ui.ddmanager.drag(this,I),!1},_mouseStop:function(I){var B=this,z=!1;return C.ui.ddmanager&&!this.options.dropBehaviour&&(z=C.ui.ddmanager.drop(this,I)),this.dropped&&(z=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!z||"valid"===this.options.revert&&z||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,z)?C(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==B._trigger("stop",I)&&B._clear()})):!1!==this._trigger("stop",I)&&this._clear(),!1},_mouseUp:function(I){return this._unblockFrames(),C.ui.ddmanager&&C.ui.ddmanager.dragStop(this,I),this.handleElement.is(I.target)&&this.element.trigger("focus"),C.ui.mouse.prototype._mouseUp.call(this,I)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new C.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(I){return!this.options.handle||!!C(I.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(I){var B=this.options,z="function"==typeof B.helper,q=z?C(B.helper.apply(this.element[0],[I])):"clone"===B.helper?this.element.clone().removeAttr("id"):this.element;return q.parents("body").length||q.appendTo("parent"===B.appendTo?this.element[0].parentNode:B.appendTo),z&&q[0]===this.element[0]&&this._setPositionRelative(),q[0]===this.element[0]||/(fixed|absolute)/.test(q.css("position"))||q.css("position","absolute"),q},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(C){"string"==typeof C&&(C=C.split(" ")),Array.isArray(C)&&(C={left:+C[0],top:+C[1]||0}),"left"in C&&(this.offset.click.left=C.left+this.margins.left),"right"in C&&(this.offset.click.left=this.helperProportions.width-C.right+this.margins.left),"top"in C&&(this.offset.click.top=C.top+this.margins.top),"bottom"in C&&(this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top)},_isRootNode:function(C){return/(html|body)/i.test(C.tagName)||C===this.document[0]},_getParentOffset:function(){var I=this.offsetParent.offset(),B=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==B&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(I.left+=this.scrollParent.scrollLeft(),I.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(I={top:0,left:0}),{top:I.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:I.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var C=this.element.position(),I=this._isRootNode(this.scrollParent[0]);return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+(I?0:this.scrollParent.scrollTop()),left:C.left-(parseInt(this.helper.css("left"),10)||0)+(I?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var I,B,z,q=this.options,Q=this.document[0];this.relativeContainer=null,q.containment?"window"!==q.containment?"document"!==q.containment?q.containment.constructor!==Array?("parent"===q.containment&&(q.containment=this.helper[0].parentNode),(z=(B=C(q.containment))[0])&&(I=/(scroll|auto)/.test(B.css("overflow")),this.containment=[(parseInt(B.css("borderLeftWidth"),10)||0)+(parseInt(B.css("paddingLeft"),10)||0),(parseInt(B.css("borderTopWidth"),10)||0)+(parseInt(B.css("paddingTop"),10)||0),(I?Math.max(z.scrollWidth,z.offsetWidth):z.offsetWidth)-(parseInt(B.css("borderRightWidth"),10)||0)-(parseInt(B.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(I?Math.max(z.scrollHeight,z.offsetHeight):z.offsetHeight)-(parseInt(B.css("borderBottomWidth"),10)||0)-(parseInt(B.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=B)):this.containment=q.containment:this.containment=[0,0,C(Q).width()-this.helperProportions.width-this.margins.left,(C(Q).height()||Q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[C(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,C(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,C(window).scrollLeft()+C(window).width()-this.helperProportions.width-this.margins.left,C(window).scrollTop()+(C(window).height()||Q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(C,I){I||(I=this.position);var B="absolute"===C?1:-1,z=this._isRootNode(this.scrollParent[0]);return{top:I.top+this.offset.relative.top*B+this.offset.parent.top*B-("fixed"===this.cssPosition?-this.offset.scroll.top:z?0:this.offset.scroll.top)*B,left:I.left+this.offset.relative.left*B+this.offset.parent.left*B-("fixed"===this.cssPosition?-this.offset.scroll.left:z?0:this.offset.scroll.left)*B}},_generatePosition:function(C,I){var B,z,q,Q,ee=this.options,te=this._isRootNode(this.scrollParent[0]),ie=C.pageX,re=C.pageY;return te&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),I&&(this.containment&&(this.relativeContainer?(z=this.relativeContainer.offset(),B=[this.containment[0]+z.left,this.containment[1]+z.top,this.containment[2]+z.left,this.containment[3]+z.top]):B=this.containment,C.pageX-this.offset.click.left<B[0]&&(ie=B[0]+this.offset.click.left),C.pageY-this.offset.click.top<B[1]&&(re=B[1]+this.offset.click.top),C.pageX-this.offset.click.left>B[2]&&(ie=B[2]+this.offset.click.left),C.pageY-this.offset.click.top>B[3]&&(re=B[3]+this.offset.click.top)),ee.grid&&(q=ee.grid[1]?this.originalPageY+Math.round((re-this.originalPageY)/ee.grid[1])*ee.grid[1]:this.originalPageY,re=B?q-this.offset.click.top>=B[1]||q-this.offset.click.top>B[3]?q:q-this.offset.click.top>=B[1]?q-ee.grid[1]:q+ee.grid[1]:q,Q=ee.grid[0]?this.originalPageX+Math.round((ie-this.originalPageX)/ee.grid[0])*ee.grid[0]:this.originalPageX,ie=B?Q-this.offset.click.left>=B[0]||Q-this.offset.click.left>B[2]?Q:Q-this.offset.click.left>=B[0]?Q-ee.grid[0]:Q+ee.grid[0]:Q),"y"===ee.axis&&(ie=this.originalPageX),"x"===ee.axis&&(re=this.originalPageY)),{top:re-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:te?0:this.offset.scroll.top),left:ie-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:te?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(I,B,z){return z=z||this._uiHash(),C.ui.plugin.call(this,I,[B,z,this],!0),/^(drag|start|stop)/.test(I)&&(this.positionAbs=this._convertPositionTo("absolute"),z.offset=this.positionAbs),C.Widget.prototype._trigger.call(this,I,B,z)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),C.ui.plugin.add("draggable","connectToSortable",{start:function(I,B,z){var q=C.extend({},B,{item:z.element});z.sortables=[],C(z.options.connectToSortable).each((function(){var B=C(this).sortable("instance");B&&!B.options.disabled&&(z.sortables.push(B),B.refreshPositions(),B._trigger("activate",I,q))}))},stop:function(I,B,z){var q=C.extend({},B,{item:z.element});z.cancelHelperRemoval=!1,C.each(z.sortables,(function(){var C=this;C.isOver?(C.isOver=0,z.cancelHelperRemoval=!0,C.cancelHelperRemoval=!1,C._storedCSS={position:C.placeholder.css("position"),top:C.placeholder.css("top"),left:C.placeholder.css("left")},C._mouseStop(I),C.options.helper=C.options._helper):(C.cancelHelperRemoval=!0,C._trigger("deactivate",I,q))}))},drag:function(I,B,z){C.each(z.sortables,(function(){var q=!1,Q=this;Q.positionAbs=z.positionAbs,Q.helperProportions=z.helperProportions,Q.offset.click=z.offset.click,Q._intersectsWith(Q.containerCache)&&(q=!0,C.each(z.sortables,(function(){return this.positionAbs=z.positionAbs,this.helperProportions=z.helperProportions,this.offset.click=z.offset.click,this!==Q&&this._intersectsWith(this.containerCache)&&C.contains(Q.element[0],this.element[0])&&(q=!1),q}))),q?(Q.isOver||(Q.isOver=1,z._parent=B.helper.parent(),Q.currentItem=B.helper.appendTo(Q.element).data("ui-sortable-item",!0),Q.options._helper=Q.options.helper,Q.options.helper=function(){return B.helper[0]},I.target=Q.currentItem[0],Q._mouseCapture(I,!0),Q._mouseStart(I,!0,!0),Q.offset.click.top=z.offset.click.top,Q.offset.click.left=z.offset.click.left,Q.offset.parent.left-=z.offset.parent.left-Q.offset.parent.left,Q.offset.parent.top-=z.offset.parent.top-Q.offset.parent.top,z._trigger("toSortable",I),z.dropped=Q.element,C.each(z.sortables,(function(){this.refreshPositions()})),z.currentItem=z.element,Q.fromOutside=z),Q.currentItem&&(Q._mouseDrag(I),B.position=Q.position)):Q.isOver&&(Q.isOver=0,Q.cancelHelperRemoval=!0,Q.options._revert=Q.options.revert,Q.options.revert=!1,Q._trigger("out",I,Q._uiHash(Q)),Q._mouseStop(I,!0),Q.options.revert=Q.options._revert,Q.options.helper=Q.options._helper,Q.placeholder&&Q.placeholder.remove(),B.helper.appendTo(z._parent),z._refreshOffsets(I),B.position=z._generatePosition(I,!0),z._trigger("fromSortable",I),z.dropped=!1,C.each(z.sortables,(function(){this.refreshPositions()})))}))}}),C.ui.plugin.add("draggable","cursor",{start:function(I,B,z){var q=C("body"),Q=z.options;q.css("cursor")&&(Q._cursor=q.css("cursor")),q.css("cursor",Q.cursor)},stop:function(I,B,z){var q=z.options;q._cursor&&C("body").css("cursor",q._cursor)}}),C.ui.plugin.add("draggable","opacity",{start:function(I,B,z){var q=C(B.helper),Q=z.options;q.css("opacity")&&(Q._opacity=q.css("opacity")),q.css("opacity",Q.opacity)},stop:function(I,B,z){var q=z.options;q._opacity&&C(B.helper).css("opacity",q._opacity)}}),C.ui.plugin.add("draggable","scroll",{start:function(C,I,B){B.scrollParentNotHidden||(B.scrollParentNotHidden=B.helper.scrollParent(!1)),B.scrollParentNotHidden[0]!==B.document[0]&&"HTML"!==B.scrollParentNotHidden[0].tagName&&(B.overflowOffset=B.scrollParentNotHidden.offset())},drag:function(I,B,z){var q=z.options,Q=!1,ee=z.scrollParentNotHidden[0],te=z.document[0];ee!==te&&"HTML"!==ee.tagName?(q.axis&&"x"===q.axis||(z.overflowOffset.top+ee.offsetHeight-I.pageY<q.scrollSensitivity?ee.scrollTop=Q=ee.scrollTop+q.scrollSpeed:I.pageY-z.overflowOffset.top<q.scrollSensitivity&&(ee.scrollTop=Q=ee.scrollTop-q.scrollSpeed)),q.axis&&"y"===q.axis||(z.overflowOffset.left+ee.offsetWidth-I.pageX<q.scrollSensitivity?ee.scrollLeft=Q=ee.scrollLeft+q.scrollSpeed:I.pageX-z.overflowOffset.left<q.scrollSensitivity&&(ee.scrollLeft=Q=ee.scrollLeft-q.scrollSpeed))):(q.axis&&"x"===q.axis||(I.pageY-C(te).scrollTop()<q.scrollSensitivity?Q=C(te).scrollTop(C(te).scrollTop()-q.scrollSpeed):C(window).height()-(I.pageY-C(te).scrollTop())<q.scrollSensitivity&&(Q=C(te).scrollTop(C(te).scrollTop()+q.scrollSpeed))),q.axis&&"y"===q.axis||(I.pageX-C(te).scrollLeft()<q.scrollSensitivity?Q=C(te).scrollLeft(C(te).scrollLeft()-q.scrollSpeed):C(window).width()-(I.pageX-C(te).scrollLeft())<q.scrollSensitivity&&(Q=C(te).scrollLeft(C(te).scrollLeft()+q.scrollSpeed)))),!1!==Q&&C.ui.ddmanager&&!q.dropBehaviour&&C.ui.ddmanager.prepareOffsets(z,I)}}),C.ui.plugin.add("draggable","snap",{start:function(I,B,z){var q=z.options;z.snapElements=[],C(q.snap.constructor!==String?q.snap.items||":data(ui-draggable)":q.snap).each((function(){var I=C(this),B=I.offset();this!==z.element[0]&&z.snapElements.push({item:this,width:I.outerWidth(),height:I.outerHeight(),top:B.top,left:B.left})}))},drag:function(I,B,z){var q,Q,ee,te,ie,re,ne,se,oe,ae,le=z.options,ue=le.snapTolerance,de=B.offset.left,ce=de+z.helperProportions.width,he=B.offset.top,fe=he+z.helperProportions.height;for(oe=z.snapElements.length-1;oe>=0;oe--)re=(ie=z.snapElements[oe].left-z.margins.left)+z.snapElements[oe].width,se=(ne=z.snapElements[oe].top-z.margins.top)+z.snapElements[oe].height,ce<ie-ue||de>re+ue||fe<ne-ue||he>se+ue||!C.contains(z.snapElements[oe].item.ownerDocument,z.snapElements[oe].item)?(z.snapElements[oe].snapping&&z.options.snap.release&&z.options.snap.release.call(z.element,I,C.extend(z._uiHash(),{snapItem:z.snapElements[oe].item})),z.snapElements[oe].snapping=!1):("inner"!==le.snapMode&&(q=Math.abs(ne-fe)<=ue,Q=Math.abs(se-he)<=ue,ee=Math.abs(ie-ce)<=ue,te=Math.abs(re-de)<=ue,q&&(B.position.top=z._convertPositionTo("relative",{top:ne-z.helperProportions.height,left:0}).top),Q&&(B.position.top=z._convertPositionTo("relative",{top:se,left:0}).top),ee&&(B.position.left=z._convertPositionTo("relative",{top:0,left:ie-z.helperProportions.width}).left),te&&(B.position.left=z._convertPositionTo("relative",{top:0,left:re}).left)),ae=q||Q||ee||te,"outer"!==le.snapMode&&(q=Math.abs(ne-he)<=ue,Q=Math.abs(se-fe)<=ue,ee=Math.abs(ie-de)<=ue,te=Math.abs(re-ce)<=ue,q&&(B.position.top=z._convertPositionTo("relative",{top:ne,left:0}).top),Q&&(B.position.top=z._convertPositionTo("relative",{top:se-z.helperProportions.height,left:0}).top),ee&&(B.position.left=z._convertPositionTo("relative",{top:0,left:ie}).left),te&&(B.position.left=z._convertPositionTo("relative",{top:0,left:re-z.helperProportions.width}).left)),!z.snapElements[oe].snapping&&(q||Q||ee||te||ae)&&z.options.snap.snap&&z.options.snap.snap.call(z.element,I,C.extend(z._uiHash(),{snapItem:z.snapElements[oe].item})),z.snapElements[oe].snapping=q||Q||ee||te||ae)}}),C.ui.plugin.add("draggable","stack",{start:function(I,B,z){var q,Q=z.options,ee=C.makeArray(C(Q.stack)).sort((function(I,B){return(parseInt(C(I).css("zIndex"),10)||0)-(parseInt(C(B).css("zIndex"),10)||0)}));ee.length&&(q=parseInt(C(ee[0]).css("zIndex"),10)||0,C(ee).each((function(I){C(this).css("zIndex",q+I)})),this.css("zIndex",q+ee.length))}}),C.ui.plugin.add("draggable","zIndex",{start:function(I,B,z){var q=C(B.helper),Q=z.options;q.css("zIndex")&&(Q._zIndex=q.css("zIndex")),q.css("zIndex",Q.zIndex)},stop:function(I,B,z){var q=z.options;q._zIndex&&C(B.helper).css("zIndex",q._zIndex)}});C.ui.draggable;C.widget("ui.resizable",C.ui.mouse,{version:"1.14.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(C){return parseFloat(C)||0},_isNumber:function(C){return!isNaN(parseFloat(C))},_hasScroll:function(I,B){var z,q=!1,Q=C(I).css("overflow");if("hidden"===Q)return!1;if("scroll"===Q)return!0;if(I[z=B&&"left"===B?"scrollLeft":"scrollTop"]>0)return!0;try{I[z]=1,q=I[z]>0,I[z]=0}catch(C){}return q},_create:function(){var I,B=this.options,z=this;this._addClass("ui-resizable"),C.extend(this,{_aspectRatio:!!B.aspectRatio,aspectRatio:B.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:B.helper||B.ghost||B.animate?B.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(C("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,I={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(I),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this._proportionallyResize()),this._setupHandles(),B.autoHide&&C(this.element).on("mouseenter",(function(){B.disabled||(z._removeClass("ui-resizable-autohide"),z._handles.show())})).on("mouseleave",(function(){B.disabled||z.resizing||(z._addClass("ui-resizable-autohide"),z._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var I,_destroy=function(I){C(I).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(_destroy(this.element),I=this.element,this.originalElement.css({position:I.css("position"),width:I.outerWidth(),height:I.outerHeight(),top:I.css("top"),left:I.css("left")}).insertAfter(I),I.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_setOption:function(C,I){switch(this._super(C,I),C){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!I}},_setupHandles:function(){var I,B,z,q,Q,ee=this.options,te=this;if(this.handles=ee.handles||(C(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=C(),this._addedHandles=C(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),z=this.handles.split(","),this.handles={},B=0;B<z.length;B++)q="ui-resizable-"+(I=String.prototype.trim.call(z[B])),Q=C("<div>"),this._addClass(Q,"ui-resizable-handle "+q),Q.css({zIndex:ee.zIndex}),this.handles[I]=".ui-resizable-"+I,this.element.children(this.handles[I]).length||(this.element.append(Q),this._addedHandles=this._addedHandles.add(Q));this._renderAxis=function(I){var B,z,q,Q;for(B in I=I||this.element,this.handles)this.handles[B].constructor===String?this.handles[B]=this.element.children(this.handles[B]).first().show():(this.handles[B].jquery||this.handles[B].nodeType)&&(this.handles[B]=C(this.handles[B]),this._on(this.handles[B],{mousedown:te._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(z=C(this.handles[B],this.element),Q=/sw|ne|nw|se|n|s/.test(B)?z.outerHeight():z.outerWidth(),q=["padding",/ne|nw|n/.test(B)?"Top":/se|sw|s/.test(B)?"Bottom":/^e$/.test(B)?"Right":"Left"].join(""),I.css(q,Q),this._proportionallyResize()),this._handles=this._handles.add(this.handles[B])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){te.resizing||(this.className&&(Q=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),te.axis=Q&&Q[1]?Q[1]:"se")})),ee.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(I){var B,z,q=!1;for(B in this.handles)((z=C(this.handles[B])[0])===I.target||C.contains(z,I.target))&&(q=!0);return!this.options.disabled&&q},_mouseStart:function(I){var B,z,q,Q,ee=this.options,te=this.element;return this.resizing=!0,this._renderProxy(),B=this._num(this.helper.css("left")),z=this._num(this.helper.css("top")),ee.containment&&(B+=C(ee.containment).scrollLeft()||0,z+=C(ee.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:B,top:z},this._helper||(Q=this._calculateAdjustedElementDimensions(te)),this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:Q.width,height:Q.height},this.originalSize=this._helper?{width:te.outerWidth(),height:te.outerHeight()}:{width:Q.width,height:Q.height},this.sizeDiff={width:te.outerWidth()-te.width(),height:te.outerHeight()-te.height()},this.originalPosition={left:B,top:z},this.originalMousePosition={left:I.pageX,top:I.pageY},this.aspectRatio="number"==typeof ee.aspectRatio?ee.aspectRatio:this.originalSize.width/this.originalSize.height||1,q=C(".ui-resizable-"+this.axis).css("cursor"),C("body").css("cursor","auto"===q?this.axis+"-resize":q),this._addClass("ui-resizable-resizing"),this._propagate("start",I),!0},_mouseDrag:function(I){var B,z,q=this.originalMousePosition,Q=this.axis,ee=I.pageX-q.left||0,te=I.pageY-q.top||0,ie=this._change[Q];return this._updatePrevProperties(),!!ie&&(B=ie.apply(this,[I,ee,te]),this._updateVirtualBoundaries(I.shiftKey),(this._aspectRatio||I.shiftKey)&&(B=this._updateRatio(B,I)),B=this._respectSize(B,I),this._updateCache(B),this._propagate("resize",I),z=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),C.isEmptyObject(z)||(this._updatePrevProperties(),this._trigger("resize",I,this.ui()),this._applyChanges()),!1)},_mouseStop:function(I){this.resizing=!1;var B,z,q,Q,ee,te,ie,re=this.options,ne=this;return this._helper&&(q=(z=(B=this._proportionallyResizeElements).length&&/textarea/i.test(B[0].nodeName))&&this._hasScroll(B[0],"left")?0:ne.sizeDiff.height,Q=z?0:ne.sizeDiff.width,ee={width:ne.helper.width()-Q,height:ne.helper.height()-q},te=parseFloat(ne.element.css("left"))+(ne.position.left-ne.originalPosition.left)||null,ie=parseFloat(ne.element.css("top"))+(ne.position.top-ne.originalPosition.top)||null,re.animate||this.element.css(C.extend(ee,{top:ie,left:te})),ne.helper.height(ne.size.height),ne.helper.width(ne.size.width),this._helper&&!re.animate&&this._proportionallyResize()),C("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",I),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var C={};return this.position.top!==this.prevPosition.top&&(C.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(C.left=this.position.left+"px"),this.helper.css(C),this.size.width!==this.prevSize.width&&(C.width=this.size.width+"px",this.helper.width(C.width)),this.size.height!==this.prevSize.height&&(C.height=this.size.height+"px",this.helper.height(C.height)),C},_updateVirtualBoundaries:function(C){var I,B,z,q,Q,ee=this.options;Q={minWidth:this._isNumber(ee.minWidth)?ee.minWidth:0,maxWidth:this._isNumber(ee.maxWidth)?ee.maxWidth:1/0,minHeight:this._isNumber(ee.minHeight)?ee.minHeight:0,maxHeight:this._isNumber(ee.maxHeight)?ee.maxHeight:1/0},(this._aspectRatio||C)&&(I=Q.minHeight*this.aspectRatio,z=Q.minWidth/this.aspectRatio,B=Q.maxHeight*this.aspectRatio,q=Q.maxWidth/this.aspectRatio,I>Q.minWidth&&(Q.minWidth=I),z>Q.minHeight&&(Q.minHeight=z),B<Q.maxWidth&&(Q.maxWidth=B),q<Q.maxHeight&&(Q.maxHeight=q)),this._vBoundaries=Q},_updateCache:function(C){this.offset=this.helper.offset(),this._isNumber(C.left)&&(this.position.left=C.left),this._isNumber(C.top)&&(this.position.top=C.top),this._isNumber(C.height)&&(this.size.height=C.height),this._isNumber(C.width)&&(this.size.width=C.width)},_updateRatio:function(C){var I=this.position,B=this.size,z=this.axis;return this._isNumber(C.height)?C.width=C.height*this.aspectRatio:this._isNumber(C.width)&&(C.height=C.width/this.aspectRatio),"sw"===z&&(C.left=I.left+(B.width-C.width),C.top=null),"nw"===z&&(C.top=I.top+(B.height-C.height),C.left=I.left+(B.width-C.width)),C},_respectSize:function(C){var I=this._vBoundaries,B=this.axis,z=this._isNumber(C.width)&&I.maxWidth&&I.maxWidth<C.width,q=this._isNumber(C.height)&&I.maxHeight&&I.maxHeight<C.height,Q=this._isNumber(C.width)&&I.minWidth&&I.minWidth>C.width,ee=this._isNumber(C.height)&&I.minHeight&&I.minHeight>C.height,te=this.originalPosition.left+this.originalSize.width,ie=this.originalPosition.top+this.originalSize.height,re=/sw|nw|w/.test(B),ne=/nw|ne|n/.test(B);return Q&&(C.width=I.minWidth),ee&&(C.height=I.minHeight),z&&(C.width=I.maxWidth),q&&(C.height=I.maxHeight),Q&&re&&(C.left=te-I.minWidth),z&&re&&(C.left=te-I.maxWidth),ee&&ne&&(C.top=ie-I.minHeight),q&&ne&&(C.top=ie-I.maxHeight),C.width||C.height||C.left||!C.top?C.width||C.height||C.top||!C.left||(C.left=null):C.top=null,C},_getPaddingPlusBorderDimensions:function(C){for(var I=0,B=[],z=[C.css("borderTopWidth"),C.css("borderRightWidth"),C.css("borderBottomWidth"),C.css("borderLeftWidth")],q=[C.css("paddingTop"),C.css("paddingRight"),C.css("paddingBottom"),C.css("paddingLeft")];I<4;I++)B[I]=parseFloat(z[I])||0,B[I]+=parseFloat(q[I])||0;return{height:B[0]+B[2],width:B[1]+B[3]}},_calculateAdjustedElementDimensions:function(C){var I,B,z,q=C.get(0);return"content-box"!==C.css("box-sizing")||!this._hasScroll(q)&&!this._hasScroll(q,"left")?{height:parseFloat(C.css("height")),width:parseFloat(C.css("width"))}:(I=parseFloat(q.style.width),B=parseFloat(q.style.height),z=this._getPaddingPlusBorderDimensions(C),I=isNaN(I)?this._getElementTheoreticalSize(C,z,"width"):I,{height:B=isNaN(B)?this._getElementTheoreticalSize(C,z,"height"):B,width:I})},_getElementTheoreticalSize:function(C,I,B){return Math.max(0,Math.ceil(C.get(0)["offset"+B[0].toUpperCase()+B.slice(1)]-I[B]-.5))||0},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var C,I=0,B=this.helper||this.element;I<this._proportionallyResizeElements.length;I++)C=this._proportionallyResizeElements[I],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(C)),C.css({height:B.height()-this.outerDimensions.height||0,width:B.width()-this.outerDimensions.width||0})},_renderProxy:function(){var I=this.element,B=this.options;this.elementOffset=I.offset(),this._helper?(this.helper=this.helper||C("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++B.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(C,I){return{width:this.originalSize.width+I}},w:function(C,I){var B=this.originalSize;return{left:this.originalPosition.left+I,width:B.width-I}},n:function(C,I,B){var z=this.originalSize;return{top:this.originalPosition.top+B,height:z.height-B}},s:function(C,I,B){return{height:this.originalSize.height+B}},se:function(I,B,z){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[I,B,z]))},sw:function(I,B,z){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[I,B,z]))},ne:function(I,B,z){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[I,B,z]))},nw:function(I,B,z){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[I,B,z]))}},_propagate:function(I,B){C.ui.plugin.call(this,I,[B,this.ui()]),"resize"!==I&&this._trigger(I,B,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),C.ui.plugin.add("resizable","animate",{stop:function(I){var B=C(this).resizable("instance"),z=B.options,q=B._proportionallyResizeElements,Q=q.length&&/textarea/i.test(q[0].nodeName),ee=Q&&B._hasScroll(q[0],"left")?0:B.sizeDiff.height,te=Q?0:B.sizeDiff.width,ie={width:B.size.width-te,height:B.size.height-ee},re=parseFloat(B.element.css("left"))+(B.position.left-B.originalPosition.left)||null,ne=parseFloat(B.element.css("top"))+(B.position.top-B.originalPosition.top)||null;B.element.animate(C.extend(ie,ne&&re?{top:ne,left:re}:{}),{duration:z.animateDuration,easing:z.animateEasing,step:function(){var z={width:parseFloat(B.element.css("width")),height:parseFloat(B.element.css("height")),top:parseFloat(B.element.css("top")),left:parseFloat(B.element.css("left"))};q&&q.length&&C(q[0]).css({width:z.width,height:z.height}),B._updateCache(z),B._propagate("resize",I)}})}}),C.ui.plugin.add("resizable","containment",{start:function(){var I,B,z,q,Q,ee,te,ie=C(this).resizable("instance"),re=ie.options,ne=ie.element,se=re.containment,oe=se instanceof C?se.get(0):/parent/.test(se)?ne.parent().get(0):se;oe&&(ie.containerElement=C(oe),/document/.test(se)||se===document?(ie.containerOffset={left:0,top:0},ie.containerPosition={left:0,top:0},ie.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}):(I=C(oe),B=[],C(["Top","Right","Left","Bottom"]).each((function(C,z){B[C]=ie._num(I.css("padding"+z))})),ie.containerOffset=I.offset(),ie.containerPosition=I.position(),ie.containerSize={height:I.innerHeight()-B[3],width:I.innerWidth()-B[1]},z=ie.containerOffset,q=ie.containerSize.height,Q=ie.containerSize.width,ee=ie._hasScroll(oe,"left")?oe.scrollWidth:Q,te=ie._hasScroll(oe)?oe.scrollHeight:q,ie.parentData={element:oe,left:z.left,top:z.top,width:ee,height:te}))},resize:function(I){var B,z,q,Q,ee=C(this).resizable("instance"),te=ee.options,ie=ee.containerOffset,re=ee.position,ne=ee._aspectRatio||I.shiftKey,se={top:0,left:0},oe=ee.containerElement,ae=!0;oe[0]!==document&&/static/.test(oe.css("position"))&&(se=ie),re.left<(ee._helper?ie.left:0)&&(ee.size.width=ee.size.width+(ee._helper?ee.position.left-ie.left:ee.position.left-se.left),ne&&(ee.size.height=ee.size.width/ee.aspectRatio,ae=!1),ee.position.left=te.helper?ie.left:0),re.top<(ee._helper?ie.top:0)&&(ee.size.height=ee.size.height+(ee._helper?ee.position.top-ie.top:ee.position.top),ne&&(ee.size.width=ee.size.height*ee.aspectRatio,ae=!1),ee.position.top=ee._helper?ie.top:0),q=ee.containerElement.get(0)===ee.element.parent().get(0),Q=/relative|absolute/.test(ee.containerElement.css("position")),q&&Q?(ee.offset.left=ee.parentData.left+ee.position.left,ee.offset.top=ee.parentData.top+ee.position.top):(ee.offset.left=ee.element.offset().left,ee.offset.top=ee.element.offset().top),B=Math.abs(ee.sizeDiff.width+(ee._helper?ee.offset.left-se.left:ee.offset.left-ie.left)),z=Math.abs(ee.sizeDiff.height+(ee._helper?ee.offset.top-se.top:ee.offset.top-ie.top)),B+ee.size.width>=ee.parentData.width&&(ee.size.width=ee.parentData.width-B,ne&&(ee.size.height=ee.size.width/ee.aspectRatio,ae=!1)),z+ee.size.height>=ee.parentData.height&&(ee.size.height=ee.parentData.height-z,ne&&(ee.size.width=ee.size.height*ee.aspectRatio,ae=!1)),ae||(ee.position.left=ee.prevPosition.left,ee.position.top=ee.prevPosition.top,ee.size.width=ee.prevSize.width,ee.size.height=ee.prevSize.height)},stop:function(){var I=C(this).resizable("instance"),B=I.options,z=I.containerOffset,q=I.containerPosition,Q=I.containerElement,ee=C(I.helper),te=ee.offset(),ie=ee.outerWidth()-I.sizeDiff.width,re=ee.outerHeight()-I.sizeDiff.height;I._helper&&!B.animate&&/relative/.test(Q.css("position"))&&C(this).css({left:te.left-q.left-z.left,width:ie,height:re}),I._helper&&!B.animate&&/static/.test(Q.css("position"))&&C(this).css({left:te.left-q.left-z.left,width:ie,height:re})}}),C.ui.plugin.add("resizable","alsoResize",{start:function(){var I=C(this).resizable("instance"),B=I.options;C(B.alsoResize).each((function(){var B=C(this),z=I._calculateAdjustedElementDimensions(B);B.data("ui-resizable-alsoresize",{width:z.width,height:z.height,left:parseFloat(B.css("left")),top:parseFloat(B.css("top"))})}))},resize:function(I,B){var z=C(this).resizable("instance"),q=z.options,Q=z.originalSize,ee=z.originalPosition,te={height:z.size.height-Q.height||0,width:z.size.width-Q.width||0,top:z.position.top-ee.top||0,left:z.position.left-ee.left||0};C(q.alsoResize).each((function(){var I=C(this),z=C(this).data("ui-resizable-alsoresize"),q={},Q=I.parents(B.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(Q,(function(C,I){var B=(z[I]||0)+(te[I]||0);B&&B>=0&&(q[I]=B||null)})),I.css(q)}))},stop:function(){C(this).removeData("ui-resizable-alsoresize")}}),C.ui.plugin.add("resizable","ghost",{start:function(){var I=C(this).resizable("instance"),B=I.size;I.ghost=I.originalElement.clone(),I.ghost.css({opacity:.25,display:"block",position:"relative",height:B.height,width:B.width,margin:0,left:0,top:0}),I._addClass(I.ghost,"ui-resizable-ghost"),!0===C.uiBackCompat&&"string"==typeof I.options.ghost&&I.ghost.addClass(this.options.ghost),I.ghost.appendTo(I.helper)},resize:function(){var I=C(this).resizable("instance");I.ghost&&I.ghost.css({position:"relative",height:I.size.height,width:I.size.width})},stop:function(){var I=C(this).resizable("instance");I.ghost&&I.helper&&I.helper.get(0).removeChild(I.ghost.get(0))}}),C.ui.plugin.add("resizable","grid",{resize:function(){var I,B=C(this).resizable("instance"),z=B.options,q=B.size,Q=B.originalSize,ee=B.originalPosition,te=B.axis,ie="number"==typeof z.grid?[z.grid,z.grid]:z.grid,re=ie[0]||1,ne=ie[1]||1,se=Math.round((q.width-Q.width)/re)*re,oe=Math.round((q.height-Q.height)/ne)*ne,ae=Q.width+se,le=Q.height+oe,ue=z.maxWidth&&z.maxWidth<ae,de=z.maxHeight&&z.maxHeight<le,ce=z.minWidth&&z.minWidth>ae,he=z.minHeight&&z.minHeight>le;z.grid=ie,ce&&(ae+=re),he&&(le+=ne),ue&&(ae-=re),de&&(le-=ne),/^(se|s|e)$/.test(te)?(B.size.width=ae,B.size.height=le):/^(ne)$/.test(te)?(B.size.width=ae,B.size.height=le,B.position.top=ee.top-oe):/^(sw)$/.test(te)?(B.size.width=ae,B.size.height=le,B.position.left=ee.left-se):((le-ne<=0||ae-re<=0)&&(I=B._getPaddingPlusBorderDimensions(this)),le-ne>0?(B.size.height=le,B.position.top=ee.top-oe):(le=ne-I.height,B.size.height=le,B.position.top=ee.top+Q.height-le),ae-re>0?(B.size.width=ae,B.position.left=ee.left-se):(ae=re-I.width,B.size.width=ae,B.position.left=ee.left+Q.width-ae))}});C.ui.resizable;C.widget("ui.dialog",{version:"1.14.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(I){var B=C(this).css(I).offset().top;B<0&&C(this).css("top",I.top-B)}},resizable:!0,show:null,title:null,uiDialogTitleHeadingLevel:0,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&C.fn.draggable&&this._makeDraggable(),this.options.resizable&&C.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var I=this.options.appendTo;return I&&(I.jquery||I.nodeType)?C(I):this.document.find(I||"body").eq(0)},_destroy:function(){var C,I=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(C=I.parent.children().eq(I.index)).length&&C[0]!==this.element[0]?C.before(this.element):I.parent.append(this.element)},widget:function(){return this.uiDialog},disable:C.noop,enable:C.noop,close:function(I){var B=this;this._isOpen&&!1!==this._trigger("beforeClose",I)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||C(this.document[0].activeElement).trigger("blur"),this._hide(this.uiDialog,this.options.hide,(function(){B._trigger("close",I)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(I,B){var z=!1,q=this.uiDialog.siblings(".ui-front:visible").map((function(){return+C(this).css("z-index")})).get(),Q=Math.max.apply(null,q);return Q>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",Q+1),z=!0),z&&!B&&this._trigger("focus",I),z},open:function(){var I=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=C(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){I._focusTabbable(),I._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var C=this._focusedElement;C||(C=this.element.find("[autofocus]")),C.length||(C=this.element.find(":tabbable")),C.length||(C=this.uiDialogButtonPane.find(":tabbable")),C.length||(C=this.uiDialogTitlebarClose.filter(":tabbable")),C.length||(C=this.uiDialog),C.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var I=this.document[0].activeElement;this.uiDialog[0]===I||C.contains(this.uiDialog[0],I)||this._focusTabbable()},_keepFocus:function(C){C.preventDefault(),this._restoreTabbableFocus()},_createWrapper:function(){this.uiDialog=C("<div>").hide().attr({tabIndex:-1,role:"dialog","aria-modal":this.options.modal?"true":null}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(I){if(this.options.closeOnEscape&&!I.isDefaultPrevented()&&I.keyCode&&I.keyCode===C.ui.keyCode.ESCAPE)return I.preventDefault(),void this.close(I);if(I.keyCode===C.ui.keyCode.TAB&&!I.isDefaultPrevented()){var B=this.uiDialog.find(":tabbable"),z=B.first(),q=B.last();I.target!==q[0]&&I.target!==this.uiDialog[0]||I.shiftKey?I.target!==z[0]&&I.target!==this.uiDialog[0]||!I.shiftKey||(this._delay((function(){q.trigger("focus")})),I.preventDefault()):(this._delay((function(){z.trigger("focus")})),I.preventDefault())}},mousedown:function(C){this._moveToTop(C)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var I;this.uiDialogTitlebar=C("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(I){C(I.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=C("<button type='button'></button>").button({label:C("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(C){C.preventDefault(),this.close(C)}});var B=Number.isInteger(this.options.uiDialogTitleHeadingLevel)&&this.options.uiDialogTitleHeadingLevel>0&&this.options.uiDialogTitleHeadingLevel<=6?"h"+this.options.uiDialogTitleHeadingLevel:"span";I=C("<"+B+">").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(I,"ui-dialog-title"),this._title(I),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":I.attr("id")})},_title:function(C){this.options.title?C.text(this.options.title):C.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=C("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=C("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var I=this,B=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),C.isEmptyObject(B)||Array.isArray(B)&&!B.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(C.each(B,(function(B,z){var q,Q;z="function"==typeof z?{click:z,text:B}:z,z=C.extend({type:"button"},z),q=z.click,Q={icon:z.icon,iconPosition:z.iconPosition,showLabel:z.showLabel,icons:z.icons,text:z.text},delete z.click,delete z.icon,delete z.iconPosition,delete z.showLabel,delete z.icons,"boolean"==typeof z.text&&delete z.text,C("<button></button>",z).button(Q).appendTo(I.uiButtonSet).on("click",(function(){q.apply(I.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var I=this,B=this.options;function filteredUi(C){return{position:C.position,offset:C.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(B,z){I._addClass(C(this),"ui-dialog-dragging"),I._blockFrames(),I._trigger("dragStart",B,filteredUi(z))},drag:function(C,B){I._trigger("drag",C,filteredUi(B))},stop:function(z,q){var Q=q.offset.left-I.document.scrollLeft(),ee=q.offset.top-I.document.scrollTop();B.position={my:"left top",at:"left"+(Q>=0?"+":"")+Q+" top"+(ee>=0?"+":"")+ee,of:I.window},I._removeClass(C(this),"ui-dialog-dragging"),I._unblockFrames(),I._trigger("dragStop",z,filteredUi(q))}})},_makeResizable:function(){var I=this,B=this.options,z=B.resizable,q=this.uiDialog.css("position"),Q="string"==typeof z?z:"n,e,s,w,se,sw,ne,nw";function filteredUi(C){return{originalPosition:C.originalPosition,originalSize:C.originalSize,position:C.position,size:C.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:B.maxWidth,maxHeight:B.maxHeight,minWidth:B.minWidth,minHeight:this._minHeight(),handles:Q,start:function(B,z){I._addClass(C(this),"ui-dialog-resizing"),I._blockFrames(),I._trigger("resizeStart",B,filteredUi(z))},resize:function(C,B){I._trigger("resize",C,filteredUi(B))},stop:function(z,q){var Q=I.uiDialog.offset(),ee=Q.left-I.document.scrollLeft(),te=Q.top-I.document.scrollTop();B.height=I.uiDialog.height(),B.width=I.uiDialog.width(),B.position={my:"left top",at:"left"+(ee>=0?"+":"")+ee+" top"+(te>=0?"+":"")+te,of:I.window},I._removeClass(C(this),"ui-dialog-resizing"),I._unblockFrames(),I._trigger("resizeStop",z,filteredUi(q))}}).css("position",q)},_trackFocus:function(){this._on(this.widget(),{focusin:function(I){this._makeFocusTarget(),this._focusedElement=C(I.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var I=this._trackingInstances(),B=C.inArray(this,I);-1!==B&&I.splice(B,1)},_trackingInstances:function(){var C=this.document.data("ui-dialog-instances");return C||(C=[],this.document.data("ui-dialog-instances",C)),C},_minHeight:function(){var C=this.options;return"auto"===C.height?C.minHeight:Math.min(C.minHeight,C.height)},_position:function(){var C=this.uiDialog.is(":visible");C||this.uiDialog.show(),this.uiDialog.position(this.options.position),C||this.uiDialog.hide()},_setOptions:function(I){var B=this,z=!1,q={};C.each(I,(function(C,I){B._setOption(C,I),C in B.sizeRelatedOptions&&(z=!0),C in B.resizableRelatedOptions&&(q[C]=I)})),z&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",q)},_setOption:function(I,B){var z,q,Q=this.uiDialog;"disabled"!==I&&(this._super(I,B),"appendTo"===I&&this.uiDialog.appendTo(this._appendTo()),"buttons"===I&&this._createButtons(),"closeText"===I&&this.uiDialogTitlebarClose.button({label:C("<a>").text(""+this.options.closeText).html()}),"draggable"===I&&((z=Q.is(":data(ui-draggable)"))&&!B&&Q.draggable("destroy"),!z&&B&&this._makeDraggable()),"position"===I&&this._position(),"resizable"===I&&((q=Q.is(":data(ui-resizable)"))&&!B&&Q.resizable("destroy"),q&&"string"==typeof B&&Q.resizable("option","handles",B),q||!1===B||this._makeResizable()),"title"===I&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")),"modal"===I&&Q.attr("aria-modal",B?"true":null))},_size:function(){var C,I,B,z=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),z.minWidth>z.width&&(z.width=z.minWidth),C=this.uiDialog.css({height:"auto",width:z.width}).outerHeight(),I=Math.max(0,z.minHeight-C),B="number"==typeof z.maxHeight?Math.max(0,z.maxHeight-C):"none","auto"===z.height?this.element.css({minHeight:I,maxHeight:B,height:"auto"}):this.element.height(Math.max(0,z.height-C)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var I=C(this);return C("<div>").css({position:"absolute",width:I.outerWidth(),height:I.outerHeight()}).appendTo(I.parent()).offset(I.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(I){return!!C(I.target).closest(".ui-dialog").length||!!C(I.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var I=!0;this._delay((function(){I=!1})),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(C){if(!I){var B=this._trackingInstances()[0];B._allowInteraction(C)||(C.preventDefault(),B._focusTabbable())}}.bind(this)),this.overlay=C("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var C=this.document.data("ui-dialog-overlays")-1;C?this.document.data("ui-dialog-overlays",C):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!0===C.uiBackCompat&&C.widget("ui.dialog",C.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(C,I){"dialogClass"===C&&this.uiDialog.removeClass(this.options.dialogClass).addClass(I),this._superApply(arguments)}});C.ui.dialog;C.widget("ui.droppable",{version:"1.14.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var C,I=this.options,B=I.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof B?B:function(C){return C.is(B)},this.proportions=function(){if(!arguments.length)return C||(C={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});C=arguments[0]},this._addToManager(I.scope),I.addClasses&&this._addClass("ui-droppable")},_addToManager:function(I){C.ui.ddmanager.droppables[I]=C.ui.ddmanager.droppables[I]||[],C.ui.ddmanager.droppables[I].push(this)},_splice:function(C){for(var I=0;I<C.length;I++)C[I]===this&&C.splice(I,1)},_destroy:function(){var I=C.ui.ddmanager.droppables[this.options.scope];this._splice(I)},_setOption:function(I,B){if("accept"===I)this.accept="function"==typeof B?B:function(C){return C.is(B)};else if("scope"===I){var z=C.ui.ddmanager.droppables[this.options.scope];this._splice(z),this._addToManager(B)}this._super(I,B)},_activate:function(I){var B=C.ui.ddmanager.current;this._addActiveClass(),B&&this._trigger("activate",I,this.ui(B))},_deactivate:function(I){var B=C.ui.ddmanager.current;this._removeActiveClass(),B&&this._trigger("deactivate",I,this.ui(B))},_over:function(I){var B=C.ui.ddmanager.current;B&&(B.currentItem||B.element)[0]!==this.element[0]&&this.accept.call(this.element[0],B.currentItem||B.element)&&(this._addHoverClass(),this._trigger("over",I,this.ui(B)))},_out:function(I){var B=C.ui.ddmanager.current;B&&(B.currentItem||B.element)[0]!==this.element[0]&&this.accept.call(this.element[0],B.currentItem||B.element)&&(this._removeHoverClass(),this._trigger("out",I,this.ui(B)))},_drop:function(I,B){var z=B||C.ui.ddmanager.current,q=!1;return!(!z||(z.currentItem||z.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var B=C(this).droppable("instance");if(B.options.greedy&&!B.options.disabled&&B.options.scope===z.options.scope&&B.accept.call(B.element[0],z.currentItem||z.element)&&C.ui.intersect(z,C.extend(B,{offset:B.element.offset()}),B.options.tolerance,I))return q=!0,!1})),!q&&(!!this.accept.call(this.element[0],z.currentItem||z.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",I,this.ui(z)),this.element)))},ui:function(C){return{draggable:C.currentItem||C.element,helper:C.helper,position:C.position,offset:C.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),C.ui.intersect=function(){function isOverAxis(C,I,B){return C>=I&&C<I+B}return function(C,I,B,z){if(!I.offset)return!1;var q=(C.positionAbs||C.position.absolute).left+C.margins.left,Q=(C.positionAbs||C.position.absolute).top+C.margins.top,ee=q+C.helperProportions.width,te=Q+C.helperProportions.height,ie=I.offset.left,re=I.offset.top,ne=ie+I.proportions().width,se=re+I.proportions().height;switch(B){case"fit":return ie<=q&&ee<=ne&&re<=Q&&te<=se;case"intersect":return ie<q+C.helperProportions.width/2&&ee-C.helperProportions.width/2<ne&&re<Q+C.helperProportions.height/2&&te-C.helperProportions.height/2<se;case"pointer":return isOverAxis(z.pageY,re,I.proportions().height)&&isOverAxis(z.pageX,ie,I.proportions().width);case"touch":return(Q>=re&&Q<=se||te>=re&&te<=se||Q<re&&te>se)&&(q>=ie&&q<=ne||ee>=ie&&ee<=ne||q<ie&&ee>ne);default:return!1}}}(),C.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(I,B){var z,q,Q=C.ui.ddmanager.droppables[I.options.scope]||[],ee=B?B.type:null,te=(I.currentItem||I.element).find(":data(ui-droppable)").addBack();e:for(z=0;z<Q.length;z++)if(!(Q[z].options.disabled||I&&!Q[z].accept.call(Q[z].element[0],I.currentItem||I.element))){for(q=0;q<te.length;q++)if(te[q]===Q[z].element[0]){Q[z].proportions().height=0;continue e}Q[z].visible="none"!==Q[z].element.css("display"),Q[z].visible&&("mousedown"===ee&&Q[z]._activate.call(Q[z],B),Q[z].offset=Q[z].element.offset(),Q[z].proportions({width:Q[z].element[0].offsetWidth,height:Q[z].element[0].offsetHeight}))}},drop:function(I,B){var z=!1;return C.each((C.ui.ddmanager.droppables[I.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&C.ui.intersect(I,this,this.options.tolerance,B)&&(z=this._drop.call(this,B)||z),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],I.currentItem||I.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,B)))})),z},dragStart:function(I,B){I.element.parentsUntil("body").on("scroll.droppable",(function(){I.options.refreshPositions||C.ui.ddmanager.prepareOffsets(I,B)}))},drag:function(I,B){I.options.refreshPositions&&C.ui.ddmanager.prepareOffsets(I,B),C.each(C.ui.ddmanager.droppables[I.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var z,q,Q,ee=C.ui.intersect(I,this,this.options.tolerance,B),te=!ee&&this.isover?"isout":ee&&!this.isover?"isover":null;te&&(this.options.greedy&&(q=this.options.scope,(Q=this.element.parents(":data(ui-droppable)").filter((function(){return C(this).droppable("instance").options.scope===q}))).length&&((z=C(Q[0]).droppable("instance")).greedyChild="isover"===te)),z&&"isover"===te&&(z.isover=!1,z.isout=!0,z._out.call(z,B)),this[te]=!0,this["isout"===te?"isover":"isout"]=!1,this["isover"===te?"_over":"_out"].call(this,B),z&&"isout"===te&&(z.isout=!1,z.isover=!0,z._over.call(z,B)))}}))},dragStop:function(I,B){I.element.parentsUntil("body").off("scroll.droppable"),I.options.refreshPositions||C.ui.ddmanager.prepareOffsets(I,B)}},!0===C.uiBackCompat&&C.widget("ui.droppable",C.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});C.ui.droppable,C.widget("ui.progressbar",{version:"1.14.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=C("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(C){if(void 0===C)return this.options.value;this.options.value=this._constrainedValue(C),this._refreshValue()},_constrainedValue:function(C){return void 0===C&&(C=this.options.value),this.indeterminate=!1===C,"number"!=typeof C&&(C=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,C))},_setOptions:function(C){var I=C.value;delete C.value,this._super(C),this.options.value=this._constrainedValue(I),this._refreshValue()},_setOption:function(C,I){"max"===C&&(I=Math.max(this.min,I)),this._super(C,I)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",C),this._toggleClass(null,"ui-state-disabled",!!C)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var I=this.options.value,B=this._percentage();this.valueDiv.toggle(this.indeterminate||I>this.min).width(B.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,I===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=C("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":I}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==I&&(this.oldValue=I,this._trigger("change")),I===this.options.max&&this._trigger("complete")}}),C.widget("ui.selectable",C.ui.mouse,{version:"1.14.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var I=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){I.elementPos=C(I.element[0]).offset(),I.selectees=C(I.options.filter,I.element[0]),I._addClass(I.selectees,"ui-selectee"),I.selectees.each((function(){var B=C(this),z=B.offset(),q={left:z.left-I.elementPos.left,top:z.top-I.elementPos.top};C.data(this,"selectable-item",{element:this,$element:B,left:q.left,top:q.top,right:q.left+B.outerWidth(),bottom:q.top+B.outerHeight(),startselected:!1,selected:B.hasClass("ui-selected"),selecting:B.hasClass("ui-selecting"),unselecting:B.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=C("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(I){var B=this,z=this.options;this.opos=[I.pageX,I.pageY],this.elementPos=C(this.element[0]).offset(),this.options.disabled||(this.selectees=C(z.filter,this.element[0]),this._trigger("start",I),C(z.appendTo).append(this.helper),this.helper.css({left:I.pageX,top:I.pageY,width:0,height:0}),z.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var z=C.data(this,"selectable-item");z.startselected=!0,I.metaKey||I.ctrlKey||(B._removeClass(z.$element,"ui-selected"),z.selected=!1,B._addClass(z.$element,"ui-unselecting"),z.unselecting=!0,B._trigger("unselecting",I,{unselecting:z.element}))})),C(I.target).parents().addBack().each((function(){var z,q=C.data(this,"selectable-item");if(q)return z=!I.metaKey&&!I.ctrlKey||!q.$element.hasClass("ui-selected"),B._removeClass(q.$element,z?"ui-unselecting":"ui-selected")._addClass(q.$element,z?"ui-selecting":"ui-unselecting"),q.unselecting=!z,q.selecting=z,q.selected=z,z?B._trigger("selecting",I,{selecting:q.element}):B._trigger("unselecting",I,{unselecting:q.element}),!1})))},_mouseDrag:function(I){if(this.dragged=!0,!this.options.disabled){var B,z=this,q=this.options,Q=this.opos[0],ee=this.opos[1],te=I.pageX,ie=I.pageY;return Q>te&&(B=te,te=Q,Q=B),ee>ie&&(B=ie,ie=ee,ee=B),this.helper.css({left:Q,top:ee,width:te-Q,height:ie-ee}),this.selectees.each((function(){var B=C.data(this,"selectable-item"),re=!1,ne={};B&&B.element!==z.element[0]&&(ne.left=B.left+z.elementPos.left,ne.right=B.right+z.elementPos.left,ne.top=B.top+z.elementPos.top,ne.bottom=B.bottom+z.elementPos.top,"touch"===q.tolerance?re=!(ne.left>te||ne.right<Q||ne.top>ie||ne.bottom<ee):"fit"===q.tolerance&&(re=ne.left>Q&&ne.right<te&&ne.top>ee&&ne.bottom<ie),re?(B.selected&&(z._removeClass(B.$element,"ui-selected"),B.selected=!1),B.unselecting&&(z._removeClass(B.$element,"ui-unselecting"),B.unselecting=!1),B.selecting||(z._addClass(B.$element,"ui-selecting"),B.selecting=!0,z._trigger("selecting",I,{selecting:B.element}))):(B.selecting&&((I.metaKey||I.ctrlKey)&&B.startselected?(z._removeClass(B.$element,"ui-selecting"),B.selecting=!1,z._addClass(B.$element,"ui-selected"),B.selected=!0):(z._removeClass(B.$element,"ui-selecting"),B.selecting=!1,B.startselected&&(z._addClass(B.$element,"ui-unselecting"),B.unselecting=!0),z._trigger("unselecting",I,{unselecting:B.element}))),B.selected&&(I.metaKey||I.ctrlKey||B.startselected||(z._removeClass(B.$element,"ui-selected"),B.selected=!1,z._addClass(B.$element,"ui-unselecting"),B.unselecting=!0,z._trigger("unselecting",I,{unselecting:B.element})))))})),!1}},_mouseStop:function(I){var B=this;return this.dragged=!1,C(".ui-unselecting",this.element[0]).each((function(){var z=C.data(this,"selectable-item");B._removeClass(z.$element,"ui-unselecting"),z.unselecting=!1,z.startselected=!1,B._trigger("unselected",I,{unselected:z.element})})),C(".ui-selecting",this.element[0]).each((function(){var z=C.data(this,"selectable-item");B._removeClass(z.$element,"ui-selecting")._addClass(z.$element,"ui-selected"),z.selecting=!1,z.selected=!0,z.startselected=!0,B._trigger("selected",I,{selected:z.element})})),this._trigger("stop",I),this.helper.remove(),!1}}),C.widget("ui.selectmenu",[C.ui.formResetMixin,{version:"1.14.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var I=this.element.uniqueId().attr("id");this.ids={element:I,button:I+"-button",menu:I+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=C()},_drawButton:function(){var I,B=this,z=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(C){this.button.trigger("focus"),C.preventDefault()}}),this.element.hide(),this.button=C("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),I=C("<span>").appendTo(this.button),this._addClass(I,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(z).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){B._rendered||B._refreshMenu()}))},_drawMenu:function(){var I=this;this.menu=C("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=C("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(C,B){C.preventDefault(),I._select(B.item.data("ui-selectmenu-item"),C)},focus:function(C,B){var z=B.item.data("ui-selectmenu-item");null!=I.focusIndex&&z.index!==I.focusIndex&&(I._trigger("focus",C,{item:z}),I.isOpen||I._select(z,C)),I.focusIndex=z.index,I.button.attr("aria-activedescendant",I.menuItems.eq(z.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var C,I=this.element.find("option");this.menu.empty(),this._parseOptions(I),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,I.length&&(C=this._getSelectedItem(),this.menuInstance.focus(null,C),this._setAria(C.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(C){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",C)))},_position:function(){this.menuWrap.position(C.extend({of:this.button},this.options.position))},close:function(C){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",C))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(I){var B=C("<span>");return this._setText(B,I.label),this._addClass(B,"ui-selectmenu-text"),B},_renderMenu:function(I,B){var z=this,q="";C.each(B,(function(B,Q){var ee;Q.optgroup!==q&&(ee=C("<li>",{text:Q.optgroup}),z._addClass(ee,"ui-selectmenu-optgroup","ui-menu-divider"+(Q.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),ee.appendTo(I),q=Q.optgroup),z._renderItemData(I,Q)}))},_renderItemData:function(C,I){return this._renderItem(C,I).data("ui-selectmenu-item",I)},_renderItem:function(I,B){var z=C("<li>"),q=C("<div>",{title:B.element.attr("title")});return B.disabled&&this._addClass(z,null,"ui-state-disabled"),B.hidden?z.prop("hidden",!0):this._setText(q,B.label),z.append(q).appendTo(I)},_setText:function(C,I){I?C.text(I):C.html("&#160;")},_move:function(C,I){var B,z,q=".ui-menu-item";this.isOpen?B=this.menuItems.eq(this.focusIndex).parent("li"):(B=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),q+=":not(.ui-state-disabled)"),(z="first"===C||"last"===C?B["first"===C?"prevAll":"nextAll"](q).eq(-1):B[C+"All"](q).eq(0)).length&&this.menuInstance.focus(I,z)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(C){this[this.isOpen?"close":"open"](C)},_setSelection:function(){var C;this.range&&((C=window.getSelection()).removeAllRanges(),C.addRange(this.range))},_documentClick:{mousedown:function(I){this.isOpen&&(C(I.target).closest(".ui-selectmenu-menu, #"+CSS.escape(this.ids.button)).length||this.close(I))}},_buttonEvents:{mousedown:function(){var C=window.getSelection();C.rangeCount&&(this.range=C.getRangeAt(0))},click:function(C){this._setSelection(),this._toggle(C)},keydown:function(I){var B=!0;switch(I.keyCode){case C.ui.keyCode.TAB:case C.ui.keyCode.ESCAPE:this.close(I),B=!1;break;case C.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(I);break;case C.ui.keyCode.UP:I.altKey?this._toggle(I):this._move("prev",I);break;case C.ui.keyCode.DOWN:I.altKey?this._toggle(I):this._move("next",I);break;case C.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(I):this._toggle(I);break;case C.ui.keyCode.LEFT:this._move("prev",I);break;case C.ui.keyCode.RIGHT:this._move("next",I);break;case C.ui.keyCode.HOME:case C.ui.keyCode.PAGE_UP:this._move("first",I);break;case C.ui.keyCode.END:case C.ui.keyCode.PAGE_DOWN:this._move("last",I);break;default:this.menu.trigger(I),B=!1}B&&I.preventDefault()}},_selectFocusedItem:function(C){var I=this.menuItems.eq(this.focusIndex).parent("li");I.hasClass("ui-state-disabled")||this._select(I.data("ui-selectmenu-item"),C)},_select:function(C,I){var B=this.element[0].selectedIndex;this.element[0].selectedIndex=C.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(C)),this._setAria(C),this._trigger("select",I,{item:C}),C.index!==B&&this._trigger("change",I,{item:C}),this.close(I)},_setAria:function(C){var I=this.menuItems.eq(C.index).attr("id");this.button.attr({"aria-labelledby":I,"aria-activedescendant":I}),this.menu.attr("aria-activedescendant",I)},_setOption:function(C,I){if("icons"===C){var B=this.button.find("span.ui-icon");this._removeClass(B,null,this.options.icons.button)._addClass(B,null,I.button)}this._super(C,I),"appendTo"===C&&this.menuWrap.appendTo(this._appendTo()),"width"===C&&this._resizeButton()},_setOptionDisabled:function(C){this._super(C),this.menuInstance.option("disabled",C),this.button.attr("aria-disabled",C),this._toggleClass(this.button,null,"ui-state-disabled",C),this.element.prop("disabled",C),C?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var I=this.options.appendTo;return I&&(I=I.jquery||I.nodeType?C(I):this.document.find(I).eq(0)),I&&I[0]||(I=this.element.closest(".ui-front, dialog")),I.length||(I=this.document[0].body),I},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var C=this.options.width;!1!==C?(null===C&&(C=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(C)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()))},_getCreateOptions:function(){var C=this._super();return C.disabled=this.element.prop("disabled"),C},_parseOptions:function(I){var B=this,z=[];I.each((function(I,q){z.push(B._parseOption(C(q),I))})),this.items=z},_parseOption:function(C,I){var B=C.parent("optgroup");return{element:C,index:I,value:C.val(),label:C.text(),hidden:B.prop("hidden")||C.prop("hidden"),optgroup:B.attr("label")||"",disabled:B.prop("disabled")||C.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),C.widget("ui.slider",C.ui.mouse,{version:"1.14.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var I,B,z=this.options,q=this.element.find(".ui-slider-handle"),Q="<span tabindex='0'></span>",ee=[];for(B=z.values&&z.values.length||1,q.length>B&&(q.slice(B).remove(),q=q.slice(0,B)),I=q.length;I<B;I++)ee.push(Q);this.handles=q.add(C(ee.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(I){C(this).data("ui-slider-handle-index",I).attr("tabIndex",0)}))},_createRange:function(){var I=this.options;I.range?(!0===I.range&&(I.values?I.values.length&&2!==I.values.length?I.values=[I.values[0],I.values[0]]:Array.isArray(I.values)&&(I.values=I.values.slice(0)):I.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=C("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==I.range&&"max"!==I.range||this._addClass(this.range,"ui-slider-range-"+I.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(I){var B,z,q,Q,ee,te,ie,re=this,ne=this.options;return!ne.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),B={x:I.pageX,y:I.pageY},z=this._normValueFromMouse(B),q=this._valueMax()-this._valueMin()+1,this.handles.each((function(I){var B=Math.abs(z-re.values(I));(q>B||q===B&&(I===re._lastChangedValue||re.values(I)===ne.min))&&(q=B,Q=C(this),ee=I)})),!1!==this._start(I,ee)&&(this._mouseSliding=!0,this._handleIndex=ee,this._addClass(Q,null,"ui-state-active"),Q.trigger("focus"),te=Q.offset(),ie=!C(I.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=ie?{left:0,top:0}:{left:I.pageX-te.left-Q.width()/2,top:I.pageY-te.top-Q.height()/2-(parseInt(Q.css("borderTopWidth"),10)||0)-(parseInt(Q.css("borderBottomWidth"),10)||0)+(parseInt(Q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(I,ee,z),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(C){var I={x:C.pageX,y:C.pageY},B=this._normValueFromMouse(I);return this._slide(C,this._handleIndex,B),!1},_mouseStop:function(C){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(C,this._handleIndex),this._change(C,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(C){var I,B,z,q,Q;return"horizontal"===this.orientation?(I=this.elementSize.width,B=C.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(I=this.elementSize.height,B=C.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(z=B/I)>1&&(z=1),z<0&&(z=0),"vertical"===this.orientation&&(z=1-z),q=this._valueMax()-this._valueMin(),Q=this._valueMin()+z*q,this._trimAlignValue(Q)},_uiHash:function(C,I,B){var z={handle:this.handles[C],handleIndex:C,value:void 0!==I?I:this.value()};return this._hasMultipleValues()&&(z.value=void 0!==I?I:this.values(C),z.values=B||this.values()),z},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(C,I){return this._trigger("start",C,this._uiHash(I))},_slide:function(C,I,B){var z,q=this.value(),Q=this.values();this._hasMultipleValues()&&(z=this.values(I?0:1),q=this.values(I),2===this.options.values.length&&!0===this.options.range&&(B=0===I?Math.min(z,B):Math.max(z,B)),Q[I]=B),B!==q&&!1!==this._trigger("slide",C,this._uiHash(I,B,Q))&&(this._hasMultipleValues()?this.values(I,B):this.value(B))},_stop:function(C,I){this._trigger("stop",C,this._uiHash(I))},_change:function(C,I){this._keySliding||this._mouseSliding||(this._lastChangedValue=I,this._trigger("change",C,this._uiHash(I)))},value:function(C){return arguments.length?(this.options.value=this._trimAlignValue(C),this._refreshValue(),void this._change(null,0)):this._value()},values:function(C,I){var B,z,q;if(arguments.length>1)return this.options.values[C]=this._trimAlignValue(I),this._refreshValue(),void this._change(null,C);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(C):this.value();for(B=this.options.values,z=arguments[0],q=0;q<B.length;q+=1)B[q]=this._trimAlignValue(z[q]),this._change(null,q);this._refreshValue()},_setOption:function(C,I){var B,z=0;switch("range"===C&&!0===this.options.range&&("min"===I?(this.options.value=this._values(0),this.options.values=null):"max"===I&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(z=this.options.values.length),this._super(C,I),C){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(I),this.handles.css("horizontal"===I?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),B=z-1;B>=0;B--)this._change(null,B);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(C){this._super(C),this._toggleClass(null,"ui-state-disabled",!!C)},_value:function(){var C=this.options.value;return C=this._trimAlignValue(C)},_values:function(C){var I,B,z;if(arguments.length)return I=this.options.values[C],I=this._trimAlignValue(I);if(this._hasMultipleValues()){for(B=this.options.values.slice(),z=0;z<B.length;z+=1)B[z]=this._trimAlignValue(B[z]);return B}return[]},_trimAlignValue:function(C){if(C<=this._valueMin())return this._valueMin();if(C>=this._valueMax())return this._valueMax();var I=this.options.step>0?this.options.step:1,B=(C-this._valueMin())%I,z=C-B;return 2*Math.abs(B)>=I&&(z+=B>0?I:-I),parseFloat(z.toFixed(5))},_calculateNewMax:function(){var C=this.options.max,I=this._valueMin(),B=this.options.step;(C=Math.round((C-I)/B)*B+I)>this.options.max&&(C-=B),this.max=parseFloat(C.toFixed(this._precision()))},_precision:function(){var C=this._precisionOf(this.options.step);return null!==this.options.min&&(C=Math.max(C,this._precisionOf(this.options.min))),C},_precisionOf:function(C){var I=C.toString(),B=I.indexOf(".");return-1===B?0:I.length-B-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(C){"vertical"===C&&this.range.css({width:"",left:""}),"horizontal"===C&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var I,B,z,q,Q,ee=this.options.range,te=this.options,ie=this,re=!this._animateOff&&te.animate,ne={};this._hasMultipleValues()?this.handles.each((function(z){B=(ie.values(z)-ie._valueMin())/(ie._valueMax()-ie._valueMin())*100,ne["horizontal"===ie.orientation?"left":"bottom"]=B+"%",C(this).stop(1,1)[re?"animate":"css"](ne,te.animate),!0===ie.options.range&&("horizontal"===ie.orientation?(0===z&&ie.range.stop(1,1)[re?"animate":"css"]({left:B+"%"},te.animate),1===z&&ie.range[re?"animate":"css"]({width:B-I+"%"},{queue:!1,duration:te.animate})):(0===z&&ie.range.stop(1,1)[re?"animate":"css"]({bottom:B+"%"},te.animate),1===z&&ie.range[re?"animate":"css"]({height:B-I+"%"},{queue:!1,duration:te.animate}))),I=B})):(z=this.value(),q=this._valueMin(),Q=this._valueMax(),B=Q!==q?(z-q)/(Q-q)*100:0,ne["horizontal"===this.orientation?"left":"bottom"]=B+"%",this.handle.stop(1,1)[re?"animate":"css"](ne,te.animate),"min"===ee&&"horizontal"===this.orientation&&this.range.stop(1,1)[re?"animate":"css"]({width:B+"%"},te.animate),"max"===ee&&"horizontal"===this.orientation&&this.range.stop(1,1)[re?"animate":"css"]({width:100-B+"%"},te.animate),"min"===ee&&"vertical"===this.orientation&&this.range.stop(1,1)[re?"animate":"css"]({height:B+"%"},te.animate),"max"===ee&&"vertical"===this.orientation&&this.range.stop(1,1)[re?"animate":"css"]({height:100-B+"%"},te.animate))},_handleEvents:{keydown:function(I){var B,z,q,Q=C(I.target).data("ui-slider-handle-index");switch(I.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(I.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(C(I.target),null,"ui-state-active"),!1===this._start(I,Q)))return}switch(q=this.options.step,B=z=this._hasMultipleValues()?this.values(Q):this.value(),I.keyCode){case C.ui.keyCode.HOME:z=this._valueMin();break;case C.ui.keyCode.END:z=this._valueMax();break;case C.ui.keyCode.PAGE_UP:z=this._trimAlignValue(B+(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.PAGE_DOWN:z=this._trimAlignValue(B-(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(B===this._valueMax())return;z=this._trimAlignValue(B+q);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(B===this._valueMin())return;z=this._trimAlignValue(B-q)}this._slide(I,Q,z)},keyup:function(I){var B=C(I.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(I,B),this._change(I,B),this._removeClass(C(I.target),null,"ui-state-active"))}}}),C.widget("ui.sortable",C.ui.mouse,{version:"1.14.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(C,I,B){return C>=I&&C<I+B},_isFloating:function(C){return/left|right/.test(C.css("float"))||/inline|table-cell/.test(C.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(C,I){this._super(C,I),"handle"===C&&this._setHandleClassName()},_setHandleClassName:function(){var I=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),C.each(this.items,(function(){I._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var C=this.items.length-1;C>=0;C--)this.items[C].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(I,B){var z=null,q=!1,Q=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(I),C(I.target).parents().each((function(){if(C.data(this,Q.widgetName+"-item")===Q)return z=C(this),!1})),C.data(I.target,Q.widgetName+"-item")===Q&&(z=C(I.target)),!!z&&(!(this.options.handle&&!B&&(C(this.options.handle,z).find("*").addBack().each((function(){this===I.target&&(q=!0)})),!q))&&(this.currentItem=z,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(I,B,z){var q,Q,ee=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=C("parent"!==ee.appendTo?ee.appendTo:this.currentItem.parent()),this.helper=this._createHelper(I),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},C.extend(this.offset,{click:{left:I.pageX-this.offset.left,top:I.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),ee.cursorAt&&this._adjustOffsetFromHelper(ee.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),C.extend(this.offset,{parent:this._getParentOffset()}),ee.containment&&this._setContainment(),ee.cursor&&"auto"!==ee.cursor&&(Q=this.document.find("body"),this._storedStylesheet=C("<style>*{ cursor: "+ee.cursor+" !important; }</style>").appendTo(Q)),ee.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",ee.zIndex)),ee.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",ee.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",I,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!z)for(q=this.containers.length-1;q>=0;q--)this.containers[q]._trigger("activate",I,this._uiHash(this));return C.ui.ddmanager&&(C.ui.ddmanager.current=this),C.ui.ddmanager&&!ee.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,I),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(I),this.originalPageX=I.pageX,this.originalPageY=I.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(I),!0},_scroll:function(C){var I=this.options,B=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-C.pageY<I.scrollSensitivity?this.scrollParent[0].scrollTop=B=this.scrollParent[0].scrollTop+I.scrollSpeed:C.pageY-this.overflowOffset.top<I.scrollSensitivity&&(this.scrollParent[0].scrollTop=B=this.scrollParent[0].scrollTop-I.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-C.pageX<I.scrollSensitivity?this.scrollParent[0].scrollLeft=B=this.scrollParent[0].scrollLeft+I.scrollSpeed:C.pageX-this.overflowOffset.left<I.scrollSensitivity&&(this.scrollParent[0].scrollLeft=B=this.scrollParent[0].scrollLeft-I.scrollSpeed)):(C.pageY-this.document.scrollTop()<I.scrollSensitivity?B=this.document.scrollTop(this.document.scrollTop()-I.scrollSpeed):this.window.height()-(C.pageY-this.document.scrollTop())<I.scrollSensitivity&&(B=this.document.scrollTop(this.document.scrollTop()+I.scrollSpeed)),C.pageX-this.document.scrollLeft()<I.scrollSensitivity?B=this.document.scrollLeft(this.document.scrollLeft()-I.scrollSpeed):this.window.width()-(C.pageX-this.document.scrollLeft())<I.scrollSensitivity&&(B=this.document.scrollLeft(this.document.scrollLeft()+I.scrollSpeed))),B},_mouseDrag:function(I){var B,z,q,Q,ee=this.options;for(this.position=this._generatePosition(I),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),ee.scroll&&!1!==this._scroll(I)&&(this._refreshItemPositions(!0),C.ui.ddmanager&&!ee.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,I)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},B=this.items.length-1;B>=0;B--)if(q=(z=this.items[B]).item[0],(Q=this._intersectsWithPointer(z))&&z.instance===this.currentContainer&&!(q===this.currentItem[0]||this.placeholder[1===Q?"next":"prev"]()[0]===q||C.contains(this.placeholder[0],q)||"semi-dynamic"===this.options.type&&C.contains(this.element[0],q))){if(this.direction=1===Q?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(z))break;this._rearrange(I,z),this._trigger("change",I,this._uiHash());break}return this._contactContainers(I),C.ui.ddmanager&&C.ui.ddmanager.drag(this,I),this._trigger("sort",I,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(I,B){if(I){if(C.ui.ddmanager&&!this.options.dropBehaviour&&C.ui.ddmanager.drop(this,I),this.options.revert){var z=this,q=this.placeholder.offset(),Q=this.options.axis,ee={};Q&&"x"!==Q||(ee.left=q.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),Q&&"y"!==Q||(ee.top=q.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,C(this.helper).animate(ee,parseInt(this.options.revert,10)||500,(function(){z._clear(I)}))}else this._clear(I,B);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new C.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var I=this.containers.length-1;I>=0;I--)this.containers[I]._trigger("deactivate",null,this._uiHash(this)),this.containers[I].containerCache.over&&(this.containers[I]._trigger("out",null,this._uiHash(this)),this.containers[I].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),C.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?C(this.domPosition.prev).after(this.currentItem):C(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(I){var B=this._getItemsAsjQuery(I&&I.connected),z=[];return I=I||{},C(B).each((function(){var B=(C(I.item||this).attr(I.attribute||"id")||"").match(I.expression||/(.+)[\-=_](.+)/);B&&z.push((I.key||B[1]+"[]")+"="+(I.key&&I.expression?B[1]:B[2]))})),!z.length&&I.key&&z.push(I.key+"="),z.join("&")},toArray:function(I){var B=this._getItemsAsjQuery(I&&I.connected),z=[];return I=I||{},B.each((function(){z.push(C(I.item||this).attr(I.attribute||"id")||"")})),z},_intersectsWith:function(C){var I=this.positionAbs.left,B=I+this.helperProportions.width,z=this.positionAbs.top,q=z+this.helperProportions.height,Q=C.left,ee=Q+C.width,te=C.top,ie=te+C.height,re=this.offset.click.top,ne=this.offset.click.left,se="x"===this.options.axis||z+re>te&&z+re<ie,oe="y"===this.options.axis||I+ne>Q&&I+ne<ee,ae=se&&oe;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>C[this.floating?"width":"height"]?ae:Q<I+this.helperProportions.width/2&&B-this.helperProportions.width/2<ee&&te<z+this.helperProportions.height/2&&q-this.helperProportions.height/2<ie},_intersectsWithPointer:function(C){var I,B,z="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,C.top,C.height),q="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,C.left,C.width);return!(!z||!q)&&(I=this.dragDirection.vertical,B=this.dragDirection.horizontal,this.floating?"right"===B||"down"===I?2:1:I&&("down"===I?2:1))},_intersectsWithSides:function(C){var I=this._isOverAxis(this.positionAbs.top+this.offset.click.top,C.top+C.height/2,C.height),B=this._isOverAxis(this.positionAbs.left+this.offset.click.left,C.left+C.width/2,C.width),z=this.dragDirection.vertical,q=this.dragDirection.horizontal;return this.floating&&q?"right"===q&&B||"left"===q&&!B:z&&("down"===z&&I||"up"===z&&!I)},_getDragVerticalDirection:function(){var C=this.positionAbs.top-this.lastPositionAbs.top;return 0!==C&&(C>0?"down":"up")},_getDragHorizontalDirection:function(){var C=this.positionAbs.left-this.lastPositionAbs.left;return 0!==C&&(C>0?"right":"left")},refresh:function(C){return this._refreshItems(C),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var C=this.options;return C.connectWith.constructor===String?[C.connectWith]:C.connectWith},_getItemsAsjQuery:function(I){var B,z,q,Q,ee=[],te=[],ie=this._connectWith();if(ie&&I)for(B=ie.length-1;B>=0;B--)for(z=(q=C(ie[B],this.document[0])).length-1;z>=0;z--)(Q=C.data(q[z],this.widgetFullName))&&Q!==this&&!Q.options.disabled&&te.push(["function"==typeof Q.options.items?Q.options.items.call(Q.element):C(Q.options.items,Q.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),Q]);function addItems(){ee.push(this)}for(te.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):C(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),B=te.length-1;B>=0;B--)te[B][0].each(addItems);return C(ee)},_removeCurrentsFromItems:function(){var I=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=C.grep(this.items,(function(C){for(var B=0;B<I.length;B++)if(I[B]===C.item[0])return!1;return!0}))},_refreshItems:function(I){this.items=[],this.containers=[this];var B,z,q,Q,ee,te,ie,re,ne=this.items,se=[["function"==typeof this.options.items?this.options.items.call(this.element[0],I,{item:this.currentItem}):C(this.options.items,this.element),this]],oe=this._connectWith();if(oe&&this.ready)for(B=oe.length-1;B>=0;B--)for(z=(q=C(oe[B],this.document[0])).length-1;z>=0;z--)(Q=C.data(q[z],this.widgetFullName))&&Q!==this&&!Q.options.disabled&&(se.push(["function"==typeof Q.options.items?Q.options.items.call(Q.element[0],I,{item:this.currentItem}):C(Q.options.items,Q.element),Q]),this.containers.push(Q));for(B=se.length-1;B>=0;B--)for(ee=se[B][1],z=0,re=(te=se[B][0]).length;z<re;z++)(ie=C(te[z])).data(this.widgetName+"-item",ee),ne.push({item:ie,instance:ee,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(I){var B,z,q,Q;for(B=this.items.length-1;B>=0;B--)z=this.items[B],this.currentContainer&&z.instance!==this.currentContainer&&z.item[0]!==this.currentItem[0]||(q=this.options.toleranceElement?C(this.options.toleranceElement,z.item):z.item,I||(z.width=q.outerWidth(),z.height=q.outerHeight()),Q=q.offset(),z.left=Q.left,z.top=Q.top)},refreshPositions:function(C){var I,B;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(C),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(I=this.containers.length-1;I>=0;I--)B=this.containers[I].element.offset(),this.containers[I].containerCache.left=B.left,this.containers[I].containerCache.top=B.top,this.containers[I].containerCache.width=this.containers[I].element.outerWidth(),this.containers[I].containerCache.height=this.containers[I].element.outerHeight();return this},_createPlaceholder:function(I){var B,z,q=(I=I||this).options;q.placeholder&&q.placeholder.constructor!==String||(B=q.placeholder,z=I.currentItem[0].nodeName.toLowerCase(),q.placeholder={element:function(){var q=C("<"+z+">",I.document[0]);return I._addClass(q,"ui-sortable-placeholder",B||I.currentItem[0].className)._removeClass(q,"ui-sortable-helper"),"tbody"===z?I._createTrPlaceholder(I.currentItem.find("tr").eq(0),C("<tr>",I.document[0]).appendTo(q)):"tr"===z?I._createTrPlaceholder(I.currentItem,q):"img"===z&&q.attr("src",I.currentItem.attr("src")),B||q.css("visibility","hidden"),q},update:function(C,Q){B&&!q.forcePlaceholderSize||(Q.height()&&(!q.forcePlaceholderSize||"tbody"!==z&&"tr"!==z)||Q.height(I.currentItem.innerHeight()-parseInt(I.currentItem.css("paddingTop")||0,10)-parseInt(I.currentItem.css("paddingBottom")||0,10)),Q.width()||Q.width(I.currentItem.innerWidth()-parseInt(I.currentItem.css("paddingLeft")||0,10)-parseInt(I.currentItem.css("paddingRight")||0,10)))}}),I.placeholder=C(q.placeholder.element.call(I.element,I.currentItem)),I.currentItem.after(I.placeholder),q.placeholder.update(I,I.placeholder)},_createTrPlaceholder:function(I,B){var z=this;I.children().each((function(){C("<td>&#160;</td>",z.document[0]).attr("colspan",C(this).attr("colspan")||1).appendTo(B)}))},_contactContainers:function(I){var B,z,q,Q,ee,te,ie,re,ne,se,oe=null,ae=null;for(B=this.containers.length-1;B>=0;B--)if(!C.contains(this.currentItem[0],this.containers[B].element[0]))if(this._intersectsWith(this.containers[B].containerCache)){if(oe&&C.contains(this.containers[B].element[0],oe.element[0]))continue;oe=this.containers[B],ae=B}else this.containers[B].containerCache.over&&(this.containers[B]._trigger("out",I,this._uiHash(this)),this.containers[B].containerCache.over=0);if(oe)if(1===this.containers.length)this.containers[ae].containerCache.over||(this.containers[ae]._trigger("over",I,this._uiHash(this)),this.containers[ae].containerCache.over=1);else{for(q=1e4,Q=null,ee=(ne=oe.floating||this._isFloating(this.currentItem))?"left":"top",te=ne?"width":"height",se=ne?"pageX":"pageY",z=this.items.length-1;z>=0;z--)C.contains(this.containers[ae].element[0],this.items[z].item[0])&&this.items[z].item[0]!==this.currentItem[0]&&(ie=this.items[z].item.offset()[ee],re=!1,I[se]-ie>this.items[z][te]/2&&(re=!0),Math.abs(I[se]-ie)<q&&(q=Math.abs(I[se]-ie),Q=this.items[z],this.direction=re?"up":"down"));if(!Q&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[ae])return void(this.currentContainer.containerCache.over||(this.containers[ae]._trigger("over",I,this._uiHash()),this.currentContainer.containerCache.over=1));Q?this._rearrange(I,Q,null,!0):this._rearrange(I,null,this.containers[ae].element,!0),this._trigger("change",I,this._uiHash()),this.containers[ae]._trigger("change",I,this._uiHash(this)),this.currentContainer=this.containers[ae],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[ae]._trigger("over",I,this._uiHash(this)),this.containers[ae].containerCache.over=1}},_createHelper:function(I){var B=this.options,z="function"==typeof B.helper?C(B.helper.apply(this.element[0],[I,this.currentItem])):"clone"===B.helper?this.currentItem.clone():this.currentItem;return z.parents("body").length||this.appendTo[0].appendChild(z[0]),z[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),z[0].style.width&&!B.forceHelperSize||z.width(this.currentItem.width()),z[0].style.height&&!B.forceHelperSize||z.height(this.currentItem.height()),z},_adjustOffsetFromHelper:function(C){"string"==typeof C&&(C=C.split(" ")),Array.isArray(C)&&(C={left:+C[0],top:+C[1]||0}),"left"in C&&(this.offset.click.left=C.left+this.margins.left),"right"in C&&(this.offset.click.left=this.helperProportions.width-C.right+this.margins.left),"top"in C&&(this.offset.click.top=C.top+this.margins.top),"bottom"in C&&(this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var I=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(I.left+=this.scrollParent.scrollLeft(),I.top+=this.scrollParent.scrollTop()),this.offsetParent[0]===this.document[0].body&&(I={top:0,left:0}),{top:I.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:I.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var C=this.currentItem.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var I,B,z,q=this.options;"parent"===q.containment&&(q.containment=this.helper[0].parentNode),"document"!==q.containment&&"window"!==q.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===q.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===q.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(q.containment)||(I=C(q.containment)[0],B=C(q.containment).offset(),z="hidden"!==C(I).css("overflow"),this.containment=[B.left+(parseInt(C(I).css("borderLeftWidth"),10)||0)+(parseInt(C(I).css("paddingLeft"),10)||0)-this.margins.left,B.top+(parseInt(C(I).css("borderTopWidth"),10)||0)+(parseInt(C(I).css("paddingTop"),10)||0)-this.margins.top,B.left+(z?Math.max(I.scrollWidth,I.offsetWidth):I.offsetWidth)-(parseInt(C(I).css("borderLeftWidth"),10)||0)-(parseInt(C(I).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,B.top+(z?Math.max(I.scrollHeight,I.offsetHeight):I.offsetHeight)-(parseInt(C(I).css("borderTopWidth"),10)||0)-(parseInt(C(I).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(I,B){B||(B=this.position);var z="absolute"===I?1:-1,q="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,Q=/(html|body)/i.test(q[0].tagName);return{top:B.top+this.offset.relative.top*z+this.offset.parent.top*z-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():Q?0:q.scrollTop())*z,left:B.left+this.offset.relative.left*z+this.offset.parent.left*z-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():Q?0:q.scrollLeft())*z}},_generatePosition:function(I){var B,z,q=this.options,Q=I.pageX,ee=I.pageY,te="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,ie=/(html|body)/i.test(te[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(I.pageX-this.offset.click.left<this.containment[0]&&(Q=this.containment[0]+this.offset.click.left),I.pageY-this.offset.click.top<this.containment[1]&&(ee=this.containment[1]+this.offset.click.top),I.pageX-this.offset.click.left>this.containment[2]&&(Q=this.containment[2]+this.offset.click.left),I.pageY-this.offset.click.top>this.containment[3]&&(ee=this.containment[3]+this.offset.click.top)),q.grid&&(B=this.originalPageY+Math.round((ee-this.originalPageY)/q.grid[1])*q.grid[1],ee=this.containment?B-this.offset.click.top>=this.containment[1]&&B-this.offset.click.top<=this.containment[3]?B:B-this.offset.click.top>=this.containment[1]?B-q.grid[1]:B+q.grid[1]:B,z=this.originalPageX+Math.round((Q-this.originalPageX)/q.grid[0])*q.grid[0],Q=this.containment?z-this.offset.click.left>=this.containment[0]&&z-this.offset.click.left<=this.containment[2]?z:z-this.offset.click.left>=this.containment[0]?z-q.grid[0]:z+q.grid[0]:z)),{top:ee-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():ie?0:te.scrollTop()),left:Q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():ie?0:te.scrollLeft())}},_rearrange:function(C,I,B,z){B?B[0].appendChild(this.placeholder[0]):I.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?I.item[0]:I.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var q=this.counter;this._delay((function(){q===this.counter&&this.refreshPositions(!z)}))},_clear:function(C,I){this.reverting=!1;var B,z=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(B in this._storedCSS)"auto"!==this._storedCSS[B]&&"static"!==this._storedCSS[B]||(this._storedCSS[B]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function delayEvent(C,I,B){return function(z){B._trigger(C,z,I._uiHash(I))}}for(this.fromOutside&&!I&&z.push((function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||I||z.push((function(C){this._trigger("update",C,this._uiHash())})),this!==this.currentContainer&&(I||(z.push((function(C){this._trigger("remove",C,this._uiHash())})),z.push(function(C){return function(I){C._trigger("receive",I,this._uiHash(this))}}.call(this,this.currentContainer)),z.push(function(C){return function(I){C._trigger("update",I,this._uiHash(this))}}.call(this,this.currentContainer)))),B=this.containers.length-1;B>=0;B--)I||z.push(delayEvent("deactivate",this,this.containers[B])),this.containers[B].containerCache.over&&(z.push(delayEvent("out",this,this.containers[B])),this.containers[B].containerCache.over=0);if(this._storedStylesheet&&(this._storedStylesheet.remove(),this._storedStylesheet=null),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,I||this._trigger("beforeStop",C,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!I){for(B=0;B<z.length;B++)z[B].call(this,C);this._trigger("stop",C,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===C.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(I){var B=I||this;return{helper:B.helper,placeholder:B.placeholder||C([]),position:B.position,originalPosition:B.originalPosition,offset:B.positionAbs,item:B.currentItem,sender:I?I.element:null}}});function spinnerModifier(C){return function(){var I=this.element.val();C.apply(this,arguments),this._refresh(),I!==this.element.val()&&this._trigger("change")}}C.widget("ui.spinner",{version:"1.14.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var I=this._super(),B=this.element;return C.each(["min","max","step"],(function(C,z){var q=B.attr(z);null!=q&&q.length&&(I[z]=q)})),I},_events:{keydown:function(C){this._start(C)&&this._keydown(C)&&C.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(C){this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",C)},mousewheel:function(C,I){var B=this.document[0].activeElement;if(this.element[0]===B&&I){if(!this.spinning&&!this._start(C))return!1;this._spin((I>0?1:-1)*this.options.step,C),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(C)}),100),C.preventDefault()}},"mousedown .ui-spinner-button":function(I){var B;function checkFocus(){this.element[0]===this.document[0].activeElement||(this.element.trigger("focus"),this.previous=B)}B=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),I.preventDefault(),checkFocus.call(this),!1!==this._start(I)&&this._repeat(null,C(I.currentTarget).hasClass("ui-spinner-up")?1:-1,I)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(I){if(C(I.currentTarget).hasClass("ui-state-active"))return!1!==this._start(I)&&void this._repeat(null,C(I.currentTarget).hasClass("ui-spinner-up")?1:-1,I)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(I){var B=this.options,z=C.ui.keyCode;switch(I.keyCode){case z.UP:return this._repeat(null,1,I),!0;case z.DOWN:return this._repeat(null,-1,I),!0;case z.PAGE_UP:return this._repeat(null,B.page,I),!0;case z.PAGE_DOWN:return this._repeat(null,-B.page,I),!0}return!1},_start:function(C){return!(!this.spinning&&!1===this._trigger("start",C))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(C,I,B){C=C||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,I,B)}),C),this._spin(I*this.options.step,B)},_spin:function(C,I){var B=this.value()||0;this.counter||(this.counter=1),B=this._adjustValue(B+C*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",I,{value:B})||(this._value(B),this.counter++)},_increment:function(C){var I=this.options.incremental;return I?"function"==typeof I?I(C):Math.floor(C*C*C/5e4-C*C/500+17*C/200+1):1},_precision:function(){var C=this._precisionOf(this.options.step);return null!==this.options.min&&(C=Math.max(C,this._precisionOf(this.options.min))),C},_precisionOf:function(C){var I=C.toString(),B=I.indexOf(".");return-1===B?0:I.length-B-1},_adjustValue:function(C){var I,B,z=this.options;return B=C-(I=null!==z.min?z.min:0),C=I+(B=Math.round(B/z.step)*z.step),C=parseFloat(C.toFixed(this._precision())),null!==z.max&&C>z.max?z.max:null!==z.min&&C<z.min?z.min:C},_stop:function(C){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",C))},_setOption:function(C,I){var B,z,q;if("culture"===C||"numberFormat"===C)return B=this._parse(this.element.val()),this.options[C]=I,void this.element.val(this._format(B));"max"!==C&&"min"!==C&&"step"!==C||"string"==typeof I&&(I=this._parse(I)),"icons"===C&&(z=this.buttons.first().find(".ui-icon"),this._removeClass(z,null,this.options.icons.up),this._addClass(z,null,I.up),q=this.buttons.last().find(".ui-icon"),this._removeClass(q,null,this.options.icons.down),this._addClass(q,null,I.down)),this._super(C,I)},_setOptionDisabled:function(C){this._super(C),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!C),this.element.prop("disabled",!!C),this.buttons.button(C?"disable":"enable")},_setOptions:spinnerModifier((function(C){this._super(C)})),_parse:function(C){return"string"==typeof C&&""!==C&&(C=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(C,10,this.options.culture):+C),""===C||isNaN(C)?null:C},_format:function(C){return""===C?"":window.Globalize&&this.options.numberFormat?Globalize.format(C,this.options.numberFormat,this.options.culture):C},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var C=this.value();return null!==C&&C===this._adjustValue(C)},_value:function(C,I){var B;""!==C&&null!==(B=this._parse(C))&&(I||(B=this._adjustValue(B)),C=this._format(B)),this.element.val(C),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:spinnerModifier((function(C){this._stepUp(C)})),_stepUp:function(C){this._start()&&(this._spin((C||1)*this.options.step),this._stop())},stepDown:spinnerModifier((function(C){this._stepDown(C)})),_stepDown:function(C){this._start()&&(this._spin((C||1)*-this.options.step),this._stop())},pageUp:spinnerModifier((function(C){this._stepUp((C||1)*this.options.page)})),pageDown:spinnerModifier((function(C){this._stepDown((C||1)*this.options.page)})),value:function(C){if(!arguments.length)return this._parse(this.element.val());spinnerModifier(this._value).call(this,C)},widget:function(){return this.uiSpinner}}),!0===C.uiBackCompat&&C.widget("ui.spinner",C.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});C.ui.spinner;C.widget("ui.tabs",{version:"1.14.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var C=/#.*$/;return function(I){var B,z;B=I.href.replace(C,""),z=location.href.replace(C,"");try{B=decodeURIComponent(B)}catch(C){}try{z=decodeURIComponent(z)}catch(C){}return I.hash.length>1&&B===z}}(),_create:function(){var I=this,B=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,B.collapsible),this._processTabs(),B.active=this._initialActive(),Array.isArray(B.disabled)&&(B.disabled=C.uniqueSort(B.disabled.concat(C.map(this.tabs.filter(".ui-state-disabled"),(function(C){return I.tabs.index(C)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(B.active):this.active=C(),this._refresh(),this.active.length&&this.load(B.active)},_initialActive:function(){var I=this.options.active,B=this.options.collapsible,z=decodeURIComponent(location.hash.substring(1));return null===I&&(z&&this.tabs.each((function(B,q){if(C(q).attr("aria-controls")===z)return I=B,!1})),null===I&&(I=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==I&&-1!==I||(I=!!this.tabs.length&&0)),!1!==I&&-1===(I=this.tabs.index(this.tabs.eq(I)))&&(I=!B&&0),!B&&!1===I&&this.anchors.length&&(I=0),I},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):C()}},_tabKeydown:function(I){var B=C(this.document[0].activeElement).closest("li"),z=this.tabs.index(B),q=!0;if(!this._handlePageNav(I)){switch(I.keyCode){case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:z++;break;case C.ui.keyCode.UP:case C.ui.keyCode.LEFT:q=!1,z--;break;case C.ui.keyCode.END:z=this.anchors.length-1;break;case C.ui.keyCode.HOME:z=0;break;case C.ui.keyCode.SPACE:return I.preventDefault(),clearTimeout(this.activating),void this._activate(z);case C.ui.keyCode.ENTER:return I.preventDefault(),clearTimeout(this.activating),void this._activate(z!==this.options.active&&z);default:return}I.preventDefault(),clearTimeout(this.activating),z=this._focusNextTab(z,q),I.ctrlKey||I.metaKey||(B.attr("aria-selected","false"),this.tabs.eq(z).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",z)}),this.delay))}},_panelKeydown:function(I){this._handlePageNav(I)||I.ctrlKey&&I.keyCode===C.ui.keyCode.UP&&(I.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(I){return I.altKey&&I.keyCode===C.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):I.altKey&&I.keyCode===C.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(I,B){var z=this.tabs.length-1;function constrain(){return I>z&&(I=0),I<0&&(I=z),I}for(;-1!==C.inArray(constrain(),this.options.disabled);)I=B?I+1:I-1;return I},_focusNextTab:function(C,I){return C=this._findNextTab(C,I),this.tabs.eq(C).trigger("focus"),C},_setOption:function(C,I){"active"!==C?(this._super(C,I),"collapsible"===C&&(this._toggleClass("ui-tabs-collapsible",null,I),I||!1!==this.options.active||this._activate(0)),"event"===C&&this._setupEvents(I),"heightStyle"===C&&this._setupHeightStyle(I)):this._activate(I)},refresh:function(){var I=this.options,B=this.tablist.children(":has(a[href])");I.disabled=C.map(B.filter(".ui-state-disabled"),(function(C){return B.index(C)})),this._processTabs(),!1!==I.active&&this.anchors.length?this.active.length&&!C.contains(this.tablist[0],this.active[0])?this.tabs.length===I.disabled.length?(I.active=!1,this.active=C()):this._activate(this._findNextTab(Math.max(0,I.active-1),!1)):I.active=this.tabs.index(this.active):(I.active=!1,this.active=C()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var I=this,B=this.tabs,z=this.anchors,q=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(I){C(this).is(".ui-state-disabled")&&I.preventDefault()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return C("a",this)[0]})).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=C(),this.anchors.each((function(B,z){var q,Q,ee,te=C(z).uniqueId().attr("id"),ie=C(z).closest("li"),re=ie.attr("aria-controls");I._isLocal(z)?(ee=(q=decodeURIComponent(z.hash)).substring(1),Q=I.element.find("#"+CSS.escape(ee))):(q="#"+(ee=ie.attr("aria-controls")||C({}).uniqueId()[0].id),(Q=I.element.find(q)).length||(Q=I._createPanel(ee)).insertAfter(I.panels[B-1]||I.tablist),Q.attr("aria-live","polite")),Q.length&&(I.panels=I.panels.add(Q)),re&&ie.data("ui-tabs-aria-controls",re),ie.attr({"aria-controls":ee,"aria-labelledby":te}),Q.attr("aria-labelledby",te)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),B&&(this._off(B.not(this.tabs)),this._off(z.not(this.anchors)),this._off(q.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(I){return C("<div>").attr("id",I).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(I){var B,z,q;for(Array.isArray(I)&&(I.length?I.length===this.anchors.length&&(I=!0):I=!1),q=0;z=this.tabs[q];q++)B=C(z),!0===I||-1!==C.inArray(q,I)?(B.attr("aria-disabled","true"),this._addClass(B,null,"ui-state-disabled")):(B.removeAttr("aria-disabled"),this._removeClass(B,null,"ui-state-disabled"));this.options.disabled=I,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===I)},_setupEvents:function(I){var B={};I&&C.each(I.split(" "),(function(C,I){B[I]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(C){C.preventDefault()}}),this._on(this.anchors,B),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(I){var B,z=this.element.parent();"fill"===I?(B=z.height(),B-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var I=C(this),z=I.css("position");"absolute"!==z&&"fixed"!==z&&(B-=I.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){B-=C(this).outerHeight(!0)})),this.panels.each((function(){C(this).height(Math.max(0,B-C(this).innerHeight()+C(this).height()))})).css("overflow","auto")):"auto"===I&&(B=0,this.panels.each((function(){B=Math.max(B,C(this).height("").height())})).height(B))},_eventHandler:function(I){var B=this.options,z=this.active,q=C(I.currentTarget).closest("li"),Q=q[0]===z[0],ee=Q&&B.collapsible,te=ee?C():this._getPanelForTab(q),ie=z.length?this._getPanelForTab(z):C(),re={oldTab:z,oldPanel:ie,newTab:ee?C():q,newPanel:te};I.preventDefault(),q.hasClass("ui-state-disabled")||q.hasClass("ui-tabs-loading")||this.running||Q&&!B.collapsible||!1===this._trigger("beforeActivate",I,re)||(B.active=!ee&&this.tabs.index(q),this.active=Q?C():q,this.xhr&&this.xhr.abort(),ie.length||te.length||C.error("jQuery UI Tabs: Mismatching fragment identifier."),te.length&&this.load(this.tabs.index(q),I),this._toggle(I,re))},_toggle:function(I,B){var z=this,q=B.newPanel,Q=B.oldPanel;function complete(){z.running=!1,z._trigger("activate",I,B)}function show(){z._addClass(B.newTab.closest("li"),"ui-tabs-active","ui-state-active"),q.length&&z.options.show?z._show(q,z.options.show,complete):(q.show(),complete())}this.running=!0,Q.length&&this.options.hide?this._hide(Q,this.options.hide,(function(){z._removeClass(B.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),show()})):(this._removeClass(B.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),Q.hide(),show()),Q.attr("aria-hidden","true"),B.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),q.length&&Q.length?B.oldTab.attr("tabIndex",-1):q.length&&this.tabs.filter((function(){return 0===C(this).attr("tabIndex")})).attr("tabIndex",-1),q.attr("aria-hidden","false"),B.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(I){var B,z=this._findActive(I);z[0]!==this.active[0]&&(z.length||(z=this.active),B=z.find(".ui-tabs-anchor")[0],this._eventHandler({target:B,currentTarget:B,preventDefault:C.noop}))},_findActive:function(I){return!1===I?C():this.tabs.eq(I)},_getIndex:function(C){return"string"==typeof C&&(C=this.anchors.index(this.anchors.filter("[href$='"+CSS.escape(C)+"']"))),C},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){C.data(this,"ui-tabs-destroy")?C(this).remove():C(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var I=C(this),B=I.data("ui-tabs-aria-controls");B?I.attr("aria-controls",B).removeData("ui-tabs-aria-controls"):I.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(I){var B=this.options.disabled;!1!==B&&(void 0===I?B=!1:(I=this._getIndex(I),B=Array.isArray(B)?C.map(B,(function(C){return C!==I?C:null})):C.map(this.tabs,(function(C,B){return B!==I?B:null}))),this._setOptionDisabled(B))},disable:function(I){var B=this.options.disabled;if(!0!==B){if(void 0===I)B=!0;else{if(I=this._getIndex(I),-1!==C.inArray(I,B))return;B=Array.isArray(B)?C.merge([I],B).sort():[I]}this._setOptionDisabled(B)}},load:function(I,B){I=this._getIndex(I);var z=this,q=this.tabs.eq(I),Q=q.find(".ui-tabs-anchor"),ee=this._getPanelForTab(q),te={tab:q,panel:ee},complete=function(C,I){"abort"===I&&z.panels.stop(!1,!0),z._removeClass(q,"ui-tabs-loading"),ee.removeAttr("aria-busy"),C===z.xhr&&delete z.xhr};this._isLocal(Q[0])||(this.xhr=C.ajax(this._ajaxSettings(Q,B,te)),"canceled"!==this.xhr.statusText&&(this._addClass(q,"ui-tabs-loading"),ee.attr("aria-busy","true"),this.xhr.done((function(C,I,q){ee.html(C),z._trigger("load",B,te),complete(q,I)})).fail((function(C,I){complete(C,I)}))))},_ajaxSettings:function(I,B,z){var q=this;return{url:I.attr("href"),beforeSend:function(I,Q){return q._trigger("beforeLoad",B,C.extend({jqXHR:I,ajaxSettings:Q},z))}}},_getPanelForTab:function(I){var B=C(I).attr("aria-controls");return this.element.find("#"+CSS.escape(B))}}),!0===C.uiBackCompat&&C.widget("ui.tabs",C.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});C.ui.tabs;C.widget("ui.tooltip",{version:"1.14.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var I=C(this).attr("title");return C("<a>").text(I).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(C,I){var B=(C.attr("aria-describedby")||"").split(/\s+/);B.push(I),C.data("ui-tooltip-id",I).attr("aria-describedby",String.prototype.trim.call(B.join(" ")))},_removeDescribedBy:function(I){var B=I.data("ui-tooltip-id"),z=(I.attr("aria-describedby")||"").split(/\s+/),q=C.inArray(B,z);-1!==q&&z.splice(q,1),I.removeData("ui-tooltip-id"),(z=String.prototype.trim.call(z.join(" ")))?I.attr("aria-describedby",z):I.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=C("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=C([])},_setOption:function(I,B){var z=this;this._super(I,B),"content"===I&&C.each(this.tooltips,(function(C,I){z._updateContent(I.element)}))},_setOptionDisabled:function(C){this[C?"_disable":"_enable"]()},_disable:function(){var I=this;C.each(this.tooltips,(function(B,z){var q=C.Event("blur");q.target=q.currentTarget=z.element[0],I.close(q,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var I=C(this);if(I.is("[title]"))return I.data("ui-tooltip-title",I.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var I=C(this);I.data("ui-tooltip-title")&&I.attr("title",I.data("ui-tooltip-title"))})),this.disabledTitles=C([])},open:function(I){var B=this,z=C(I?I.target:this.element).closest(this.options.items);z.length&&!z.data("ui-tooltip-id")&&(z.attr("title")&&z.data("ui-tooltip-title",z.attr("title")),z.data("ui-tooltip-open",!0),I&&"mouseover"===I.type&&z.parents().each((function(){var I,z=C(this);z.data("ui-tooltip-open")&&((I=C.Event("blur")).target=I.currentTarget=this,B.close(I,!0)),z.attr("title")&&(z.uniqueId(),B.parents[this.id]={element:this,title:z.attr("title")},z.attr("title",""))})),this._registerCloseHandlers(I,z),this._updateContent(z,I))},_updateContent:function(C,I){var B,z=this.options.content,q=this,Q=I?I.type:null;if("string"==typeof z||z.nodeType||z.jquery)return this._open(I,C,z);(B=z.call(C[0],(function(B){C.data("ui-tooltip-open")&&(I&&(I.type=Q),q._open(I,C,B))})))&&this._open(I,C,B)},_open:function(I,B,z){var q,Q,ee,te,ie=C.extend({},this.options.position);function position(C){ie.of=C,Q.is(":hidden")||Q.position(ie)}z&&((q=this._find(B))?q.tooltip.find(".ui-tooltip-content").html(z):(B.is("[title]")&&(I&&"mouseover"===I.type?B.attr("title",""):B.removeAttr("title")),q=this._tooltip(B),Q=q.tooltip,this._addDescribedBy(B,Q.attr("id")),Q.find(".ui-tooltip-content").html(z),this.liveRegion.children().hide(),(te=C("<div>").html(Q.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),te.removeAttr("id").find("[id]").removeAttr("id"),te.appendTo(this.liveRegion),this.options.track&&I&&/^mouse/.test(I.type)?(this._on(this.document,{mousemove:position}),position(I)):Q.position(C.extend({of:B},this.options.position)),Q.hide(),this._show(Q,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(ee=this.delayedShow=setInterval((function(){Q.is(":visible")&&(position(ie.of),clearInterval(ee))}),13)),this._trigger("open",I,{tooltip:Q})))},_registerCloseHandlers:function(I,B){var z={keyup:function(I){if(I.keyCode===C.ui.keyCode.ESCAPE){var z=C.Event(I);z.currentTarget=B[0],this.close(z,!0)}}};B[0]!==this.element[0]&&(z.remove=function(){var C=this._find(B);C&&this._removeTooltip(C.tooltip)}),I&&"mouseover"!==I.type||(z.mouseleave="close"),I&&"focusin"!==I.type||(z.focusout="close"),this._on(!0,B,z)},close:function(I){var B,z=this,q=C(I?I.currentTarget:this.element),Q=this._find(q);Q?(B=Q.tooltip,Q.closing||(clearInterval(this.delayedShow),q.data("ui-tooltip-title")&&!q.attr("title")&&q.attr("title",q.data("ui-tooltip-title")),this._removeDescribedBy(q),Q.hiding=!0,B.stop(!0),this._hide(B,this.options.hide,(function(){z._removeTooltip(C(this))})),q.removeData("ui-tooltip-open"),this._off(q,"mouseleave focusout keyup"),q[0]!==this.element[0]&&this._off(q,"remove"),this._off(this.document,"mousemove"),I&&"mouseleave"===I.type&&C.each(this.parents,(function(I,B){C(B.element).attr("title",B.title),delete z.parents[I]})),Q.closing=!0,this._trigger("close",I,{tooltip:B}),Q.hiding||(Q.closing=!1))):q.removeData("ui-tooltip-open")},_tooltip:function(I){var B=C("<div>").attr("role","tooltip"),z=C("<div>").appendTo(B),q=B.uniqueId().attr("id");return this._addClass(z,"ui-tooltip-content"),this._addClass(B,"ui-tooltip","ui-widget ui-widget-content"),B.appendTo(this._appendTo(I)),this.tooltips[q]={element:I,tooltip:B}},_find:function(C){var I=C.data("ui-tooltip-id");return I?this.tooltips[I]:null},_removeTooltip:function(C){clearInterval(this.delayedShow),C.remove(),delete this.tooltips[C.attr("id")]},_appendTo:function(C){var I=C.closest(".ui-front, dialog");return I.length||(I=this.document[0].body),I},_destroy:function(){var I=this;C.each(this.tooltips,(function(B,z){var q=C.Event("blur"),Q=z.element;q.target=q.currentTarget=Q[0],I.close(q,!0),C("#"+B).remove(),Q.data("ui-tooltip-title")&&(Q.attr("title")||Q.attr("title",Q.data("ui-tooltip-title")),Q.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!0===C.uiBackCompat&&C.widget("ui.tooltip",C.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var C=this._superApply(arguments);return this.options.tooltipClass&&C.tooltip.addClass(this.options.tooltipClass),C}});C.ui.tooltip},void 0===(Q="function"==typeof z?z.apply(I,q):z)||(C.exports=Q)}()},4692:function(C,I){var B;!function(I,B){"use strict";"object"==typeof C.exports?C.exports=I.document?B(I,!0):function(C){if(!C.document)throw new Error("jQuery requires a window with a document");return B(C)}:B(I)}("undefined"!=typeof window?window:this,(function(z,q){"use strict";var Q=[],ee=Object.getPrototypeOf,te=Q.slice,ie=Q.flat?function(C){return Q.flat.call(C)}:function(C){return Q.concat.apply([],C)},re=Q.push,ne=Q.indexOf,se={},oe=se.toString,ae=se.hasOwnProperty,le=ae.toString,ue=le.call(Object),de={},ce=function isFunction(C){return"function"==typeof C&&"number"!=typeof C.nodeType&&"function"!=typeof C.item},he=function isWindow(C){return null!=C&&C===C.window},fe=z.document,pe={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(C,I,B){var z,q,Q=(B=B||fe).createElement("script");if(Q.text=C,I)for(z in pe)(q=I[z]||I.getAttribute&&I.getAttribute(z))&&Q.setAttribute(z,q);B.head.appendChild(Q).parentNode.removeChild(Q)}function toType(C){return null==C?C+"":"object"==typeof C||"function"==typeof C?se[oe.call(C)]||"object":typeof C}var me="3.7.1",ge=/HTML$/i,jQuery=function(C,I){return new jQuery.fn.init(C,I)};function isArrayLike(C){var I=!!C&&"length"in C&&C.length,B=toType(C);return!ce(C)&&!he(C)&&("array"===B||0===I||"number"==typeof I&&I>0&&I-1 in C)}function nodeName(C,I){return C.nodeName&&C.nodeName.toLowerCase()===I.toLowerCase()}jQuery.fn=jQuery.prototype={jquery:me,constructor:jQuery,length:0,toArray:function(){return te.call(this)},get:function(C){return null==C?te.call(this):C<0?this[C+this.length]:this[C]},pushStack:function(C){var I=jQuery.merge(this.constructor(),C);return I.prevObject=this,I},each:function(C){return jQuery.each(this,C)},map:function(C){return this.pushStack(jQuery.map(this,(function(I,B){return C.call(I,B,I)})))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,(function(C,I){return(I+1)%2})))},odd:function(){return this.pushStack(jQuery.grep(this,(function(C,I){return I%2})))},eq:function(C){var I=this.length,B=+C+(C<0?I:0);return this.pushStack(B>=0&&B<I?[this[B]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:Q.sort,splice:Q.splice},jQuery.extend=jQuery.fn.extend=function(){var C,I,B,z,q,Q,ee=arguments[0]||{},te=1,ie=arguments.length,re=!1;for("boolean"==typeof ee&&(re=ee,ee=arguments[te]||{},te++),"object"==typeof ee||ce(ee)||(ee={}),te===ie&&(ee=this,te--);te<ie;te++)if(null!=(C=arguments[te]))for(I in C)z=C[I],"__proto__"!==I&&ee!==z&&(re&&z&&(jQuery.isPlainObject(z)||(q=Array.isArray(z)))?(B=ee[I],Q=q&&!Array.isArray(B)?[]:q||jQuery.isPlainObject(B)?B:{},q=!1,ee[I]=jQuery.extend(re,Q,z)):void 0!==z&&(ee[I]=z));return ee},jQuery.extend({expando:"jQuery"+(me+Math.random()).replace(/\D/g,""),isReady:!0,error:function(C){throw new Error(C)},noop:function(){},isPlainObject:function(C){var I,B;return!(!C||"[object Object]"!==oe.call(C))&&(!(I=ee(C))||"function"==typeof(B=ae.call(I,"constructor")&&I.constructor)&&le.call(B)===ue)},isEmptyObject:function(C){var I;for(I in C)return!1;return!0},globalEval:function(C,I,B){DOMEval(C,{nonce:I&&I.nonce},B)},each:function(C,I){var B,z=0;if(isArrayLike(C))for(B=C.length;z<B&&!1!==I.call(C[z],z,C[z]);z++);else for(z in C)if(!1===I.call(C[z],z,C[z]))break;return C},text:function(C){var I,B="",z=0,q=C.nodeType;if(!q)for(;I=C[z++];)B+=jQuery.text(I);return 1===q||11===q?C.textContent:9===q?C.documentElement.textContent:3===q||4===q?C.nodeValue:B},makeArray:function(C,I){var B=I||[];return null!=C&&(isArrayLike(Object(C))?jQuery.merge(B,"string"==typeof C?[C]:C):re.call(B,C)),B},inArray:function(C,I,B){return null==I?-1:ne.call(I,C,B)},isXMLDoc:function(C){var I=C&&C.namespaceURI,B=C&&(C.ownerDocument||C).documentElement;return!ge.test(I||B&&B.nodeName||"HTML")},merge:function(C,I){for(var B=+I.length,z=0,q=C.length;z<B;z++)C[q++]=I[z];return C.length=q,C},grep:function(C,I,B){for(var z=[],q=0,Q=C.length,ee=!B;q<Q;q++)!I(C[q],q)!==ee&&z.push(C[q]);return z},map:function(C,I,B){var z,q,Q=0,ee=[];if(isArrayLike(C))for(z=C.length;Q<z;Q++)null!=(q=I(C[Q],Q,B))&&ee.push(q);else for(Q in C)null!=(q=I(C[Q],Q,B))&&ee.push(q);return ie(ee)},guid:1,support:de}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=Q[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(C,I){se["[object "+I+"]"]=I.toLowerCase()}));var ve=Q.pop,ye=Q.sort,be=Q.splice,Ce="[\\x20\\t\\r\\n\\f]",we=new RegExp("^"+Ce+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ce+"+$","g");jQuery.contains=function(C,I){var B=I&&I.parentNode;return C===B||!(!B||1!==B.nodeType||!(C.contains?C.contains(B):C.compareDocumentPosition&&16&C.compareDocumentPosition(B)))};var _e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function fcssescape(C,I){return I?"\0"===C?"�":C.slice(0,-1)+"\\"+C.charCodeAt(C.length-1).toString(16)+" ":"\\"+C}jQuery.escapeSelector=function(C){return(C+"").replace(_e,fcssescape)};var Se=fe,xe=re;!function(){var C,I,B,q,ee,ie,re,se,oe,le,ue=xe,ce=jQuery.expando,he=0,fe=0,pe=createCache(),me=createCache(),ge=createCache(),_e=createCache(),sortOrder=function(C,I){return C===I&&(ee=!0),0},ke="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Te="(?:\\\\[\\da-fA-F]{1,6}"+Ce+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Me="\\["+Ce+"*("+Te+")(?:"+Ce+"*([*^$|!~]?=)"+Ce+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Te+"))|)"+Ce+"*\\]",Re=":("+Te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Me+")*)|.*)\\)|)",Ee=new RegExp(Ce+"+","g"),Pe=new RegExp("^"+Ce+"*,"+Ce+"*"),Ie=new RegExp("^"+Ce+"*([>+~]|"+Ce+")"+Ce+"*"),Ne=new RegExp(Ce+"|>"),Ae=new RegExp(Re),De=new RegExp("^"+Te+"$"),Fe={ID:new RegExp("^#("+Te+")"),CLASS:new RegExp("^\\.("+Te+")"),TAG:new RegExp("^("+Te+"|[*])"),ATTR:new RegExp("^"+Me),PSEUDO:new RegExp("^"+Re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ce+"*(even|odd|(([+-]|)(\\d*)n|)"+Ce+"*(?:([+-]|)"+Ce+"*(\\d+)|))"+Ce+"*\\)|)","i"),bool:new RegExp("^(?:"+ke+")$","i"),needsContext:new RegExp("^"+Ce+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ce+"*((?:-\\d)?\\d*)"+Ce+"*\\)|)(?=[^-]|$)","i")},Oe=/^(?:input|select|textarea|button)$/i,Be=/^h\d$/i,Le=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,je=/[+~]/,$e=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ce+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(C,I){var B="0x"+C.slice(1)-65536;return I||(B<0?String.fromCharCode(B+65536):String.fromCharCode(B>>10|55296,1023&B|56320))},unloadHandler=function(){setDocument()},Ve=addCombinator((function(C){return!0===C.disabled&&nodeName(C,"fieldset")}),{dir:"parentNode",next:"legend"});try{ue.apply(Q=te.call(Se.childNodes),Se.childNodes),Q[Se.childNodes.length].nodeType}catch(C){ue={apply:function(C,I){xe.apply(C,te.call(I))},call:function(C){xe.apply(C,te.call(arguments,1))}}}function find(C,I,B,z){var q,Q,ee,te,re,ne,ae,le=I&&I.ownerDocument,he=I?I.nodeType:9;if(B=B||[],"string"!=typeof C||!C||1!==he&&9!==he&&11!==he)return B;if(!z&&(setDocument(I),I=I||ie,se)){if(11!==he&&(re=Le.exec(C)))if(q=re[1]){if(9===he){if(!(ee=I.getElementById(q)))return B;if(ee.id===q)return ue.call(B,ee),B}else if(le&&(ee=le.getElementById(q))&&find.contains(I,ee)&&ee.id===q)return ue.call(B,ee),B}else{if(re[2])return ue.apply(B,I.getElementsByTagName(C)),B;if((q=re[3])&&I.getElementsByClassName)return ue.apply(B,I.getElementsByClassName(q)),B}if(!(_e[C+" "]||oe&&oe.test(C))){if(ae=C,le=I,1===he&&(Ne.test(C)||Ie.test(C))){for((le=je.test(C)&&testContext(I.parentNode)||I)==I&&de.scope||((te=I.getAttribute("id"))?te=jQuery.escapeSelector(te):I.setAttribute("id",te=ce)),Q=(ne=tokenize(C)).length;Q--;)ne[Q]=(te?"#"+te:":scope")+" "+toSelector(ne[Q]);ae=ne.join(",")}try{return ue.apply(B,le.querySelectorAll(ae)),B}catch(I){_e(C,!0)}finally{te===ce&&I.removeAttribute("id")}}}return select(C.replace(we,"$1"),I,B,z)}function createCache(){var C=[];return function cache(B,z){return C.push(B+" ")>I.cacheLength&&delete cache[C.shift()],cache[B+" "]=z}}function markFunction(C){return C[ce]=!0,C}function assert(C){var I=ie.createElement("fieldset");try{return!!C(I)}catch(C){return!1}finally{I.parentNode&&I.parentNode.removeChild(I),I=null}}function createInputPseudo(C){return function(I){return nodeName(I,"input")&&I.type===C}}function createButtonPseudo(C){return function(I){return(nodeName(I,"input")||nodeName(I,"button"))&&I.type===C}}function createDisabledPseudo(C){return function(I){return"form"in I?I.parentNode&&!1===I.disabled?"label"in I?"label"in I.parentNode?I.parentNode.disabled===C:I.disabled===C:I.isDisabled===C||I.isDisabled!==!C&&Ve(I)===C:I.disabled===C:"label"in I&&I.disabled===C}}function createPositionalPseudo(C){return markFunction((function(I){return I=+I,markFunction((function(B,z){for(var q,Q=C([],B.length,I),ee=Q.length;ee--;)B[q=Q[ee]]&&(B[q]=!(z[q]=B[q]))}))}))}function testContext(C){return C&&void 0!==C.getElementsByTagName&&C}function setDocument(C){var B,z=C?C.ownerDocument||C:Se;return z!=ie&&9===z.nodeType&&z.documentElement?(re=(ie=z).documentElement,se=!jQuery.isXMLDoc(ie),le=re.matches||re.webkitMatchesSelector||re.msMatchesSelector,re.msMatchesSelector&&Se!=ie&&(B=ie.defaultView)&&B.top!==B&&B.addEventListener("unload",unloadHandler),de.getById=assert((function(C){return re.appendChild(C).id=jQuery.expando,!ie.getElementsByName||!ie.getElementsByName(jQuery.expando).length})),de.disconnectedMatch=assert((function(C){return le.call(C,"*")})),de.scope=assert((function(){return ie.querySelectorAll(":scope")})),de.cssHas=assert((function(){try{return ie.querySelector(":has(*,:jqfake)"),!1}catch(C){return!0}})),de.getById?(I.filter.ID=function(C){var I=C.replace($e,funescape);return function(C){return C.getAttribute("id")===I}},I.find.ID=function(C,I){if(void 0!==I.getElementById&&se){var B=I.getElementById(C);return B?[B]:[]}}):(I.filter.ID=function(C){var I=C.replace($e,funescape);return function(C){var B=void 0!==C.getAttributeNode&&C.getAttributeNode("id");return B&&B.value===I}},I.find.ID=function(C,I){if(void 0!==I.getElementById&&se){var B,z,q,Q=I.getElementById(C);if(Q){if((B=Q.getAttributeNode("id"))&&B.value===C)return[Q];for(q=I.getElementsByName(C),z=0;Q=q[z++];)if((B=Q.getAttributeNode("id"))&&B.value===C)return[Q]}return[]}}),I.find.TAG=function(C,I){return void 0!==I.getElementsByTagName?I.getElementsByTagName(C):I.querySelectorAll(C)},I.find.CLASS=function(C,I){if(void 0!==I.getElementsByClassName&&se)return I.getElementsByClassName(C)},oe=[],assert((function(C){var I;re.appendChild(C).innerHTML="<a id='"+ce+"' href='' disabled='disabled'></a><select id='"+ce+"-\r\\' disabled='disabled'><option selected=''></option></select>",C.querySelectorAll("[selected]").length||oe.push("\\["+Ce+"*(?:value|"+ke+")"),C.querySelectorAll("[id~="+ce+"-]").length||oe.push("~="),C.querySelectorAll("a#"+ce+"+*").length||oe.push(".#.+[+~]"),C.querySelectorAll(":checked").length||oe.push(":checked"),(I=ie.createElement("input")).setAttribute("type","hidden"),C.appendChild(I).setAttribute("name","D"),re.appendChild(C).disabled=!0,2!==C.querySelectorAll(":disabled").length&&oe.push(":enabled",":disabled"),(I=ie.createElement("input")).setAttribute("name",""),C.appendChild(I),C.querySelectorAll("[name='']").length||oe.push("\\["+Ce+"*name"+Ce+"*="+Ce+"*(?:''|\"\")")})),de.cssHas||oe.push(":has"),oe=oe.length&&new RegExp(oe.join("|")),sortOrder=function(C,I){if(C===I)return ee=!0,0;var B=!C.compareDocumentPosition-!I.compareDocumentPosition;return B||(1&(B=(C.ownerDocument||C)==(I.ownerDocument||I)?C.compareDocumentPosition(I):1)||!de.sortDetached&&I.compareDocumentPosition(C)===B?C===ie||C.ownerDocument==Se&&find.contains(Se,C)?-1:I===ie||I.ownerDocument==Se&&find.contains(Se,I)?1:q?ne.call(q,C)-ne.call(q,I):0:4&B?-1:1)},ie):ie}for(C in find.matches=function(C,I){return find(C,null,null,I)},find.matchesSelector=function(C,I){if(setDocument(C),se&&!_e[I+" "]&&(!oe||!oe.test(I)))try{var B=le.call(C,I);if(B||de.disconnectedMatch||C.document&&11!==C.document.nodeType)return B}catch(C){_e(I,!0)}return find(I,ie,null,[C]).length>0},find.contains=function(C,I){return(C.ownerDocument||C)!=ie&&setDocument(C),jQuery.contains(C,I)},find.attr=function(C,B){(C.ownerDocument||C)!=ie&&setDocument(C);var z=I.attrHandle[B.toLowerCase()],q=z&&ae.call(I.attrHandle,B.toLowerCase())?z(C,B,!se):void 0;return void 0!==q?q:C.getAttribute(B)},find.error=function(C){throw new Error("Syntax error, unrecognized expression: "+C)},jQuery.uniqueSort=function(C){var I,B=[],z=0,Q=0;if(ee=!de.sortStable,q=!de.sortStable&&te.call(C,0),ye.call(C,sortOrder),ee){for(;I=C[Q++];)I===C[Q]&&(z=B.push(Q));for(;z--;)be.call(C,B[z],1)}return q=null,C},jQuery.fn.uniqueSort=function(){return this.pushStack(jQuery.uniqueSort(te.apply(this)))},I=jQuery.expr={cacheLength:50,createPseudo:markFunction,match:Fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(C){return C[1]=C[1].replace($e,funescape),C[3]=(C[3]||C[4]||C[5]||"").replace($e,funescape),"~="===C[2]&&(C[3]=" "+C[3]+" "),C.slice(0,4)},CHILD:function(C){return C[1]=C[1].toLowerCase(),"nth"===C[1].slice(0,3)?(C[3]||find.error(C[0]),C[4]=+(C[4]?C[5]+(C[6]||1):2*("even"===C[3]||"odd"===C[3])),C[5]=+(C[7]+C[8]||"odd"===C[3])):C[3]&&find.error(C[0]),C},PSEUDO:function(C){var I,B=!C[6]&&C[2];return Fe.CHILD.test(C[0])?null:(C[3]?C[2]=C[4]||C[5]||"":B&&Ae.test(B)&&(I=tokenize(B,!0))&&(I=B.indexOf(")",B.length-I)-B.length)&&(C[0]=C[0].slice(0,I),C[2]=B.slice(0,I)),C.slice(0,3))}},filter:{TAG:function(C){var I=C.replace($e,funescape).toLowerCase();return"*"===C?function(){return!0}:function(C){return nodeName(C,I)}},CLASS:function(C){var I=pe[C+" "];return I||(I=new RegExp("(^|"+Ce+")"+C+"("+Ce+"|$)"))&&pe(C,(function(C){return I.test("string"==typeof C.className&&C.className||void 0!==C.getAttribute&&C.getAttribute("class")||"")}))},ATTR:function(C,I,B){return function(z){var q=find.attr(z,C);return null==q?"!="===I:!I||(q+="","="===I?q===B:"!="===I?q!==B:"^="===I?B&&0===q.indexOf(B):"*="===I?B&&q.indexOf(B)>-1:"$="===I?B&&q.slice(-B.length)===B:"~="===I?(" "+q.replace(Ee," ")+" ").indexOf(B)>-1:"|="===I&&(q===B||q.slice(0,B.length+1)===B+"-"))}},CHILD:function(C,I,B,z,q){var Q="nth"!==C.slice(0,3),ee="last"!==C.slice(-4),te="of-type"===I;return 1===z&&0===q?function(C){return!!C.parentNode}:function(I,B,ie){var re,ne,se,oe,ae,le=Q!==ee?"nextSibling":"previousSibling",ue=I.parentNode,de=te&&I.nodeName.toLowerCase(),fe=!ie&&!te,pe=!1;if(ue){if(Q){for(;le;){for(se=I;se=se[le];)if(te?nodeName(se,de):1===se.nodeType)return!1;ae=le="only"===C&&!ae&&"nextSibling"}return!0}if(ae=[ee?ue.firstChild:ue.lastChild],ee&&fe){for(pe=(oe=(re=(ne=ue[ce]||(ue[ce]={}))[C]||[])[0]===he&&re[1])&&re[2],se=oe&&ue.childNodes[oe];se=++oe&&se&&se[le]||(pe=oe=0)||ae.pop();)if(1===se.nodeType&&++pe&&se===I){ne[C]=[he,oe,pe];break}}else if(fe&&(pe=oe=(re=(ne=I[ce]||(I[ce]={}))[C]||[])[0]===he&&re[1]),!1===pe)for(;(se=++oe&&se&&se[le]||(pe=oe=0)||ae.pop())&&(!(te?nodeName(se,de):1===se.nodeType)||!++pe||(fe&&((ne=se[ce]||(se[ce]={}))[C]=[he,pe]),se!==I)););return(pe-=q)===z||pe%z==0&&pe/z>=0}}},PSEUDO:function(C,B){var z,q=I.pseudos[C]||I.setFilters[C.toLowerCase()]||find.error("unsupported pseudo: "+C);return q[ce]?q(B):q.length>1?(z=[C,C,"",B],I.setFilters.hasOwnProperty(C.toLowerCase())?markFunction((function(C,I){for(var z,Q=q(C,B),ee=Q.length;ee--;)C[z=ne.call(C,Q[ee])]=!(I[z]=Q[ee])})):function(C){return q(C,0,z)}):q}},pseudos:{not:markFunction((function(C){var I=[],B=[],z=compile(C.replace(we,"$1"));return z[ce]?markFunction((function(C,I,B,q){for(var Q,ee=z(C,null,q,[]),te=C.length;te--;)(Q=ee[te])&&(C[te]=!(I[te]=Q))})):function(C,q,Q){return I[0]=C,z(I,null,Q,B),I[0]=null,!B.pop()}})),has:markFunction((function(C){return function(I){return find(C,I).length>0}})),contains:markFunction((function(C){return C=C.replace($e,funescape),function(I){return(I.textContent||jQuery.text(I)).indexOf(C)>-1}})),lang:markFunction((function(C){return De.test(C||"")||find.error("unsupported lang: "+C),C=C.replace($e,funescape).toLowerCase(),function(I){var B;do{if(B=se?I.lang:I.getAttribute("xml:lang")||I.getAttribute("lang"))return(B=B.toLowerCase())===C||0===B.indexOf(C+"-")}while((I=I.parentNode)&&1===I.nodeType);return!1}})),target:function(C){var I=z.location&&z.location.hash;return I&&I.slice(1)===C.id},root:function(C){return C===re},focus:function(C){return C===function safeActiveElement(){try{return ie.activeElement}catch(C){}}()&&ie.hasFocus()&&!!(C.type||C.href||~C.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(C){return nodeName(C,"input")&&!!C.checked||nodeName(C,"option")&&!!C.selected},selected:function(C){return C.parentNode&&C.parentNode.selectedIndex,!0===C.selected},empty:function(C){for(C=C.firstChild;C;C=C.nextSibling)if(C.nodeType<6)return!1;return!0},parent:function(C){return!I.pseudos.empty(C)},header:function(C){return Be.test(C.nodeName)},input:function(C){return Oe.test(C.nodeName)},button:function(C){return nodeName(C,"input")&&"button"===C.type||nodeName(C,"button")},text:function(C){var I;return nodeName(C,"input")&&"text"===C.type&&(null==(I=C.getAttribute("type"))||"text"===I.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(C,I){return[I-1]})),eq:createPositionalPseudo((function(C,I,B){return[B<0?B+I:B]})),even:createPositionalPseudo((function(C,I){for(var B=0;B<I;B+=2)C.push(B);return C})),odd:createPositionalPseudo((function(C,I){for(var B=1;B<I;B+=2)C.push(B);return C})),lt:createPositionalPseudo((function(C,I,B){var z;for(z=B<0?B+I:B>I?I:B;--z>=0;)C.push(z);return C})),gt:createPositionalPseudo((function(C,I,B){for(var z=B<0?B+I:B;++z<I;)C.push(z);return C}))}},I.pseudos.nth=I.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[C]=createInputPseudo(C);for(C in{submit:!0,reset:!0})I.pseudos[C]=createButtonPseudo(C);function setFilters(){}function tokenize(C,B){var z,q,Q,ee,te,ie,re,ne=me[C+" "];if(ne)return B?0:ne.slice(0);for(te=C,ie=[],re=I.preFilter;te;){for(ee in z&&!(q=Pe.exec(te))||(q&&(te=te.slice(q[0].length)||te),ie.push(Q=[])),z=!1,(q=Ie.exec(te))&&(z=q.shift(),Q.push({value:z,type:q[0].replace(we," ")}),te=te.slice(z.length)),I.filter)!(q=Fe[ee].exec(te))||re[ee]&&!(q=re[ee](q))||(z=q.shift(),Q.push({value:z,type:ee,matches:q}),te=te.slice(z.length));if(!z)break}return B?te.length:te?find.error(C):me(C,ie).slice(0)}function toSelector(C){for(var I=0,B=C.length,z="";I<B;I++)z+=C[I].value;return z}function addCombinator(C,I,B){var z=I.dir,q=I.next,Q=q||z,ee=B&&"parentNode"===Q,te=fe++;return I.first?function(I,B,q){for(;I=I[z];)if(1===I.nodeType||ee)return C(I,B,q);return!1}:function(I,B,ie){var re,ne,se=[he,te];if(ie){for(;I=I[z];)if((1===I.nodeType||ee)&&C(I,B,ie))return!0}else for(;I=I[z];)if(1===I.nodeType||ee)if(ne=I[ce]||(I[ce]={}),q&&nodeName(I,q))I=I[z]||I;else{if((re=ne[Q])&&re[0]===he&&re[1]===te)return se[2]=re[2];if(ne[Q]=se,se[2]=C(I,B,ie))return!0}return!1}}function elementMatcher(C){return C.length>1?function(I,B,z){for(var q=C.length;q--;)if(!C[q](I,B,z))return!1;return!0}:C[0]}function condense(C,I,B,z,q){for(var Q,ee=[],te=0,ie=C.length,re=null!=I;te<ie;te++)(Q=C[te])&&(B&&!B(Q,z,q)||(ee.push(Q),re&&I.push(te)));return ee}function setMatcher(C,I,B,z,q,Q){return z&&!z[ce]&&(z=setMatcher(z)),q&&!q[ce]&&(q=setMatcher(q,Q)),markFunction((function(Q,ee,te,ie){var re,se,oe,ae,le=[],de=[],ce=ee.length,he=Q||function multipleContexts(C,I,B){for(var z=0,q=I.length;z<q;z++)find(C,I[z],B);return B}(I||"*",te.nodeType?[te]:te,[]),fe=!C||!Q&&I?he:condense(he,le,C,te,ie);if(B?B(fe,ae=q||(Q?C:ce||z)?[]:ee,te,ie):ae=fe,z)for(re=condense(ae,de),z(re,[],te,ie),se=re.length;se--;)(oe=re[se])&&(ae[de[se]]=!(fe[de[se]]=oe));if(Q){if(q||C){if(q){for(re=[],se=ae.length;se--;)(oe=ae[se])&&re.push(fe[se]=oe);q(null,ae=[],re,ie)}for(se=ae.length;se--;)(oe=ae[se])&&(re=q?ne.call(Q,oe):le[se])>-1&&(Q[re]=!(ee[re]=oe))}}else ae=condense(ae===ee?ae.splice(ce,ae.length):ae),q?q(null,ee,ae,ie):ue.apply(ee,ae)}))}function matcherFromTokens(C){for(var z,q,Q,ee=C.length,te=I.relative[C[0].type],ie=te||I.relative[" "],re=te?1:0,se=addCombinator((function(C){return C===z}),ie,!0),oe=addCombinator((function(C){return ne.call(z,C)>-1}),ie,!0),ae=[function(C,I,q){var Q=!te&&(q||I!=B)||((z=I).nodeType?se(C,I,q):oe(C,I,q));return z=null,Q}];re<ee;re++)if(q=I.relative[C[re].type])ae=[addCombinator(elementMatcher(ae),q)];else{if((q=I.filter[C[re].type].apply(null,C[re].matches))[ce]){for(Q=++re;Q<ee&&!I.relative[C[Q].type];Q++);return setMatcher(re>1&&elementMatcher(ae),re>1&&toSelector(C.slice(0,re-1).concat({value:" "===C[re-2].type?"*":""})).replace(we,"$1"),q,re<Q&&matcherFromTokens(C.slice(re,Q)),Q<ee&&matcherFromTokens(C=C.slice(Q)),Q<ee&&toSelector(C))}ae.push(q)}return elementMatcher(ae)}function compile(C,z){var q,Q=[],ee=[],te=ge[C+" "];if(!te){for(z||(z=tokenize(C)),q=z.length;q--;)(te=matcherFromTokens(z[q]))[ce]?Q.push(te):ee.push(te);te=ge(C,function matcherFromGroupMatchers(C,z){var q=z.length>0,Q=C.length>0,superMatcher=function(ee,te,re,ne,oe){var ae,le,de,ce=0,fe="0",pe=ee&&[],me=[],ge=B,ye=ee||Q&&I.find.TAG("*",oe),be=he+=null==ge?1:Math.random()||.1,Ce=ye.length;for(oe&&(B=te==ie||te||oe);fe!==Ce&&null!=(ae=ye[fe]);fe++){if(Q&&ae){for(le=0,te||ae.ownerDocument==ie||(setDocument(ae),re=!se);de=C[le++];)if(de(ae,te||ie,re)){ue.call(ne,ae);break}oe&&(he=be)}q&&((ae=!de&&ae)&&ce--,ee&&pe.push(ae))}if(ce+=fe,q&&fe!==ce){for(le=0;de=z[le++];)de(pe,me,te,re);if(ee){if(ce>0)for(;fe--;)pe[fe]||me[fe]||(me[fe]=ve.call(ne));me=condense(me)}ue.apply(ne,me),oe&&!ee&&me.length>0&&ce+z.length>1&&jQuery.uniqueSort(ne)}return oe&&(he=be,B=ge),pe};return q?markFunction(superMatcher):superMatcher}(ee,Q)),te.selector=C}return te}function select(C,B,z,q){var Q,ee,te,ie,re,ne="function"==typeof C&&C,oe=!q&&tokenize(C=ne.selector||C);if(z=z||[],1===oe.length){if((ee=oe[0]=oe[0].slice(0)).length>2&&"ID"===(te=ee[0]).type&&9===B.nodeType&&se&&I.relative[ee[1].type]){if(!(B=(I.find.ID(te.matches[0].replace($e,funescape),B)||[])[0]))return z;ne&&(B=B.parentNode),C=C.slice(ee.shift().value.length)}for(Q=Fe.needsContext.test(C)?0:ee.length;Q--&&(te=ee[Q],!I.relative[ie=te.type]);)if((re=I.find[ie])&&(q=re(te.matches[0].replace($e,funescape),je.test(ee[0].type)&&testContext(B.parentNode)||B))){if(ee.splice(Q,1),!(C=q.length&&toSelector(ee)))return ue.apply(z,q),z;break}}return(ne||compile(C,oe))(q,B,!se,z,!B||je.test(C)&&testContext(B.parentNode)||B),z}setFilters.prototype=I.filters=I.pseudos,I.setFilters=new setFilters,de.sortStable=ce.split("").sort(sortOrder).join("")===ce,setDocument(),de.sortDetached=assert((function(C){return 1&C.compareDocumentPosition(ie.createElement("fieldset"))})),jQuery.find=find,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=jQuery.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=jQuery.escapeSelector,find.getText=jQuery.text,find.isXML=jQuery.isXMLDoc,find.selectors=jQuery.expr,find.support=jQuery.support,find.uniqueSort=jQuery.uniqueSort}();var dir=function(C,I,B){for(var z=[],q=void 0!==B;(C=C[I])&&9!==C.nodeType;)if(1===C.nodeType){if(q&&jQuery(C).is(B))break;z.push(C)}return z},siblings=function(C,I){for(var B=[];C;C=C.nextSibling)1===C.nodeType&&C!==I&&B.push(C);return B},ke=jQuery.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(C,I,B){return ce(I)?jQuery.grep(C,(function(C,z){return!!I.call(C,z,C)!==B})):I.nodeType?jQuery.grep(C,(function(C){return C===I!==B})):"string"!=typeof I?jQuery.grep(C,(function(C){return ne.call(I,C)>-1!==B})):jQuery.filter(I,C,B)}jQuery.filter=function(C,I,B){var z=I[0];return B&&(C=":not("+C+")"),1===I.length&&1===z.nodeType?jQuery.find.matchesSelector(z,C)?[z]:[]:jQuery.find.matches(C,jQuery.grep(I,(function(C){return 1===C.nodeType})))},jQuery.fn.extend({find:function(C){var I,B,z=this.length,q=this;if("string"!=typeof C)return this.pushStack(jQuery(C).filter((function(){for(I=0;I<z;I++)if(jQuery.contains(q[I],this))return!0})));for(B=this.pushStack([]),I=0;I<z;I++)jQuery.find(C,q[I],B);return z>1?jQuery.uniqueSort(B):B},filter:function(C){return this.pushStack(winnow(this,C||[],!1))},not:function(C){return this.pushStack(winnow(this,C||[],!0))},is:function(C){return!!winnow(this,"string"==typeof C&&ke.test(C)?jQuery(C):C||[],!1).length}});var Me,Re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(C,I,B){var z,q;if(!C)return this;if(B=B||Me,"string"==typeof C){if(!(z="<"===C[0]&&">"===C[C.length-1]&&C.length>=3?[null,C,null]:Re.exec(C))||!z[1]&&I)return!I||I.jquery?(I||B).find(C):this.constructor(I).find(C);if(z[1]){if(I=I instanceof jQuery?I[0]:I,jQuery.merge(this,jQuery.parseHTML(z[1],I&&I.nodeType?I.ownerDocument||I:fe,!0)),Te.test(z[1])&&jQuery.isPlainObject(I))for(z in I)ce(this[z])?this[z](I[z]):this.attr(z,I[z]);return this}return(q=fe.getElementById(z[2]))&&(this[0]=q,this.length=1),this}return C.nodeType?(this[0]=C,this.length=1,this):ce(C)?void 0!==B.ready?B.ready(C):C(jQuery):jQuery.makeArray(C,this)}).prototype=jQuery.fn,Me=jQuery(fe);var Ee=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};function sibling(C,I){for(;(C=C[I])&&1!==C.nodeType;);return C}jQuery.fn.extend({has:function(C){var I=jQuery(C,this),B=I.length;return this.filter((function(){for(var C=0;C<B;C++)if(jQuery.contains(this,I[C]))return!0}))},closest:function(C,I){var B,z=0,q=this.length,Q=[],ee="string"!=typeof C&&jQuery(C);if(!ke.test(C))for(;z<q;z++)for(B=this[z];B&&B!==I;B=B.parentNode)if(B.nodeType<11&&(ee?ee.index(B)>-1:1===B.nodeType&&jQuery.find.matchesSelector(B,C))){Q.push(B);break}return this.pushStack(Q.length>1?jQuery.uniqueSort(Q):Q)},index:function(C){return C?"string"==typeof C?ne.call(jQuery(C),this[0]):ne.call(this,C.jquery?C[0]:C):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(C,I){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(C,I))))},addBack:function(C){return this.add(null==C?this.prevObject:this.prevObject.filter(C))}}),jQuery.each({parent:function(C){var I=C.parentNode;return I&&11!==I.nodeType?I:null},parents:function(C){return dir(C,"parentNode")},parentsUntil:function(C,I,B){return dir(C,"parentNode",B)},next:function(C){return sibling(C,"nextSibling")},prev:function(C){return sibling(C,"previousSibling")},nextAll:function(C){return dir(C,"nextSibling")},prevAll:function(C){return dir(C,"previousSibling")},nextUntil:function(C,I,B){return dir(C,"nextSibling",B)},prevUntil:function(C,I,B){return dir(C,"previousSibling",B)},siblings:function(C){return siblings((C.parentNode||{}).firstChild,C)},children:function(C){return siblings(C.firstChild)},contents:function(C){return null!=C.contentDocument&&ee(C.contentDocument)?C.contentDocument:(nodeName(C,"template")&&(C=C.content||C),jQuery.merge([],C.childNodes))}},(function(C,I){jQuery.fn[C]=function(B,z){var q=jQuery.map(this,I,B);return"Until"!==C.slice(-5)&&(z=B),z&&"string"==typeof z&&(q=jQuery.filter(z,q)),this.length>1&&(Pe[C]||jQuery.uniqueSort(q),Ee.test(C)&&q.reverse()),this.pushStack(q)}}));var Ie=/[^\x20\t\r\n\f]+/g;function Identity(C){return C}function Thrower(C){throw C}function adoptValue(C,I,B,z){var q;try{C&&ce(q=C.promise)?q.call(C).done(I).fail(B):C&&ce(q=C.then)?q.call(C,I,B):I.apply(void 0,[C].slice(z))}catch(C){B.apply(void 0,[C])}}jQuery.Callbacks=function(C){C="string"==typeof C?function createOptions(C){var I={};return jQuery.each(C.match(Ie)||[],(function(C,B){I[B]=!0})),I}(C):jQuery.extend({},C);var I,B,z,q,Q=[],ee=[],te=-1,fire=function(){for(q=q||C.once,z=I=!0;ee.length;te=-1)for(B=ee.shift();++te<Q.length;)!1===Q[te].apply(B[0],B[1])&&C.stopOnFalse&&(te=Q.length,B=!1);C.memory||(B=!1),I=!1,q&&(Q=B?[]:"")},ie={add:function(){return Q&&(B&&!I&&(te=Q.length-1,ee.push(B)),function add(I){jQuery.each(I,(function(I,B){ce(B)?C.unique&&ie.has(B)||Q.push(B):B&&B.length&&"string"!==toType(B)&&add(B)}))}(arguments),B&&!I&&fire()),this},remove:function(){return jQuery.each(arguments,(function(C,I){for(var B;(B=jQuery.inArray(I,Q,B))>-1;)Q.splice(B,1),B<=te&&te--})),this},has:function(C){return C?jQuery.inArray(C,Q)>-1:Q.length>0},empty:function(){return Q&&(Q=[]),this},disable:function(){return q=ee=[],Q=B="",this},disabled:function(){return!Q},lock:function(){return q=ee=[],B||I||(Q=B=""),this},locked:function(){return!!q},fireWith:function(C,B){return q||(B=[C,(B=B||[]).slice?B.slice():B],ee.push(B),I||fire()),this},fire:function(){return ie.fireWith(this,arguments),this},fired:function(){return!!z}};return ie},jQuery.extend({Deferred:function(C){var I=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],B="pending",q={state:function(){return B},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(C){return q.then(null,C)},pipe:function(){var C=arguments;return jQuery.Deferred((function(B){jQuery.each(I,(function(I,z){var q=ce(C[z[4]])&&C[z[4]];Q[z[1]]((function(){var C=q&&q.apply(this,arguments);C&&ce(C.promise)?C.promise().progress(B.notify).done(B.resolve).fail(B.reject):B[z[0]+"With"](this,q?[C]:arguments)}))})),C=null})).promise()},then:function(C,B,q){var Q=0;function resolve(C,I,B,q){return function(){var ee=this,te=arguments,mightThrow=function(){var z,ie;if(!(C<Q)){if((z=B.apply(ee,te))===I.promise())throw new TypeError("Thenable self-resolution");ie=z&&("object"==typeof z||"function"==typeof z)&&z.then,ce(ie)?q?ie.call(z,resolve(Q,I,Identity,q),resolve(Q,I,Thrower,q)):(Q++,ie.call(z,resolve(Q,I,Identity,q),resolve(Q,I,Thrower,q),resolve(Q,I,Identity,I.notifyWith))):(B!==Identity&&(ee=void 0,te=[z]),(q||I.resolveWith)(ee,te))}},ie=q?mightThrow:function(){try{mightThrow()}catch(z){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(z,ie.error),C+1>=Q&&(B!==Thrower&&(ee=void 0,te=[z]),I.rejectWith(ee,te))}};C?ie():(jQuery.Deferred.getErrorHook?ie.error=jQuery.Deferred.getErrorHook():jQuery.Deferred.getStackHook&&(ie.error=jQuery.Deferred.getStackHook()),z.setTimeout(ie))}}return jQuery.Deferred((function(z){I[0][3].add(resolve(0,z,ce(q)?q:Identity,z.notifyWith)),I[1][3].add(resolve(0,z,ce(C)?C:Identity)),I[2][3].add(resolve(0,z,ce(B)?B:Thrower))})).promise()},promise:function(C){return null!=C?jQuery.extend(C,q):q}},Q={};return jQuery.each(I,(function(C,z){var ee=z[2],te=z[5];q[z[1]]=ee.add,te&&ee.add((function(){B=te}),I[3-C][2].disable,I[3-C][3].disable,I[0][2].lock,I[0][3].lock),ee.add(z[3].fire),Q[z[0]]=function(){return Q[z[0]+"With"](this===Q?void 0:this,arguments),this},Q[z[0]+"With"]=ee.fireWith})),q.promise(Q),C&&C.call(Q,Q),Q},when:function(C){var I=arguments.length,B=I,z=Array(B),q=te.call(arguments),Q=jQuery.Deferred(),updateFunc=function(C){return function(B){z[C]=this,q[C]=arguments.length>1?te.call(arguments):B,--I||Q.resolveWith(z,q)}};if(I<=1&&(adoptValue(C,Q.done(updateFunc(B)).resolve,Q.reject,!I),"pending"===Q.state()||ce(q[B]&&q[B].then)))return Q.then();for(;B--;)adoptValue(q[B],updateFunc(B),Q.reject);return Q.promise()}});var Ne=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(C,I){z.console&&z.console.warn&&C&&Ne.test(C.name)&&z.console.warn("jQuery.Deferred exception: "+C.message,C.stack,I)},jQuery.readyException=function(C){z.setTimeout((function(){throw C}))};var Ae=jQuery.Deferred();function completed(){fe.removeEventListener("DOMContentLoaded",completed),z.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(C){return Ae.then(C).catch((function(C){jQuery.readyException(C)})),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(C){(!0===C?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==C&&--jQuery.readyWait>0||Ae.resolveWith(fe,[jQuery]))}}),jQuery.ready.then=Ae.then,"complete"===fe.readyState||"loading"!==fe.readyState&&!fe.documentElement.doScroll?z.setTimeout(jQuery.ready):(fe.addEventListener("DOMContentLoaded",completed),z.addEventListener("load",completed));var access=function(C,I,B,z,q,Q,ee){var te=0,ie=C.length,re=null==B;if("object"===toType(B))for(te in q=!0,B)access(C,I,te,B[te],!0,Q,ee);else if(void 0!==z&&(q=!0,ce(z)||(ee=!0),re&&(ee?(I.call(C,z),I=null):(re=I,I=function(C,I,B){return re.call(jQuery(C),B)})),I))for(;te<ie;te++)I(C[te],B,ee?z:z.call(C[te],te,I(C[te],B)));return q?C:re?I.call(C):ie?I(C[0],B):Q},De=/^-ms-/,Fe=/-([a-z])/g;function fcamelCase(C,I){return I.toUpperCase()}function camelCase(C){return C.replace(De,"ms-").replace(Fe,fcamelCase)}var acceptData=function(C){return 1===C.nodeType||9===C.nodeType||!+C.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(C){var I=C[this.expando];return I||(I={},acceptData(C)&&(C.nodeType?C[this.expando]=I:Object.defineProperty(C,this.expando,{value:I,configurable:!0}))),I},set:function(C,I,B){var z,q=this.cache(C);if("string"==typeof I)q[camelCase(I)]=B;else for(z in I)q[camelCase(z)]=I[z];return q},get:function(C,I){return void 0===I?this.cache(C):C[this.expando]&&C[this.expando][camelCase(I)]},access:function(C,I,B){return void 0===I||I&&"string"==typeof I&&void 0===B?this.get(C,I):(this.set(C,I,B),void 0!==B?B:I)},remove:function(C,I){var B,z=C[this.expando];if(void 0!==z){if(void 0!==I){B=(I=Array.isArray(I)?I.map(camelCase):(I=camelCase(I))in z?[I]:I.match(Ie)||[]).length;for(;B--;)delete z[I[B]]}(void 0===I||jQuery.isEmptyObject(z))&&(C.nodeType?C[this.expando]=void 0:delete C[this.expando])}},hasData:function(C){var I=C[this.expando];return void 0!==I&&!jQuery.isEmptyObject(I)}};var Oe=new Data,Be=new Data,Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;function dataAttr(C,I,B){var z;if(void 0===B&&1===C.nodeType)if(z="data-"+I.replace(je,"-$&").toLowerCase(),"string"==typeof(B=C.getAttribute(z))){try{B=function getData(C){return"true"===C||"false"!==C&&("null"===C?null:C===+C+""?+C:Le.test(C)?JSON.parse(C):C)}(B)}catch(C){}Be.set(C,I,B)}else B=void 0;return B}jQuery.extend({hasData:function(C){return Be.hasData(C)||Oe.hasData(C)},data:function(C,I,B){return Be.access(C,I,B)},removeData:function(C,I){Be.remove(C,I)},_data:function(C,I,B){return Oe.access(C,I,B)},_removeData:function(C,I){Oe.remove(C,I)}}),jQuery.fn.extend({data:function(C,I){var B,z,q,Q=this[0],ee=Q&&Q.attributes;if(void 0===C){if(this.length&&(q=Be.get(Q),1===Q.nodeType&&!Oe.get(Q,"hasDataAttrs"))){for(B=ee.length;B--;)ee[B]&&0===(z=ee[B].name).indexOf("data-")&&(z=camelCase(z.slice(5)),dataAttr(Q,z,q[z]));Oe.set(Q,"hasDataAttrs",!0)}return q}return"object"==typeof C?this.each((function(){Be.set(this,C)})):access(this,(function(I){var B;if(Q&&void 0===I)return void 0!==(B=Be.get(Q,C))||void 0!==(B=dataAttr(Q,C))?B:void 0;this.each((function(){Be.set(this,C,I)}))}),null,I,arguments.length>1,null,!0)},removeData:function(C){return this.each((function(){Be.remove(this,C)}))}}),jQuery.extend({queue:function(C,I,B){var z;if(C)return I=(I||"fx")+"queue",z=Oe.get(C,I),B&&(!z||Array.isArray(B)?z=Oe.access(C,I,jQuery.makeArray(B)):z.push(B)),z||[]},dequeue:function(C,I){I=I||"fx";var B=jQuery.queue(C,I),z=B.length,q=B.shift(),Q=jQuery._queueHooks(C,I);"inprogress"===q&&(q=B.shift(),z--),q&&("fx"===I&&B.unshift("inprogress"),delete Q.stop,q.call(C,(function(){jQuery.dequeue(C,I)}),Q)),!z&&Q&&Q.empty.fire()},_queueHooks:function(C,I){var B=I+"queueHooks";return Oe.get(C,B)||Oe.access(C,B,{empty:jQuery.Callbacks("once memory").add((function(){Oe.remove(C,[I+"queue",B])}))})}}),jQuery.fn.extend({queue:function(C,I){var B=2;return"string"!=typeof C&&(I=C,C="fx",B--),arguments.length<B?jQuery.queue(this[0],C):void 0===I?this:this.each((function(){var B=jQuery.queue(this,C,I);jQuery._queueHooks(this,C),"fx"===C&&"inprogress"!==B[0]&&jQuery.dequeue(this,C)}))},dequeue:function(C){return this.each((function(){jQuery.dequeue(this,C)}))},clearQueue:function(C){return this.queue(C||"fx",[])},promise:function(C,I){var B,z=1,q=jQuery.Deferred(),Q=this,ee=this.length,resolve=function(){--z||q.resolveWith(Q,[Q])};for("string"!=typeof C&&(I=C,C=void 0),C=C||"fx";ee--;)(B=Oe.get(Q[ee],C+"queueHooks"))&&B.empty&&(z++,B.empty.add(resolve));return resolve(),q.promise(I)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Ge=fe.documentElement,isAttached=function(C){return jQuery.contains(C.ownerDocument,C)},Ue={composed:!0};Ge.getRootNode&&(isAttached=function(C){return jQuery.contains(C.ownerDocument,C)||C.getRootNode(Ue)===C.ownerDocument});var isHiddenWithinTree=function(C,I){return"none"===(C=I||C).style.display||""===C.style.display&&isAttached(C)&&"none"===jQuery.css(C,"display")};function adjustCSS(C,I,B,z){var q,Q,ee=20,te=z?function(){return z.cur()}:function(){return jQuery.css(C,I,"")},ie=te(),re=B&&B[3]||(jQuery.cssNumber[I]?"":"px"),ne=C.nodeType&&(jQuery.cssNumber[I]||"px"!==re&&+ie)&&Ve.exec(jQuery.css(C,I));if(ne&&ne[3]!==re){for(ie/=2,re=re||ne[3],ne=+ie||1;ee--;)jQuery.style(C,I,ne+re),(1-Q)*(1-(Q=te()/ie||.5))<=0&&(ee=0),ne/=Q;ne*=2,jQuery.style(C,I,ne+re),B=B||[]}return B&&(ne=+ne||+ie||0,q=B[1]?ne+(B[1]+1)*B[2]:+B[2],z&&(z.unit=re,z.start=ne,z.end=q)),q}var ze={};function getDefaultDisplay(C){var I,B=C.ownerDocument,z=C.nodeName,q=ze[z];return q||(I=B.body.appendChild(B.createElement(z)),q=jQuery.css(I,"display"),I.parentNode.removeChild(I),"none"===q&&(q="block"),ze[z]=q,q)}function showHide(C,I){for(var B,z,q=[],Q=0,ee=C.length;Q<ee;Q++)(z=C[Q]).style&&(B=z.style.display,I?("none"===B&&(q[Q]=Oe.get(z,"display")||null,q[Q]||(z.style.display="")),""===z.style.display&&isHiddenWithinTree(z)&&(q[Q]=getDefaultDisplay(z))):"none"!==B&&(q[Q]="none",Oe.set(z,"display",B)));for(Q=0;Q<ee;Q++)null!=q[Q]&&(C[Q].style.display=q[Q]);return C}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(C){return"boolean"==typeof C?C?this.show():this.hide():this.each((function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()}))}});var qe,We,Ke=/^(?:checkbox|radio)$/i,Xe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Je=/^$|^module$|\/(?:java|ecma)script/i;qe=fe.createDocumentFragment().appendChild(fe.createElement("div")),(We=fe.createElement("input")).setAttribute("type","radio"),We.setAttribute("checked","checked"),We.setAttribute("name","t"),qe.appendChild(We),de.checkClone=qe.cloneNode(!0).cloneNode(!0).lastChild.checked,qe.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!qe.cloneNode(!0).lastChild.defaultValue,qe.innerHTML="<option></option>",de.option=!!qe.lastChild;var Ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(C,I){var B;return B=void 0!==C.getElementsByTagName?C.getElementsByTagName(I||"*"):void 0!==C.querySelectorAll?C.querySelectorAll(I||"*"):[],void 0===I||I&&nodeName(C,I)?jQuery.merge([C],B):B}function setGlobalEval(C,I){for(var B=0,z=C.length;B<z;B++)Oe.set(C[B],"globalEval",!I||Oe.get(I[B],"globalEval"))}Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,de.option||(Ye.optgroup=Ye.option=[1,"<select multiple='multiple'>","</select>"]);var Ze=/<|&#?\w+;/;function buildFragment(C,I,B,z,q){for(var Q,ee,te,ie,re,ne,se=I.createDocumentFragment(),oe=[],ae=0,le=C.length;ae<le;ae++)if((Q=C[ae])||0===Q)if("object"===toType(Q))jQuery.merge(oe,Q.nodeType?[Q]:Q);else if(Ze.test(Q)){for(ee=ee||se.appendChild(I.createElement("div")),te=(Xe.exec(Q)||["",""])[1].toLowerCase(),ie=Ye[te]||Ye._default,ee.innerHTML=ie[1]+jQuery.htmlPrefilter(Q)+ie[2],ne=ie[0];ne--;)ee=ee.lastChild;jQuery.merge(oe,ee.childNodes),(ee=se.firstChild).textContent=""}else oe.push(I.createTextNode(Q));for(se.textContent="",ae=0;Q=oe[ae++];)if(z&&jQuery.inArray(Q,z)>-1)q&&q.push(Q);else if(re=isAttached(Q),ee=getAll(se.appendChild(Q),"script"),re&&setGlobalEval(ee),B)for(ne=0;Q=ee[ne++];)Je.test(Q.type||"")&&B.push(Q);return se}var Qe=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function on(C,I,B,z,q,Q){var ee,te;if("object"==typeof I){for(te in"string"!=typeof B&&(z=z||B,B=void 0),I)on(C,te,B,z,I[te],Q);return C}if(null==z&&null==q?(q=B,z=B=void 0):null==q&&("string"==typeof B?(q=z,z=void 0):(q=z,z=B,B=void 0)),!1===q)q=returnFalse;else if(!q)return C;return 1===Q&&(ee=q,q=function(C){return jQuery().off(C),ee.apply(this,arguments)},q.guid=ee.guid||(ee.guid=jQuery.guid++)),C.each((function(){jQuery.event.add(this,I,q,z,B)}))}function leverageNative(C,I,B){B?(Oe.set(C,I,!1),jQuery.event.add(C,I,{namespace:!1,handler:function(C){var B,z=Oe.get(this,I);if(1&C.isTrigger&&this[I]){if(z)(jQuery.event.special[I]||{}).delegateType&&C.stopPropagation();else if(z=te.call(arguments),Oe.set(this,I,z),this[I](),B=Oe.get(this,I),Oe.set(this,I,!1),z!==B)return C.stopImmediatePropagation(),C.preventDefault(),B}else z&&(Oe.set(this,I,jQuery.event.trigger(z[0],z.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=returnTrue)}})):void 0===Oe.get(C,I)&&jQuery.event.add(C,I,returnTrue)}jQuery.event={global:{},add:function(C,I,B,z,q){var Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de=Oe.get(C);if(acceptData(C))for(B.handler&&(B=(Q=B).handler,q=Q.selector),q&&jQuery.find.matchesSelector(Ge,q),B.guid||(B.guid=jQuery.guid++),(ie=de.events)||(ie=de.events=Object.create(null)),(ee=de.handle)||(ee=de.handle=function(I){return void 0!==jQuery&&jQuery.event.triggered!==I.type?jQuery.event.dispatch.apply(C,arguments):void 0}),re=(I=(I||"").match(Ie)||[""]).length;re--;)ae=ue=(te=Qe.exec(I[re])||[])[1],le=(te[2]||"").split(".").sort(),ae&&(se=jQuery.event.special[ae]||{},ae=(q?se.delegateType:se.bindType)||ae,se=jQuery.event.special[ae]||{},ne=jQuery.extend({type:ae,origType:ue,data:z,handler:B,guid:B.guid,selector:q,needsContext:q&&jQuery.expr.match.needsContext.test(q),namespace:le.join(".")},Q),(oe=ie[ae])||((oe=ie[ae]=[]).delegateCount=0,se.setup&&!1!==se.setup.call(C,z,le,ee)||C.addEventListener&&C.addEventListener(ae,ee)),se.add&&(se.add.call(C,ne),ne.handler.guid||(ne.handler.guid=B.guid)),q?oe.splice(oe.delegateCount++,0,ne):oe.push(ne),jQuery.event.global[ae]=!0)},remove:function(C,I,B,z,q){var Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de=Oe.hasData(C)&&Oe.get(C);if(de&&(ie=de.events)){for(re=(I=(I||"").match(Ie)||[""]).length;re--;)if(ae=ue=(te=Qe.exec(I[re])||[])[1],le=(te[2]||"").split(".").sort(),ae){for(se=jQuery.event.special[ae]||{},oe=ie[ae=(z?se.delegateType:se.bindType)||ae]||[],te=te[2]&&new RegExp("(^|\\.)"+le.join("\\.(?:.*\\.|)")+"(\\.|$)"),ee=Q=oe.length;Q--;)ne=oe[Q],!q&&ue!==ne.origType||B&&B.guid!==ne.guid||te&&!te.test(ne.namespace)||z&&z!==ne.selector&&("**"!==z||!ne.selector)||(oe.splice(Q,1),ne.selector&&oe.delegateCount--,se.remove&&se.remove.call(C,ne));ee&&!oe.length&&(se.teardown&&!1!==se.teardown.call(C,le,de.handle)||jQuery.removeEvent(C,ae,de.handle),delete ie[ae])}else for(ae in ie)jQuery.event.remove(C,ae+I[re],B,z,!0);jQuery.isEmptyObject(ie)&&Oe.remove(C,"handle events")}},dispatch:function(C){var I,B,z,q,Q,ee,te=new Array(arguments.length),ie=jQuery.event.fix(C),re=(Oe.get(this,"events")||Object.create(null))[ie.type]||[],ne=jQuery.event.special[ie.type]||{};for(te[0]=ie,I=1;I<arguments.length;I++)te[I]=arguments[I];if(ie.delegateTarget=this,!ne.preDispatch||!1!==ne.preDispatch.call(this,ie)){for(ee=jQuery.event.handlers.call(this,ie,re),I=0;(q=ee[I++])&&!ie.isPropagationStopped();)for(ie.currentTarget=q.elem,B=0;(Q=q.handlers[B++])&&!ie.isImmediatePropagationStopped();)ie.rnamespace&&!1!==Q.namespace&&!ie.rnamespace.test(Q.namespace)||(ie.handleObj=Q,ie.data=Q.data,void 0!==(z=((jQuery.event.special[Q.origType]||{}).handle||Q.handler).apply(q.elem,te))&&!1===(ie.result=z)&&(ie.preventDefault(),ie.stopPropagation()));return ne.postDispatch&&ne.postDispatch.call(this,ie),ie.result}},handlers:function(C,I){var B,z,q,Q,ee,te=[],ie=I.delegateCount,re=C.target;if(ie&&re.nodeType&&!("click"===C.type&&C.button>=1))for(;re!==this;re=re.parentNode||this)if(1===re.nodeType&&("click"!==C.type||!0!==re.disabled)){for(Q=[],ee={},B=0;B<ie;B++)void 0===ee[q=(z=I[B]).selector+" "]&&(ee[q]=z.needsContext?jQuery(q,this).index(re)>-1:jQuery.find(q,this,null,[re]).length),ee[q]&&Q.push(z);Q.length&&te.push({elem:re,handlers:Q})}return re=this,ie<I.length&&te.push({elem:re,handlers:I.slice(ie)}),te},addProp:function(C,I){Object.defineProperty(jQuery.Event.prototype,C,{enumerable:!0,configurable:!0,get:ce(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[C]},set:function(I){Object.defineProperty(this,C,{enumerable:!0,configurable:!0,writable:!0,value:I})}})},fix:function(C){return C[jQuery.expando]?C:new jQuery.Event(C)},special:{load:{noBubble:!0},click:{setup:function(C){var I=this||C;return Ke.test(I.type)&&I.click&&nodeName(I,"input")&&leverageNative(I,"click",!0),!1},trigger:function(C){var I=this||C;return Ke.test(I.type)&&I.click&&nodeName(I,"input")&&leverageNative(I,"click"),!0},_default:function(C){var I=C.target;return Ke.test(I.type)&&I.click&&nodeName(I,"input")&&Oe.get(I,"click")||nodeName(I,"a")}},beforeunload:{postDispatch:function(C){void 0!==C.result&&C.originalEvent&&(C.originalEvent.returnValue=C.result)}}}},jQuery.removeEvent=function(C,I,B){C.removeEventListener&&C.removeEventListener(I,B)},jQuery.Event=function(C,I){if(!(this instanceof jQuery.Event))return new jQuery.Event(C,I);C&&C.type?(this.originalEvent=C,this.type=C.type,this.isDefaultPrevented=C.defaultPrevented||void 0===C.defaultPrevented&&!1===C.returnValue?returnTrue:returnFalse,this.target=C.target&&3===C.target.nodeType?C.target.parentNode:C.target,this.currentTarget=C.currentTarget,this.relatedTarget=C.relatedTarget):this.type=C,I&&jQuery.extend(this,I),this.timeStamp=C&&C.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var C=this.originalEvent;this.isDefaultPrevented=returnTrue,C&&!this.isSimulated&&C.preventDefault()},stopPropagation:function(){var C=this.originalEvent;this.isPropagationStopped=returnTrue,C&&!this.isSimulated&&C.stopPropagation()},stopImmediatePropagation:function(){var C=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,C&&!this.isSimulated&&C.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},(function(C,I){function focusMappedHandler(C){if(fe.documentMode){var B=Oe.get(this,"handle"),z=jQuery.event.fix(C);z.type="focusin"===C.type?"focus":"blur",z.isSimulated=!0,B(C),z.target===z.currentTarget&&B(z)}else jQuery.event.simulate(I,C.target,jQuery.event.fix(C))}jQuery.event.special[C]={setup:function(){var B;if(leverageNative(this,C,!0),!fe.documentMode)return!1;(B=Oe.get(this,I))||this.addEventListener(I,focusMappedHandler),Oe.set(this,I,(B||0)+1)},trigger:function(){return leverageNative(this,C),!0},teardown:function(){var C;if(!fe.documentMode)return!1;(C=Oe.get(this,I)-1)?Oe.set(this,I,C):(this.removeEventListener(I,focusMappedHandler),Oe.remove(this,I))},_default:function(I){return Oe.get(I.target,C)},delegateType:I},jQuery.event.special[I]={setup:function(){var B=this.ownerDocument||this.document||this,z=fe.documentMode?this:B,q=Oe.get(z,I);q||(fe.documentMode?this.addEventListener(I,focusMappedHandler):B.addEventListener(C,focusMappedHandler,!0)),Oe.set(z,I,(q||0)+1)},teardown:function(){var B=this.ownerDocument||this.document||this,z=fe.documentMode?this:B,q=Oe.get(z,I)-1;q?Oe.set(z,I,q):(fe.documentMode?this.removeEventListener(I,focusMappedHandler):B.removeEventListener(C,focusMappedHandler,!0),Oe.remove(z,I))}}})),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(C,I){jQuery.event.special[C]={delegateType:I,bindType:I,handle:function(C){var B,z=C.relatedTarget,q=C.handleObj;return z&&(z===this||jQuery.contains(this,z))||(C.type=q.origType,B=q.handler.apply(this,arguments),C.type=I),B}}})),jQuery.fn.extend({on:function(C,I,B,z){return on(this,C,I,B,z)},one:function(C,I,B,z){return on(this,C,I,B,z,1)},off:function(C,I,B){var z,q;if(C&&C.preventDefault&&C.handleObj)return z=C.handleObj,jQuery(C.delegateTarget).off(z.namespace?z.origType+"."+z.namespace:z.origType,z.selector,z.handler),this;if("object"==typeof C){for(q in C)this.off(q,I,C[q]);return this}return!1!==I&&"function"!=typeof I||(B=I,I=void 0),!1===B&&(B=returnFalse),this.each((function(){jQuery.event.remove(this,C,B,I)}))}});var et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(C,I){return nodeName(C,"table")&&nodeName(11!==I.nodeType?I:I.firstChild,"tr")&&jQuery(C).children("tbody")[0]||C}function disableScript(C){return C.type=(null!==C.getAttribute("type"))+"/"+C.type,C}function restoreScript(C){return"true/"===(C.type||"").slice(0,5)?C.type=C.type.slice(5):C.removeAttribute("type"),C}function cloneCopyEvent(C,I){var B,z,q,Q,ee,te;if(1===I.nodeType){if(Oe.hasData(C)&&(te=Oe.get(C).events))for(q in Oe.remove(I,"handle events"),te)for(B=0,z=te[q].length;B<z;B++)jQuery.event.add(I,q,te[q][B]);Be.hasData(C)&&(Q=Be.access(C),ee=jQuery.extend({},Q),Be.set(I,ee))}}function fixInput(C,I){var B=I.nodeName.toLowerCase();"input"===B&&Ke.test(C.type)?I.checked=C.checked:"input"!==B&&"textarea"!==B||(I.defaultValue=C.defaultValue)}function domManip(C,I,B,z){I=ie(I);var q,Q,ee,te,re,ne,se=0,oe=C.length,ae=oe-1,le=I[0],ue=ce(le);if(ue||oe>1&&"string"==typeof le&&!de.checkClone&&tt.test(le))return C.each((function(q){var Q=C.eq(q);ue&&(I[0]=le.call(this,q,Q.html())),domManip(Q,I,B,z)}));if(oe&&(Q=(q=buildFragment(I,C[0].ownerDocument,!1,C,z)).firstChild,1===q.childNodes.length&&(q=Q),Q||z)){for(te=(ee=jQuery.map(getAll(q,"script"),disableScript)).length;se<oe;se++)re=q,se!==ae&&(re=jQuery.clone(re,!0,!0),te&&jQuery.merge(ee,getAll(re,"script"))),B.call(C[se],re,se);if(te)for(ne=ee[ee.length-1].ownerDocument,jQuery.map(ee,restoreScript),se=0;se<te;se++)re=ee[se],Je.test(re.type||"")&&!Oe.access(re,"globalEval")&&jQuery.contains(ne,re)&&(re.src&&"module"!==(re.type||"").toLowerCase()?jQuery._evalUrl&&!re.noModule&&jQuery._evalUrl(re.src,{nonce:re.nonce||re.getAttribute("nonce")},ne):DOMEval(re.textContent.replace(it,""),re,ne))}return C}function remove(C,I,B){for(var z,q=I?jQuery.filter(I,C):C,Q=0;null!=(z=q[Q]);Q++)B||1!==z.nodeType||jQuery.cleanData(getAll(z)),z.parentNode&&(B&&isAttached(z)&&setGlobalEval(getAll(z,"script")),z.parentNode.removeChild(z));return C}jQuery.extend({htmlPrefilter:function(C){return C},clone:function(C,I,B){var z,q,Q,ee,te=C.cloneNode(!0),ie=isAttached(C);if(!(de.noCloneChecked||1!==C.nodeType&&11!==C.nodeType||jQuery.isXMLDoc(C)))for(ee=getAll(te),z=0,q=(Q=getAll(C)).length;z<q;z++)fixInput(Q[z],ee[z]);if(I)if(B)for(Q=Q||getAll(C),ee=ee||getAll(te),z=0,q=Q.length;z<q;z++)cloneCopyEvent(Q[z],ee[z]);else cloneCopyEvent(C,te);return(ee=getAll(te,"script")).length>0&&setGlobalEval(ee,!ie&&getAll(C,"script")),te},cleanData:function(C){for(var I,B,z,q=jQuery.event.special,Q=0;void 0!==(B=C[Q]);Q++)if(acceptData(B)){if(I=B[Oe.expando]){if(I.events)for(z in I.events)q[z]?jQuery.event.remove(B,z):jQuery.removeEvent(B,z,I.handle);B[Oe.expando]=void 0}B[Be.expando]&&(B[Be.expando]=void 0)}}}),jQuery.fn.extend({detach:function(C){return remove(this,C,!0)},remove:function(C){return remove(this,C)},text:function(C){return access(this,(function(C){return void 0===C?jQuery.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=C)}))}),null,C,arguments.length)},append:function(){return domManip(this,arguments,(function(C){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,C).appendChild(C)}))},prepend:function(){return domManip(this,arguments,(function(C){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var I=manipulationTarget(this,C);I.insertBefore(C,I.firstChild)}}))},before:function(){return domManip(this,arguments,(function(C){this.parentNode&&this.parentNode.insertBefore(C,this)}))},after:function(){return domManip(this,arguments,(function(C){this.parentNode&&this.parentNode.insertBefore(C,this.nextSibling)}))},empty:function(){for(var C,I=0;null!=(C=this[I]);I++)1===C.nodeType&&(jQuery.cleanData(getAll(C,!1)),C.textContent="");return this},clone:function(C,I){return C=null!=C&&C,I=null==I?C:I,this.map((function(){return jQuery.clone(this,C,I)}))},html:function(C){return access(this,(function(C){var I=this[0]||{},B=0,z=this.length;if(void 0===C&&1===I.nodeType)return I.innerHTML;if("string"==typeof C&&!et.test(C)&&!Ye[(Xe.exec(C)||["",""])[1].toLowerCase()]){C=jQuery.htmlPrefilter(C);try{for(;B<z;B++)1===(I=this[B]||{}).nodeType&&(jQuery.cleanData(getAll(I,!1)),I.innerHTML=C);I=0}catch(C){}}I&&this.empty().append(C)}),null,C,arguments.length)},replaceWith:function(){var C=[];return domManip(this,arguments,(function(I){var B=this.parentNode;jQuery.inArray(this,C)<0&&(jQuery.cleanData(getAll(this)),B&&B.replaceChild(I,this))}),C)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(C,I){jQuery.fn[C]=function(C){for(var B,z=[],q=jQuery(C),Q=q.length-1,ee=0;ee<=Q;ee++)B=ee===Q?this:this.clone(!0),jQuery(q[ee])[I](B),re.apply(z,B.get());return this.pushStack(z)}}));var rt=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),nt=/^--/,getStyles=function(C){var I=C.ownerDocument.defaultView;return I&&I.opener||(I=z),I.getComputedStyle(C)},swap=function(C,I,B){var z,q,Q={};for(q in I)Q[q]=C.style[q],C.style[q]=I[q];for(q in z=B.call(C),I)C.style[q]=Q[q];return z},st=new RegExp(He.join("|"),"i");function curCSS(C,I,B){var z,q,Q,ee,te=nt.test(I),ie=C.style;return(B=B||getStyles(C))&&(ee=B.getPropertyValue(I)||B[I],te&&ee&&(ee=ee.replace(we,"$1")||void 0),""!==ee||isAttached(C)||(ee=jQuery.style(C,I)),!de.pixelBoxStyles()&&rt.test(ee)&&st.test(I)&&(z=ie.width,q=ie.minWidth,Q=ie.maxWidth,ie.minWidth=ie.maxWidth=ie.width=ee,ee=B.width,ie.width=z,ie.minWidth=q,ie.maxWidth=Q)),void 0!==ee?ee+"":ee}function addGetHookIf(C,I){return{get:function(){if(!C())return(this.get=I).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(ie){te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ie.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ge.appendChild(te).appendChild(ie);var Q=z.getComputedStyle(ie);C="1%"!==Q.top,ee=12===roundPixelMeasures(Q.marginLeft),ie.style.right="60%",q=36===roundPixelMeasures(Q.right),I=36===roundPixelMeasures(Q.width),ie.style.position="absolute",B=12===roundPixelMeasures(ie.offsetWidth/3),Ge.removeChild(te),ie=null}}function roundPixelMeasures(C){return Math.round(parseFloat(C))}var C,I,B,q,Q,ee,te=fe.createElement("div"),ie=fe.createElement("div");ie.style&&(ie.style.backgroundClip="content-box",ie.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===ie.style.backgroundClip,jQuery.extend(de,{boxSizingReliable:function(){return computeStyleTests(),I},pixelBoxStyles:function(){return computeStyleTests(),q},pixelPosition:function(){return computeStyleTests(),C},reliableMarginLeft:function(){return computeStyleTests(),ee},scrollboxSize:function(){return computeStyleTests(),B},reliableTrDimensions:function(){var C,I,B,q;return null==Q&&(C=fe.createElement("table"),I=fe.createElement("tr"),B=fe.createElement("div"),C.style.cssText="position:absolute;left:-11111px;border-collapse:separate",I.style.cssText="box-sizing:content-box;border:1px solid",I.style.height="1px",B.style.height="9px",B.style.display="block",Ge.appendChild(C).appendChild(I).appendChild(B),q=z.getComputedStyle(I),Q=parseInt(q.height,10)+parseInt(q.borderTopWidth,10)+parseInt(q.borderBottomWidth,10)===I.offsetHeight,Ge.removeChild(C)),Q}}))}();var ot=["Webkit","Moz","ms"],at=fe.createElement("div").style,ut={};function finalPropName(C){var I=jQuery.cssProps[C]||ut[C];return I||(C in at?C:ut[C]=function vendorPropName(C){for(var I=C[0].toUpperCase()+C.slice(1),B=ot.length;B--;)if((C=ot[B]+I)in at)return C}(C)||C)}var dt=/^(none|table(?!-c[ea]).+)/,ct={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(C,I,B){var z=Ve.exec(I);return z?Math.max(0,z[2]-(B||0))+(z[3]||"px"):I}function boxModelAdjustment(C,I,B,z,q,Q){var ee="width"===I?1:0,te=0,ie=0,re=0;if(B===(z?"border":"content"))return 0;for(;ee<4;ee+=2)"margin"===B&&(re+=jQuery.css(C,B+He[ee],!0,q)),z?("content"===B&&(ie-=jQuery.css(C,"padding"+He[ee],!0,q)),"margin"!==B&&(ie-=jQuery.css(C,"border"+He[ee]+"Width",!0,q))):(ie+=jQuery.css(C,"padding"+He[ee],!0,q),"padding"!==B?ie+=jQuery.css(C,"border"+He[ee]+"Width",!0,q):te+=jQuery.css(C,"border"+He[ee]+"Width",!0,q));return!z&&Q>=0&&(ie+=Math.max(0,Math.ceil(C["offset"+I[0].toUpperCase()+I.slice(1)]-Q-ie-te-.5))||0),ie+re}function getWidthOrHeight(C,I,B){var z=getStyles(C),q=(!de.boxSizingReliable()||B)&&"border-box"===jQuery.css(C,"boxSizing",!1,z),Q=q,ee=curCSS(C,I,z),te="offset"+I[0].toUpperCase()+I.slice(1);if(rt.test(ee)){if(!B)return ee;ee="auto"}return(!de.boxSizingReliable()&&q||!de.reliableTrDimensions()&&nodeName(C,"tr")||"auto"===ee||!parseFloat(ee)&&"inline"===jQuery.css(C,"display",!1,z))&&C.getClientRects().length&&(q="border-box"===jQuery.css(C,"boxSizing",!1,z),(Q=te in C)&&(ee=C[te])),(ee=parseFloat(ee)||0)+boxModelAdjustment(C,I,B||(q?"border":"content"),Q,z,ee)+"px"}function Tween(C,I,B,z,q){return new Tween.prototype.init(C,I,B,z,q)}jQuery.extend({cssHooks:{opacity:{get:function(C,I){if(I){var B=curCSS(C,"opacity");return""===B?"1":B}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(C,I,B,z){if(C&&3!==C.nodeType&&8!==C.nodeType&&C.style){var q,Q,ee,te=camelCase(I),ie=nt.test(I),re=C.style;if(ie||(I=finalPropName(te)),ee=jQuery.cssHooks[I]||jQuery.cssHooks[te],void 0===B)return ee&&"get"in ee&&void 0!==(q=ee.get(C,!1,z))?q:re[I];"string"===(Q=typeof B)&&(q=Ve.exec(B))&&q[1]&&(B=adjustCSS(C,I,q),Q="number"),null!=B&&B==B&&("number"!==Q||ie||(B+=q&&q[3]||(jQuery.cssNumber[te]?"":"px")),de.clearCloneStyle||""!==B||0!==I.indexOf("background")||(re[I]="inherit"),ee&&"set"in ee&&void 0===(B=ee.set(C,B,z))||(ie?re.setProperty(I,B):re[I]=B))}},css:function(C,I,B,z){var q,Q,ee,te=camelCase(I);return nt.test(I)||(I=finalPropName(te)),(ee=jQuery.cssHooks[I]||jQuery.cssHooks[te])&&"get"in ee&&(q=ee.get(C,!0,B)),void 0===q&&(q=curCSS(C,I,z)),"normal"===q&&I in ht&&(q=ht[I]),""===B||B?(Q=parseFloat(q),!0===B||isFinite(Q)?Q||0:q):q}}),jQuery.each(["height","width"],(function(C,I){jQuery.cssHooks[I]={get:function(C,B,z){if(B)return!dt.test(jQuery.css(C,"display"))||C.getClientRects().length&&C.getBoundingClientRect().width?getWidthOrHeight(C,I,z):swap(C,ct,(function(){return getWidthOrHeight(C,I,z)}))},set:function(C,B,z){var q,Q=getStyles(C),ee=!de.scrollboxSize()&&"absolute"===Q.position,te=(ee||z)&&"border-box"===jQuery.css(C,"boxSizing",!1,Q),ie=z?boxModelAdjustment(C,I,z,te,Q):0;return te&&ee&&(ie-=Math.ceil(C["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(Q[I])-boxModelAdjustment(C,I,"border",!1,Q)-.5)),ie&&(q=Ve.exec(B))&&"px"!==(q[3]||"px")&&(C.style[I]=B,B=jQuery.css(C,I)),setPositiveNumber(0,B,ie)}}})),jQuery.cssHooks.marginLeft=addGetHookIf(de.reliableMarginLeft,(function(C,I){if(I)return(parseFloat(curCSS(C,"marginLeft"))||C.getBoundingClientRect().left-swap(C,{marginLeft:0},(function(){return C.getBoundingClientRect().left})))+"px"})),jQuery.each({margin:"",padding:"",border:"Width"},(function(C,I){jQuery.cssHooks[C+I]={expand:function(B){for(var z=0,q={},Q="string"==typeof B?B.split(" "):[B];z<4;z++)q[C+He[z]+I]=Q[z]||Q[z-2]||Q[0];return q}},"margin"!==C&&(jQuery.cssHooks[C+I].set=setPositiveNumber)})),jQuery.fn.extend({css:function(C,I){return access(this,(function(C,I,B){var z,q,Q={},ee=0;if(Array.isArray(I)){for(z=getStyles(C),q=I.length;ee<q;ee++)Q[I[ee]]=jQuery.css(C,I[ee],!1,z);return Q}return void 0!==B?jQuery.style(C,I,B):jQuery.css(C,I)}),C,I,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(C,I,B,z,q,Q){this.elem=C,this.prop=B,this.easing=q||jQuery.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=z,this.unit=Q||(jQuery.cssNumber[B]?"":"px")},cur:function(){var C=Tween.propHooks[this.prop];return C&&C.get?C.get(this):Tween.propHooks._default.get(this)},run:function(C){var I,B=Tween.propHooks[this.prop];return this.options.duration?this.pos=I=jQuery.easing[this.easing](C,this.options.duration*C,0,1,this.options.duration):this.pos=I=C,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),B&&B.set?B.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(C){var I;return 1!==C.elem.nodeType||null!=C.elem[C.prop]&&null==C.elem.style[C.prop]?C.elem[C.prop]:(I=jQuery.css(C.elem,C.prop,""))&&"auto"!==I?I:0},set:function(C){jQuery.fx.step[C.prop]?jQuery.fx.step[C.prop](C):1!==C.elem.nodeType||!jQuery.cssHooks[C.prop]&&null==C.elem.style[finalPropName(C.prop)]?C.elem[C.prop]=C.now:jQuery.style(C.elem,C.prop,C.now+C.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(C){C.elem.nodeType&&C.elem.parentNode&&(C.elem[C.prop]=C.now)}},jQuery.easing={linear:function(C){return C},swing:function(C){return.5-Math.cos(C*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var pt,mt,vt=/^(?:toggle|show|hide)$/,yt=/queueHooks$/;function schedule(){mt&&(!1===fe.hidden&&z.requestAnimationFrame?z.requestAnimationFrame(schedule):z.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return z.setTimeout((function(){pt=void 0})),pt=Date.now()}function genFx(C,I){var B,z=0,q={height:C};for(I=I?1:0;z<4;z+=2-I)q["margin"+(B=He[z])]=q["padding"+B]=C;return I&&(q.opacity=q.width=C),q}function createTween(C,I,B){for(var z,q=(Animation.tweeners[I]||[]).concat(Animation.tweeners["*"]),Q=0,ee=q.length;Q<ee;Q++)if(z=q[Q].call(B,I,C))return z}function Animation(C,I,B){var z,q,Q=0,ee=Animation.prefilters.length,te=jQuery.Deferred().always((function(){delete tick.elem})),tick=function(){if(q)return!1;for(var I=pt||createFxNow(),B=Math.max(0,ie.startTime+ie.duration-I),z=1-(B/ie.duration||0),Q=0,ee=ie.tweens.length;Q<ee;Q++)ie.tweens[Q].run(z);return te.notifyWith(C,[ie,z,B]),z<1&&ee?B:(ee||te.notifyWith(C,[ie,1,0]),te.resolveWith(C,[ie]),!1)},ie=te.promise({elem:C,props:jQuery.extend({},I),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},B),originalProperties:I,originalOptions:B,startTime:pt||createFxNow(),duration:B.duration,tweens:[],createTween:function(I,B){var z=jQuery.Tween(C,ie.opts,I,B,ie.opts.specialEasing[I]||ie.opts.easing);return ie.tweens.push(z),z},stop:function(I){var B=0,z=I?ie.tweens.length:0;if(q)return this;for(q=!0;B<z;B++)ie.tweens[B].run(1);return I?(te.notifyWith(C,[ie,1,0]),te.resolveWith(C,[ie,I])):te.rejectWith(C,[ie,I]),this}}),re=ie.props;for(!function propFilter(C,I){var B,z,q,Q,ee;for(B in C)if(q=I[z=camelCase(B)],Q=C[B],Array.isArray(Q)&&(q=Q[1],Q=C[B]=Q[0]),B!==z&&(C[z]=Q,delete C[B]),(ee=jQuery.cssHooks[z])&&"expand"in ee)for(B in Q=ee.expand(Q),delete C[z],Q)B in C||(C[B]=Q[B],I[B]=q);else I[z]=q}(re,ie.opts.specialEasing);Q<ee;Q++)if(z=Animation.prefilters[Q].call(ie,C,re,ie.opts))return ce(z.stop)&&(jQuery._queueHooks(ie.elem,ie.opts.queue).stop=z.stop.bind(z)),z;return jQuery.map(re,createTween,ie),ce(ie.opts.start)&&ie.opts.start.call(C,ie),ie.progress(ie.opts.progress).done(ie.opts.done,ie.opts.complete).fail(ie.opts.fail).always(ie.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:C,anim:ie,queue:ie.opts.queue})),ie}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(C,I){var B=this.createTween(C,I);return adjustCSS(B.elem,C,Ve.exec(I),B),B}]},tweener:function(C,I){ce(C)?(I=C,C=["*"]):C=C.match(Ie);for(var B,z=0,q=C.length;z<q;z++)B=C[z],Animation.tweeners[B]=Animation.tweeners[B]||[],Animation.tweeners[B].unshift(I)},prefilters:[function defaultPrefilter(C,I,B){var z,q,Q,ee,te,ie,re,ne,se="width"in I||"height"in I,oe=this,ae={},le=C.style,ue=C.nodeType&&isHiddenWithinTree(C),de=Oe.get(C,"fxshow");for(z in B.queue||(null==(ee=jQuery._queueHooks(C,"fx")).unqueued&&(ee.unqueued=0,te=ee.empty.fire,ee.empty.fire=function(){ee.unqueued||te()}),ee.unqueued++,oe.always((function(){oe.always((function(){ee.unqueued--,jQuery.queue(C,"fx").length||ee.empty.fire()}))}))),I)if(q=I[z],vt.test(q)){if(delete I[z],Q=Q||"toggle"===q,q===(ue?"hide":"show")){if("show"!==q||!de||void 0===de[z])continue;ue=!0}ae[z]=de&&de[z]||jQuery.style(C,z)}if((ie=!jQuery.isEmptyObject(I))||!jQuery.isEmptyObject(ae))for(z in se&&1===C.nodeType&&(B.overflow=[le.overflow,le.overflowX,le.overflowY],null==(re=de&&de.display)&&(re=Oe.get(C,"display")),"none"===(ne=jQuery.css(C,"display"))&&(re?ne=re:(showHide([C],!0),re=C.style.display||re,ne=jQuery.css(C,"display"),showHide([C]))),("inline"===ne||"inline-block"===ne&&null!=re)&&"none"===jQuery.css(C,"float")&&(ie||(oe.done((function(){le.display=re})),null==re&&(ne=le.display,re="none"===ne?"":ne)),le.display="inline-block")),B.overflow&&(le.overflow="hidden",oe.always((function(){le.overflow=B.overflow[0],le.overflowX=B.overflow[1],le.overflowY=B.overflow[2]}))),ie=!1,ae)ie||(de?"hidden"in de&&(ue=de.hidden):de=Oe.access(C,"fxshow",{display:re}),Q&&(de.hidden=!ue),ue&&showHide([C],!0),oe.done((function(){for(z in ue||showHide([C]),Oe.remove(C,"fxshow"),ae)jQuery.style(C,z,ae[z])}))),ie=createTween(ue?de[z]:0,z,oe),z in de||(de[z]=ie.start,ue&&(ie.end=ie.start,ie.start=0))}],prefilter:function(C,I){I?Animation.prefilters.unshift(C):Animation.prefilters.push(C)}}),jQuery.speed=function(C,I,B){var z=C&&"object"==typeof C?jQuery.extend({},C):{complete:B||!B&&I||ce(C)&&C,duration:C,easing:B&&I||I&&!ce(I)&&I};return jQuery.fx.off?z.duration=0:"number"!=typeof z.duration&&(z.duration in jQuery.fx.speeds?z.duration=jQuery.fx.speeds[z.duration]:z.duration=jQuery.fx.speeds._default),null!=z.queue&&!0!==z.queue||(z.queue="fx"),z.old=z.complete,z.complete=function(){ce(z.old)&&z.old.call(this),z.queue&&jQuery.dequeue(this,z.queue)},z},jQuery.fn.extend({fadeTo:function(C,I,B,z){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:I},C,B,z)},animate:function(C,I,B,z){var q=jQuery.isEmptyObject(C),Q=jQuery.speed(I,B,z),doAnimation=function(){var I=Animation(this,jQuery.extend({},C),Q);(q||Oe.get(this,"finish"))&&I.stop(!0)};return doAnimation.finish=doAnimation,q||!1===Q.queue?this.each(doAnimation):this.queue(Q.queue,doAnimation)},stop:function(C,I,B){var stopQueue=function(C){var I=C.stop;delete C.stop,I(B)};return"string"!=typeof C&&(B=I,I=C,C=void 0),I&&this.queue(C||"fx",[]),this.each((function(){var I=!0,z=null!=C&&C+"queueHooks",q=jQuery.timers,Q=Oe.get(this);if(z)Q[z]&&Q[z].stop&&stopQueue(Q[z]);else for(z in Q)Q[z]&&Q[z].stop&&yt.test(z)&&stopQueue(Q[z]);for(z=q.length;z--;)q[z].elem!==this||null!=C&&q[z].queue!==C||(q[z].anim.stop(B),I=!1,q.splice(z,1));!I&&B||jQuery.dequeue(this,C)}))},finish:function(C){return!1!==C&&(C=C||"fx"),this.each((function(){var I,B=Oe.get(this),z=B[C+"queue"],q=B[C+"queueHooks"],Q=jQuery.timers,ee=z?z.length:0;for(B.finish=!0,jQuery.queue(this,C,[]),q&&q.stop&&q.stop.call(this,!0),I=Q.length;I--;)Q[I].elem===this&&Q[I].queue===C&&(Q[I].anim.stop(!0),Q.splice(I,1));for(I=0;I<ee;I++)z[I]&&z[I].finish&&z[I].finish.call(this);delete B.finish}))}}),jQuery.each(["toggle","show","hide"],(function(C,I){var B=jQuery.fn[I];jQuery.fn[I]=function(C,z,q){return null==C||"boolean"==typeof C?B.apply(this,arguments):this.animate(genFx(I,!0),C,z,q)}})),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(C,I){jQuery.fn[C]=function(C,B,z){return this.animate(I,C,B,z)}})),jQuery.timers=[],jQuery.fx.tick=function(){var C,I=0,B=jQuery.timers;for(pt=Date.now();I<B.length;I++)(C=B[I])()||B[I]!==C||B.splice(I--,1);B.length||jQuery.fx.stop(),pt=void 0},jQuery.fx.timer=function(C){jQuery.timers.push(C),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){mt||(mt=!0,schedule())},jQuery.fx.stop=function(){mt=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(C,I){return C=jQuery.fx&&jQuery.fx.speeds[C]||C,I=I||"fx",this.queue(I,(function(I,B){var q=z.setTimeout(I,C);B.stop=function(){z.clearTimeout(q)}}))},function(){var C=fe.createElement("input"),I=fe.createElement("select").appendChild(fe.createElement("option"));C.type="checkbox",de.checkOn=""!==C.value,de.optSelected=I.selected,(C=fe.createElement("input")).value="t",C.type="radio",de.radioValue="t"===C.value}();var bt,Ct=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(C,I){return access(this,jQuery.attr,C,I,arguments.length>1)},removeAttr:function(C){return this.each((function(){jQuery.removeAttr(this,C)}))}}),jQuery.extend({attr:function(C,I,B){var z,q,Q=C.nodeType;if(3!==Q&&8!==Q&&2!==Q)return void 0===C.getAttribute?jQuery.prop(C,I,B):(1===Q&&jQuery.isXMLDoc(C)||(q=jQuery.attrHooks[I.toLowerCase()]||(jQuery.expr.match.bool.test(I)?bt:void 0)),void 0!==B?null===B?void jQuery.removeAttr(C,I):q&&"set"in q&&void 0!==(z=q.set(C,B,I))?z:(C.setAttribute(I,B+""),B):q&&"get"in q&&null!==(z=q.get(C,I))?z:null==(z=jQuery.find.attr(C,I))?void 0:z)},attrHooks:{type:{set:function(C,I){if(!de.radioValue&&"radio"===I&&nodeName(C,"input")){var B=C.value;return C.setAttribute("type",I),B&&(C.value=B),I}}}},removeAttr:function(C,I){var B,z=0,q=I&&I.match(Ie);if(q&&1===C.nodeType)for(;B=q[z++];)C.removeAttribute(B)}}),bt={set:function(C,I,B){return!1===I?jQuery.removeAttr(C,B):C.setAttribute(B,B),B}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(function(C,I){var B=Ct[I]||jQuery.find.attr;Ct[I]=function(C,I,z){var q,Q,ee=I.toLowerCase();return z||(Q=Ct[ee],Ct[ee]=q,q=null!=B(C,I,z)?ee:null,Ct[ee]=Q),q}}));var wt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function stripAndCollapse(C){return(C.match(Ie)||[]).join(" ")}function getClass(C){return C.getAttribute&&C.getAttribute("class")||""}function classesToArray(C){return Array.isArray(C)?C:"string"==typeof C&&C.match(Ie)||[]}jQuery.fn.extend({prop:function(C,I){return access(this,jQuery.prop,C,I,arguments.length>1)},removeProp:function(C){return this.each((function(){delete this[jQuery.propFix[C]||C]}))}}),jQuery.extend({prop:function(C,I,B){var z,q,Q=C.nodeType;if(3!==Q&&8!==Q&&2!==Q)return 1===Q&&jQuery.isXMLDoc(C)||(I=jQuery.propFix[I]||I,q=jQuery.propHooks[I]),void 0!==B?q&&"set"in q&&void 0!==(z=q.set(C,B,I))?z:C[I]=B:q&&"get"in q&&null!==(z=q.get(C,I))?z:C[I]},propHooks:{tabIndex:{get:function(C){var I=jQuery.find.attr(C,"tabindex");return I?parseInt(I,10):wt.test(C.nodeName)||_t.test(C.nodeName)&&C.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),de.optSelected||(jQuery.propHooks.selected={get:function(C){var I=C.parentNode;return I&&I.parentNode&&I.parentNode.selectedIndex,null},set:function(C){var I=C.parentNode;I&&(I.selectedIndex,I.parentNode&&I.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){jQuery.propFix[this.toLowerCase()]=this})),jQuery.fn.extend({addClass:function(C){var I,B,z,q,Q,ee;return ce(C)?this.each((function(I){jQuery(this).addClass(C.call(this,I,getClass(this)))})):(I=classesToArray(C)).length?this.each((function(){if(z=getClass(this),B=1===this.nodeType&&" "+stripAndCollapse(z)+" "){for(Q=0;Q<I.length;Q++)q=I[Q],B.indexOf(" "+q+" ")<0&&(B+=q+" ");ee=stripAndCollapse(B),z!==ee&&this.setAttribute("class",ee)}})):this},removeClass:function(C){var I,B,z,q,Q,ee;return ce(C)?this.each((function(I){jQuery(this).removeClass(C.call(this,I,getClass(this)))})):arguments.length?(I=classesToArray(C)).length?this.each((function(){if(z=getClass(this),B=1===this.nodeType&&" "+stripAndCollapse(z)+" "){for(Q=0;Q<I.length;Q++)for(q=I[Q];B.indexOf(" "+q+" ")>-1;)B=B.replace(" "+q+" "," ");ee=stripAndCollapse(B),z!==ee&&this.setAttribute("class",ee)}})):this:this.attr("class","")},toggleClass:function(C,I){var B,z,q,Q,ee=typeof C,te="string"===ee||Array.isArray(C);return ce(C)?this.each((function(B){jQuery(this).toggleClass(C.call(this,B,getClass(this),I),I)})):"boolean"==typeof I&&te?I?this.addClass(C):this.removeClass(C):(B=classesToArray(C),this.each((function(){if(te)for(Q=jQuery(this),q=0;q<B.length;q++)z=B[q],Q.hasClass(z)?Q.removeClass(z):Q.addClass(z);else void 0!==C&&"boolean"!==ee||((z=getClass(this))&&Oe.set(this,"__className__",z),this.setAttribute&&this.setAttribute("class",z||!1===C?"":Oe.get(this,"__className__")||""))})))},hasClass:function(C){var I,B,z=0;for(I=" "+C+" ";B=this[z++];)if(1===B.nodeType&&(" "+stripAndCollapse(getClass(B))+" ").indexOf(I)>-1)return!0;return!1}});var St=/\r/g;jQuery.fn.extend({val:function(C){var I,B,z,q=this[0];return arguments.length?(z=ce(C),this.each((function(B){var q;1===this.nodeType&&(null==(q=z?C.call(this,B,jQuery(this).val()):C)?q="":"number"==typeof q?q+="":Array.isArray(q)&&(q=jQuery.map(q,(function(C){return null==C?"":C+""}))),(I=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in I&&void 0!==I.set(this,q,"value")||(this.value=q))}))):q?(I=jQuery.valHooks[q.type]||jQuery.valHooks[q.nodeName.toLowerCase()])&&"get"in I&&void 0!==(B=I.get(q,"value"))?B:"string"==typeof(B=q.value)?B.replace(St,""):null==B?"":B:void 0}}),jQuery.extend({valHooks:{option:{get:function(C){var I=jQuery.find.attr(C,"value");return null!=I?I:stripAndCollapse(jQuery.text(C))}},select:{get:function(C){var I,B,z,q=C.options,Q=C.selectedIndex,ee="select-one"===C.type,te=ee?null:[],ie=ee?Q+1:q.length;for(z=Q<0?ie:ee?Q:0;z<ie;z++)if(((B=q[z]).selected||z===Q)&&!B.disabled&&(!B.parentNode.disabled||!nodeName(B.parentNode,"optgroup"))){if(I=jQuery(B).val(),ee)return I;te.push(I)}return te},set:function(C,I){for(var B,z,q=C.options,Q=jQuery.makeArray(I),ee=q.length;ee--;)((z=q[ee]).selected=jQuery.inArray(jQuery.valHooks.option.get(z),Q)>-1)&&(B=!0);return B||(C.selectedIndex=-1),Q}}}}),jQuery.each(["radio","checkbox"],(function(){jQuery.valHooks[this]={set:function(C,I){if(Array.isArray(I))return C.checked=jQuery.inArray(jQuery(C).val(),I)>-1}},de.checkOn||(jQuery.valHooks[this].get=function(C){return null===C.getAttribute("value")?"on":C.value})}));var xt=z.location,kt={guid:Date.now()},Tt=/\?/;jQuery.parseXML=function(C){var I,B;if(!C||"string"!=typeof C)return null;try{I=(new z.DOMParser).parseFromString(C,"text/xml")}catch(C){}return B=I&&I.getElementsByTagName("parsererror")[0],I&&!B||jQuery.error("Invalid XML: "+(B?jQuery.map(B.childNodes,(function(C){return C.textContent})).join("\n"):C)),I};var Mt=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(C){C.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(C,I,B,q){var Q,ee,te,ie,re,ne,se,oe,le=[B||fe],ue=ae.call(C,"type")?C.type:C,de=ae.call(C,"namespace")?C.namespace.split("."):[];if(ee=oe=te=B=B||fe,3!==B.nodeType&&8!==B.nodeType&&!Mt.test(ue+jQuery.event.triggered)&&(ue.indexOf(".")>-1&&(de=ue.split("."),ue=de.shift(),de.sort()),re=ue.indexOf(":")<0&&"on"+ue,(C=C[jQuery.expando]?C:new jQuery.Event(ue,"object"==typeof C&&C)).isTrigger=q?2:3,C.namespace=de.join("."),C.rnamespace=C.namespace?new RegExp("(^|\\.)"+de.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,C.result=void 0,C.target||(C.target=B),I=null==I?[C]:jQuery.makeArray(I,[C]),se=jQuery.event.special[ue]||{},q||!se.trigger||!1!==se.trigger.apply(B,I))){if(!q&&!se.noBubble&&!he(B)){for(ie=se.delegateType||ue,Mt.test(ie+ue)||(ee=ee.parentNode);ee;ee=ee.parentNode)le.push(ee),te=ee;te===(B.ownerDocument||fe)&&le.push(te.defaultView||te.parentWindow||z)}for(Q=0;(ee=le[Q++])&&!C.isPropagationStopped();)oe=ee,C.type=Q>1?ie:se.bindType||ue,(ne=(Oe.get(ee,"events")||Object.create(null))[C.type]&&Oe.get(ee,"handle"))&&ne.apply(ee,I),(ne=re&&ee[re])&&ne.apply&&acceptData(ee)&&(C.result=ne.apply(ee,I),!1===C.result&&C.preventDefault());return C.type=ue,q||C.isDefaultPrevented()||se._default&&!1!==se._default.apply(le.pop(),I)||!acceptData(B)||re&&ce(B[ue])&&!he(B)&&((te=B[re])&&(B[re]=null),jQuery.event.triggered=ue,C.isPropagationStopped()&&oe.addEventListener(ue,stopPropagationCallback),B[ue](),C.isPropagationStopped()&&oe.removeEventListener(ue,stopPropagationCallback),jQuery.event.triggered=void 0,te&&(B[re]=te)),C.result}},simulate:function(C,I,B){var z=jQuery.extend(new jQuery.Event,B,{type:C,isSimulated:!0});jQuery.event.trigger(z,null,I)}}),jQuery.fn.extend({trigger:function(C,I){return this.each((function(){jQuery.event.trigger(C,I,this)}))},triggerHandler:function(C,I){var B=this[0];if(B)return jQuery.event.trigger(C,I,B,!0)}});var Rt=/\[\]$/,Et=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function buildParams(C,I,B,z){var q;if(Array.isArray(I))jQuery.each(I,(function(I,q){B||Rt.test(C)?z(C,q):buildParams(C+"["+("object"==typeof q&&null!=q?I:"")+"]",q,B,z)}));else if(B||"object"!==toType(I))z(C,I);else for(q in I)buildParams(C+"["+q+"]",I[q],B,z)}jQuery.param=function(C,I){var B,z=[],add=function(C,I){var B=ce(I)?I():I;z[z.length]=encodeURIComponent(C)+"="+encodeURIComponent(null==B?"":B)};if(null==C)return"";if(Array.isArray(C)||C.jquery&&!jQuery.isPlainObject(C))jQuery.each(C,(function(){add(this.name,this.value)}));else for(B in C)buildParams(B,C[B],I,add);return z.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var C=jQuery.prop(this,"elements");return C?jQuery.makeArray(C):this})).filter((function(){var C=this.type;return this.name&&!jQuery(this).is(":disabled")&&It.test(this.nodeName)&&!Pt.test(C)&&(this.checked||!Ke.test(C))})).map((function(C,I){var B=jQuery(this).val();return null==B?null:Array.isArray(B)?jQuery.map(B,(function(C){return{name:I.name,value:C.replace(Et,"\r\n")}})):{name:I.name,value:B.replace(Et,"\r\n")}})).get()}});var Nt=/%20/g,At=/#.*$/,Dt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Bt=/^\/\//,Lt={},jt={},$t="*/".concat("*"),Vt=fe.createElement("a");function addToPrefiltersOrTransports(C){return function(I,B){"string"!=typeof I&&(B=I,I="*");var z,q=0,Q=I.toLowerCase().match(Ie)||[];if(ce(B))for(;z=Q[q++];)"+"===z[0]?(z=z.slice(1)||"*",(C[z]=C[z]||[]).unshift(B)):(C[z]=C[z]||[]).push(B)}}function inspectPrefiltersOrTransports(C,I,B,z){var q={},Q=C===jt;function inspect(ee){var te;return q[ee]=!0,jQuery.each(C[ee]||[],(function(C,ee){var ie=ee(I,B,z);return"string"!=typeof ie||Q||q[ie]?Q?!(te=ie):void 0:(I.dataTypes.unshift(ie),inspect(ie),!1)})),te}return inspect(I.dataTypes[0])||!q["*"]&&inspect("*")}function ajaxExtend(C,I){var B,z,q=jQuery.ajaxSettings.flatOptions||{};for(B in I)void 0!==I[B]&&((q[B]?C:z||(z={}))[B]=I[B]);return z&&jQuery.extend(!0,C,z),C}Vt.href=xt.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(C,I){return I?ajaxExtend(ajaxExtend(C,jQuery.ajaxSettings),I):ajaxExtend(jQuery.ajaxSettings,C)},ajaxPrefilter:addToPrefiltersOrTransports(Lt),ajaxTransport:addToPrefiltersOrTransports(jt),ajax:function(C,I){"object"==typeof C&&(I=C,C=void 0),I=I||{};var B,q,Q,ee,te,ie,re,ne,se,oe,ae=jQuery.ajaxSetup({},I),le=ae.context||ae,ue=ae.context&&(le.nodeType||le.jquery)?jQuery(le):jQuery.event,de=jQuery.Deferred(),ce=jQuery.Callbacks("once memory"),he=ae.statusCode||{},pe={},me={},ge="canceled",ve={readyState:0,getResponseHeader:function(C){var I;if(re){if(!ee)for(ee={};I=Ft.exec(Q);)ee[I[1].toLowerCase()+" "]=(ee[I[1].toLowerCase()+" "]||[]).concat(I[2]);I=ee[C.toLowerCase()+" "]}return null==I?null:I.join(", ")},getAllResponseHeaders:function(){return re?Q:null},setRequestHeader:function(C,I){return null==re&&(C=me[C.toLowerCase()]=me[C.toLowerCase()]||C,pe[C]=I),this},overrideMimeType:function(C){return null==re&&(ae.mimeType=C),this},statusCode:function(C){var I;if(C)if(re)ve.always(C[ve.status]);else for(I in C)he[I]=[he[I],C[I]];return this},abort:function(C){var I=C||ge;return B&&B.abort(I),done(0,I),this}};if(de.promise(ve),ae.url=((C||ae.url||xt.href)+"").replace(Bt,xt.protocol+"//"),ae.type=I.method||I.type||ae.method||ae.type,ae.dataTypes=(ae.dataType||"*").toLowerCase().match(Ie)||[""],null==ae.crossDomain){ie=fe.createElement("a");try{ie.href=ae.url,ie.href=ie.href,ae.crossDomain=Vt.protocol+"//"+Vt.host!=ie.protocol+"//"+ie.host}catch(C){ae.crossDomain=!0}}if(ae.data&&ae.processData&&"string"!=typeof ae.data&&(ae.data=jQuery.param(ae.data,ae.traditional)),inspectPrefiltersOrTransports(Lt,ae,I,ve),re)return ve;for(se in(ne=jQuery.event&&ae.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),ae.type=ae.type.toUpperCase(),ae.hasContent=!Ot.test(ae.type),q=ae.url.replace(At,""),ae.hasContent?ae.data&&ae.processData&&0===(ae.contentType||"").indexOf("application/x-www-form-urlencoded")&&(ae.data=ae.data.replace(Nt,"+")):(oe=ae.url.slice(q.length),ae.data&&(ae.processData||"string"==typeof ae.data)&&(q+=(Tt.test(q)?"&":"?")+ae.data,delete ae.data),!1===ae.cache&&(q=q.replace(Dt,"$1"),oe=(Tt.test(q)?"&":"?")+"_="+kt.guid+++oe),ae.url=q+oe),ae.ifModified&&(jQuery.lastModified[q]&&ve.setRequestHeader("If-Modified-Since",jQuery.lastModified[q]),jQuery.etag[q]&&ve.setRequestHeader("If-None-Match",jQuery.etag[q])),(ae.data&&ae.hasContent&&!1!==ae.contentType||I.contentType)&&ve.setRequestHeader("Content-Type",ae.contentType),ve.setRequestHeader("Accept",ae.dataTypes[0]&&ae.accepts[ae.dataTypes[0]]?ae.accepts[ae.dataTypes[0]]+("*"!==ae.dataTypes[0]?", "+$t+"; q=0.01":""):ae.accepts["*"]),ae.headers)ve.setRequestHeader(se,ae.headers[se]);if(ae.beforeSend&&(!1===ae.beforeSend.call(le,ve,ae)||re))return ve.abort();if(ge="abort",ce.add(ae.complete),ve.done(ae.success),ve.fail(ae.error),B=inspectPrefiltersOrTransports(jt,ae,I,ve)){if(ve.readyState=1,ne&&ue.trigger("ajaxSend",[ve,ae]),re)return ve;ae.async&&ae.timeout>0&&(te=z.setTimeout((function(){ve.abort("timeout")}),ae.timeout));try{re=!1,B.send(pe,done)}catch(C){if(re)throw C;done(-1,C)}}else done(-1,"No Transport");function done(C,I,ee,ie){var se,oe,fe,pe,me,ge=I;re||(re=!0,te&&z.clearTimeout(te),B=void 0,Q=ie||"",ve.readyState=C>0?4:0,se=C>=200&&C<300||304===C,ee&&(pe=function ajaxHandleResponses(C,I,B){for(var z,q,Q,ee,te=C.contents,ie=C.dataTypes;"*"===ie[0];)ie.shift(),void 0===z&&(z=C.mimeType||I.getResponseHeader("Content-Type"));if(z)for(q in te)if(te[q]&&te[q].test(z)){ie.unshift(q);break}if(ie[0]in B)Q=ie[0];else{for(q in B){if(!ie[0]||C.converters[q+" "+ie[0]]){Q=q;break}ee||(ee=q)}Q=Q||ee}if(Q)return Q!==ie[0]&&ie.unshift(Q),B[Q]}(ae,ve,ee)),!se&&jQuery.inArray("script",ae.dataTypes)>-1&&jQuery.inArray("json",ae.dataTypes)<0&&(ae.converters["text script"]=function(){}),pe=function ajaxConvert(C,I,B,z){var q,Q,ee,te,ie,re={},ne=C.dataTypes.slice();if(ne[1])for(ee in C.converters)re[ee.toLowerCase()]=C.converters[ee];for(Q=ne.shift();Q;)if(C.responseFields[Q]&&(B[C.responseFields[Q]]=I),!ie&&z&&C.dataFilter&&(I=C.dataFilter(I,C.dataType)),ie=Q,Q=ne.shift())if("*"===Q)Q=ie;else if("*"!==ie&&ie!==Q){if(!(ee=re[ie+" "+Q]||re["* "+Q]))for(q in re)if((te=q.split(" "))[1]===Q&&(ee=re[ie+" "+te[0]]||re["* "+te[0]])){!0===ee?ee=re[q]:!0!==re[q]&&(Q=te[0],ne.unshift(te[1]));break}if(!0!==ee)if(ee&&C.throws)I=ee(I);else try{I=ee(I)}catch(C){return{state:"parsererror",error:ee?C:"No conversion from "+ie+" to "+Q}}}return{state:"success",data:I}}(ae,pe,ve,se),se?(ae.ifModified&&((me=ve.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[q]=me),(me=ve.getResponseHeader("etag"))&&(jQuery.etag[q]=me)),204===C||"HEAD"===ae.type?ge="nocontent":304===C?ge="notmodified":(ge=pe.state,oe=pe.data,se=!(fe=pe.error))):(fe=ge,!C&&ge||(ge="error",C<0&&(C=0))),ve.status=C,ve.statusText=(I||ge)+"",se?de.resolveWith(le,[oe,ge,ve]):de.rejectWith(le,[ve,ge,fe]),ve.statusCode(he),he=void 0,ne&&ue.trigger(se?"ajaxSuccess":"ajaxError",[ve,ae,se?oe:fe]),ce.fireWith(le,[ve,ge]),ne&&(ue.trigger("ajaxComplete",[ve,ae]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return ve},getJSON:function(C,I,B){return jQuery.get(C,I,B,"json")},getScript:function(C,I){return jQuery.get(C,void 0,I,"script")}}),jQuery.each(["get","post"],(function(C,I){jQuery[I]=function(C,B,z,q){return ce(B)&&(q=q||z,z=B,B=void 0),jQuery.ajax(jQuery.extend({url:C,type:I,dataType:q,data:B,success:z},jQuery.isPlainObject(C)&&C))}})),jQuery.ajaxPrefilter((function(C){var I;for(I in C.headers)"content-type"===I.toLowerCase()&&(C.contentType=C.headers[I]||"")})),jQuery._evalUrl=function(C,I,B){return jQuery.ajax({url:C,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){jQuery.globalEval(C,I,B)}})},jQuery.fn.extend({wrapAll:function(C){var I;return this[0]&&(ce(C)&&(C=C.call(this[0])),I=jQuery(C,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map((function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C})).append(this)),this},wrapInner:function(C){return ce(C)?this.each((function(I){jQuery(this).wrapInner(C.call(this,I))})):this.each((function(){var I=jQuery(this),B=I.contents();B.length?B.wrapAll(C):I.append(C)}))},wrap:function(C){var I=ce(C);return this.each((function(B){jQuery(this).wrapAll(I?C.call(this,B):C)}))},unwrap:function(C){return this.parent(C).not("body").each((function(){jQuery(this).replaceWith(this.childNodes)})),this}}),jQuery.expr.pseudos.hidden=function(C){return!jQuery.expr.pseudos.visible(C)},jQuery.expr.pseudos.visible=function(C){return!!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new z.XMLHttpRequest}catch(C){}};var Ht={0:200,1223:204},Gt=jQuery.ajaxSettings.xhr();de.cors=!!Gt&&"withCredentials"in Gt,de.ajax=Gt=!!Gt,jQuery.ajaxTransport((function(C){var I,B;if(de.cors||Gt&&!C.crossDomain)return{send:function(q,Q){var ee,te=C.xhr();if(te.open(C.type,C.url,C.async,C.username,C.password),C.xhrFields)for(ee in C.xhrFields)te[ee]=C.xhrFields[ee];for(ee in C.mimeType&&te.overrideMimeType&&te.overrideMimeType(C.mimeType),C.crossDomain||q["X-Requested-With"]||(q["X-Requested-With"]="XMLHttpRequest"),q)te.setRequestHeader(ee,q[ee]);I=function(C){return function(){I&&(I=B=te.onload=te.onerror=te.onabort=te.ontimeout=te.onreadystatechange=null,"abort"===C?te.abort():"error"===C?"number"!=typeof te.status?Q(0,"error"):Q(te.status,te.statusText):Q(Ht[te.status]||te.status,te.statusText,"text"!==(te.responseType||"text")||"string"!=typeof te.responseText?{binary:te.response}:{text:te.responseText},te.getAllResponseHeaders()))}},te.onload=I(),B=te.onerror=te.ontimeout=I("error"),void 0!==te.onabort?te.onabort=B:te.onreadystatechange=function(){4===te.readyState&&z.setTimeout((function(){I&&B()}))},I=I("abort");try{te.send(C.hasContent&&C.data||null)}catch(C){if(I)throw C}},abort:function(){I&&I()}}})),jQuery.ajaxPrefilter((function(C){C.crossDomain&&(C.contents.script=!1)})),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(C){return jQuery.globalEval(C),C}}}),jQuery.ajaxPrefilter("script",(function(C){void 0===C.cache&&(C.cache=!1),C.crossDomain&&(C.type="GET")})),jQuery.ajaxTransport("script",(function(C){var I,B;if(C.crossDomain||C.scriptAttrs)return{send:function(z,q){I=jQuery("<script>").attr(C.scriptAttrs||{}).prop({charset:C.scriptCharset,src:C.url}).on("load error",B=function(C){I.remove(),B=null,C&&q("error"===C.type?404:200,C.type)}),fe.head.appendChild(I[0])},abort:function(){B&&B()}}}));var Ut,zt=[],qt=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var C=zt.pop()||jQuery.expando+"_"+kt.guid++;return this[C]=!0,C}}),jQuery.ajaxPrefilter("json jsonp",(function(C,I,B){var q,Q,ee,te=!1!==C.jsonp&&(qt.test(C.url)?"url":"string"==typeof C.data&&0===(C.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(C.data)&&"data");if(te||"jsonp"===C.dataTypes[0])return q=C.jsonpCallback=ce(C.jsonpCallback)?C.jsonpCallback():C.jsonpCallback,te?C[te]=C[te].replace(qt,"$1"+q):!1!==C.jsonp&&(C.url+=(Tt.test(C.url)?"&":"?")+C.jsonp+"="+q),C.converters["script json"]=function(){return ee||jQuery.error(q+" was not called"),ee[0]},C.dataTypes[0]="json",Q=z[q],z[q]=function(){ee=arguments},B.always((function(){void 0===Q?jQuery(z).removeProp(q):z[q]=Q,C[q]&&(C.jsonpCallback=I.jsonpCallback,zt.push(q)),ee&&ce(Q)&&Q(ee[0]),ee=Q=void 0})),"script"})),de.createHTMLDocument=((Ut=fe.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),jQuery.parseHTML=function(C,I,B){return"string"!=typeof C?[]:("boolean"==typeof I&&(B=I,I=!1),I||(de.createHTMLDocument?((z=(I=fe.implementation.createHTMLDocument("")).createElement("base")).href=fe.location.href,I.head.appendChild(z)):I=fe),Q=!B&&[],(q=Te.exec(C))?[I.createElement(q[1])]:(q=buildFragment([C],I,Q),Q&&Q.length&&jQuery(Q).remove(),jQuery.merge([],q.childNodes)));var z,q,Q},jQuery.fn.load=function(C,I,B){var z,q,Q,ee=this,te=C.indexOf(" ");return te>-1&&(z=stripAndCollapse(C.slice(te)),C=C.slice(0,te)),ce(I)?(B=I,I=void 0):I&&"object"==typeof I&&(q="POST"),ee.length>0&&jQuery.ajax({url:C,type:q||"GET",dataType:"html",data:I}).done((function(C){Q=arguments,ee.html(z?jQuery("<div>").append(jQuery.parseHTML(C)).find(z):C)})).always(B&&function(C,I){ee.each((function(){B.apply(this,Q||[C.responseText,I,C])}))}),this},jQuery.expr.pseudos.animated=function(C){return jQuery.grep(jQuery.timers,(function(I){return C===I.elem})).length},jQuery.offset={setOffset:function(C,I,B){var z,q,Q,ee,te,ie,re=jQuery.css(C,"position"),ne=jQuery(C),se={};"static"===re&&(C.style.position="relative"),te=ne.offset(),Q=jQuery.css(C,"top"),ie=jQuery.css(C,"left"),("absolute"===re||"fixed"===re)&&(Q+ie).indexOf("auto")>-1?(ee=(z=ne.position()).top,q=z.left):(ee=parseFloat(Q)||0,q=parseFloat(ie)||0),ce(I)&&(I=I.call(C,B,jQuery.extend({},te))),null!=I.top&&(se.top=I.top-te.top+ee),null!=I.left&&(se.left=I.left-te.left+q),"using"in I?I.using.call(C,se):ne.css(se)}},jQuery.fn.extend({offset:function(C){if(arguments.length)return void 0===C?this:this.each((function(I){jQuery.offset.setOffset(this,C,I)}));var I,B,z=this[0];return z?z.getClientRects().length?(I=z.getBoundingClientRect(),B=z.ownerDocument.defaultView,{top:I.top+B.pageYOffset,left:I.left+B.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var C,I,B,z=this[0],q={top:0,left:0};if("fixed"===jQuery.css(z,"position"))I=z.getBoundingClientRect();else{for(I=this.offset(),B=z.ownerDocument,C=z.offsetParent||B.documentElement;C&&(C===B.body||C===B.documentElement)&&"static"===jQuery.css(C,"position");)C=C.parentNode;C&&C!==z&&1===C.nodeType&&((q=jQuery(C).offset()).top+=jQuery.css(C,"borderTopWidth",!0),q.left+=jQuery.css(C,"borderLeftWidth",!0))}return{top:I.top-q.top-jQuery.css(z,"marginTop",!0),left:I.left-q.left-jQuery.css(z,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var C=this.offsetParent;C&&"static"===jQuery.css(C,"position");)C=C.offsetParent;return C||Ge}))}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(C,I){var B="pageYOffset"===I;jQuery.fn[C]=function(z){return access(this,(function(C,z,q){var Q;if(he(C)?Q=C:9===C.nodeType&&(Q=C.defaultView),void 0===q)return Q?Q[I]:C[z];Q?Q.scrollTo(B?Q.pageXOffset:q,B?q:Q.pageYOffset):C[z]=q}),C,z,arguments.length)}})),jQuery.each(["top","left"],(function(C,I){jQuery.cssHooks[I]=addGetHookIf(de.pixelPosition,(function(C,B){if(B)return B=curCSS(C,I),rt.test(B)?jQuery(C).position()[I]+"px":B}))})),jQuery.each({Height:"height",Width:"width"},(function(C,I){jQuery.each({padding:"inner"+C,content:I,"":"outer"+C},(function(B,z){jQuery.fn[z]=function(q,Q){var ee=arguments.length&&(B||"boolean"!=typeof q),te=B||(!0===q||!0===Q?"margin":"border");return access(this,(function(I,B,q){var Q;return he(I)?0===z.indexOf("outer")?I["inner"+C]:I.document.documentElement["client"+C]:9===I.nodeType?(Q=I.documentElement,Math.max(I.body["scroll"+C],Q["scroll"+C],I.body["offset"+C],Q["offset"+C],Q["client"+C])):void 0===q?jQuery.css(I,B,te):jQuery.style(I,B,q,te)}),I,ee?q:void 0,ee)}}))})),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(C,I){jQuery.fn[I]=function(C){return this.on(I,C)}})),jQuery.fn.extend({bind:function(C,I,B){return this.on(C,null,I,B)},unbind:function(C,I){return this.off(C,null,I)},delegate:function(C,I,B,z){return this.on(I,C,B,z)},undelegate:function(C,I,B){return 1===arguments.length?this.off(C,"**"):this.off(I,C||"**",B)},hover:function(C,I){return this.on("mouseenter",C).on("mouseleave",I||C)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(C,I){jQuery.fn[I]=function(C,B){return arguments.length>0?this.on(I,null,C,B):this.trigger(I)}}));var Wt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(C,I){var B,z,q;if("string"==typeof I&&(B=C[I],I=C,C=B),ce(C))return z=te.call(arguments,2),q=function(){return C.apply(I||this,z.concat(te.call(arguments)))},q.guid=C.guid=C.guid||jQuery.guid++,q},jQuery.holdReady=function(C){C?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=ce,jQuery.isWindow=he,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(C){var I=jQuery.type(C);return("number"===I||"string"===I)&&!isNaN(C-parseFloat(C))},jQuery.trim=function(C){return null==C?"":(C+"").replace(Wt,"$1")},void 0===(B=function(){return jQuery}.apply(I,[]))||(C.exports=B);var Kt=z.jQuery,Xt=z.$;return jQuery.noConflict=function(C){return z.$===jQuery&&(z.$=Xt),C&&z.jQuery===jQuery&&(z.jQuery=Kt),jQuery},void 0===q&&(z.jQuery=z.$=jQuery),jQuery}))},4199:function(C,I,B){var z,q,Q;q=[],z=function moduleFactory(){"use strict";var C="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==C?C:{};function getWorkerBlob(){var I=C.URL||C.webkitURL||null,B=moduleFactory.toString();return ee.BLOB_URL||(ee.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))}var I=!C.document&&!!C.postMessage,z=C.IS_PAPA_WORKER||!1,q={},Q=0,ee={};if(ee.parse=CsvToJson,ee.unparse=JsonToCsv,ee.RECORD_SEP=String.fromCharCode(30),ee.UNIT_SEP=String.fromCharCode(31),ee.BYTE_ORDER_MARK="\ufeff",ee.BAD_DELIMITERS=["\r","\n",'"',ee.BYTE_ORDER_MARK],ee.WORKERS_SUPPORTED=!I&&!!C.Worker,ee.NODE_STREAM_INPUT=1,ee.LocalChunkSize=10485760,ee.RemoteChunkSize=5242880,ee.DefaultDelimiter=",",ee.Parser=Parser,ee.ParserHandle=ParserHandle,ee.NetworkStreamer=NetworkStreamer,ee.FileStreamer=FileStreamer,ee.StringStreamer=StringStreamer,ee.ReadableStreamStreamer=ReadableStreamStreamer,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(ee.DuplexStreamStreamer=DuplexStreamStreamer),C.jQuery){var te=C.jQuery;te.fn.parse=function(I){var B=I.config||{},z=[];return this.each((function(I){if("INPUT"!==te(this).prop("tagName").toUpperCase()||"file"!==te(this).attr("type").toLowerCase()||!C.FileReader||!this.files||0===this.files.length)return!0;for(var q=0;q<this.files.length;q++)z.push({file:this.files[q],inputElem:this,instanceConfig:te.extend({},B)})})),parseNextFile(),this;function parseNextFile(){if(0!==z.length){var C=z[0];if(isFunction(I.before)){var B=I.before(C.file,C.inputElem);if("object"==typeof B){if("abort"===B.action)return void error("AbortError",C.file,C.inputElem,B.reason);if("skip"===B.action)return void fileComplete();"object"==typeof B.config&&(C.instanceConfig=te.extend(C.instanceConfig,B.config))}else if("skip"===B)return void fileComplete()}var q=C.instanceConfig.complete;C.instanceConfig.complete=function(I){isFunction(q)&&q(I,C.file,C.inputElem),fileComplete()},ee.parse(C.file,C.instanceConfig)}else isFunction(I.complete)&&I.complete()}function error(C,B,z,q){isFunction(I.error)&&I.error({name:C},B,z,q)}function fileComplete(){z.splice(0,1),parseNextFile()}}}function CsvToJson(I,B){var z=(B=B||{}).dynamicTyping||!1;if(isFunction(z)&&(B.dynamicTypingFunction=z,z={}),B.dynamicTyping=z,B.transform=!!isFunction(B.transform)&&B.transform,B.worker&&ee.WORKERS_SUPPORTED){var q=newWorker();return q.userStep=B.step,q.userChunk=B.chunk,q.userComplete=B.complete,q.userError=B.error,B.step=isFunction(B.step),B.chunk=isFunction(B.chunk),B.complete=isFunction(B.complete),B.error=isFunction(B.error),delete B.worker,void q.postMessage({input:I,config:B,workerId:q.id})}var Q=null;return I===ee.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(Q=new DuplexStreamStreamer(B)).getStream():("string"==typeof I?(I=stripBom(I),Q=B.download?new NetworkStreamer(B):new StringStreamer(B)):!0===I.readable&&isFunction(I.read)&&isFunction(I.on)?Q=new ReadableStreamStreamer(B):(C.File&&I instanceof File||I instanceof Object)&&(Q=new FileStreamer(B)),Q.stream(I));function stripBom(C){return 65279===C.charCodeAt(0)?C.slice(1):C}}function JsonToCsv(C,I){var B=!1,z=!0,q=",",Q="\r\n",te='"',ie=te+te,re=!1,ne=null,se=!1;unpackConfig();var oe=new RegExp(escapeRegExp(te),"g");if("string"==typeof C&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return serialize(null,C,re);if("object"==typeof C[0])return serialize(ne||Object.keys(C[0]),C,re)}else if("object"==typeof C)return"string"==typeof C.data&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||ne),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:"object"==typeof C.data[0]?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||"object"==typeof C.data[0]||(C.data=[C.data])),serialize(C.fields||[],C.data||[],re);throw new Error("Unable to serialize unrecognized input");function unpackConfig(){if("object"==typeof I){if("string"!=typeof I.delimiter||ee.BAD_DELIMITERS.filter((function(C){return-1!==I.delimiter.indexOf(C)})).length||(q=I.delimiter),("boolean"==typeof I.quotes||"function"==typeof I.quotes||Array.isArray(I.quotes))&&(B=I.quotes),"boolean"!=typeof I.skipEmptyLines&&"string"!=typeof I.skipEmptyLines||(re=I.skipEmptyLines),"string"==typeof I.newline&&(Q=I.newline),"string"==typeof I.quoteChar&&(te=I.quoteChar),"boolean"==typeof I.header&&(z=I.header),Array.isArray(I.columns)){if(0===I.columns.length)throw new Error("Option columns is empty");ne=I.columns}void 0!==I.escapeChar&&(ie=I.escapeChar+te),I.escapeFormulae instanceof RegExp?se=I.escapeFormulae:"boolean"==typeof I.escapeFormulae&&I.escapeFormulae&&(se=/^[=+\-@\t\r].*$/)}}function serialize(C,I,B){var ee="";"string"==typeof C&&(C=JSON.parse(C)),"string"==typeof I&&(I=JSON.parse(I));var te=Array.isArray(C)&&C.length>0,ie=!Array.isArray(I[0]);if(te&&z){for(var re=0;re<C.length;re++)re>0&&(ee+=q),ee+=safe(C[re],re);I.length>0&&(ee+=Q)}for(var ne=0;ne<I.length;ne++){var se=te?C.length:I[ne].length,oe=!1,ae=te?0===Object.keys(I[ne]).length:0===I[ne].length;if(B&&!te&&(oe="greedy"===B?""===I[ne].join("").trim():1===I[ne].length&&0===I[ne][0].length),"greedy"===B&&te){for(var le=[],ue=0;ue<se;ue++){var de=ie?C[ue]:ue;le.push(I[ne][de])}oe=""===le.join("").trim()}if(!oe){for(var ce=0;ce<se;ce++){ce>0&&!ae&&(ee+=q);var he=te&&ie?C[ce]:ce;ee+=safe(I[ne][he],ce)}ne<I.length-1&&(!B||se>0&&!ae)&&(ee+=Q)}}return ee}function safe(C,I){if(null==C)return"";if(C.constructor===Date)return JSON.stringify(C).slice(1,25);var z=!1;se&&"string"==typeof C&&se.test(C)&&(C="'"+C,z=!0);var Q=C.toString().replace(oe,ie);return(z=z||!0===B||"function"==typeof B&&B(C,I)||Array.isArray(B)&&B[I]||hasAny(Q,ee.BAD_DELIMITERS)||Q.indexOf(q)>-1||" "===Q.charAt(0)||" "===Q.charAt(Q.length-1))?te+Q+te:Q}function hasAny(C,I){for(var B=0;B<I.length;B++)if(C.indexOf(I[B])>-1)return!0;return!1}}function ChunkStreamer(I){function replaceConfig(C){var I=copy(C);I.chunkSize=parseInt(I.chunkSize),C.step||C.chunk||(I.chunkSize=null),this._handle=new ParserHandle(I),this._handle.streamer=this,this._config=I}this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},replaceConfig.call(this,I),this.parseChunk=function(I,B){const q=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&q>0){let C=this._config.newline;if(!C){const B=this._config.quoteChar||'"';C=this._handle.guessLineEndings(I,B)}const B=I.split(C);I=[...B.slice(q)].join(C)}if(this.isFirstChunk&&isFunction(this._config.beforeFirstChunk)){var Q=this._config.beforeFirstChunk(I);void 0!==Q&&(I=Q)}this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+I;this._partialLine="";var ie=this._handle.parse(te,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var re=ie.meta.cursor;this._finished||(this._partialLine=te.substring(re-this._baseIndex),this._baseIndex=re),ie&&ie.data&&(this._rowCount+=ie.data.length);var ne=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(z)C.postMessage({results:ie,workerId:ee.WORKER_ID,finished:ne});else if(isFunction(this._config.chunk)&&!B){if(this._config.chunk(ie,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ie=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ie.data),this._completeResults.errors=this._completeResults.errors.concat(ie.errors),this._completeResults.meta=ie.meta),this._completed||!ne||!isFunction(this._config.complete)||ie&&ie.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ne||ie&&ie.meta.paused||this._nextChunk(),ie}this._halted=!0},this._sendError=function(I){isFunction(this._config.error)?this._config.error(I):z&&this._config.error&&C.postMessage({workerId:ee.WORKER_ID,error:I,finished:!1})}}function NetworkStreamer(C){var B;function getFileSize(C){var I=C.getResponseHeader("Content-Range");return null===I?-1:parseInt(I.substring(I.lastIndexOf("/")+1))}(C=C||{}).chunkSize||(C.chunkSize=ee.RemoteChunkSize),ChunkStreamer.call(this,C),this._nextChunk=I?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),I||(B.onload=bindFunction(this._chunkLoaded,this),B.onerror=bindFunction(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!I),this._config.downloadRequestHeaders){var C=this._config.downloadRequestHeaders;for(var z in C)B.setRequestHeader(z,C[z])}if(this._config.chunkSize){var q=this._start+this._config.chunkSize-1;B.setRequestHeader("Range","bytes="+this._start+"-"+q)}try{B.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}I&&0===B.status&&this._chunkError()}},this._chunkLoaded=function(){4===B.readyState&&(B.status<200||B.status>=400?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:B.responseText.length,this._finished=!this._config.chunkSize||this._start>=getFileSize(B),this.parseChunk(B.responseText)))},this._chunkError=function(C){var I=B.statusText||C;this._sendError(new Error(I))}}function FileStreamer(C){var I,B;(C=C||{}).chunkSize||(C.chunkSize=ee.LocalChunkSize),ChunkStreamer.call(this,C);var z="undefined"!=typeof FileReader;this.stream=function(C){this._input=C,B=C.slice||C.webkitSlice||C.mozSlice,z?((I=new FileReader).onload=bindFunction(this._chunkLoaded,this),I.onerror=bindFunction(this._chunkError,this)):I=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var q=Math.min(this._start+this._config.chunkSize,this._input.size);C=B.call(C,this._start,q)}var Q=I.readAsText(C,this._config.encoding);z||this._chunkLoaded({target:{result:Q}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(I.error)}}function StringStreamer(C){var I;C=C||{},ChunkStreamer.call(this,C),this.stream=function(C){return I=C,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var C,B=this._config.chunkSize;return B?(C=I.substring(0,B),I=I.substring(B)):(C=I,I=""),this._finished=!I,this.parseChunk(C)}}}function ReadableStreamStreamer(C){C=C||{},ChunkStreamer.call(this,C);var I=[],B=!0,z=!1;this.pause=function(){ChunkStreamer.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ChunkStreamer.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){z&&1===I.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),I.length?this.parseChunk(I.shift()):B=!0},this._streamData=bindFunction((function(C){try{I.push("string"==typeof C?C:C.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(I.shift()))}catch(C){this._streamError(C)}}),this),this._streamError=bindFunction((function(C){this._streamCleanUp(),this._sendError(C)}),this),this._streamEnd=bindFunction((function(){this._streamCleanUp(),z=!0,this._streamData("")}),this),this._streamCleanUp=bindFunction((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function DuplexStreamStreamer(C){var I=B(6266).Duplex,z=copy(C),q=!0,Q=!1,ee=[],te=null;this._onCsvData=function(C){var I=C.data;te.push(I)||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){te.push(null)},z.step=bindFunction(this._onCsvData,this),z.complete=bindFunction(this._onCsvComplete,this),ChunkStreamer.call(this,z),this._nextChunk=function(){Q&&1===ee.length&&(this._finished=!0),ee.length?ee.shift()():q=!0},this._addToParseQueue=function(C,I){ee.push(bindFunction((function(){if(this.parseChunk("string"==typeof C?C:C.toString(z.encoding)),isFunction(I))return I()}),this)),q&&(q=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(C,I,B){this._addToParseQueue(C,B)},this._onWriteComplete=function(){Q=!0,this._addToParseQueue("")},this.getStream=function(){return te},(te=new I({readableObjectMode:!0,decodeStrings:!1,read:bindFunction(this._onRead,this),write:bindFunction(this._onWrite,this)})).once("finish",bindFunction(this._onWriteComplete,this))}function ParserHandle(C){var I,B,z,q=Math.pow(2,53),Q=-q,te=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,re=this,ne=0,se=0,oe=!1,ae=!1,le=[],ue={data:[],errors:[],meta:{}};if(isFunction(C.step)){var de=C.step;C.step=function(I){if(ue=I,needsHeaderRow())processResults();else{if(processResults(),0===ue.data.length)return;ne+=I.data.length,C.preview&&ne>C.preview?B.abort():(ue.data=ue.data[0],de(ue,re))}}}function testEmptyLine(I){return"greedy"===C.skipEmptyLines?""===I.join("").trim():1===I.length&&0===I[0].length}function testFloat(C){if(te.test(C)){var I=parseFloat(C);if(I>Q&&I<q)return!0}return!1}function processResults(){return ue&&z&&(addError("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ee.DefaultDelimiter+"'"),z=!1),C.skipEmptyLines&&(ue.data=ue.data.filter((function(C){return!testEmptyLine(C)}))),needsHeaderRow()&&fillHeaderFields(),applyHeaderAndDynamicTypingAndTransformation()}function needsHeaderRow(){return C.header&&0===le.length}function fillHeaderFields(){if(ue)if(Array.isArray(ue.data[0])){for(var I=0;needsHeaderRow()&&I<ue.data.length;I++)ue.data[I].forEach(addHeader);ue.data.splice(0,1)}else ue.data.forEach(addHeader);function addHeader(I,B){isFunction(C.transformHeader)&&(I=C.transformHeader(I,B)),le.push(I)}}function shouldApplyDynamicTyping(I){return C.dynamicTypingFunction&&void 0===C.dynamicTyping[I]&&(C.dynamicTyping[I]=C.dynamicTypingFunction(I)),!0===(C.dynamicTyping[I]||C.dynamicTyping)}function parseDynamic(C,I){return shouldApplyDynamicTyping(C)?"true"===I||"TRUE"===I||"false"!==I&&"FALSE"!==I&&(testFloat(I)?parseFloat(I):ie.test(I)?new Date(I):""===I?null:I):I}function applyHeaderAndDynamicTypingAndTransformation(){if(!ue||!C.header&&!C.dynamicTyping&&!C.transform)return ue;function processRow(I,B){var z,q=C.header?{}:[];for(z=0;z<I.length;z++){var Q=z,ee=I[z];C.header&&(Q=z>=le.length?"__parsed_extra":le[z]),C.transform&&(ee=C.transform(ee,Q)),ee=parseDynamic(Q,ee),"__parsed_extra"===Q?(q[Q]=q[Q]||[],q[Q].push(ee)):q[Q]=ee}return C.header&&(z>le.length?addError("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+z,se+B):z<le.length&&addError("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+z,se+B)),q}var I=1;return!ue.data.length||Array.isArray(ue.data[0])?(ue.data=ue.data.map(processRow),I=ue.data.length):ue.data=processRow(ue.data,0),C.header&&ue.meta&&(ue.meta.fields=le),se+=I,ue}function guessDelimiter(I,B,z,q,Q){var te,ie,re,ne;Q=Q||[",","\t","|",";",ee.RECORD_SEP,ee.UNIT_SEP];for(var se=0;se<Q.length;se++){var oe=Q[se],ae=0,le=0,ue=0;re=void 0;for(var de=new Parser({comments:q,delimiter:oe,newline:B,preview:10}).parse(I),ce=0;ce<de.data.length;ce++)if(z&&testEmptyLine(de.data[ce]))ue++;else{var he=de.data[ce].length;le+=he,void 0!==re?he>0&&(ae+=Math.abs(he-re),re=he):re=he}de.data.length>0&&(le/=de.data.length-ue),(void 0===ie||ae<=ie)&&(void 0===ne||le>ne)&&le>1.99&&(ie=ae,te=oe,ne=le)}return C.delimiter=te,{successful:!!te,bestDelimiter:te}}function addError(C,I,B,z){var q={type:C,code:I,message:B};void 0!==z&&(q.row=z),ue.errors.push(q)}this.parse=function(q,Q,te){var ie=C.quoteChar||'"';if(C.newline||(C.newline=this.guessLineEndings(q,ie)),z=!1,C.delimiter)isFunction(C.delimiter)&&(C.delimiter=C.delimiter(q),ue.meta.delimiter=C.delimiter);else{var re=guessDelimiter(q,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);re.successful?C.delimiter=re.bestDelimiter:(z=!0,C.delimiter=ee.DefaultDelimiter),ue.meta.delimiter=C.delimiter}var ne=copy(C);return C.preview&&C.header&&ne.preview++,I=q,B=new Parser(ne),ue=B.parse(I,Q,te),processResults(),oe?{meta:{paused:!0}}:ue||{meta:{paused:!1}}},this.paused=function(){return oe},this.pause=function(){oe=!0,B.abort(),I=isFunction(C.chunk)?"":I.substring(B.getCharIndex())},this.resume=function(){re.streamer._halted?(oe=!1,re.streamer.parseChunk(I,!0)):setTimeout(re.resume,3)},this.aborted=function(){return ae},this.abort=function(){ae=!0,B.abort(),ue.meta.aborted=!0,isFunction(C.complete)&&C.complete(ue),I=""},this.guessLineEndings=function(C,I){C=C.substring(0,1048576);var B=new RegExp(escapeRegExp(I)+"([^]*?)"+escapeRegExp(I),"gm"),z=(C=C.replace(B,"")).split("\r"),q=C.split("\n"),Q=q.length>1&&q[0].length<z[0].length;if(1===z.length||Q)return"\n";for(var ee=0,te=0;te<z.length;te++)"\n"===z[te][0]&&ee++;return ee>=z.length/2?"\r\n":"\r"}}function escapeRegExp(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Parser(C){var I,B=(C=C||{}).delimiter,z=C.newline,q=C.comments,Q=C.step,te=C.preview,ie=C.fastMode,re=null,ne=I=void 0===C.quoteChar||null===C.quoteChar?'"':C.quoteChar;if(void 0!==C.escapeChar&&(ne=C.escapeChar),("string"!=typeof B||ee.BAD_DELIMITERS.indexOf(B)>-1)&&(B=","),q===B)throw new Error("Comment character same as delimiter");!0===q?q="#":("string"!=typeof q||ee.BAD_DELIMITERS.indexOf(q)>-1)&&(q=!1),"\n"!==z&&"\r"!==z&&"\r\n"!==z&&(z="\n");var se=0,oe=!1;this.parse=function(ee,ae,le){if("string"!=typeof ee)throw new Error("Input must be a string");var ue=ee.length,de=B.length,ce=z.length,he=q.length,fe=isFunction(Q);se=0;var pe=[],me=[],ge=[],ve=0;if(!ee)return returnable();if(ie||!1!==ie&&-1===ee.indexOf(I)){for(var ye=ee.split(z),be=0;be<ye.length;be++){if(ge=ye[be],se+=ge.length,be!==ye.length-1)se+=z.length;else if(le)return returnable();if(!q||ge.substring(0,he)!==q){if(fe){if(pe=[],pushRow(ge.split(B)),doStep(),oe)return returnable()}else pushRow(ge.split(B));if(te&&be>=te)return pe=pe.slice(0,te),returnable(!0)}}return returnable()}for(var Ce=ee.indexOf(B,se),we=ee.indexOf(z,se),_e=new RegExp(escapeRegExp(ne)+escapeRegExp(I),"g"),Se=ee.indexOf(I,se);;)if(ee[se]!==I)if(q&&0===ge.length&&ee.substring(se,se+he)===q){if(-1===we)return returnable();se=we+ce,we=ee.indexOf(z,se),Ce=ee.indexOf(B,se)}else if(-1!==Ce&&(Ce<we||-1===we))ge.push(ee.substring(se,Ce)),se=Ce+de,Ce=ee.indexOf(B,se);else{if(-1===we)break;if(ge.push(ee.substring(se,we)),saveRow(we+ce),fe&&(doStep(),oe))return returnable();if(te&&pe.length>=te)return returnable(!0)}else for(Se=se,se++;;){if(-1===(Se=ee.indexOf(I,Se+1)))return le||me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:se}),finish();if(Se===ue-1)return finish(ee.substring(se,Se).replace(_e,I));if(I!==ne||ee[Se+1]!==ne){if(I===ne||0===Se||ee[Se-1]!==ne){-1!==Ce&&Ce<Se+1&&(Ce=ee.indexOf(B,Se+1)),-1!==we&&we<Se+1&&(we=ee.indexOf(z,Se+1));var xe=extraSpaces(-1===we?Ce:Math.min(Ce,we));if(ee.substr(Se+1+xe,de)===B){ge.push(ee.substring(se,Se).replace(_e,I)),se=Se+1+xe+de,ee[Se+1+xe+de]!==I&&(Se=ee.indexOf(I,se)),Ce=ee.indexOf(B,se),we=ee.indexOf(z,se);break}var ke=extraSpaces(we);if(ee.substring(Se+1+ke,Se+1+ke+ce)===z){if(ge.push(ee.substring(se,Se).replace(_e,I)),saveRow(Se+1+ke+ce),Ce=ee.indexOf(B,se),Se=ee.indexOf(I,se),fe&&(doStep(),oe))return returnable();if(te&&pe.length>=te)return returnable(!0);break}me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:se}),Se++}}else Se++}return finish();function pushRow(C){pe.push(C),ve=se}function extraSpaces(C){var I=0;if(-1!==C){var B=ee.substring(Se+1,C);B&&""===B.trim()&&(I=B.length)}return I}function finish(C){return le||(void 0===C&&(C=ee.substring(se)),ge.push(C),se=ue,pushRow(ge),fe&&doStep()),returnable()}function saveRow(C){se=C,pushRow(ge),ge=[],we=ee.indexOf(z,se)}function returnable(I){if(C.header&&!ae&&pe.length){const I=pe[0],B={},z=new Set(I);let q=!1;for(let Q=0;Q<I.length;Q++){let ee=I[Q];if(isFunction(C.transformHeader)&&(ee=C.transformHeader(ee,Q)),B[ee]){let C,te=B[ee];do{C=`${ee}_${te}`,te++}while(z.has(C));z.add(C),I[Q]=C,B[ee]++,q=!0,null===re&&(re={}),re[C]=ee}else B[ee]=1,I[Q]=ee;z.add(ee)}}return{data:pe,errors:me,meta:{delimiter:B,linebreak:z,aborted:oe,truncated:!!I,cursor:ve+(ae||0),renamedHeaders:re}}}function doStep(){Q(returnable()),pe=[],me=[]}},this.abort=function(){oe=!0},this.getCharIndex=function(){return se}}function newWorker(){if(!ee.WORKERS_SUPPORTED)return!1;var I=getWorkerBlob(),B=new C.Worker(I);return B.onmessage=mainThreadReceivedMessage,B.id=Q++,q[B.id]=B,B}function mainThreadReceivedMessage(C){var I=C.data,B=q[I.workerId],z=!1;if(I.error)B.userError(I.error,I.file);else if(I.results&&I.results.data){var Q={abort:function(){z=!0,completeWorker(I.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:notImplemented,resume:notImplemented};if(isFunction(B.userStep)){for(var ee=0;ee<I.results.data.length&&(B.userStep({data:I.results.data[ee],errors:I.results.errors,meta:I.results.meta},Q),!z);ee++);delete I.results}else isFunction(B.userChunk)&&(B.userChunk(I.results,Q,I.file),delete I.results)}I.finished&&!z&&completeWorker(I.workerId,I.results)}function completeWorker(C,I){var B=q[C];isFunction(B.userComplete)&&B.userComplete(I),B.terminate(),delete q[C]}function notImplemented(){throw new Error("Not implemented.")}function workerThreadReceivedMessage(I){var B=I.data;if(void 0===ee.WORKER_ID&&B&&(ee.WORKER_ID=B.workerId),"string"==typeof B.input)C.postMessage({workerId:ee.WORKER_ID,results:ee.parse(B.input,B.config),finished:!0});else if(C.File&&B.input instanceof File||B.input instanceof Object){var z=ee.parse(B.input,B.config);z&&C.postMessage({workerId:ee.WORKER_ID,results:z,finished:!0})}}function copy(C){if("object"!=typeof C||null===C)return C;var I=Array.isArray(C)?[]:{};for(var B in C)I[B]=copy(C[B]);return I}function bindFunction(C,I){return function(){C.apply(I,arguments)}}function isFunction(C){return"function"==typeof C}return z&&(C.onmessage=workerThreadReceivedMessage),NetworkStreamer.prototype=Object.create(ChunkStreamer.prototype),NetworkStreamer.prototype.constructor=NetworkStreamer,FileStreamer.prototype=Object.create(ChunkStreamer.prototype),FileStreamer.prototype.constructor=FileStreamer,StringStreamer.prototype=Object.create(StringStreamer.prototype),StringStreamer.prototype.constructor=StringStreamer,ReadableStreamStreamer.prototype=Object.create(ChunkStreamer.prototype),ReadableStreamStreamer.prototype.constructor=ReadableStreamStreamer,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(DuplexStreamStreamer.prototype=Object.create(ChunkStreamer.prototype),DuplexStreamStreamer.prototype.constructor=DuplexStreamStreamer),ee},void 0===(Q="function"==typeof z?z.apply(I,q):z)||(C.exports=Q)},6266:()=>{}},I={};function __webpack_require__(B){var z=I[B];if(void 0!==z)return z.exports;var q=I[B]={exports:{}};return C[B].call(q.exports,q,q.exports,__webpack_require__),q.exports}return __webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(C){if("object"==typeof window)return window}}(),__webpack_require__(6312)})()));